{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "npm/tdp_core"
		},
		"file": {
			"name": "view.tmpl.yml",
			"size": 0,
			"path": "tdp_core/swagger/view.tmpl.yml",
			"byteSize": 5040,
			"content": "openapi: 3.0.0\npaths:\n  {% if features.generic %}\n  '/db/{{database}}/{{view}}':\n    get:\n      summary: '{{summary}}'\n      description: '{{description}}'\n      tags:\n        - db_{{database}}\n        - query_generic\n        {%- for tag in tags %}\n        - {{tag}}\n        {%- endfor %}\n      parameters:\n        - $ref: '#/components/parameters/returnQuery'\n        - $ref: '#/components/parameters/format'\n        {%- for arg in args %}\n        - $ref: '#/components/parameters/arg_{{database}}_{{view}}_{{arg.name}}'\n        {%- endfor %}\n        {%- for filter in filters %}\n        - $ref: '#/components/parameters/filter_{{database}}_{{view}}_filter_{{filter}}'\n        {%- endfor %}\n      responses:\n        '200':\n          $ref: '#/components/responses/entries_{{database}}_{{view}}'\n        '403':\n          $ref: '#/components/responses/notAllowed'\n        '404':\n          $ref: '#/components/responses/notFound'\n  {%- endif %}\n  {% if features.desc %}\n  '/db/{{database}}/{{view}}/desc':\n    get:\n      summary: '{{summary}}'\n      description: '{{description}}'\n      tags:\n        - db_{{database}}\n        - query_generic\n        {%- for tag in tags %}\n        - {{tag}}\n        {%- endfor %}\n      responses:\n        '200':\n          $ref: '#/components/responses/queryDesc'\n        '403':\n          $ref: '#/components/responses/notAllowed'\n        '404':\n          $ref: '#/components/responses/notFound'\n  {%- endif %}\n  {% if features.lookup %}\n  '/db/{{database}}/{{view}}/lookup':\n    get:\n      summary: '{{summary}}'\n      description: '{{description}}'\n      tags:\n        - db_{{database}}\n        - query_lookup\n        {%- for tag in tags %}\n        - {{tag}}\n        {%- endfor %}\n      parameters:\n        - $ref: '#/components/parameters/lookupQuery'\n        - $ref: '#/components/parameters/lookupPage'\n        - $ref: '#/components/parameters/lookupLimit'\n      responses:\n        '200':\n          $ref: '#/components/responses/queryLookup'\n        '403':\n          $ref: '#/components/responses/notAllowed'\n        '404':\n          $ref: '#/components/responses/notFound'\n  {%- endif %}\n  {% if features.score %}\n  '/db/{{database}}/{{view}}/score':\n    get:\n      summary: '{{summary}}'\n      description: '{{description}}'\n      tags:\n        - db_{{database}}\n        - query_score\n        {%- for tag in tags %}\n        - {{tag}}\n        {%- endfor %}\n      parameters:\n        - $ref: '#/components/parameters/scoreTarget'\n        - $ref: '#/components/parameters/returnQuery'\n        - $ref: '#/components/parameters/format'\n        {%- for arg in args %}\n        - $ref: '#/components/parameters/arg_{{database}}_{{view}}_{{arg.name}}'\n        {%- endfor %}\n        {%- for filter in filters %}\n        - $ref: '#/components/parameters/filter_{{database}}_{{view}}_filter_{{filter}}'\n        {%- endfor %}\n      responses:\n        '200':\n          $ref: '#/components/responses/queryScore'\n        '403':\n          $ref: '#/components/responses/notAllowed'\n        '404':\n          $ref: '#/components/responses/notFound'\n  {%- endif %}\n\n\ncomponents:\n  parameters: {% if empty %}{}{% endif %}\n    {%- for arg in args %}\n    'arg_{{database}}_{{view}}_{{arg.name}}':\n      name: '{{arg.name}}'\n      description: '{{arg.description}}'\n      required: true\n      in: query\n      {% if arg.example %}example: {{arg.example}}{% endif %}\n      schema:\n        {% if arg.as_list == false %}type: {{arg.type}}{% endif %}\n        {% if arg.as_list %}type: array\n        minLength: 1\n        items:\n          type: {{arg.type}}\n      style: form\n        {%- endif %}\n        {% if arg.enum %}\n        enum:\n          {% for e in arg.enum %}- '{% if e.name %}{{e.name}}{% else %}{{e}}{% endif %}'\n          {% endfor %}\n      {%- endif %}\n    {%- endfor %}\n    {%- for filter in filters %}\n    'filter_{{database}}_{{view}}_filter_{{filter}}':\n      name: filter_{{filter}}\n      required: false\n      in: query\n      schema:\n        type: array\n        items:\n          type: string\n        minLength: 1\n      style: form\n    {%- endfor %}\n  responses:\n    entries_{{database}}_{{view}}:\n      description: Successful response\n      content:\n        text/csv:\n          schema:\n            type: string\n        application/json:\n          schema:\n            type: array\n            items:\n              $ref: '#/components/schemas/entry_{{database}}_{{view}}'\n            #oneOf:\n            #  - $ref: '#/components/schemas/returnQuery'\n\n  schemas:\n    entry_{{database}}_{{view}}:\n      type: object\n      properties: {% if propsempty %}{}{% endif %}\n      {%- for prop in props %}\n        '{{prop.name}}':\n          type: {{prop.type}}\n          {% if prop.categories %}\n          enum:\n            {% for e in prop.categories %}- '{% if e.name %}{{e.name}}{% else %}{{e}}{% endif %}'\n            {% endfor %}\n          {%- endif %}\n          {% if prop.min %}\n          minimum: {{prop.min}}\n          maximum: {{prop.max}}\n          {%- endif %}\n      {%- endfor %}\n      additionalProperties: true\n",
			"canonicalURL": "/npm/tdp_core@d9adfaf8612a370880cc9b397a772c18740b2608/-/blob/tdp_core/swagger/view.tmpl.yml",
			"externalURLs": []
		}
	},
	"Error": "invalidYAML: yaml: line 3:3: found character that cannot start any token"
}