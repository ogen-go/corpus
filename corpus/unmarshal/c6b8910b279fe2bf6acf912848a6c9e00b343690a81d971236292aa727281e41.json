{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/release-engineering/iib"
		},
		"file": {
			"name": "api_v1.yaml",
			"size": 0,
			"path": "iib/web/static/api_v1.yaml",
			"byteSize": 51100,
			"content": "---\nopenapi: 3.0.2\ninfo:\n  description: |\n    IIB is a REST API to manage operator index container images.\n  license:\n    name: GPL-3.0\n  title: IIB API\n  version: '1.0'\nservers:\n  - url: /api/v1\npaths:\n  /builds:\n    get:\n      description: Return all the IIB build requests\n      parameters:\n        - name: batch\n          in: query\n          description: The batch to filter the build requests by\n          schema:\n            type: integer\n            example: 23\n            default: null\n        - name: page\n          in: query\n          description: The specific page to view\n          schema:\n            type: integer\n            example: 1\n            default: 1\n        - name: per_page\n          in: query\n          description: The number of build requests to show per page\n          schema:\n            type: integer\n            example: 10\n            default: 20\n        - name: state\n          in: query\n          description: The state to filter the build requests by\n          schema:\n            type: string\n            example: in_progress\n            default: null\n        - name: verbose\n          in: query\n          description: 'Shows the same view as /builds/{id}'\n          schema:\n            type: boolean\n            example: true\n            default: false\n        - name: request_type\n          in: query\n          description: The request_type to filter the build requests by\n          schema:\n            type: string\n            example: add\n            default: null\n        - name: user\n          in: query\n          description: The user to filter the build requests by\n          schema:\n            type: string\n            example: IIB user\n            default: null\n        - name: index_image\n          in: query\n          description: The index image to filter the build requests by\n          schema:\n            type: string\n            example: pull speci of the index image\n            default: null\n      responses:\n        '200':\n          description: A list of build requests\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  items:\n                    type: array\n                    items:\n                      oneOf:\n                        - $ref: '#/components/schemas/AddResponse'\n                        - $ref: '#/components/schemas/RmResponse'\n                        - $ref: '#/components/schemas/RegenerateBundleResponse'\n                        - $ref: '#/components/schemas/MergeIndexImageResponse'\n                  meta:\n                    $ref: '#/components/schemas/Pagination'\n        '400':\n          description: The query parameters are invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: \u003e-\n                      awesome is not a valid request state. Valid states are:\n                      complete, failed, in_progress\n        '404':\n          description: No build requests were found\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The requested resource was not found\n  '/builds/{id}':\n    get:\n      description: Return a specific build request\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The ID of the build request to retrieve\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: The requested build request\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/AddResponseVerbose'\n                  - $ref: '#/components/schemas/RmResponseVerbose'\n                  - $ref: '#/components/schemas/RegenerateBundleResponseVerbose'\n                  - $ref: '#/components/schemas/MergeIndexImageResponseVerbose'\n        '404':\n          description: The build request wasn't found\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The requested resource was not found\n    patch:\n      description: Update a build request (requires special authorization)\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The ID of the build request to retrieve\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: The build request was updated\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/AddResponseVerbose'\n                  - $ref: '#/components/schemas/RmResponseVerbose'\n                  - $ref: '#/components/schemas/RegenerateBundleResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The input data must be a JSON object\n        '401':\n          description: The user is not authenticated\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n        '403':\n          description: \u003e\n            The user is not allowed to create a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: This API endpoint is restricted to IIB workers\n        '404':\n          description: The request wasn't found\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The requested resource was not found\n      requestBody:\n        description: The keys to update\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RequestUpdate'\n      security:\n        - Kerberos Authentication: []\n  /healthcheck:\n    get:\n      description: Perform a health check of the service\n      responses:\n        '200':\n          description: The health check OK message\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  status:\n                    type: string\n                    example: Health check OK\n        '500':\n          description: Health check failed\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: Database health check failed\n  '/builds/{id}/logs':\n    get:\n      description: Return the logs for a specific build request\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The ID of the build request to retrieve the logs for\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: The logs for the build request\n          content:\n            text/plain:\n              schema:\n                type: string\n              example: |-\n                Processing build request 1...\n                Building image...\n                Done processing build request 1\n        '404':\n          description: Logs for build requests is not enabled in IIB\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The requested resource was not found\n        '410':\n          description: The logs for the build request has been removed due to expiration\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The logs for the build request 1 no longer exist\n  /builds/add:\n    post:\n      description: \u003e\n        Submit a build request to add operator bundles to an index image\n      requestBody:\n        description: The build request to create\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/AddRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AddResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"bundles\" should be a non-empty array of strings'\n        '401':\n          description: \u003e\n            The user is not allowed to create a request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/rm:\n    post:\n      description: \u003e\n        Submit a build request to remove operators from an index image\n      requestBody:\n        description: The build request to remove\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RmRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RmResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"operators\" should be a non-empty array of strings'\n        '401':\n          description: The user is not allowed to submit a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/regenerate-bundle:\n    post:\n      description: Submit a build request to regenerate an operator bundle image\n      requestBody:\n        description: The build request to create\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RegenerateBundleRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RegenerateBundleResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"organization\" must be a string'\n        '401':\n          description: The user is not allowed to submit a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/regenerate-bundle-batch:\n    post:\n      description: \u003e\n        Submit a batch of build requests to regenerate an operator bundle image\n      requestBody:\n        description: The build requests to create\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                annotations:\n                  type: object\n                  description: \u003e\n                    An arbitrary JSON object associated with the batch. This is accessed by the\n                    \"batch_annotations\" key's value on a build request in the batch.\n                build_requests:\n                  type: array\n                  items:\n                    $ref: '#/components/schemas/RegenerateBundleRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build requests were initiated\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/RegenerateBundleResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"organization\" must be a string'\n        '401':\n          description: The user is not allowed to submit a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  '/builds/{id}/related_bundles':\n    get:\n      description: Return the related bundles for a specific regenerate bundle build request\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The ID of the build request to retrieve the related bundles for\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: The related bundles for the build request\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: string\n                example:\n                  - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n        '403':\n          description: \u003e\n            The related bundles are not available for this request.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The request is not complete yet. The related bundles are not available.\n        '404':\n          description: Related bundles for build request are not available in IIB\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The requested resource was not found\n        '410':\n          description: The logs for the build request has been removed due to expiration\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The logs for the build request 1 no longer exist\n  /builds/add-rm-batch:\n    post:\n      description: \u003e\n        Submit a batch of build requests to add or\n        remove operators to/from an index image.\n      requestBody:\n        description: The build requests to create\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                annotations:\n                  type: object\n                  description: \u003e\n                    An arbitrary JSON object associated with the batch. This is accessed by the\n                    \"batch_annotations\" key's value on a build request in the batch.\n                build_requests:\n                  type: array\n                  description: Request objects of type Add or Rm\n                  items:\n                    anyOf:\n                      - $ref: '#/components/schemas/AddRequest'\n                      - $ref: '#/components/schemas/RmRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build requests were initiated\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/AddResponseVerbose'\n                  - $ref: '#/components/schemas/RmResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: \u003e-\n                      \"organization\" must be a string. This occurred on the build request\n                      in index 0.\n        '401':\n          description: The user is not allowed to submit a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/merge-index-image:\n    post:\n      description: Submit a build request to merge index images\n      requestBody:\n        description: The build request to create\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/MergeIndexImageRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MergeIndexImageResponseVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"source_from_index\" must be a string'\n        '401':\n          description: The user is not allowed to create a request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/create-empty-index:\n    post:\n      description: Submit a build request to create an empty index image\n      requestBody:\n        description: The build request to create an empty index image\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RequestCreateEmptyIndex'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ResponseCreateEmptyIndexVerbose'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"from_index\" must be a string'\n        '401':\n          description: The user is not allowed to create a request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  /builds/recursive-related-bundles:\n    post:\n      description: \u003e-\n        Submit a build request to find recursive related bundles of a bundle image\n        in a reversed level-order traversal.\n      requestBody:\n        description: The build request to create\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RecursiveRelatedBundlesRequest'\n      security:\n        - Kerberos Authentication: []\n      responses:\n        '201':\n          description: The build request was initiated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RecursiveRelatedBundlesResponse'\n        '400':\n          description: The input is invalid\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: '\"organization\" must be a string'\n        '401':\n          description: The user is not allowed to submit a build request with this input\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: You must be authenticated to perform this action\n  '/builds/{id}/nested_bundles':\n    get:\n      description: Return nested related bundles for a specific recursive related bundles request\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The ID of the build request to retrieve the related bundles for\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: The nested related bundles for the build request in level order traversal\n            from bottom to top\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: string\n                example:\n                  - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n        '403':\n          description: \u003e\n            The related bundles are not available for this request.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The request is not complete yet. The nested bundles are not available.\n        '410':\n          description: The nested related bundles for the request have been removed due to expiration\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n                    example: The nested related bundles for the build request 1 no longer exist\ncomponents:\n  schemas:\n    BundleMapping:\n      type: object\n      example:\n        some_operator:\n          - quay.io/user/openshift-bundle-example-container:v1\n      properties:\n        operator:\n          type: array\n          items:\n            type: string\n          example:\n            - some_bundle\n            - some_other_bundle\n    Pagination:\n      type: object\n      properties:\n        first:\n          type: string\n          example: \u003e-\n            https://iib.domain.local/api/v1/builds?page=1\u0026per_page=20\u0026verbose=False\n        last:\n          type: string\n          example: \u003e-\n            https://iib.domain.local/api/v1/builds?page=3\u0026per_page=20\u0026verbose=False\n        next:\n          type: string\n          example: \u003e-\n            https://iib.domain.local/api/v1/builds?page=1\u0026per_page=20\u0026verbose=False\n        page:\n          type: integer\n          example: 1\n        pages:\n          type: integer\n          example: 3\n        per_page:\n          type: integer\n          example: 20\n        previous:\n          type: string\n          example: null\n        total:\n          type: integer\n          example: 45\n    OMPSOperatorVersion:\n      type: object\n      example:\n        some_operator:\n          - \"1.0.0\"\n    BaseResponse:\n      type: object\n      properties:\n        arches:\n          type: array\n          items:\n            type: string\n          example:\n            - amd64\n            - s390x\n        batch:\n          type: integer\n          example: 23\n          description: The batch that the request is a part of\n        id:\n          type: integer\n          example: 1\n        state:\n          type: string\n          example: complete\n        state_reason:\n          type: string\n          example: Completed successfully\n        updated:\n          type: string\n          example: '2019-09-17T19:42:47.149979'\n        user:\n          type: string\n          example: msdhoni@DOMAIN.LOCAL\n    BaseResponseVerbose:\n      - type: object\n        properties:\n          batch_annotations:\n            type: object\n            description: \u003e\n              An arbitrary JSON object created by the submitter associated with the batch.\n          state_history:\n            type: array\n            items:\n              $ref: '#/components/schemas/StateHistory'\n          logs:\n            type: object\n            properties:\n              url:\n                type: string\n                description: URL to fetch the logs for the request\n              expiration:\n                type: string\n                description: \u003e-\n                  UTC timestamp in ISO format that indicates when the logs for the request are\n                  considered to be expired and will be removed.\n            example:\n              url: https://iib.domain.local/api/v1/builds/1/logs\n              expiration: '2019-09-19T19:35:15.722265Z'\n    AddRmResponse:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponse'\n        - type: object\n          properties:\n            organization:\n              type: string\n              description: The name of the organization the bundle was regenerated for.\n              example: openshift-operators\n            binary_image:\n              type: string\n              example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n            binary_image_resolved:\n              type: string\n              example: \u003e-\n                quay.io/operator-framework/upstream-registry-builder@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            bundles:\n              type: array\n              items:\n                type: string\n              example:\n                - 'quay.io/user/openshift-bundle-example-container:v1'\n            bundle_mapping:\n              $ref: '#/components/schemas/BundleMapping'\n            deprecation_list:\n              type: array\n              items:\n                type: string\n              description: \u003e\n                List of bundles to be deprecated from the new index image.\n              example:\n                - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n            from_index:\n              type: string\n              example: 'quay.io/iib-stage/iib:4'\n            from_index_resolved:\n              type: string\n              example: \u003e-\n                quay.io/iib-stage/iib@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            index_image:\n              type: string\n              example: 'quay.io/iib-stage/iib:5'\n            index_image_resolved:\n              type: string\n              example: 'quay.io/iib-stage/iib@sha256:abcdef012356789'\n            internal_index_image_copy:\n              description: \u003e\n                The pullspec of the internal copy of the index image built by IIB.\n                It will have the same value as index_image when overwrite_from_index\n                is not provided.\n              type: string\n              example: 'quay.io/iib-stage/iib:5'\n            internal_index_image_copy_resolved:\n              description: \u003e\n                The resolved pullspec of the internal copy of the index image built by IIB.\n                It will have the same value as index_image_resolved when overwrite_from_index\n                is not provided.\n              type: string\n              example: 'quay.io/iib-stage/iib@sha256:abcdef012356789'\n            distribution_scope:\n              description: \u003e\n                The scope of distribution for the index created by the request.\n                This determined what level of protection the addition or removal had.\n              type: string\n              example: 'prod'\n            removed_operators:\n              type: array\n              items:\n                type: string\n              example:\n                - prometheus-operator\n            build_tags:\n              description: \u003e\n                Extra tags applied to intermediate index image\n              type: array\n              items:\n                type: string\n              example: [\"v4.5-10-08-2021\"]\n    AddRequest:\n      type: object\n      properties:\n        add_arches:\n          type: array\n          description: \u003e\n            This add_arches array is required when from_index is not provided.\n          items:\n            type: string\n          example:\n            - amd64\n            - s390x\n        binary_image:\n          type: string\n          example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n        bundles:\n          type: array\n          description: \u003e\n            List of bundles. Note: Any duplicate bundle will be removed.\n          items:\n            type: string\n          example:\n            - 'quay.io/user/openshift-bundle-example-container:v1'\n        cnr_token:\n          type: string\n          description: \u003e\n            (deprecated) This token is required only if support for legacy app registry is\n            required.\n          example: token\n        deprecation_list:\n          type: array\n          items:\n            type: string\n          description: \u003e\n            List of bundles to be deprecated from the new index image.\n          example:\n            - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n        force_backport:\n          type: boolean\n          description: \u003e\n            (deprecated) If True, always backport packages to the legacy app registry via OMPS.\n            Requires cnr_token and organization to be set if True.\n          default: false\n        from_index:\n          type: string\n          description: \u003e\n            from_index is required when add_arches is not provided.\n          example: 'quay.io/iib-stage/iib:4'\n        organization:\n          type: string\n          description: \u003e\n            (deprecated) The organization is required only if support for legacy app registry\n            is required.\n          example: openshift-operators\n        overwrite_from_index:\n          type: boolean\n          description: \u003e\n            Overwrites the input from_index image with the built index image. This can only be\n            performed when overwrite_from_index_token is provided.\n          default: false\n        overwrite_from_index_token:\n          type: string\n          description: \u003e\n            The token used for reading and overwriting the input from_index image. This is required\n            to use overwrite_from_index. The format of the token is in the format \"user:password\".\n          example: token\n        distribution_scope:\n          description: \u003e\n              The scope of distribution for the index created by the request.\n              This will determine what level of protection the addition will have.\n          type: string\n          example: 'prod'\n        build_tags:\n          description: \u003e\n              Extra tags applied to intermediate index image\n          type: array\n          items:\n            type: string\n          example: [\"v4.5-10-08-2021\"]\n      required:\n        - bundles\n    AddResponse:\n      allOf:\n        - $ref: '#/components/schemas/AddRmResponse'\n        - type: object\n          properties:\n            request_type:\n              type: string\n              example: add\n            omps_operator_version:\n              $ref: '#/components/schemas/OMPSOperatorVersion'\n    RmRequest:\n      type: object\n      properties:\n        add_arches:\n          type: array\n          items:\n            type: string\n          example:\n            - amd64\n            - s390x\n        binary_image:\n          type: string\n          example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n        from_index:\n          type: string\n          example: 'quay.io/iib-stage/iib:4'\n        operators:\n          type: array\n          items:\n            type: string\n          example:\n            - quay.io/user/openshift-operator\n        overwrite_from_index:\n          type: boolean\n          description: \u003e\n            Overwrites the input from_index image with the built index image. This can only be\n            performed when overwrite_from_index_token is provided.\n          default: false\n        overwrite_from_index_token:\n          type: string\n          description: \u003e\n            The token used for reading and overwriting the input from_index image. This is required\n            to use overwrite_from_index. The format of the token is in the format \"user:password\".\n          example: token\n        distribution_scope:\n          description: \u003e\n                The scope of distribution for the index created by the request.\n                This will determine what level of protection the removal will have.\n          type: string\n          example: 'prod'\n        build_tags:\n          description: \u003e\n              Extra tags applied to intermediate index image\n          type: array\n          items:\n            type: string\n          example: [\"v4.5-10-08-2021\"]\n      required:\n        - from_index\n        - operators\n    RmResponse:\n      allOf:\n        - $ref: '#/components/schemas/AddRmResponse'\n        - type: object\n          properties:\n            request_type:\n              type: string\n              example: rm\n    RegenerateBundleRequest:\n      type: object\n      properties:\n        from_bundle_image:\n          type: string\n          description: \u003e-\n            The pull specification of the original bundle image that will be modified.\n          example: 'quay.io/user/openshift-bundle-example-container:v1'\n        organization:\n          type: string\n          description: \u003e-\n            The name of the organization the bundle should be regenerated for. If provided,\n            the value must exist in IIB's server configuration. This will be used to perform\n            various modifications in the operator metadata embeded in the operator bundle\n            image, e.g. change the container registry, or the operator package name.\n          example: 'openshift-operators'\n        registry_auths:\n          type: object\n          description: \u003e\n            Provide the dockerconfig.json for authentication to private registries.\n            Non-auth information in the dockerconfig.json is not allowed.\n          example:\n            auths:\n              registry.example.io:\n                auth: \"my-secret-token-base-64-encoded\"\n        bundle_replacements:\n          type: object\n          description: \u003e\n            A dictionary of bundle image pullspecs to replace in the CSV. The dictionary\n            should contain a mapping of the original pullspec to the target pullspec. Since\n            replacement happens according to the location of the `perform_bundle_replacements`\n            customization type, the original pullspecs need to be accurate for where the\n            customization is run.\n          example:\n            quay.io/foo/bar@sha256:123456: quay.io/foo/bar@sha256:654321\n        related_bundles:\n          type: object\n          properties:\n            url:\n              type: string\n              description: URL to fetch the related bundles for the request\n            expiration:\n              type: string\n              description: \u003e-\n                UTC timestamp in ISO format that indicates when the related bundles for the request\n                are considered to be expired and will be removed.\n          example:\n            url: https://iib.domain.local/api/v1/builds/1/related_bundles\n            expiration: '2019-09-19T19:35:15.722265Z'\n      required:\n        - from_bundle_image\n    RegenerateBundleResponse:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponse'\n        - type: object\n          properties:\n            organization:\n              type: string\n              description: The name of the organization the bundle was regenerated for.\n              example: openshift-operators\n            request_type:\n              type: string\n              example: regenerate-bundle\n            bundle_image:\n              type: string\n              example: 'quay.io/user/openshift-bundle-example-container:v1'\n            from_bundle_image:\n              type: string\n              description: The pull specification of the original bundle image that was modified.\n              example: 'quay.io/user/openshift-bundle-example-container:v1'\n            from_bundle_image_resolved:\n              type: string\n              example: \u003e-\n                quay.io/user/openshift-bundle-example-container@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            related_bundles:\n              type: object\n              properties:\n                url:\n                  type: string\n                  description: URL to fetch the related bundles for the request\n                expiration:\n                  type: string\n                  description: \u003e-\n                    UTC timestamp in ISO format that indicates when the related bundles for the request\n                    are considered to be expired and will be removed.\n    MergeIndexImageRequest:\n      type: object\n      properties:\n        binary_image:\n          type: string\n          example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n        deprecation_list:\n          type: array\n          items:\n            type: string\n          description: \u003e\n            List of bundles to be deprecated from the new index image.\n          example:\n            - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n        source_from_index:\n          type: string\n          description: \u003e\n            Index image that will be used as a base for the new index image.\n          example: 'quay.io/iib-stage/iib:4.5'\n        target_index:\n          type: string\n          description: \u003e\n            Pull specification of the index image whose bundles from which are going to be added\n            to the content of source_from_index. The resulting index image will use the ocp_version\n            label of this index image.\n          example: 'quay.io/iib-stage/iib:4.6'\n        overwrite_target_index:\n          type: boolean\n          description: \u003e\n            Overwrites the input target_index image with the built index image. This can only\n            be performed when overwrite_target_index_token is provided.\n          default: false\n        overwrite_target_index_token:\n          type: string\n          description: \u003e\n            The token used for reading and overwriting the input target_index image. This is\n            required to use overwrite_target_index. The format of the token is in the format\n            \"user:password\". If token is required for accessing the index images, then both of\n            them have to be in the same repository.\n          example: token\n        distribution_scope:\n          description: \u003e\n              The scope of distribution for the index created by the request.\n              This will determine what level of protection the addition will have.\n          type: string\n          example: 'prod'\n        build_tags:\n          description: \u003e\n              Extra tags applied to intermediate index image\n          type: array\n          items:\n            type: string\n          example: [\"v4.5-10-08-2021\"]\n      required:\n        - source_from_index\n    MergeIndexImageResponse:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponse'\n        - type: object\n          properties:\n            request_type:\n              type: string\n              example: merge-index-image\n            binary_image:\n              type: string\n              example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n            binary_image_resolved:\n              type: string\n              example: \u003e-\n                quay.io/operator-framework/upstream-registry-builder@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            deprecation_list:\n              type: array\n              items:\n                type: string\n              description: \u003e\n                List of bundles to be deprecated from the new index image.\n              example:\n                - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n            source_from_index:\n              type: string\n              description: \u003e\n                Index image that will be used as a base for the new index image.\n              example: 'quay.io/iib-stage/iib:4.5'\n            source_from_index_resolved:\n              type: string\n              example: 'quay.io/iib-stage/iib@sha256:29e4531e46256354653215646354'\n            target_index:\n              type: string\n              description: \u003e\n                Pull specification of the index image whose bundles from which are going to be added\n                to the content of source_from_index. The resulting index image will use the\n                ocp_version label of this index image.\n              example: 'quay.io/iib-stage/iib:4.6'\n            target_index_resolved:\n              type: string\n              example: 'quay.io/iib-stage/iib@sha256:29e4531e42312485432154565351'\n            index_image:\n              type: string\n              example: 'quay.io/iib-stage/iib:5'\n            distribution_scope:\n              description: \u003e\n                The scope of distribution for the index created by the request.\n                This determined what level of protection the addition or removal had.\n              type: string\n              example: 'prod'\n    RequestCreateEmptyIndex:\n      type: object\n      properties:\n        binary_image:\n          type: string\n          example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n        from_index:\n          type: string\n          example: 'quay.io/iib-stage/iib:4'\n        labels:\n          type: object\n          additionalProperties:\n            type: string\n          example:\n            version: 'v4.6'\n        output_fbc:\n          type: boolean\n          description: Specifies whether output index image should be File-based Catalog\n          example: true\n          default: false\n      required:\n        - from_index\n    ResponseCreateEmptyIndex:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponse'\n        - type: object\n          properties:\n            binary_image:\n              type: string\n              example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n            binary_image_resolved:\n              type: string\n              example: 'quay.io/operator-framework/upstream-registry-builder:v1.5.9'\n            distribution_scope:\n              type: string\n              exmaple: 'prod'\n            from_index:\n              type: string\n              example: 'quay.io/iib-stage/iib:4'\n            from_index_resolved:\n              type: string\n              example: \u003e-\n                quay.io/iib-stage/iib@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            index_image:\n              type: string\n              example: 'quay.io/iib-stage/iib:5'\n            index_image_resolved:\n              type: string\n              example: 'quay.io/iib-stage/iib@sha256:abcdef012356789'\n            labels:\n              type: object\n              example:\n                version: 'v4.6'\n            request_type:\n              type: string\n              example: \"create-empty-index\"\n    RecursiveRelatedBundlesRequest:\n      type: object\n      properties:\n        parent_bundle_image:\n          type: string\n          description: \u003e-\n            The pull specification of the bundle image whose related bundles are to be found.\n          example: 'quay.io/user/openshift-bundle-example-container:v1'\n        organization:\n          type: string\n          description: \u003e-\n            The name of the organization the bundle should be regenerated for. If provided,\n            the value must exist in IIB's server configuration. This will be used to perform\n            various modifications in the operator metadata embeded in the operator bundle\n            image, e.g. change the container registry, or the operator package name.\n          example: 'openshift-operators'\n        registry_auths:\n          type: object\n          description: \u003e\n            Provide the dockerconfig.json for authentication to private registries.\n            Non-auth information in the dockerconfig.json is not allowed.\n          example:\n            auths:\n              registry.example.io:\n                auth: \"my-secret-token-base-64-encoded\"\n      required:\n        - parent_bundle_image\n    RecursiveRelatedBundlesResponse:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponse'\n        - type: object\n          properties:\n            organization:\n              type: string\n              description: The name of the organization the bundle was regenerated for.\n              example: openshift-operators\n            request_type:\n              type: string\n              example: recursive-related-bundles\n            parent_bundle_image:\n              type: string\n              description: The pull specification of the original bundle image that was modified.\n              example: 'quay.io/user/openshift-bundle-example-container:v1'\n            parent_bundle_image_resolved:\n              type: string\n              example: \u003e-\n                quay.io/user/openshift-bundle-example-container@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n            nested_bundles:\n              type: object\n              properties:\n                url:\n                  type: string\n                  description: URL to fetch the nested related bundles for the request\n                expiration:\n                  type: string\n                  description: \u003e-\n                    UTC timestamp in ISO format that indicates when the related bundles for the request\n                    are considered to be expired and will be removed.\n              example:\n                url: https://iib.domain.local/api/v1/builds/1/nested_bundles\n                expiration: '2019-09-19T19:35:15.722265Z'\n    RequestUpdate:\n      type: object\n      properties:\n        arches:\n          type: array\n          items:\n            type: string\n          example:\n            - amd64\n            - s390x\n        binary_image_resolved:\n          type: string\n          example: \u003e-\n            quay.io/operator-framework/upstream-registry-builder@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n        bundle_image:\n          type: string\n          example: \u003e-\n            quay.io/user/openshift-bundle-example-container:v1\n        bundle_mapping:\n          $ref: '#/components/schemas/BundleMapping'\n        deprecation_list:\n          type: array\n          items:\n            type: string\n          example:\n            - 'quay.io/user/openshift-bundle-example-container@sha256:29e4531e4625653'\n        from_bundle_image:\n          type: string\n          example: \u003e-\n            quay.io/user/openshift-bundle-example-container@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n        from_bundle_image_resolved:\n          type: string\n          example: \u003e-\n            quay.io/user/openshift-bundle-example-container@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n        from_index_resolved:\n          type: string\n          example: \u003e-\n            quay.io/iib-stage/iib@sha256:7d8e5dddad0275bc903b6ef17840f98441b15b8b999609af2c9579960e52080e\n        index_image:\n          type: string\n          example: 'quay.io/iib-stage/iib:4'\n        state:\n          type: string\n          example: complete\n        state_reason:\n          type: string\n          example: Completed successfully\n    AddResponseVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/AddResponse'\n    RmResponseVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/RmResponse'\n    MergeIndexImageResponseVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/MergeIndexImageResponse'\n    RegenerateBundleResponseVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/RegenerateBundleResponse'\n    RecursiveRelatedBundlesResponseVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/RecursiveRelatedBundlesResponse'\n    ResponseCreateEmptyIndexVerbose:\n      allOf:\n        - $ref: '#/components/schemas/BaseResponseVerbose'\n        - $ref: '#/components/schemas/ResponseCreateEmptyIndex'\n    StateHistory:\n      type: object\n      properties:\n        state:\n          type: string\n        state_reason:\n          type: string\n        updated:\n          type: string\n      example:\n        state: complete\n        state_reason: Completed successfully\n        updated: '2019-09-19T19:35:15.722265'\n  securitySchemes:\n    Kerberos Authentication:\n      type: http\n      scheme: negotiate\n",
			"canonicalURL": "/github.com/release-engineering/iib@4750adb29ace546e35e220cb7aeb19c9e536e891/-/blob/iib/web/static/api_v1.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/release-engineering/iib/blob/4750adb29ace546e35e220cb7aeb19c9e536e891/iib/web/static/api_v1.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: unmarshal errors:\n  yaml: line 802: cannot unmarshal !!seq into ogen.Schema"
}