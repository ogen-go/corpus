{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/unboxed/bops"
		},
		"file": {
			"name": "swagger_doc.yaml",
			"size": 0,
			"path": "public/api-docs/v1/swagger_doc.yaml",
			"byteSize": 21511,
			"content": "---\nopenapi: 3.0.1\ninfo:\n  title: Back-office Planning System\n  version: v1\ncomponents:\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\npaths:\n  '/api/v1/planning_applications/{id}':\n    get:\n      summary: Retrieves all determined planning applications\n      tags:\n        - Planning application\n      parameters:\n        - in: path\n          name: id\n          required: true\n          schema:\n            type: integer\n            minimum: 1\n          description: The planning application ID\n      responses:\n        '200':\n          description: All determined planning applications\n          content:\n            application/json:\n              examples:\n                Full:\n                  value: \u0026planning_application\n                    id: 10000\n                    reference: '20-00100-LDCP'\n                    reference_in_full: 'RIPA-20-00100-LDCP'\n                    site:\n                      address_1: 11 Abbey Gardens\n                      address_2: Southwark\n                      town: nil\n                      county: London\n                      postcode: SE16 3RQ\n                      latitude: '51.4842536'\n                      longitude: '-0.0764165'\n                      uprn: '100081043511'\n                    status: not_started\n                    application_type: lawfulness_certificate\n                    description: Add chimnney stack\n                    created_at: '2020-05-14T06:18:17.540+01:00'\n                    received_date: '2020-05-14T09:00:00.000+01:00'\n                    determined_at: '2020-05-14T06:18:17.540+01:00'\n                    determination_date: '2020-05-14T06:18:17.540+01:00'\n                    target_date: '2020-06-18'\n                    started_at: '2020-05-15T06:18:17.540+01:00'\n                    invalidated_at: null\n                    withdrawn_at: null\n                    returned_at: null\n                    work_status: proposed\n                    payment_reference: PAY1\n                    payment_amount: \"105.12\"\n                    awaiting_determination_at: '2020-05-16T06:18:17.540+01:00'\n                    in_assessment_at: '2020-05-16T06:18:17.540+01:00'\n                    awaiting_correction_at: null\n                    applicant_first_name: Albert\n                    applicant_last_name: Manteras\n                    agent_first_name: Jennifer\n                    agent_last_name: Harper\n                    agent_phone: '237878889'\n                    agent_email: agent@example.com\n                    user_role: agent\n                    result_flag: 'Planning permission / Permission needed'\n                    result_heading: It looks like these changes will need planning permission\n                    result_description: Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate\n                    result_override: This was my reason for rejecting the result\n                    constraints:\n                      - Conservation Area\n                      - Listed Building\n                    boundary_geojson:\n                      type: Feature\n                      geometry:\n                        type: Polygon\n                        coordinates:\n                          - - [-0.07716178894042969, 51.50094238217541]\n                            - [-0.07645905017852783, 51.50053497847238]\n                            - [-0.07615327835083008, 51.50115276135022]\n                            - [-0.07716178894042969, 51.50094238217541]\n                    documents:\n                      - url: http://example.com/document_path.pdf\n                        created_at: '2020-05-16T06:18:17.540+01:00'\n                        tags: ['Side', 'Elevation', 'Proposed']\n                        numbers: PLAN01\n                        applicant_description: 'This is the proposed side elevation'\n  '/api/v1/planning_applications':\n    get:\n      summary: Retrieves all determined planning applications\n      tags:\n        - Planning application\n      responses:\n        '200':\n          description: All determined planning applications\n          content:\n            application/json:\n              examples:\n                Full:\n                  value:\n                    data:\n                      - \u003c\u003c: *planning_application\n\n    post:\n      summary: Create new planning application\n      tags:\n        - Planning application\n      security:\n        - bearerAuth: []\n      parameters: []\n      responses:\n        '200':\n          description: valid_request\n          content: {}\n        '400':\n          description: invalid_request\n          content: {}\n        '401':\n          description: unauthorized_user\n          content: {}\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                application_type:\n                  type: string\n                  enum:\n                    - lawfulness_certificate\n                  example: lawfulness_certificate\n                site:\n                  type: object\n                  properties:\n                    uprn:\n                      type: string\n                      example: '100081043511'\n                    address_1:\n                      type: string\n                      example: 11 Abbey Gardens\n                    address_2:\n                      type: string\n                      example: Southwark\n                    town:\n                      type: string\n                      example: London\n                    postcode:\n                      type: string\n                      example: SE16 3RQ\n                    latitude:\n                      type: string\n                      example: '51.4842536'\n                    longitude:\n                      type: string\n                      example: '-0.0764165'\n                description:\n                  type: string\n                  example: Add chimnney stack\n                payment_reference:\n                  type: string\n                  example: PAY1\n                payment_amount:\n                  type: integer\n                  example: 10300\n                work_status:\n                  type: string\n                  example: proposed\n                proposal_details:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      question:\n                        type: string\n                        example: what are you planning to do?\n                      responses:\n                        type: array\n                        items:\n                          type: object\n                          properties:\n                            value:\n                              type: string\n                              example: demolish\n                            metadata:\n                              type: object\n                              properties:\n                                flags:\n                                  type: array\n                                  items:\n                                    type: object\n                                    properties:\n                                      value:\n                                        type: string\n                                        example: 'Planning permission / Permission needed'\n                      metadata:\n                        type: object\n                        properties:\n                          portal_name:\n                            type: string\n                            example: Property details\n                          notes:\n                            type: string\n                            example: this will be done before rebuilding\n                          auto_answered:\n                            type: boolean\n                            example: true\n                          policy_refs:\n                            type: array\n                            items:\n                              type: object\n                              properties:\n                                url:\n                                  type: string\n                                  example: http://example.com/planning/policy/1/234/a.html\n                                value:\n                                  type: string\n                                  example: 'GPDO 32.2342.223'\n                          flags:\n                            type: array\n                            items:\n                              type: object\n                              properties:\n                                value:\n                                  type: string\n                agent_first_name:\n                  type: string\n                  example: Jennifer\n                agent_last_name:\n                  type: string\n                  example: Harper\n                agent_phone:\n                  type: string\n                  example: '237878889'\n                agent_email:\n                  type: string\n                  example: agent@example.com\n                applicant_first_name:\n                  type: string\n                  example: Albert\n                applicant_last_name:\n                  type: string\n                  example: Manteras\n                applicant_phone:\n                  type: string\n                  example: '23432325435'\n                applicant_email:\n                  type: string\n                  example: applicant@example.com\n                user_role:\n                  type: string\n                  example: agent\n                result:\n                  type: object\n                  properties:\n                    flag:\n                      type: string\n                      example: 'Planning permission / Permission needed'\n                    heading:\n                      type: string\n                      example: It looks like these changes will need planning permission\n                    description:\n                      type: string\n                      example: Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate\n                    override:\n                      type: string\n                      example: This was my reason for rejecting the result\n                constraints:\n                  type: object\n                files:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      filename:\n                        type: string\n                        example: https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf\n                      tags:\n                        type: array\n                        items:\n                          type: string\n                          example: 'Side'\n                      applicant_description:\n                        type: string\n                        example: 'This is the side plan'\n                boundary_geojson:\n                  type: object\n              required:\n                - site\n                - application_type\n                - applicant_email\n            examples:\n              Minimum:\n                value:\n                  application_type: lawfulness_certificate\n                  site:\n                    uprn: '100081043511'\n                    address_1: 11 Abbey Gardens\n                    address_2: Southwark\n                    town: London\n                    postcode: SE16 3RQ\n                    latitude: '51.4842536'\n                    longitude: '-0.0764165'\n                  applicant_email: applicant@example.com\n              Full:\n                value:\n                  application_type: lawfulness_certificate\n                  site:\n                    uprn: '100081043511'\n                    address_1: 11 Abbey Gardens\n                    address_2: Southwark\n                    town: London\n                    postcode: SE16 3RQ\n                    latitude: '51.4842536'\n                    longitude: '-0.0764165'\n                  description: Add a chimney stack\n                  payment_reference: PAY1\n                  payment_amount: 10300\n                  work_status: proposed\n                  applicant_first_name: Albert\n                  applicant_last_name: Manteras\n                  applicant_phone: '23432325435'\n                  applicant_email: applicant@example.com\n                  agent_first_name: Jennifer\n                  agent_last_name: Harper\n                  agent_phone: '237878889'\n                  agent_email: agent@example.com\n                  user_role: agent\n                  feedback:\n                    result: feedback about the result\n                    find_property: feedback about the property\n                    planning_constraints: feedback about the constraints\n                  result:\n                    flag: 'Planning permission / Permission needed'\n                    heading: It looks like these changes will need planning permission\n                    description: Based on the information you have provided, we do not think this is eligible for a Lawful Development Certificate\n                    override: This was my reason for rejecting the result\n                  proposal_details:\n                    - question: What do you want to do?\n                      responses:\n                        - value: 'Modify or extend'\n                      metadata:\n                        portal_name: Property details\n                    - question: What is the dwelling used as?\n                      responses:\n                        - value: A family home\n                      metadata:\n                        portal_name: Property details\n                    - question: Is the property a house?\n                      responses:\n                        - value: 'Yes'\n                      metadata:\n                        portal_name: Property details\n                    - question: How many storeys will the new structure have?\n                      responses:\n                        - value: '1'\n                      metadata:\n                        portal_name: Property details\n                    - question: Was the house always a house?\n                      responses:\n                        - value: 'Yes'\n                      metadata:\n                        portal_name: Property details\n                    - question: Will the structure include a satellite dish or antenna?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Property details\n                        policy_refs:\n                          - url: http://example.com/planning/policy/1/234/a.html\n                            text: 'GPDO 00.0000.000'\n                    - question: What will be the total footprint of all additions of the available area around the original house?\n                      responses:\n                        - value: 50% or less\n                      metadata:\n                        portal_name: Dimensions\n                    - question: How high will the eaves of the new structure be?\n                      responses:\n                        - value: '2.5m or lower'\n                      metadata:\n                        portal_name: Dimensions\n                    - question: What will the height of the new structure be?\n                      responses:\n                        - value: '2.5m or lower'\n                      metadata:\n                        portal_name: Dimensions\n                    - question: How close will the new structure be to the site boundary?\n                      responses:\n                        - value: 'Within 2m'\n                      metadata:\n                        portal_name: Front of house\n                    - question: Will any part of the new structure be forward of the front of the original house?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Front of house\n                    - question: Will any part of the pool be forward of the front of the original house?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Front of house\n                    - question: What is the addition to the property?\n                      responses:\n                        - value: An outdoor pool\n                        - value: An outbuilding\n                      metadata:\n                        portal_name: Property details\n                        policy_refs:\n                          - url: http://example.com/planning/policy/1/234/b.html\n                            text: 'GPDO 00.0000.000'\n                          - url: http://example.com/planning/policy/1/234/c.html\n                            text: 'GPDO 00.0000.000'\n                    - question: How many storeys will the new structure have?\n                      responses:\n                        - value: '1'\n                      metadata:\n                        portal_name: Dimensions\n                    - question: Is the property on designated land?\n                      responses:\n                        - value: 'No'\n                          auto_answered: true\n                      metadata:\n                        portal_name: Surrounding Area\n                    - question: Is the property in an area of outstanding natural beauty?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Surrounding Area\n                        auto_answered: true\n                    - question: Is the property in the broads?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Surrounding Area\n                        auto_answered: true\n                    - question: Is the property in a world heritage site?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Surrounding Area\n                        auto_answered: true\n                    - question: Is the property in a national park?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Surrounding Area\n                        auto_answered: true\n                    - question: Is any part of the property listed?\n                      responses:\n                        - value: 'No'\n                          metadata:\n                            flags:\n                              - 'Listed building consent / Not required'\n                      metadata:\n                        portal_name: Surrounding Area\n                    - question: Will the works affect a protected tree?\n                      responses:\n                        - value: 'No'\n                      metadata:\n                        portal_name: Surrounding Area\n                        auto_answered: true\n                    - question: Will the new addition allow you to do an activity that most houses do not provide a dedicated space for?\n                      responses:\n                        - value: 'Yes'\n                          metadata:\n                            notes: It will allow me to exercise on a regular basis and generate energy\n                            flags:\n                              - 'Planning permission / Permission needed'\n                      metadata:\n                        portal_name: Actitivies\n                    - question: What type of planning application are you making?\n                      responses:\n                        - value: Existing changes\n                      metadata:\n                        portal_name: fee-calculator\n                        policy_refs:\n                          - url: http://example.com/planning/policy/1/234/a.html\n                    - question: What type of changes does the project involve?\n                      responses:\n                        - value: Alteration\n                      metadata:\n                        portal_name: Fee Exemptions\n                        policy_refs:\n                          - text: The Town and Country Planning (General Permitted Development) (England) Order 2015\n                  constraints:\n                    conservation_area: true\n                    protected_trees: false\n                  files:\n                    - filename: https://bops-upload-test.s3.eu-west-2.amazonaws.com/proposed-first-floor-plan.pdf\n                      applicant_description: 'This is the side plan'\n                      tags:\n                        - Side\n                  boundary_geojson:\n                    type: Feature\n                    geometry:\n                      type: Polygon\n                      coordinates:\n                        - - [-0.07716178894042969, 51.50094238217541]\n                          - [-0.07645905017852783, 51.50053497847238]\n                          - [-0.07615327835083008, 51.50115276135022]\n                          - [-0.07716178894042969, 51.50094238217541]\n\n  $ref: './validation_requests.yaml'\n",
			"canonicalURL": "/github.com/unboxed/bops@51ceef881ed180d4967873cea4fe084d84f81628/-/blob/public/api-docs/v1/swagger_doc.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/unboxed/bops/blob/51ceef881ed180d4967873cea4fe084d84f81628/public/api-docs/v1/swagger_doc.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: convert YAML to JSON: yaml: unknown anchor 'planning_application' referenced"
}