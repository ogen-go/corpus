{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Nexmo/api-specification"
		},
		"file": {
			"name": "voice.v2.yml",
			"size": 0,
			"path": "definitions/voice.v2.yml",
			"byteSize": 7380,
			"content": "---\nopenapi: 3.0.0\ninfo:\n  version: 2.2.2\n  title: Voice API BETA\n  description: |\n    This is the *beta* version of the Voice API. Calls created with v2 must be managed\n    using [v1 endpoints](/api/voice).\n\n    Voice v2 is provided to allow users to create IP calls. If you do not have this requirement\n    we recommend that you stay on v1 for now.\n\n    \u003e This API may break backwards compatibility at short notice (60 days)\n  contact:\n    name: Vonage DevRel\n    email: devrel@vonage.com\n    url: \"https://developer.nexmo.com/\"\nservers:\n  - url: https://api.nexmo.com/v2/calls\npaths:\n  \"/\":\n    post:\n      security:\n        - bearerAuth: []\n      summary:\n        \"$ref\": \"voice.yml#/paths/~1/post/summary\"\n      description:\n        \"$ref\": \"voice.yml#/paths/~1/post/description\"\n      operationId:\n        \"$ref\": \"voice.yml#/paths/~1/post/operationId\"\n      requestBody:\n        \"$ref\": \"#/components/requestBodies/CreateCallRequestBody\"\n      responses:\n        \"202\":\n          description: Accepted\n          content:\n            application/json:\n              schema:\n                type: object\n                properties: {}\n\n      callbacks:\n        delivery-receipt:\n          \"{$request.body#/event_url}\":\n            post:\n              summary: Call Placed Callback\n              operationId: call-placed\n              x-example-path: \"/webhooks/event_url\"\n              description: Each time a leg is created you'll receive a webhook containing the leg ID (`uuid`) and the conversation ID (`conversation_uuid`) in addition to the `to` and `from` addresses.\n              requestBody:\n                required: true\n                content:\n                  application/json:\n                    schema:\n                      $ref: \"#/components/schemas/CallPlacedWebhook\"\n              responses:\n                \"200\":\n                  description: Your server returns this code if it accepts the callback\n\ncomponents:\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n\n  requestBodies:\n    CreateCallRequestBody:\n      description: Call Details\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - \"$ref\": \"#/components/schemas/CreateCallRequestNcco\"\n              - \"$ref\": \"#/components/schemas/CreateCallRequestAnswerUrl\"\n\n  schemas:\n    CreateCallRequestBaseV2:\n      type: object\n      required:\n        - to\n        - from\n      properties:\n        to:\n          type: array\n          items:\n            oneOf:\n              - \"$ref\": \"voice.yml#/components/schemas/EndpointPhoneTo\"\n              - \"$ref\": \"voice.yml#/components/schemas/EndpointSip\"\n              - \"$ref\": \"voice.yml#/components/schemas/EndpointWebsocket\"\n              - \"$ref\": \"voice.yml#/components/schemas/EndpointVBCExtension\"\n              - \"$ref\": \"voice.yml#/components/schemas/EndpointApp\"\n        from:\n          \"$ref\": \"voice.yml#/components/schemas/EndpointPhoneFrom\"\n        event_url:\n          description: |\n            **Required** unless `event_url` is configured at the application\n            level, see [Create an Application](/api/application.v2#createApplication)\n\n            The webhook endpoint where call progress events are\n            sent to. For more information about the values sent, see\n            [Event webhook](/voice/voice-api/webhook-reference#event-webhook).\n          type: array\n          x-nexmo-developer-collection-description-shown: true\n          example: [\"https://example.com/event\"]\n          items:\n            type: string\n            format: uri\n        event_method:\n          description: The HTTP method used to send event information to `event_url`.\n          type: string\n          default: POST\n          enum:\n            - POST\n            - GET\n        machine_detection:\n          description: Configure the behavior when Vonage detects that the\n            call is answered by voicemail. If `continue` Vonage sends an HTTP\n            request to `event_url` with the Call event machine. If `hangup`, Vonage ends the call.\n          type: string\n          enum:\n            - continue\n            - hangup\n          example: continue\n        length_timer:\n          description: Set the number of seconds that elapse before Vonage\n            hangs up after the call state changes to answered.\n          minimum: 1\n          maximum: 7200\n          default: 7200\n          type: integer\n        ringing_timer:\n          description: Set the number of seconds that elapse before Vonage\n            hangs up after the call state changes to `ringing`.\n          minimum: 1\n          maximum: 120\n          default: 60\n          type: integer\n\n    CreateCallRequestNcco:\n      allOf:\n        - title: With NCCO\n          required:\n            - ncco\n        - properties:\n            ncco:\n              description: |\n                The [Nexmo Call Control Object](/voice/voice-api/ncco-reference) to use for this call.\n              type: array\n              x-nexmo-developer-collection-description-shown: true\n              example:\n                - action: talk\n                  text: Hello World\n              items:\n                type: object\n        - \"$ref\": \"#/components/schemas/CreateCallRequestBaseV2\"\n\n    CreateCallRequestAnswerUrl:\n      allOf:\n        - title: With Answer URL\n          required:\n            - answer_url\n        - properties:\n            answer_url:\n              description: |\n                The webhook endpoint where you provide the [Nexmo Call Control Object](/voice/voice-api/ncco-reference) that governs this call.\n              type: array\n              x-nexmo-developer-collection-description-shown: true\n              example: [\"https://example.com/answer\"]\n              items:\n                type: string\n            answer_method:\n              description: The HTTP method used to send event information to answer_url.\n              type: string\n              default: GET\n              enum:\n                - POST\n                - GET\n        - \"$ref\": \"#/components/schemas/CreateCallRequestBaseV2\"\n\n    CallPlacedWebhook:\n      properties:\n        from:\n          type: string\n          description: The source of the call\n          example: 14155550100\n        to:\n          type: string\n          description: The destination endpoint. This can be a PSTN, SIP, IP or Websocket address\n          example: 14155550105 / jamie\n        uuid:\n          type: string\n          description: The UUID of the Conversion that the event relates to\n          example: 63f61863-4a51-4f6b-86e1-46edebcf9356\n        conversation_uuid:\n          type: string\n          description: The UUID of the call leg that the event relates to\n          example: CON-f972836a-550f-45fa-956c-12a2ab5b7d22\n        client_ref:\n          type: string\n          description: The client reference number that the event relates to. This is returned for outbound IP calls instead of a UUID.\n          example: client-ref\n        status:\n          type: string\n          example: started\n        direction:\n          type: string\n          description: Possible values are `outbound` or `inbound`\n          example: outbound\n          enum:\n            - outbound\n            - inbound\n        timestamp:\n          type: string\n          format: date-time\n          example: 2018-01-12T15:01:55.315Z\n",
			"canonicalURL": "/github.com/Nexmo/api-specification@9c787c0bd24b52fede45f6f13ebe82b261c79ab8/-/blob/definitions/voice.v2.yml",
			"externalURLs": [
				{
					"url": "https://github.com/Nexmo/api-specification/blob/9c787c0bd24b52fede45f6f13ebe82b261c79ab8/definitions/voice.v2.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: unmarshal errors:\n  yaml: line 1: cannot unmarshal !!map into string; yaml: line 1: cannot unmarshal !!map into string; yaml: line 1: cannot unmarshal !!map into string"
}