{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/delta-incubator/riverbank"
		},
		"file": {
			"name": "api-description.yml",
			"size": 0,
			"path": "api-description.yml",
			"byteSize": 12809,
			"content": "---\nopenapi: \"3.0.2\"\ninfo:\n  description: |\n    The Delta Sharing protocol is still very early in its development.\n  version: \"0.1\"\n  title: Delta Sharing Protocol\n  contact:\n    email: \"rtyler@brokenco.de\"\n  license:\n    name: \"AGPL v3.0\"\n    url: \"https://www.gnu.org/licenses/agpl-3.0.en.html\"\n\nservers:\n  - url: 'http://localhost:8000/api/v1'\n    description: Local dev server (APIv1)\n  - url: 'https://sharing.delta.io/delta-sharing/'\n    description: 'Demo Delta Sharing server'\n\n\ntags:\n- name: 'shares'\n  description: Share discovery APIs\n- name: 'schemas'\n  description: Schema discovery APIs\n- name: 'tables'\n  description: Table query and inspection APIs\n\n\npaths:\n  '/shares':\n    get:\n      operationId: 'ListShares'\n      summary: 'List the shares accessible to the recipient'\n      description: |\n        Without any query parameters the request will return the first page\n        of \"shares\" available to the authenticated recipent\n      tags:\n        - shares\n      security:\n        - BearerAuth: []\n      parameters: \u0026pagination\n        - in: query\n          name: maxResults\n          required: false\n          description: |\n            The maximum number of results to be returned in a single page. If\n            the number of potential results exceeds the number of maximum\n            results, the response will contain a `nextpageToken` which can be\n            used in subsequent requests.\n          example: '30'\n          schema:\n            type: number\n            format: int32\n        - in: query\n          name: pageToken\n          required: false\n          description: Optionally provided page token for requesting a subsequent page of results\n          schema:\n            type: string\n\n      responses:\n        '200':\n          description: |\n            The user could successfully list the shares\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ListShareResponse'\n\n  '/shares/{share}/schemas':\n    get:\n      operationId: 'ListSchemas'\n      summary: 'List the schemas in a share'\n      tags:\n        - shares\n      security:\n        - BearerAuth: []\n      parameters:\n        - in: path\n          name: share\n          required: true\n          description: 'Named share to list the schemas'\n          schema:\n            type: string\n        - in: query\n          name: maxResults\n          required: false\n          description: |\n            The maximum number of results to be returned in a single page. If\n            the number of potential results exceeds the number of maximum\n            results, the response will contain a `nextpageToken` which can be\n            used in subsequent requests.\n          example: '30'\n          schema:\n            type: number\n            format: int32\n        - in: query\n          name: pageToken\n          required: false\n          description: Optionally provided page token for requesting a subsequent page of results\n          schema:\n            type: string\n      responses:\n        '200':\n          description: |\n            The user could successfully list the schemas in the given share\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ListSchemasResponse'\n        '404':\n          description: The named share could not be found\n\n  '/shares/{share}/schemas/{schema}/tables':\n    get:\n      operationId: 'ListTables'\n      summary: \"List the tables in a given share's schema\"\n      tags:\n        - schemas\n      security:\n        - BearerAuth: []\n      parameters:\n        - in: path\n          name: share\n          required: true\n          description: 'Named share for finding the named schema'\n          schema:\n            type: string\n        - in: path\n          name: schema\n          required: true\n          description: 'Named schema for listing tables'\n          schema:\n            type: string\n        - in: query\n          name: maxResults\n          required: false\n          description: |\n            The maximum number of results to be returned in a single page. If\n            the number of potential results exceeds the number of maximum\n            results, the response will contain a `nextpageToken` which can be\n            used in subsequent requests.\n          example: '30'\n          schema:\n            type: number\n            format: int32\n        - in: query\n          name: pageToken\n          required: false\n          description: Optionally provided page token for requesting a subsequent page of results\n          schema:\n            type: string\n\n      responses:\n        '200':\n          description: |\n            The user could successfully list the tables for the given schema in the given share\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ListTablesResponse'\n        '404':\n          description: The named share or schema could not be found\n\n  '/shares/{share}/schemas/{schema}/tables/{table}':\n    head:\n      operationId: 'GetTableVersion'\n      summary: 'Return the latest version identifier for the named table'\n      description: |\n        This is the API for clients to get a table version without any other\n        extra information. The server usually can implement this API\n        effectively. If a client caches information about a shared table\n        locally, it can store the table version and use this cheap API to\n        quickly check whether their cache is stale and they should re-fetch the\n        data.\n      tags:\n        - tables\n      security:\n        - BearerAuth: []\n      parameters: \u0026tableParameters\n        - in: path\n          name: share\n          required: true\n          description: 'Named share for finding the named schema'\n          schema:\n            type: string\n        - in: path\n          name: schema\n          required: true\n          description: 'Named schema for finding the named table'\n          schema:\n            type: string\n        - in: path\n          name: table\n          required: true\n          description: 'Named table'\n          schema:\n            type: string\n      responses:\n        '200':\n          description: 'The table was found and has a version'\n          headers:\n            Delta-Table-Version: \u0026deltaTableVersionHeader\n              description: 'A long value which represents the current table version'\n              schema:\n                type: integer\n        '404': \u0026tableNotFound\n          description: 'The named share, schema, or table could not be found'\n\n  '/shares/{share}/schemas/{schema}/tables/{table}/metadata':\n    get:\n      operationId: 'GetTableMetadata'\n      summary: 'Query the metadata and schema of the given table'\n      tags:\n        - tables\n      security:\n        - BearerAuth: []\n      parameters: *tableParameters\n      responses:\n        '200':\n          description: |\n            A sequence of JSON strings containing the table protocol\n            and then the table metadata\n          headers: *deltaTableVersionHeader\n          content:\n            'application/x-ndjson':\n              schema:\n                $ref: '#/components/schemas/TableMetadataResponse'\n        '404': *tableNotFound\n\n  '/shares/{share}/schemas/{schema}/tables/{table}/query':\n    post:\n      operationId: 'QueryTable'\n      summary: 'Query the table'\n      tags:\n        - tables\n      security:\n        - BearerAuth: []\n      parameters: *tableParameters\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/QueryRequest'\n      responses:\n        '200':\n          description: |\n            A sequence of JSON strings containing the table protocol, metadata,\n            and then a number of lines for each file in the table.\n          headers: *deltaTableVersionHeader\n          content:\n            'application/x-ndjson':\n              schema:\n                $ref: '#/components/schemas/TableQueryResponse'\n        '404': *tableNotFound\n\ncomponents:\n  securitySchemes:\n    BearerAuth:\n      type: http\n      scheme: bearer\n\n  schemas:\n    ListShareResponse:\n      type: object\n      required:\n        - nextPageToken\n      properties:\n        nextPageToken: \u0026nextPageToken\n          type: string\n        items:\n          type: array\n          items:\n            $ref: '#/components/schemas/Share'\n\n    Share:\n      type: object\n      properties:\n        name: \u0026shareName\n          type: string\n          example: 'vaccine_share'\n\n    ListSchemasResponse:\n      type: object\n      required:\n        - nextPageToken\n      properties:\n        nextPageToken: *nextPageToken\n        items:\n          type: array\n          items:\n            $ref: '#/components/schemas/Schema'\n\n    Schema:\n      type: object\n      properties:\n        name: \u0026schemaName\n          type: string\n          example: 'acme_vaccine_data'\n        share: *shareName\n\n    ListTablesResponse:\n      type: object\n      required:\n        - nextPageToken\n      properties:\n        nextPageToken: *nextPageToken\n        items:\n          type: array\n          items:\n            $ref: '#/components/schemas/Table'\n    Table:\n      type: object\n      properties:\n        name: \u0026tableName\n          type: string\n          example: 'vaccine_ingredients'\n        share: *shareName\n        schema: *schemaName\n\n    TableMetadataResponse:\n      type: string\n      example: |\n        {\"protocol\":{\"minReaderVersion\":1}}\n        {\"metaData\":{\"id\":\"f8d5c169-3d01-4ca3-ad9e-7dc3355aedb2\",\"format\":{\"provider\":\"parquet\"},\"schemaString\":\"{\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"eventTime\\\",\\\"type\\\":\\\"timestamp\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}},{\\\"name\\\":\\\"date\\\",\\\"type\\\":\\\"date\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}]}\",\"partitionColumns\":[\"date\"]}}\n\n\n    QueryRequest:\n      type: object\n      properties:\n        predicateHints:\n          type: array\n          description: |\n            A list of SQL-like boolean expressions using the restricted subset of\n            SQL passed in as a JSON array, one per expression\n\n            Each entry should be a single SQL-like boolean expression using:\n              * `=`\n              * `\u003e`\n              * `\u003c`\n              * `\u003e=`\n              * `\u003c=`\n              * `\u003c\u003e`\n              * `IS NULL`\n              * `IS NOT NULL`\n          example:\n            - 'col = 123'\n          items:\n            type: string\n        limitHint:\n          type: integer\n          example: 1000\n          description: |\n            It’s a hint from the client to tell the server how many rows the\n            client plans to read. The server can use this hint to return only\n            some files by using the stats in the Delta transaction logs. For\n            example, when running SELECT * FROM table LIMIT 1000, the client\n            can send limit=1000 to the server\n\n    TableQueryResponse:\n      type: string\n      example: |\n        {\"protocol\":{\"minReaderVersion\":1}}\n        {\"metaData\":{\"id\":\"f8d5c169-3d01-4ca3-ad9e-7dc3355aedb2\",\"format\":{\"provider\":\"parquet\"},\"schemaString\":\"{\\\"type\\\":\\\"struct\\\",\\\"fields\\\":[{\\\"name\\\":\\\"eventTime\\\",\\\"type\\\":\\\"timestamp\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}},{\\\"name\\\":\\\"date\\\",\\\"type\\\":\\\"date\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}]}\",\"partitionColumns\":[\"date\"]}}\n        {\"file\":{\"url\":\"https://\u003cs3-bucket-name\u003e.s3.us-west-2.amazonaws.com/delta-exchange-test/table2/date%3D2021-04-28/part-00000-8b0086f2-7b27-4935-ac5a-8ed6215a6640.c000.snappy.parquet?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Date=20210501T010516Z\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Expires=900\u0026X-Amz-Credential=AKIAISZRDL4Q4Q7AIONA%2F20210501%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Signature=97b6762cfd8e4d7e94b9d707eff3faf266974f6e7030095c1d4a66350cfd892e\",\"id\":\"8b0086f2-7b27-4935-ac5a-8ed6215a6640\",\"partitionValues\":{\"date\":\"2021-04-28\"},\"size\":573,\"stats\":\"{\\\"numRecords\\\":1,\\\"minValues\\\":{\\\"eventTime\\\":\\\"2021-04-28T23:33:57.955Z\\\"},\\\"maxValues\\\":{\\\"eventTime\\\":\\\"2021-04-28T23:33:57.955Z\\\"},\\\"nullCount\\\":{\\\"eventTime\\\":0}}\"}}\n        {\"file\":{\"url\":\"https://\u003cs3-bucket-name\u003e.s3.us-west-2.amazonaws.com/delta-exchange-test/table2/date%3D2021-04-28/part-00000-591723a8-6a27-4240-a90e-57426f4736d2.c000.snappy.parquet?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Date=20210501T010516Z\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Expires=899\u0026X-Amz-Credential=AKIAISZRDL4Q4Q7AIONA%2F20210501%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Signature=0f7acecba5df7652457164533a58004936586186c56425d9d53c52db574f6b62\",\"id\":\"591723a8-6a27-4240-a90e-57426f4736d2\",\"partitionValues\":{\"date\":\"2021-04-28\"},\"size\":573,\"stats\":\"{\\\"numRecords\\\":1,\\\"minValues\\\":{\\\"eventTime\\\":\\\"2021-04-28T23:33:48.719Z\\\"},\\\"maxValues\\\":{\\\"eventTime\\\":\\\"2021-04-28T23:33:48.719Z\\\"},\\\"nullCount\\\":{\\\"eventTime\\\":0}}\"}}\n",
			"canonicalURL": "/github.com/delta-incubator/riverbank@50fa313278289aec79f29fef2994fc3bd4838254/-/blob/api-description.yml",
			"externalURLs": [
				{
					"url": "https://github.com/delta-incubator/riverbank/blob/50fa313278289aec79f29fef2994fc3bd4838254/api-description.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: unmarshal errors:\n  yaml: line 1: cannot unmarshal !!str `A long ...` into ogen.Parameter; yaml: line 1: cannot unmarshal !!str `A long ...` into ogen.Parameter"
}