{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/gravitee-io/gravitee-docs"
		},
		"file": {
			"name": "alert-engine-spec.yml",
			"size": 0,
			"path": "ae/spec/2.0/alert-engine-spec.yml",
			"byteSize": 21009,
			"content": "openapi: 3.0.3\ninfo:\n  title: Gravitee.io - Alert Engine\n  description: This is the official Gravitee.io - Alert Engine specification\n  contact:\n    email: contact@graviteesource.com\n  license:\n    name: Apache 2.0\n    url: https://www.apache.org/licenses/LICENSE-2.0.html\n  version: 2.0.0\nservers:\n  - url: https://alerts.gravitee.io/\npaths:\n  /http/triggers:\n    post:\n      security:\n        - basicAuth: [ ]\n      tags:\n        - Triggers\n      summary: create, enable and disable triggers\n      requestBody:\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: '#/components/schemas/Trigger'\n                - type: array\n                  items:\n                    $ref: '#/components/schemas/Trigger'\n          examples:\n            - $ref: '#/components/examples/trigger_string_condition_not_equals'\n            - $ref: '#/components/examples/trigger_compare_condition_lte'\n            - $ref: '#/components/examples/triggers'\n        required: true\n      responses:\n        '204':\n          description: Trigger accepted\n          content: {}\n        '400':\n          description: Invalid trigger\n          content: {}\n        '401':\n          description: Unauthorized\n          content: {}\n  /http/events:\n    post:\n      security:\n        - basicAuth: [ ]\n      tags:\n        - Events\n      summary: publishes event to the engine\n      requestBody:\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: '#/components/schemas/Event'\n                - type: array\n                  items:\n                    $ref: '#/components/schemas/Event'\n\n        required: true\n      responses:\n        '204':\n          description: Event accepted\n          content: { }\n        '400':\n          description: Invalid event\n          content: { }\n        '401':\n          description: Unauthorized\n          content: { }\ncomponents:\n  securitySchemes:\n    basicAuth:\n      type: http\n      scheme: basic\n  schemas:\n    Trigger:\n      type: object\n      properties:\n        id:\n          type: string\n          description: Trigger technical id\n        name:\n          type: string\n          description: Name of the trigger\n        description:\n          type: string\n          description: Description of the trigger\n        source:\n          type: string\n          description: \u003e-\n            The source of the events that will be processed by the trigger, this\n            allows to dedicate triggers to work on particular events (API, health check, etc ...)\n        severity:\n          type: string\n          description: Severity of the trigger\n          enum:\n            - INFO\n            - WARNING\n            - CRITICAL\n        enabled:\n          type: boolean\n          description: enables the trigger to process events\n        conditions:\n          type: array\n          description: the list of condition to evaluate events onto\n          items:\n            anyOf:\n              - $ref: '#/components/schemas/StringCondition'\n              - $ref: '#/components/schemas/StringCompareCondition'\n              - $ref: '#/components/schemas/ThresholdCondition'\n              - $ref: '#/components/schemas/ThresholdRangeCondition'\n              - $ref: '#/components/schemas/CompareCondition'\n              - $ref: '#/components/schemas/RateCondition'\n              - $ref: '#/components/schemas/AggregationCondition'\n              - $ref: '#/components/schemas/MissingDataCondition'\n        filters:\n          type: array\n          description: the list of condition to determine if the trigger can evaluate the event\n          items:\n            anyOf:\n              - $ref: '#/components/schemas/StringCondition'\n              - $ref: '#/components/schemas/StringCompareCondition'\n              - $ref: '#/components/schemas/ThresholdCondition'\n              - $ref: '#/components/schemas/ThresholdRangeCondition'\n              - $ref: '#/components/schemas/CompareCondition'\n        dampening:\n          allOf:\n            - $ref: '#/components/schemas/Dampening'\n            - type: object\n        notificationPeriods:\n          type: array\n          items:\n            allOf:\n              - $ref: '#/components/schemas/Period'\n\n    Condition:\n      type: object\n      properties:\n        type:\n          type: string\n          enum:\n            - STRING\n            - COMPARE\n            - STRING_COMPARE\n            - THRESHOLD\n            - THRESHOLD_RANGE\n            - RATE\n            - AGGREGATION\n            - MISSING_DATA\n        projections:\n          type: array\n          items:\n            $ref: '#/components/schemas/Projection'\n    Projection:\n      type: object\n      properties:\n        property:\n          type: string\n          description: the name of the property in the processed event\n        type:\n          type: string\n          description: \u003e-\n            The type of information to extract for the projection in the event\n            (only property today)\n          enum:\n            - PROPERTY\n    StringCondition:\n      description: |-\n        compares a given property value with a pattern.\n        examples:\n          - event.properties['status.code'] EQUALS `200`\n          - event.properties['str_int'] MATCHES `^[0-9]+$`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - EQUALS\n                - NOT_EQUALS\n                - STARTS_WITH\n                - ENDS_WITH\n                - CONTAINS\n                - MATCHES\n            pattern:\n              type: string\n              description: the pattern used to evaluate the condition\n    StringCompareCondition:\n      description: \u003e-\n        compares a given property value with another\n        examples:\n          - event.properties['given.status.code'] EQUALS `event.properties['other.code']`\n          - event.properties['str_int'] MATCHES `event.properties['str_int_pattern']`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - EQUALS\n                - NOT_EQUALS\n                - STARTS_WITH\n                - ENDS_WITH\n                - CONTAINS\n                - MATCHES\n            property2:\n              type: string\n              description: the name of the property used to evaluate the condition\n    CompareCondition:\n      description: \u003e-\n        compares a given property value with another property value multiplied\n        by a factor examples:\n          - event.properties['my_value'] GTE `event.properties['my_other_value'] * multiplier`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - LTE\n                - LT\n                - GTE\n                - GT\n            property2:\n              type: string\n              description: the name of the property used to evaluate the condition\n            multiplier:\n              type: number\n              description: the factor used to compare the event property\n    ThresholdCondition:\n      description: |-\n        compares a given property value with a given threshold examples:\n          - event.properties['my_value'] GTE `30`\n          - event.properties['my_value'] LT `20`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - LTE\n                - LT\n                - GTE\n                - GT\n            threshold:\n              type: number\n              description: the threshold use to evaluate the event property\n    ThresholdRangeCondition:\n      description: \u003e-\n        evaluates if a given property value is contained within a range\n        examples:\n          - event.properties['my_value'] BETWEEN `30 (INCLUDED) and 55 (EXCLUDED)`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            operatorLow:\n              type: string\n              description: the low operator used to evaluate the property\n              enum:\n                - INCLUDED\n                - EXCLUDED\n            thresholdLow:\n              type: number\n              description: the low threshold use to evaluate the event property\n            operatorHigh:\n              type: string\n              description: the high operator used to evaluate the property\n              enum:\n                - INCLUDED\n                - EXCLUDED\n            thresholdHigh:\n              type: number\n              description: the high threshold use to evaluate the event property\n    RateCondition:\n      description: \u003e-\n        evaluates, within a time window and a given sample of events, the rate\n        of evaluation of a given property onto a percentage threshold\n\n        examples:\n          - On a Window of `10 minutes` and at least `1000 events`, the rate of `event.property['property'] EQUALS 'value'`GTE `50%`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - GTE\n                - GT\n                - LTE\n                - LT\n            threshold:\n              type: number\n              description: the threshold use to evaluate the event property (% percentage)\n            comparison:\n              type: object\n              oneOf:\n                - $ref : '#/components/schemas/StringCondition'\n                - $ref : '#/components/schemas/StringCompareCondition'\n                - $ref : '#/components/schemas/ThresholdCondition'\n                - $ref : '#/components/schemas/ThresholdRangeCondition'\n                - $ref : '#/components/schemas/CompareCondition'\n            duration:\n              type: number\n              description: the duration time of the rate condition\n            timeUnit:\n              type: string\n              description: the unit of time of the duration\n              enum:\n                - MILLISECONDS\n                - SECONDS\n                - MINUTES\n                - HOURS\n                - DAYS\n            sampleSize:\n              type: number\n              description: the mimimum size of events required for the condition to be performed\n    AggregationCondition:\n      description: \u003e-\n        evaluates, within a time window and a given sample of events, a function for given property onto a threshold\n\n        examples:\n          - On a Window of `10 minutes` and at least `1000 events`, the maximum value of `event.property['number']` GTE `1500`\n          - On a Window of `5 minutes` and at least `10 events`, the average value of `event.property['number']` LT `750`\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            property:\n              type: string\n              description: the name of the property in the processed event\n            function:\n              type: string\n              description: Operation applied to evaluate the condition\n              enum:\n                - COUNT\n                - AVG\n                - MIN\n                - MAX\n                - P50\n                - P90\n                - P95\n                - P99\n            operator:\n              type: string\n              description: the operator used to evaluate the property\n              enum:\n                - GTE\n                - GT\n                - LTE\n                - LT\n            threshold:\n              type: number\n              description: the threshold use to evaluate the event property\n            duration:\n              type: number\n              description: the duration time of the rate condition\n            timeUnit:\n              type: string\n              description: the unit of time of the duration\n              enum:\n                - MILLISECONDS\n                - SECONDS\n                - MINUTES\n                - HOURS\n                - DAYS\n    MissingDataCondition:\n      description: |-\n        evaluates, within a time window, if there has not been any event sent\n      allOf:\n        - $ref: '#/components/schemas/Condition'\n        - type: object\n          properties:\n            duration:\n              type: number\n              description: the duration time of the rate condition\n            timeUnit:\n              type: string\n              description: the unit of time of the duration\n              enum:\n                - MILLISECONDS\n                - SECONDS\n                - MINUTES\n                - HOURS\n                - DAYS\n    Dampening:\n      type: object\n      description: defines the dampening to apply on the evaluated condition\n      required: [mode]\n      properties:\n        mode:\n          type: string\n          description: |-\n            defines the mode of the dampening:\n              - Strict count: N consecutive true evaluations\n              - Relaxed count: N true evaluations out of M total evaluations\n              - Relaxed time: N true evaluations in T time\n              - Strict time: Only true evaluations for at least T time\n          enum:\n            - STRICT_COUNT\n            - RELAXED_COUNT\n            - RELAXED_TIME\n            - STRICT_TIME\n        trueEvaluations:\n          type: number\n          description: Number of true evaluation required\n        totalEvaluations:\n          type: number\n          description: Number of total evaluation\n        duration:\n          type: number\n          description: Duration of the dampening\n        timeUnit:\n          type: string\n          description: the unit of time of the duration\n          enum:\n            - MILLISECONDS\n            - SECONDS\n            - MINUTES\n            - HOURS\n            - DAYS\n    Period:\n      type: object\n      properties:\n        days:\n          description: the days of the week\n          type: array\n          items:\n            type: integer\n        zoneId:\n          type: string\n          description: the zoneId of the period\n        beginHour:\n          type: integer\n          description: the hour when the period begins (in seconds)\n        endHour:\n          type: integer\n          description: the hour when the period ends (in seconds)\n    Event:\n      type: object\n      properties:\n        id:\n          type: string\n          description: the id of the event\n        timestamp:\n          type: number\n          description: the timestamp of the event\n        type:\n          type: string\n          description: the type of the event\n        context:\n          type: object\n          description: the context of the event\n        properties:\n          type: object\n          description: the properties of the event\n    Notification:\n      type: object\n      properties:\n        type:\n          type: string\n          description: The type of notification\n          enum:\n            - webhook-notifier\n            - email-notifier\n            - slack-notifier\n        configuration:\n          type: string\n          description: |-\n            The serialized notifier configuration.\n\n            To know more about this:\n              - Webhook: https://github.com/gravitee-io/gravitee-notifier-webhook/blob/master/src/main/java/io/gravitee/notifier/webhook/configuration/WebhookNotifierConfiguration.java\n              - Email: https://github.com/gravitee-io/gravitee-notifier-email/blob/master/src/main/java/io/gravitee/notifier/email/configuration/EmailNotifierConfiguration.java\n              - Slack: https://github.com/gravitee-io/gravitee-notifier-slack/blob/master/src/main/java/io/gravitee/notifier/slack/configuration/SlackNotifierConfiguration.java\n  examples:\n    trigger_string_condition_not_equals:\n      summary: string condition not equals\n      value:\n        id: 161989f6-5e42-469f-8c9f-33b3194fa1bb\n        severity: WARNING\n        source: all\n        name: Trigger STRING\n        description: A STRING trigger\n        conditions:\n          - property: string-condition-value\n            type: STRING\n            operator: NOT_EQUALS\n            pattern: string-value\n            ignoreCase: true\n        notifications: [ ]\n        dampening:\n          mode: STRICT_COUNT\n          trueEvaluations: 5\n        enabled: true\n        filters:\n          - property: filter-id\n            type: STRING\n            operator: EQUALS\n            pattern: \"0\"\n            ignoreCase: false\n    trigger_compare_condition_lte:\n      summary: compare condition lte\n      value:\n        id: fabe45ae-9be8-4834-a4ad-00b617d95731\n        severity: CRITICAL\n        source: all\n        name: Trigger COMPARE\n        description: A COMPARE trigger\n        conditions:\n          - property: compare-value1\n            type: COMPARE\n            operator: LTE\n            property2: compare-value2\n            multiplier: 2\n        notifications: [ ]\n        dampening:\n          mode: STRICT_COUNT\n          trueEvaluations: 5\n        enabled: true\n        filters:\n          - property: filter-id\n            type: STRING\n            operator: EQUALS\n            pattern: \"0\"\n            ignoreCase: false\n    triggers:\n      summary: triggers\n      value:\n        - id: c146b3fe-bace-4451-9755-7dc878a4fc42\n          severity: WARNING\n          source: all\n          name: Trigger STRING\n          description: A STRING trigger\n          conditions:\n            - property: string-condition-value\n              type: STRING\n              operator: ENDS_WITH\n              pattern: string-value\n              ignoreCase: true\n          notifications: [ ]\n          dampening:\n            mode: STRICT_COUNT\n            trueEvaluations: 5\n          enabled: true\n          filters:\n            - property: filter-id\n              type: STRING\n              operator: EQUALS\n              pattern: \"0\"\n              ignoreCase: false\n        - id: 2bece67f-bc04-48b4-8a6b-361e2202a787\n          severity: WARNING\n          source: all\n          name: Trigger RATE\n          description: A RATE trigger\n          conditions:\n            - type: RATE\n              operator: LT\n              threshold: 50\n              comparison:\n                property: threshold-range-value\n                type: THRESHOLD_RANGE\n                thresholdLow: 45\n                operatorLow: EXCLUSIVE\n                thresholdHigh: 55\n                operatorHigh: INCLUSIVE\n              duration: 10\n              timeUnit: SECONDS\n              sampleSize: 10\n              projections: [ ]\n          notifications: [ ]\n          dampening:\n            mode: STRICT_COUNT\n            trueEvaluations: 1\n          enabled: true\n          filters:\n            - property: filter-id\n              type: STRING\n              operator: EQUALS\n              pattern: \"0\"\n              ignoreCase: false\n        - id: edd1a377-0cd9-4397-9943-24bca46ba003\n          severity: INFO\n          source: all\n          name: Trigger RATE\n          description: A RATE trigger\n          conditions:\n            - type: RATE\n              operator: LTE\n              threshold: 50\n              comparison:\n                property: threshold-range-value\n                type: THRESHOLD_RANGE\n                thresholdLow: 45\n                operatorLow: INCLUSIVE\n                thresholdHigh: 55\n                operatorHigh: INCLUSIVE\n              duration: 10\n              timeUnit: SECONDS\n              sampleSize: 10\n              projections: [ ]\n          notifications: [ ]\n          dampening:\n            mode: STRICT_COUNT\n            trueEvaluations: 1\n          enabled: true\n          filters:\n            - property: filter-id\n              type: STRING\n              operator: EQUALS\n              pattern: \"0\"\n              ignoreCase: false\n",
			"canonicalURL": "/github.com/gravitee-io/gravitee-docs@a67f1b2473edc5205f12a22dfb3da6179697f50f/-/blob/ae/spec/2.0/alert-engine-spec.yml",
			"externalURLs": [
				{
					"url": "https://github.com/gravitee-io/gravitee-docs/blob/a67f1b2473edc5205f12a22dfb3da6179697f50f/ae/spec/2.0/alert-engine-spec.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: unmarshal errors:\n  yaml: line 31: cannot unmarshal !!seq into ogen.Media"
}