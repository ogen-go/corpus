{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ministryofjustice/opg-digideps"
		},
		"file": {
			"name": "govuk-notifications.yaml",
			"size": 0,
			"path": "client/govuk-notifications.yaml",
			"byteSize": 10018,
			"content": "---\nopenapi: 3.0.0\ninfo:\n    version: 2.0.0\n    title: govuk-notifications\n    description: \"Specifications for the v2 public endpoints used by Notify clients\"\n\ntags:\n    - name: govuk-notifications\n      description: Public API operations relating used by Notify clients\n\nsecurity:\n    - bearerAuth: []\n\npaths:\n    /v2/templates:\n        description: Get all templates\n        get:\n            summary: Get all templates\n            description: Returns the latest version of all templates.\n            tags:\n                - \"templates\"\n            responses:\n                200:\n                    description: Get all templates\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/ArrayOfTemplates'\n                400:\n                    description: Incorrect API key or service in trial mode\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                403:\n                    description: System clock innaccurate or invalid API key\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                429:\n                    description: Too many requests\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                500:\n                    description: Something unexpected happened and it is the API's fault\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n\n    /v2/notifications/email:\n        description: Send an email\n        post:\n            summary: Send an email\n            description: Sends an email with optional personalisations\n            tags:\n                - \"email\"\n            requestBody:\n                content:\n                    'application/json':\n                        schema:\n                            properties:\n                                email_address:\n                                    description: The email address of the recipient.\n                                    type: string\n                                    example: 'testAccount@example.org'\n                                template_id:\n                                    description: UID that refers to an existing template in Notify.\n                                    type: string\n                                    example:\n                                        $ref: '#/components/schemas/UUID'\n                                personalisation:\n                                    description: Metadata to personalise the email template.\n                                    type: object\n                                    example:\n                                        $ref: '#/components/schemas/Personalisation'\n                                reference:\n                                    description: identifies a single notification or a batch of notifications.\n                                    type: string\n                                    example: 'ref123'\n                                email_reply_to_id:\n                                    description: The email address to receive replies from your users.\n                                    type: string\n                                    example: 'reply-only@example.org'\n                            required:\n                                - email_address\n                                - template_id\n            responses:\n                201:\n                    description: Success response from client\n                    content:\n                        application/json:\n                            schema:\n                                type: object\n                                properties:\n                                    content:\n                                        type: object\n                                        properties:\n                                            body:\n                                                type: string\n                                                example: \"The email body content\"\n                                            from_email:\n                                                type: string\n                                                example: \"complete.the.deputy.report@notifications.service.gov.uk\"\n                                            subject:\n                                                type: string\n                                                example: \"Reset your password\"\n                                    id:\n                                        type: string\n                                        nullable: true\n                                        example:\n                                            $ref: '#/components/schemas/UUID'\n                                    reference:\n                                        type: string\n                                        format: nullable\n                                    scheduled_for:\n                                        type: string\n                                        format: nullable\n                                    template:\n                                        type: object\n                                        properties:\n                                            id:\n                                                type: string\n                                                example:\n                                                    $ref: '#/components/schemas/UUID'\n                                            uri:\n                                                type: string\n                                                example: \"https://api.notifications.service.gov.uk/services/3256fbd6-df6e-43ea-862c-7120440ba955/templates/827555cc-498a-43ef-957a-63fa387065e3\"\n                                            version:\n                                                type: integer\n                                                example: 11\n                                    uri:\n                                        type: string\n                                        example: \"https://api.notifications.service.gov.uk/v2/notifications/baaa3c44-ff89-4943-b80d-7ceaeecc878a\"\n                400:\n                    description: Incorrect API key or service in trial mode\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                403:\n                    description: System clock innaccurate or invalid API key\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                429:\n                    description: Too many requests\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n                500:\n                    description: Something unexpected happened and it is the API's fault\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/Error4XX-5XX'\n\ncomponents:\n    securitySchemes:\n        bearerAuth: # arbitrary name for the security scheme\n            type: http\n            scheme: bearer\n            bearerFormat: JWT    # optional, arbitrary value for documentation purposes\n    schemas:\n        UUID:\n            type: string\n            readOnly: true\n            description: A unique identifier\n            pattern: '^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$'\n            example: '5a8b1a26-8296-4373-ae61-f8d0b250e773'\n        Personalisation:\n            type: object\n            properties:\n                first_name:\n                    type: string\n                    pattern: '.*'\n                    example: 'Alex'\n                application_date:\n                    type: string\n                    example: \"2019-12-31\"\n            required: false\n        ArrayOfTemplates:\n            type: array\n            items:\n                $ref: '#components/schemas/Template'\n        Template:\n            properties:\n                body:\n                    type: string\n                created_at:\n                    type: string\n                created_by:\n                    type: string\n                id:\n                    type: string\n                letter_contact_block:\n                    type: string\n                    format: nullable\n                name:\n                    type: string\n                personalisation:\n                    type: object\n                    properties:\n                        deletionDate:\n                            type: object\n                            properties:\n                                required:\n                                    type: boolean\n                postage:\n                    type: string\n                    format: nullable\n                subject:\n                    type: string\n                type:\n                    type: string\n                updated_at:\n                    type: string\n                version:\n                    type: integer\n                    format: int32\n        Error4XX-5XX:\n            type: object\n            properties:\n                error:\n                    type: string\n                message:\n                    type: string\n"
		}
	},
	"Error": "unmarshal: json: line 1:386: json: cannot unmarshal bool into Go struct field Schema.components.schemas.required of type []string"
}