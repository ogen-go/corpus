{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/sepetrov/prepaidcard"
		},
		"file": {
			"name": "openapi.yml",
			"size": 0,
			"path": "doc/openapi.yml",
			"byteSize": 10141,
			"content": "openapi: 3.0.1\ninfo:\n  title: Prepaid Card API\n  description: |\n    This is a development exercise for building a prepaid card service written in Go.\n\n    The service has RESTful API and does not use any authentication mechanism. It is a fictional and the model is\n    intentionally simplified.\n\n    The service combines functionality to meet requirements of three actors:\n    - **bank**: this is the entity controlling the service and only authorised personell must have access to these endpoints;\n    - **user**: this is the cardholder;\n    - **merchant**: this is a merchant, which accepts card payments via the service.\n  version: unknown\nservers:\n  -\n    url: \"{protocol}://{host}:{port}/api\"\n    variables:\n      protocol:\n        enum:\n          - http\n          - https\n        default: http\n      host:\n        default: localhost\n      port:\n        default: \"8080\"\ncomponents:\n  responses:\n    404:\n      title: Resource Not Found\n      description: The requested resource cannot be found.\n      $ref: \"#/components/responses/404\"\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/error404\"\n  schemas:\n    authorizationRequest:\n      title: Authorization Request\n      type: object\n      properties:\n        uuid:\n          type: string\n          format: uuid\n        cardUUID:\n          type: string\n          format: uuid\n        merchantUUID:\n          type: string\n          format: uuid\n        blockedAmount:\n          type: string\n          format: uint64\n        capturedAmount:\n          type: string\n          format: uint64\n        refundedAmount:\n          type: string\n          format: uint64\n        history:\n          type: array\n          items:\n            $ref: \"#/components/schemas/authorizationRequestSnapshot\"\n      example:\n        uuid: DC41D7A5-2D28-4DB9-9122-72FE708D4934\n        cardUUID: 228A37D0-3DA2-4E9E-AA61-11EFD39E0382\n        merchantUUID: 1EA91C35-3D61-472D-8080-CE5544DF3C4A\n        blockedAmount: \"2099\"\n        capturedAmount: \"0\"\n        refundedAmount: \"0\"\n        history:\n          - uuid: 584D99EC-8160-42B1-87BC-62476CC2045D\n            blockedAmount: \"2099\"\n            capturedAmount: \"0\"\n            refundedAmount: \"0\"\n            createdAt: \"2018-01-20T16:28:43+00:00\"\n    authorizationRequestSnapshot:\n      title: Authorization Request Snapshot\n      type: object\n      properties:\n        uuid:\n          type: string\n          format: uuid\n        blockedAmount:\n          type: string\n          format: uint64\n        capturedAmount:\n          type: string\n          format: uint64\n        refundedAmount:\n          type: string\n          format: uint64\n        createdAt:\n          type: string\n          format: dateTime ISO8601\n      example:\n        uuid: 584D99EC-8160-42B1-87BC-62476CC2045D\n        blockedAmount: \"2099\"\n        capturedAmount: \"1000\"\n        refundedAmount: \"0\"\n        createdAt: \"2018-01-20T16:28:43+00:00\"\n    card:\n      title: Card\n      type: object\n      properties:\n        uuid:\n          type: string\n          format: uuid\n        availableBalance:\n          type: string\n          format: uint64\n        blockedBalance:\n          type: string\n          format: uint64\n      example:\n        uuid: 68022AD3-7A94-452E-AC9C-A64F14EE5CD1\n        availableBalance: \"0\"\n        blockedBalance: \"0\"\n    error:\n      title: Error\n      $ref: \"#/components/schemas/error\"\n      type: object\n      description: Problem Details Object. See [RFC7807](https://tools.ietf.org/html/rfc7807#section-3.1).\n      properties:\n        type:\n          type: string\n          required: false\n          default: about:blank\n        title:\n          type: string\n        status:\n          type: integer\n        detail:\n          type: string\n          required: false\n        instance:\n          type: string\n          required: false\n      example:\n        type: /doc/error/validation\n        title: Validation Error\n        status: 422\n        invalidParameters:\n          - name: amount\n            reason: must be unsigned integer\n    error404:\n      title: Error Not Found\n      $ref: \"#/components/schemas/error404\"\n      type: object\n      description: Problem Details Object. See [RFC7807](https://tools.ietf.org/html/rfc7807#section-4.2).\n      properties:\n        type:\n          type: string\n        title:\n          type: string\n        status:\n          type: integer\n        detail:\n          type: string\n          required: false\n        instance:\n          type: string\n          required: false\n      example:\n        type: about:blank\n        title: Not Found\n        status: 404\n        instance: /card/87656343-74BF-443D-B5F8-C683FD31CFE0\npaths:\n  /card:\n    post:\n      summary: Registers a new card\n      description: |\n        Registers a new card.\n\n        **Actor:** bank\n      responses:\n        201:\n          description: A card is successfully registered and the card details are returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/card\"\n  /card/{uuid}:\n    get:\n      summary: Returns card details\n      description: |\n        Returns the details of card with UUID `{uuid}`.\n\n        **Actors**: bank, user\n      parameters:\n        - name: uuid\n          in: path\n          description: The card UUID.\n          required: true\n          schema:\n            type: string\n      responses:\n        200:\n          description: The card with the requested UUID is found and it's details returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/card\"\n        404:\n          $ref: \"#/components/responses/404\"\n  /card/{uuid}/load:\n    post:\n      summary: Loads money onto card\n      description: |\n        Adds `amount` pence (GBp) to the balance of card with UUID `{uuid}` and returns the transaction UUID.\n\n        **Actors**: bank, user\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                amount:\n                  type: string\n                  format: uint64\n              example:\n                amount: \"1950\"\n      responses:\n        201:\n          description: Loads the card and returns the transaction reference.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  uuid:\n                    type: string\n                    format: uuid\n                example:\n                  uuid: 373A8AF3-2712-46F3-B7E0-A23FD74E4270\n        404:\n            $ref: \"#/components/responses/404\"\n        422:\n          description: The request cannot be processed due to an error.\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/error\"\n  /authorization-request:\n    post:\n      summary: Creates authorizaton request\n      description: |\n        Creates authorizaton request from merchant with UUID `merchantUUID` to block `amount` pence (BPp) from card with UUID `cardUuid`.\n\n        **Actor**: merchant\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                merchantUUID:\n                  type: string\n                  format: uuid\n                cardUUID:\n                  type: string\n                  format: uuid\n                amount:\n                  type: string\n                  format: uint64\n              example:\n                merchantUUID: 1EA91C35-3D61-472D-8080-CE5544DF3C4A\n                cardUUID: 228A37D0-3DA2-4E9E-AA61-11EFD39E0382\n                amount: \"2099\"\n      responses:\n        201:\n          description: The request is authorized and the authorization request details are returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/authorizationRequest\"\n        422:\n          description: The request cannot be processed due to an error.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/error\"\n  /authorization-request/{uuid}/reverse:\n    post:\n      summary: Reverses authorizaton request\n      description: |\n        Reverses authorizaton request with `uuid`.\n\n        **Actor**: merchant\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                amount:\n                  type: string\n                  format: uint64\n              example:\n                amount: \"1099\"\n      responses:\n        201:\n          description: The request is authorized and the authorization request details are returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/authorizationRequest\"\n        422:\n          description: The request cannot be processed due to an error.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/error\"\n  /authorization-request/{uuid}/capture:\n    post:\n      summary: Captures transaction\n      description: |\n        Captures transaction for authorizaton request with `uuid`.\n\n        **Actor**: merchant\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                amount:\n                  type: string\n                  format: uint64\n              example:\n                amount: \"1099\"\n      responses:\n        201:\n          description: The request is authorized and the authorization request details are returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/authorizationRequest\"\n        422:\n          description: The request cannot be processed due to an error.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/error\"",
			"canonicalURL": "/github.com/sepetrov/prepaidcard@30da17bb070fdf3982585f84cd3e7fd2e96555a3/-/blob/doc/openapi.yml",
			"externalURLs": [
				{
					"url": "https://github.com/sepetrov/prepaidcard/blob/30da17bb070fdf3982585f84cd3e7fd2e96555a3/doc/openapi.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: json: line 1:2307: json: cannot unmarshal Go value of type ogen.Spec: spec: json: cannot unmarshal Go value of type ogen.Properties: json: cannot unmarshal JSON boolean into Go value of type []string"
}