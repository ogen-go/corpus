{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/psu-libraries/scholarsphere"
		},
		"file": {
			"name": "openapi.yml",
			"size": 0,
			"path": "openapi.yml",
			"byteSize": 19021,
			"content": "# Swagger spec for Scholarsphere (see https://swagger.io/specification/)\n\nopenapi: \"3.0.2\"\ninfo:\n  title: \"ScholarSphere\"\n  description: \"API specification for ScholarSphere\"\n  termsOfService: \"https://scholarsphere.psu.edu/about\"\n  contact:\n    name: \"ScholarSphere Support\"\n    email: \"https://scholarsphere.psu.edu/help\"\n  license:\n    name: \"MIT\"\n    url: \"https://opensource.org/licenses/MIT\"\n  version: \"1.0\"\n\nservers:\n  - url: \"https://scholarsphere.psu.edu/api/{version}\"\n    description: \"API endpoint\"\n    variables:\n      version:\n        description: \"Version of the API\"\n        enum:\n          - v1\n        default: \"v1\"\n\n# Listing of the basic model concepts used in the application (see https://swagger.io/specification/#tagObject)\ntags:\n  - name: \"Work\"\n    description: \"The primary unit of content in ScholarSphere\"\n  - name: \"WorkVersion\"\n    description: \"An instance of work, containing descriptive metadata and binary content\"\n  - name: \"Collection\"\n    description: \"A resource with descriptive metadata containing an ordered grouping of works\"\n  - name: \"Actor\"\n    description: \u003e-\n      An identifiable person who has a relationship to a work or collection. They are linked to resources in two ways:\n      1) a depositor, linked directly to the resource; or 2) a creator, linked to a resource via an authorship.\n      Any given actor will have zero to many authorships.\n  - name: \"Authorship\"\n    description: \u003e-\n      A person who has authored a resource, either a collection or work. These are listed as \"creators\" in the\n      application. If the person is identifiable, either via a Penn State access id or an Orcid, they will have a\n      corresponding linked actor record. If they are not identifiable, there is no linked actor record.\n\n# Paths Object, containing multiple Path Item Objects. Each path item will contain multiple Operation Objects.\n# See:\n#   https://swagger.io/specification/#pathsObject\n#   https://swagger.io/specification/#pathItemObject\n#   https://swagger.io/specification/#operationObject\npaths:\n  /ingest:\n    post:\n      summary: \"Publishes a new work\"\n      description: \u003e-\n        Creates a new work with a single version, and if all the requirements are present, the version will be published\n        and publicly available.\n      security:\n        - APIKey: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ingest\"\n      responses:\n        200:\n          description: \"The work was successfully published\"\n        201:\n          description: \"The work was created, but not published\"\n        default:\n          $ref: \"#/components/responses/defaultPostError\"\n  /collections:\n    post:\n      summary: \"Creates a new collection\"\n  /dois:\n    get:\n      summary: \"List of all DOIs\"\n      description: \u003e-\n        Retrieve a dictionary of all DOIs known to Scholarsphere. The keys in\n        this dictionary will be the DOI, like `\"doi:10.26207/002c-bb83\"` and the\n        value will be an array of UUIDs of all resources that reference that DOI\n      security:\n        - APIKey: []\n      responses:\n        200:\n          description: A list of all DOIs\n          content: \n            application/json:\n              schema:\n                $ref: \"#/components/schemas/doi_list\"\n  /dois/{doi}:\n    get:\n      summary: \"Search for a DOI\"\n      description: \u003e-\n        Retrieve a list of resources that mention the given DOI.\n      security:\n        - APIKey: []\n      parameters:\n        - name: doi\n          in: path\n          description: \u003e-\n            A DOI name, including the slash (\"/\"). Just put the slash right in\n            the url, like `/dois/10.26207/002c-bb83`\n          required: true\n          schema:\n            type: \"string\"\n            example: \"10.26207/002c-bb83\"\n      responses:\n        200:\n          description: \"The DOI was found in one or more resources\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/doi_response\"\n        404:\n          description: \"The DOI was not found in any of ScholarSphere's resources\"\n  /files:\n    put:\n      summary: \"Updates a file's metadata\"\n      description: \u003e-\n        The client can update a file's metadata, such as the results of a virus scan or other async process.\n      security:\n        - APIKey: []\n      requestBody:\n        description: \"Posting updating information for a file after checking for viruses\"\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/fileMetadata'\n            examples:\n              novirus:\n                summary: \"No virus was found in the file\"\n                description: \u003e-\n                  Client posts a json object containing the results of the virus check and when it was performed.\n                value:\n                  id: '1'\n                  metadata:\n                    virus:\n                      status: 'false'\n                      scanned_at: '2021-01-25'\n              yesvirus:\n                summary: \"A virus was found in the file\"\n                description: \u003e-\n                  Client posts a json object containing a positive virus check and when it was performed.\n                value:\n                  id: '1'\n                  metadata:\n                    virus:\n                      status: 'true'\n                      scanned_at: '2021-01-25'\n      responses:\n        200:\n          description: \u003e-\n            The file's metadata was successfully updated.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/successResponse\"\n              examples:\n                summary: \"The client is not authorized to perform the requested action\"\n                value:\n                  message: \"File was successfully updated\"\n        default:\n          $ref: \"#/components/responses/defaultPostError\"\n  /featured_resources:\n    post:\n      summary: \"Adds a new featured resource to the home page\"\n      security:\n        - APIKey: []\n      requestBody:\n        description: \"Given an existing UUID for a resource, feature it on the homepage\"\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/featuredResource'\n            examples:\n              standard:\n                summary: \"Makes this work a featured work on the homepage\"\n                description: \u003e-\n                  Client posts a json object containing the uuid of the resource they want to have featured.\n                value:\n                  uuid: 'a0fc525b-0d49-48e0-a385-f86bd13bce4d'\n      responses:\n        200:\n          description: \u003e-\n            If the resources has been featured before, or is already featured, it will update with a new timestamp and\n            moved to the top of the list.\n        201:\n          description: \u003e-\n            The resource has not been featured before, and a new entry is made in the list of featured resources, moving\n            this one to the top.\n        default:\n          $ref: \"#/components/responses/defaultPostError\"\n  /uploads:\n    post:\n      summary: \"Requests a pre-signed URL to upload a file into ScholarSphere's S3 instance\"\n      security:\n        - APIKey: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/uploads\"\n\n# Array of Schema Objects used to define the concepts/models (see https://swagger.io/specification/#schemaObject)\ncomponents:\n  schemas:\n    doi_list:\n      type: \"object\"\n      additionalProperties:\n        type: \"array\"\n        description: \"a list of resource UUIDs\"\n        items:\n          type: \"string\"\n          description: \"a resource UUID\"\n          example: \"a0fc525b-0d49-48e0-a385-f86bd13bce4d\"\n      example:\n        \"doi:10.26207/002c-bb83\":\n          - \"a0fc525b-0d49-48e0-a385-f86bd13bce4d\"\n          - \"146a74e3-ae66-4802-b5f8-471bcac80d58\"\n        \"doi:10.18113/dmnf-6dzs\":\n          - \"87287b53-76be-424e-b202-bc6d521c841b\"\n    doi_response:\n      type: \"array\"\n      items:\n        type: \"object\"\n        properties:\n          url: \n            type: \"string\"\n            format: \"uri\"\n            example: \"/resources/a0fc525b-0d49-48e0-a385-f86bd13bce4d\"\n            description: \"path to a Scholarsphere resource\"\n    uuid:\n      type: \"object\"\n      properties:\n        uuid:\n          type: \"string\"\n          example: \"a0fc525b-0d49-48e0-a385-f86bd13bce4d\"\n    id:\n      type: \"object\"\n      properties:\n        id:\n          type: \"integer\"\n          example: '1'\n    metadata:\n      type: \"object\"\n      required:\n        - \"title\"\n        - \"work_type\"\n        - \"description\"\n        - \"published_date\"\n        - \"creators\"\n        - \"rights\"\n        - \"visibility\"\n      properties:\n        title:\n          type: \"string\"\n          example: \"Classifying Independent Hybridity\"\n        work_type:\n          type: \"string\"\n          enum:\n            - article\n            - audio\n            - book\n            - capstone_project\n            - collection\n            - conference_proceeding\n            - dataset\n            - dissertation\n            - image\n            - journal\n            - map_or_cartographic_material\n            - masters_culminating_experience\n            - masters_thesis\n            - other\n            - part_of_book\n            - poster\n            - presentation\n            - project\n            - report\n            - research_paper\n            - software_or_program_code\n            - video\n          example: \"dataset\"\n        description:\n          type: \"string\"\n          example: \u003e-\n            Anaesthesiology anthropology chaology craniology ecology endocrinology epileptology gnomonics ichthyology\n            linguistics mammalogy mazology nasology nematology neurobiology palaeontology psychopathology pterylology\n            textology toponymics. Aerostatics anemology avionics diplomatology euthenics geochemistry historiography\n            historiology hydrology hydrometeorology hygiastics iatromathematics lexigraphy martyrology metallogeny\n            neonatology numismatics oikology patrology pestology photobiology psychobiology psychology sphagnology\n            stemmatology threpsology ufology vinology. Arctophily astrophysics carcinology dactylology electrology\n            genealogy horography hydrobiology immunopathology lexigraphy molinology nidology paidonosology\n            palaeopedology venereology.\n        published_date:\n          type: \"string\"\n          format: \"date\"\n          example: \"2020-10-31\"\n          description: \u003e-\n            EDTF date formats are also supported. See https://www.loc.gov/standards/datetime/\n        publisher_statement:\n          type: \"string\"\n          example: \u003e-\n            This is a pre-print from Joe Publisher, Inc. We are not responsible for anything.\n          description: \u003e-\n            This is also referred to as a \"set statement\" and is often a required part for Open Access articles.\n        keyword:\n          type: \"array\"\n          items:\n            type: \"string\"\n          example: [\"optics\", \"quantum physics\", \"fake paper names\"]\n        subtitle:\n          type: \"string\"\n          example: \"Quantum Optics and/in the Clan\"\n        publisher:\n          type: \"array\"\n          items:\n            type: \"string\"\n        subject:\n          type: \"array\"\n          items:\n            type: \"string\"\n        language:\n          type: \"array\"\n          items:\n            type: \"string\"\n        identifier:\n          type: \"array\"\n          items:\n            type: \"string\"\n        based_near:\n          type: \"array\"\n          items:\n            type: \"string\"\n        related_url:\n          type: \"array\"\n          items:\n            type: \"string\"\n        source:\n          type: \"array\"\n          items:\n            type: \"string\"\n        creators:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/creator\"\n        contributor:\n          type: \"array\"\n          items:\n            type: \"string\"\n          example: [\"Dr. Phyllis Abracadabra\", \"Harry L. Snethers\"]\n        rights:\n          type: \"string\"\n          enum:\n            - https://creativecommons.org/licenses/by/4.0/\n            - https://creativecommons.org/licenses/by-sa/4.0/\n            - https://creativecommons.org/licenses/by-nc/4.0/\n            - https://creativecommons.org/licenses/by-nd/4.0/\n            - https://creativecommons.org/licenses/by-nc-nd/4.0/\n            - https://creativecommons.org/licenses/by-nc-sa/4.0/\n            - http://creativecommons.org/publicdomain/mark/1.0/\n            - http://creativecommons.org/publicdomain/zero/1.0/\n            - https://rightsstatements.org/page/InC/1.0/\n            - http://www.apache.org/licenses/LICENSE-2.0\n            - https://www.gnu.org/licenses/gpl.html\n            - https://opensource.org/licenses/MIT\n            - https://opensource.org/licenses/BSD-3-Clause\n          example: \"https://creativecommons.org/licenses/by/4.0/\"\n        visibility:\n          type: \"string\"\n          enum:\n            - open\n            - authenticated\n        embargoed_until:\n          type: \"string\"\n          format: \"date\"\n        version_name:\n          type: \"string\"\n          example: \"1.0.0\"\n          description: \"Must be in semantic version format. See https://semver.org/\"\n        doi:\n          type: \"string\"\n          example: \"doi:10.26207/002c-bb83\"\n          description: \u003e-\n            A DOI minted under Scholarsphere's current prefix, 10.26207. If you have another DOI that was previously\n            supplied by a publisher or someone else, that can be put into the identifier field.\n    creator:\n      type: \"object\"\n      required:\n        - \"display_name\"\n      properties:\n        display_name:\n          type: \"string\"\n          example: \"Dr. Pat Researcher\"\n        surname:\n          type: \"string\"\n          example: \"Researcher\"\n        given_name:\n          type: \"string\"\n          example: \"Pat\"\n        email:\n          type: \"string\"\n          example: \"pat@example.com\"\n        psu_id:\n          type: \"string\"\n          example: \"axb123\"\n        orcid: \n          type: \"string\"\n          example: \"0000-0000-1234-123X\"\n    ingest:\n      type: \"object\"\n      required:\n        - \"metadata\"\n        - \"depositor\"\n        - \"content\"\n      properties:\n        metadata:\n          $ref: \"#/components/schemas/metadata\"\n        content:\n          type: \"array\"\n          description: \u003e-\n            Files that have been uploaded to S3 in a previous step. The location information for each one, as well as\n            their original names and mime types, is included here.\n          items:\n            $ref: \"#/components/schemas/uploadedFile\"\n        depositor:\n          type: \"string\"\n          exmample: \"axc123\"\n          description: \u003e-\n            The Penn State access of the person who is depositing the work. This is typically the same person who is the\n            creator, but not always. There is no restriction regarding who the depositor is other than they must have an\n            active account in Penn State's identity management system.\n        permissions:\n          $ref: \"#/components/schemas/permissions\" \n    uploads:\n      type: \"object\"\n      required:\n        - \"extension\"\n        - \"content_md5\"\n      properties:\n        extension:\n          type: \"string\"\n          description: \u003e-\n            Three-letter file extension of the file your are requesting to upload into S3. This is used to created a\n            unique filename for the file in S3.\n        content_md5:\n          type: \"string\"\n          description: \u003e-\n            Binary encoded md5 checksum of the file you are requesting to upload into S3. This is required so that we\n            can verify the integrity of the file when it is uploaded into S3.\n    uploadedFile:\n      type: \"object\"\n    permissions:\n      type: \"object\"\n      description: \u003e-\n        Additional permissions for the work such as users or groups that can edit work. By default, only the depositor\n        may edit the work after it has been uploaded.\n    featuredResource:\n      allOf:\n        - $ref: \"#/components/schemas/uuid\"\n        - type: 'object'\n          required:\n            - 'uuid'\n    errorResponse:\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          format: int32\n        message:\n          type: string\n        errors:\n          type: \"array\"\n          items:\n            type: \"string\"\n    fileMetadata:\n      required:\n        - 'id'\n      properties:\n        id:\n          $ref: \"#/components/schemas/id\"\n        metadata:\n          allOf:\n            - $ref: \"#/components/schemas/virusCheck\"\n    successResponse:\n      required:\n        - message\n      properties:\n        message:\n          type: string\n    virusCheck:\n      properties:\n        status:\n          type: \"string\"\n          format: 'boolean'\n          enum:\n            - true\n            - false\n        scanned_at:\n          type: \"string\"\n          format: 'date'\n  securitySchemes:\n    APIKey:\n      type: \"apiKey\"\n      description: \u003e-\n        Key-based authorization mechanism to the API. A key is obtained fron the ScholarSphere team and is included in\n        the header of all requests.\n      name: \"X_API_KEY\"\n      in: \"header\"\n  responses:\n    defaultPostError:\n      description: \u003e-\n        If the resource can't be created, then there is some kind of error. The client can interpret the responses.\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/errorResponse\"\n          examples:\n            unauthorized:\n              $ref: \"#/components/examples/unauthorized\"\n            notFound:\n              $ref: \"#/components/examples/notFound\"\n            unprocessableEntity:\n              $ref: \"#/components/examples/unprocessableEntity\"\n            serverError:\n              $ref: \"#/components/examples/serverError\"\n  examples:\n    unauthorized:\n      summary: \"The client is not authorized to perform the requested action\"\n      value:\n        code: 401\n        message: \"401: Request not authorized. Please provide a valid API key for access.\"\n    notFound:\n      summary: \"The requested resource does not exist\"\n      value:\n        code: 404\n        message: \"Record not found\"\n    unprocessableEntity:\n      summary: \"The request has missing or incorrect information\"\n      value:\n        code: 411\n        message: \"Unable to complete the request\"\n        errors:\n          - \"Sample error from server\"\n    serverError:\n      summary: \"The server threw some kind of error or exception\"\n      value:\n        code: 500\n        message: \"We're sorry, but something went wrong\"\n        errors:\n          - \"NoMethodError\"\n          - \"undefined method `application' for nil:NilClass\"\n\n",
			"canonicalURL": "/github.com/psu-libraries/scholarsphere@f4f0beb88ca2d26d3604a60a5bdda88ea52fb69c/-/blob/openapi.yml",
			"externalURLs": [
				{
					"url": "https://github.com/psu-libraries/scholarsphere/blob/f4f0beb88ca2d26d3604a60a5bdda88ea52fb69c/openapi.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: unmarshal errors:\n  yaml: line 1: cannot unmarshal !!str `The cli...` into ogen.Example"
}