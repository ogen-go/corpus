{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/NHSDigital/electronic-prescription-service-api"
		},
		"file": {
			"name": "electronic-prescription-service-api.yaml",
			"size": 0,
			"path": "packages/specification/electronic-prescription-service-api.yaml",
			"byteSize": 73629,
			"content": "# This is an OpenAPI Specification (https://swagger.io/specification/)\n# for the Electronic Prescription Service (EPS) API\n# owned by NHS Digital (https://digital.nhs.uk/)\n\nopenapi: 3.0.0\nx-nhs-api-spec-guid: 5ead5713-9d2b-46eb-8626-def5fd2a2350\ninfo:\n  title: Electronic Prescription Service (FHIR) API\n  version: \"{VERSION}\"\n  contact:\n    name: Electronic Prescription Service FHIR API Support\n    url: \"https://digital.nhs.uk/developer/help-and-support\"\n    email: \"api.management@nhs.net\"\n  description: |\n    ## Overview\n    \u003cstyle\u003e.codeinline.example {word-wrap: anywhere;}\u003c/style\u003e\n    Use this API to access the [Electronic Prescription Service (EPS)](https://digital.nhs.uk/services/electronic-prescription-service). EPS is the national service used to send electronic prescription messages between prescribers and community dispensers.\n\n    ### Prescribers in primary and secondary care can: \n    * create a prescription\n    * encode data so the prescription is ready to sign\n    * cancel a prescription\n    \n    Creating and cancelling a prescription are both done by the prescriber. Encoding data so the prescription is ready to sign is done by the prescribing system.\n  \n    ### Dispensers can:\n    * download an individual prescription from EPS\n    * download a batch of prescriptions from EPS\n    * verify a prescription's signature\n    * return a prescription to EPS\n    * submit a dispense notification to EPS\n    * withdraw a dispense notification from EPS\n    * submit a dispense claim\n    \n    You cannot currently use this API to:\n    * view a prescription's detailed dispense history\n\n    ## Who can use this API\n      This API can only be used where there is a legal basis to do so. Make sure you have a [valid use case](https://digital.nhs.uk/services/electronic-prescription-service/enabling-eps-for-your-service) before you go too far with your development. \n\n    You must get approval before you can go live. For more information, see the 'Onboarding' section.\n\n    ## Related APIs, services and documentation\n       \n    ### Services\n    These services must be used to create a functioning system using EPS that meets assurance standards. \n    * [Care Identity Serice 2 (CIS2)](https://digital.nhs.uk/services/identity-and-access-management/national-care-identity-service) - use this to authenticate prescribers with their smartcard.\n    * [Directory of Services (DOS)](https://digital.nhs.uk/services/directory-of-services-dos) - prescribers must use the DOS to find dispensing sites for patients.\n    * [Organisation Data Service (ODS)](https://digital.nhs.uk/developer/api-catalogue/organisation-data-service-fhir) - use this to access ODS codes for prescribing organisations.\n    * [Personal Demographics Service (PDS)](https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir) - use PDS to synchronise a patient's demographic details including their name, date of birth and address.\n    * [Signing Service](https://digital.nhs.uk/developer/api-catalogue/signing-service) - use the signing service API to create signatures for prescriptions. The signing service is only used for EPS.\n    * [Role-Based Access Controls (RBAC)](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/national-rbac-for-developers) - RBAC rules are stored in the National RBAC Database (NRD) and are used to limit what prescribers can and cannot do.\n    * [GP2GP](https://digital.nhs.uk/services/gp2gp) - use the GP2GP service to transfer patient details, including nominated dispensers, between GPs.\n    * [Message Exchange for Social Care and Health (MESH)](https://digital.nhs.uk/developer/api-catalogue/message-exchange-for-social-care-and-health-api) - Use MESH to deliver and receive cancel responses.\n    * [Prescription Tracker](https://developer.nhs.uk/apis/eps-tracker) - use this if you want a read-only interface to get information about a patient's prescriptions.\n    \n    [EPS HL7 V3](https://digital.nhs.uk/developer/api-catalogue/electronic-prescription-service-hl7-v3) is also available if you want to use functions that are not yet available on the FHIR API.\n\n    ### Documentation\n    This documentation must be used in the API to meet assurance requirements when integrating with EPS.\n    * [Dictionary of Medicines and Devices (DM+D)](https://www.nhsbsa.nhs.uk/pharmacies-gp-practices-and-appliance-contractors/dictionary-medicines-and-devices-dmd) - the DM+D has the names, descriptions and unique identifiers for medicines and devices that can be prescribed.\n    * [Business Servies Authority (BSA)](https://www.nhsbsa.nhs.uk/) - the BSA website has guidance and codes for endorsements and prescription types for reimbursement.\n    \n    ### Guidance for developers and product owners\n    Documentation and guidance about EPS for technical and non-technical audiences\n    * [Simplifier implementation guide for digital medicines](https://simplifier.net/guide/ukcoreimplementationguideformedicines?version=current) - the implementation guide contains detailed information and example messages, error codes and processes. This is for technical audiences like developers.\n    * [Building healhtcare software - prescriptions](https://digital.nhs.uk/developer/guides-and-documentation/building-healthcare-software/prescriptions) - this explains how to build software that deals with presriptions. This is for non-technical audiences like product owners.\n\n    ## API status and roadmap\n    The immediate priority of EPS development is to support the rollout of the next-gen FHIR APIs for primary care and secondary care prescribing and dispensing.\n    \n    ### Prescribing\n    The API supports prescribers in primary and secondary care settings. This means prescriptions are sent from a GP or NHS hospital to a pharmacy. For these workflows, the API is in [in production, beta](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses), meaning:\n    * it is available in integration and production\n    * we might make breaking changes, but only if we cannot avoid it, and we will give advance notice\n    \n    ### Dispensing\n    This API supports a community pharmacy dispensing workflow.\n\n    In a community pharmacy workflow, prescriptions can be released (downloaded) from EPS, updated, dispensed, and then claimed by the pharmacy. For this workflow, the API is in [in development](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses), meaning:\n    - it is available for testing in the integration environment, but not for production use\n    - we might make breaking changes, but only if we cannot avoid it, and we will give advance notice\n\n    ### Roadmap\n    To see our roadmap, or to suggest, comment or vote on features for this API, see our [interactive product backlog](https://nhs-digital-api-management.featureupvote.com/?tag=eps-fhir-api).\n    \n    If you have any other queries, please [contact us](https://digital.nhs.uk/developer/help-and-support).\n\n    ## Service level\n    This API is a platinum service, meaning it is operational and supported 24x7x365.\n\n    For more details, see [service levels](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#service-levels).\n\n    ## Technology\n    This API is [RESTful](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#basic-rest).\n\n    It conforms to the [FHIR](https://digital.nhs.uk/developer/guides-and-documentation/our-api-technologies#fhir) global standard for health care data exchange, specifically to [FHIR R4 (v4.0.1)](https://hl7.org/fhir/r4/), except that it does not support the [capabilities](http://hl7.org/fhir/R4/http.html#capabilities) interaction.\n\n    It includes some country-specific FHIR extensions, which are built against [FHIR UK Core, specifically [UKcore.stu1 0.5.1](https://simplifier.net/packages/fhir.r4.ukcore.stu1/0.5.1).\n    \n    You do not need to know much about FHIR to use this API - FHIR APIs are just RESTful APIs that follow specific rules. In particular:\n    * resource names are capitalised and singular, for example `/Patient` not `/patients`\n    * array names are singular, for example `line` not `lines` for address lines\n    * data items that are country-specific and thus not included in the FHIR global base resources are usually wrapped in an `extension` object\n    \n    There are [libraries and software development kits available](https://digital.nhs.uk/developer/guides-and-documentation/api-technologies-at-nhs-digital#fhir-libraries-and-sdks) to help with FHIR API integration.\n\n    ## Network access\n    This API is available on the internet and, indirectly, on the [Health and Social Care Network (HSCN)](https://digital.nhs.uk/services/health-and-social-care-network).\n    To use this API with [NHS smartcards](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers), the end user needs an HSCN connection, although internet-facing alternatives to smartcards are available.\n    \n    For more details see [Network access for APIs](https://digital.nhs.uk/developer/guides-and-documentation/network-access-for-apis).\n\n    ## Security and authorisation\n    This API has 2 access modes:\n    * user-restricted access\n    * application-restricted access\n    \n    ### User-restricted access\n    The EPS APIs are mostly [user-restricted](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis),\n    meaning we authenticate the end user.\n\n    EPS only supports [CIS2 separate authentication and authorisation](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation),\n    do not use combined authentication and authorisation.\n \n    The only interaction that is not user-restricted is releasing nominated prescriptions.\n  \n    ### Application-restricted access\n    Use this access mode to release nominated prescriptions while dispensing. \n    \n    To use this access mode, use the following security pattern:\n    * [Application-restricted RESTful API - signed JWT authentication](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/application-restricted-restful-apis-signed-jwt-authentication)\n\n    ## Environment and testing\n    | Environment       | Base URL                                                            |\n    | -------------     | --------------------------------------------------------------------|\n    | Sandbox           | `https://sandbox.api.service.nhs.uk/electronic-prescriptions`       |\n    | Integration test  | `https://int.api.service.nhs.uk/electronic-prescriptions`           |\n    | Production        |  `https://api.service.nhs.uk/electronic-prescriptions`                                                 |\n\n    ### Sandbox testing\n    Our [sandbox environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#sandbox-testing):\n\n    * is for early developer testing\n    * only covers a limited set of scenarios\n    * is stateless, so it does not actually persist any updates\n    * is open access, so does not allow you to test authorisation\n\n    For details of sandbox testing, or to try out the sandbox using our \"Try this API\" feature, see the documentation for each endpoint.\n\n    ### Integration testing\n    Our [integration test environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing):\n\n    * is for formal integration testing\n    * is stateful, so persists updates\n    * includes authorisation, with [smartcard](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers) and non-smartcard options\n\n    For more details see [integration testing with our RESTful APIs](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing-with-our-restful-apis).\n\n    ## Onboarding\n    You need to get your software approved by us before it can go live with this API. We call this onboarding.\n    The onboarding process can sometimes be quite long, so itâ€™s worth planning well ahead.\n\n    To begin the onboarding process please download and complete the [EPS use case form](https://nhs-prod.global.ssl.fastly.net/binaries/content/assets/website-assets/developer/electronic-prescription-service-fhir-api/eps-access-form-v1.0-org-short-name-yyyymmdd-1.docx) and email it to us at [epsonboarding@nhs.net](mailto:epsonboarding@nhs.net).\n\n    ## Resources\n    Use the [Digital Medicines Implementation Guide](https://simplifier.net/guide/NHSDigital-Medicines) to assist with your integration.\n    This is the FHIR specification for Digital Medicines starting with the assets required for an electronic prescription sent to the EPS.\n    \n    For further guidance on prescribing, see [EPS prescribing developer guide](https://digital.nhs.uk/developer/guides-and-documentation/building-healthcare-software/prescriptions/eps-prescriber-developer-guide).\n\n    ## Errors\n    ### API wide errors\n    | HTTP Status   | Error Code             | Description                                                                      |\n    | --------------| ---------------------- | -------------------------------------------------------------------------------- |\n    | 400           | BAD_REQUEST            | Invalid request.                                                                 |\n    | 400           | MISSING_FIELD          | A required field is missing within the request, see `display` field in response. |\n    | 400           | INVALID_VALUE          | Invalid value in message.                                                        |\n    | 400           | INCORRECT_RESOURCETYPE | FHIR resource has an incorrect resourceType.                                     |\n    | 404           | NOT_FOUND              | Resource not found.                                                              |\n\n    ### Platform wide errors\n    | HTTP Status   | Error Code            | Description                                                                                                                           |\n    | ------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |\n    | 401           | ACCESS_DENIED         | User does not have permission for a particular request.                                                                               |\n    | 403           | FORBIDDEN             | Insufficient authorization.                                                                                                           |\n    | 404           | NOT_FOUND             | Route not found.                                                                                                                      |\n    | 500           | INTERNAL SERVER ERROR | The server has encountered a situation it does not know how to handle.                                                                |\n    | 504           | GATEWAY_TIMEOUT       | If your request has not been fully processed within 59 seconds, you will get this response. Retry the request with identical payload. |\n\n    For further details on common error codes, see [HTTP status codes](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#http-status-codes)\n\n\nx-spec-publication:\n  operation-order:\n  - operations:\n    - method: POST\n      path: /FHIR/R4/$prepare\n    - method: POST\n      path: /FHIR/R4/$process-message#prescription-order\n    - method: POST\n      path: /FHIR/R4/$process-message#prescription-order-update\n    - method: POST\n      path: /FHIR/R4/Task/$release\n    - method: POST\n      path: /FHIR/R4/$verify-signature\n    - method: POST\n      path: /FHIR/R4/$process-message#dispense-notification\n    - method: POST\n      path: /FHIR/R4/Claim\n    - method: POST\n      path: /FHIR/R4/Task#return\n    - method: POST\n      path: /FHIR/R4/Task#withdraw\n    - method: GET\n      path: /FHIR/R4/Task\n\nservers:\n  - url: 'https://sandbox.api.service.nhs.uk/electronic-prescriptions'\n    description: 'Sandbox'\n  - url: 'https://int.api.service.nhs.uk/electronic-prescriptions'\n    description: 'Integration test'\ntags:\n  - name: prescribing\n  - name: dispensing\n  - name: tracker\npaths:\n  /FHIR/R4/$prepare:\n    post:\n      operationId: prepare-prescription\n      summary: Encode prescription data so it's ready to sign - Prescribing\n      description: |\n        ## Overview\n        Use this endpoint to convert an unsigned FHIR prescription into the piece of data that needs to be digitally signed.\n        \n        This action is done by the prescribing system and API, not the prescriber.\n        \n      tags:\n        - prescribing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              $ref: '#/components/schemas/Encode-Request-Bundle'\n            examples:\n              example:\n                description: |\n                  A valid secondary care prepare request. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Messageprescription-order).\n                value:\n                  $ref: components/examples/secondary-care/community/acute/nominated-pharmacy/nurse/prescribing-and-professional-codes/1-Prepare-Request-200_OK.json\n      responses:\n        '200':\n          description: Successful conversion.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/parameters-response'\n              examples:\n                example:\n                  description: |\n                    A successful response to a prepare request.\n                  value:\n                    $ref: components/examples/secondary-care/community/acute/nominated-pharmacy/nurse/prescribing-and-professional-codes/1-Prepare-Response-200_OK.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/operation-outcome'\n              examples:\n                example:\n                  description: |\n                    An error response to a prepare request.\n                  value:\n                    $ref: components/examples/example-a-validation-error-missing-field/Response-FhirError.json\n  /FHIR/R4/$process-message#prescription-order:\n    post:\n      operationId: send-prescription-order-message\n      summary: Create a new prescription - Prescribing\n      description: |\n        ## Overview\n        Use this endpoint to create a new prescription in EPS.\n        \n        The prescription must include a digital signature, which can be generated using the [Signing Service](https://digital.nhs.uk/developer/api-catalogue/signing-service).\n\n        The `#prescription-order` in the URL has been added to distinguish this from the other operations which\n        can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.\n      tags:\n        - prescribing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              $ref: '#/components/schemas/Create-Request-Bundle'\n            examples:\n              prescription-order-success:\n                description: |\n                  A valid secondary care prescription-order message.\n                value:\n                  $ref: components/examples/secondary-care/community/acute/nominated-pharmacy/nurse/prescribing-and-professional-codes/1-Process-Request-Send-200_OK.json\n        description: ''\n      responses:\n        '200':\n          description: Successfully submitted.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/operation-outcome'\n              examples:\n                operation-outcome-success:\n                  description: |\n                    A successful response to a prescription-order, dispense-notification or dispense-claim request.\n                  value:\n                    $ref: 'components/examples/operation-outcome-success.json'\n        '4XX':\n          description: |\n            An error occurred as follows:\n\n            | HTTP status | Error code                 | Description                                                                                                                 |\n            |-------------|----------------------------|-----------------------------------------------------------------------------------------------------------------------------|\n            | 400         | MISSING_DIGITAL_SIGNATURE  | Digital signature not found.                                                                                                |\n            | 400         | DUPLICATE_PRESCRIPTION_ID  | Duplicate prescription ID exists.                                                                                           |\n            | 400         | FAILURE_TO_PROCESS_MESSAGE | Unable to process message for example where the prescription ID has an invalid checksum or an invalid NHS number is passed. |\n\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/operation-outcome'\n              examples:\n                OperationOutcome:\n                  description: |\n                    An error response.\n                  value:\n                    $ref: components/examples/example-a-validation-error-missing-field/Response-FhirError.json\n  /FHIR/R4/$process-message#prescription-order-update:\n    post:\n      operationId: send-prescription-order-update-message\n      summary: Cancel a prescription - Prescribing\n      description: |\n        ## Overview\n        Use this endpoint to cancel a prescription.\n\n        The effect of calling this endpoint depends on the type of the message, which is determined by the `MessageHeader` resource.\n        To cancel a prescription, send a [prescription-order-update message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/prescription-order-update).\n\n        The `#prescription-order-update` in the URL has been added to distinguish this from the other operations which\n        can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.\n      tags:\n        - prescribing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              $ref: '#/components/schemas/Cancel-Request-Bundle'\n            examples:\n              prescription-order-update-success:\n                description: |\n                  A valid secondary care prescription-order-update message. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Messageprescription-order-update).\n                value:\n                  $ref: components/examples/secondary-care/community/acute/nominated-pharmacy/clinical-practitioner/1-Process-Request-Cancel-200_OK.json\n        description: ''\n      responses:\n        '200':\n          description: |\n            Successfully submitted.\n            \n            Note that both successful and unsuccesful cancel responses will be successfully processed.\n            \n            | HTTP status | Response code          | Description                                                                                                                           | FHIR type        |\n            | ----------- | ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------| ---------------- |\n            | 200         | R-0001                 | Prescription or item was cancelled.                                                                                                       | Bundle           |\n            | 200         | R-0002                 | Prescription or item was not cancelled. With dispenser. Marked for cancellation.                                                          | Bundle           |\n            | 200         | R-0003                 | Prescription or item was not cancelled. With dispenser active. Marked for cancellation.                                                   | Bundle           |\n            | 200         | R-0004                 | Prescription or item was not cancelled. Prescription has been dispensed.                                                                 | Bundle           |\n            | 200         | R-0005                 | Prescription or item had expired.                                                                                                         | Bundle           |\n            | 200         | R-0006                 | Prescription or item had already been cancelled.                                                                                          | Bundle           |\n            | 200         | R-0007                 | Prescription or item cancellation requested by another prescriber.                                                                        | Bundle           |\n            | 200         | R-0010                 | Prescription or item was not cancelled. Prescription has been not dispensed. \n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/Cancel-Response-Bundle'\n              examples:\n                bundle-success:\n                  description: |\n                    A successful response to a prescription-order-update request.\n                  value:\n                    $ref: components/examples/prescription-order-update/bundle-success.json\n        '4XX':\n          description: |\n            An error occurred as follows:\n\n            | HTTP status | Error code  | Description                                                                     |\n            |-------------|-------------|---------------------------------------------------------------------------------|\n            | 400         | R-0008      | Prescription or item not found.                                                 |\n            | 400         | R-5000      | Unable to process message due to invalid information within the cancel request. |\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/operation-outcome'\n              examples:\n                OperationOutcome:\n                  description: |\n                    An error response.\n                  value:\n                    $ref: components/examples/example-a-validation-error-missing-field/Response-FhirError.json\n\n  /FHIR/R4/Task/$release:\n    post:\n      operationId: release\n      summary: Download prescriptions - Dispensing\n      description: |\n        ## Overview\n        Use this endpoint to download prescriptions from EPS that are available for dispensing.\n        You can download a single prescription using the prescription's ID,\n        or download up to 25 prescriptions (per request) nominated to a dispenser using the dispenser's ODS code.\n\n        Send a [Task-release message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/OperationDefinition-duplicate-2/release-duplicate-2) to this endpoint to download the prescription.\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: |\n                Details of which prescriptions are to be downloaded, expressed as a [Parameters FHIR resource](http://www.hl7.org/fhir/parameters.html).\n                For details of the parameters, see [Task-release message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/OperationDefinition-duplicate-2/release-duplicate-2).\n            examples:\n              owner:\n                description: |\n                  A valid release request. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/OperationDefinitionrelease).\n                value:\n                  $ref: components/examples/secondary-care/homecare/acute/nominated-pharmacy/clinical-practitioner/1-Task-Request-Release-200_OK.json\n      responses:\n        '200':\n          description: Successfully downloaded a prescription for dispensing.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n                description: |\n                  The requested prescriptions,\n                  expressed as a FHIR bundle of [prescription-order FHIR messages](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/prescription-order).\n              examples:\n                example:\n                  description: |\n                    A successful response to a release request.\n                  value:\n                    $ref: components/examples/sandbox/Release-Response-200_OK.json\n        '4XX':\n          description: |\n            An error occurred as follows:\n\n            | HTTP status | Error code                          | Description                                                                                                                |\n            | ----------- | ----------------------------------- | -------------------------------------------------------------------------------------------------------------------------- |\n            | 400         | PRESCRIPTION_WITH_ANOTHER_DISPENSER | Prescription is with another dispenser. See OperationOutcome.issue.diagnostics for more information about owning pharmacy. |\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                not-found:\n                  description: |\n                    An error response due to requested prescription not being found.\n                  value:\n                    $ref: components/examples/release/not-found-error.json \n                with-another-dispenser:\n                  description: |\n                    An error response due to the prescription being released by another dispenser.\n                  value:\n                    $ref: components/examples/release/with-another-dispenser-error.json \n\n  /FHIR/R4/$verify-signature:\n    post:\n      operationId: verify-signature\n      summary: Verify a prescription's signature - Dispensing\n      description: |\n        ## Overview\n        Use this endpoint to verify the signature on one or more prescriptions to ensure that the signaturs is valid,\n        and that it matches the prescription it is attached to.\n        This endpoint is expected to be used immediately after downloading prescriptions.\n        Send the response message from the 'download prescriptions' endpoint to this endpoint.\n\n        The endpoint will return a set of (up to 25) verify responses associated with the bundle of prescriptions sent to the endpoint for verification.\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: |\n                The prescription orders to be verified, including the signatures,\n                expressed as a FHIR bundle of [prescription-order FHIR messages](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/prescription-order).\n                Use the response from the 'download prescriptions' endpoint.\n            examples:\n              owner:\n                description: |\n                  A valid signature verification request.\n                value:\n                  $ref: components/examples/sandbox/Release-Response-200_OK.json\n      responses:\n        '200':\n          description: Successfully verified the prescription signature, signature may still be invalid.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                example:\n                  description: |\n                    A successful response to a verify signature request, showing a failure to verify the signature as correct.\n                  value:\n                    $ref: components/examples/sandbox/VerifySignature-Response-200_OK.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                example:\n                  description: |\n                    An error response to a verify signature request.\n                  value:\n                    $ref: components/examples/release/not-found-error.json\n\n  /FHIR/R4/Task#return:\n    post:\n      operationId: return\n      summary: Return a downloaded prescription - Dispensing\n      description: |\n        ## Overview\n        Use this endpoint to return a downloaded prescription to EPS, so that another dispensing system can download it.\n\n        The effect of calling this endpoint depends on the Task status.\n        To return a downloaded prescription to EPS, send a Task with a status of `rejected`.\n        For more information on how to create these messages, see [NHSDigital-Task](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).\n\n        Note that the `#return` in the URL has been added to distinguish this from the other operations which\n        can be performed using the `Task` endpoint. It is not required in requests to the API.\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: The request to return a downloaded prescription, expressed as a [Task FHIR resource](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).\n            examples:\n              return:\n                description: |\n                  A valid request to return a prescription. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Task).\n                value:\n                  $ref: components/examples/secondary-care/homecare/acute/nominated-pharmacy/clinical-practitioner/2-Task-Request-Return-200_OK.json\n      responses:\n        '200':\n          description: Action completed successfully.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/responses/200OperationOutcome'\n              examples:\n                OperationOutcome:\n                  description: |\n                    A successful response to a return request.\n                  value:\n                    $ref: components/examples/operation-outcome-success.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              examples:\n                example:\n                  description: |\n                    An error response to a return request.\n                  value:\n                    $ref: components/examples/release/not-found-error.json\n\n  /FHIR/R4/$process-message#dispense-notification:\n    post:\n      operationId: send-dispense-notification-message\n      summary: Mark a prescription as dispensed - Dispensing\n      description: |\n        ## Overview\n        ### Dispense notification\n        Use this endpoint to send a dispense notification to EPS.\n\n        The effect of calling this endpoint depends on the type of the message, which is determined by the `MessageHeader` resource.\n        To mark a prescription as partially or fully dispensed, send a [dispense-notification message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/dispense-notification).\n\n        Note that the `#dispense-notification` in the URL has been added to distinguish this from the other operations which\n        can be performed using the [`$process-message` endpoint](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/OperationDefinition/process-message). It is not required in requests to the API.\n        \n        ### Amend dispense notification\n        The same endpoint can be used to amend a previous dispense notification. The same message structure is used with the addition of a `replacementOf` extension in the MessageHeader,\n        referencing the identifier of the previous dispense notifcation to be amended. Only the most recent dispense notification can be amended. To amend other dispense notifications please use the Withdraw endpoint, to withdraw all dispense notifications issued after the amend target, and then amend if necessary.\n        \n        More information can be found on the fhir [documentation](https://simplifier.net/guide/NHSDigital/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-MessageHeader).\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: |\n                The dispense notification, amendment to a previous dispense notification, expressed as a [dispense-notification FHIR message](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/MessageDefinition-duplicate-2/dispense-notification).\n                If amending a previous dispense notification, include the `replacementOf` extension.\n            examples:\n              dispense-notification-success:\n                description: |\n                  A valid secondary care dispense-notification message. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Messagedispense-notification).\n                value:\n                  $ref: components/examples/secondary-care/homecare/acute/nominated-pharmacy/clinical-practitioner/1-Process-Request-Dispense-200_OK.json\n        description: ''\n      responses:\n        '200':\n          description: Successfully submitted.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                operation-outcome-success:\n                  description: |\n                    A successful response to a dispense-notification.\n                  value:\n                    $ref: components/examples/operation-outcome-success.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                OperationOutcome:\n                  description: |\n                    An error response.\n                  value:\n                    $ref: components/examples/example-a-validation-error-missing-field/Response-FhirError.json\n\n  /FHIR/R4/Task#withdraw:\n    post:\n      operationId: withdraw\n      summary: Withdraw a dispense notification - Dispensing\n      description: |\n        ## Overview\n        Use this endpoint to withdraw a dispense notification, for example in the case that a prescription was marked as dispensed erroneously.\n\n        The effect of calling this endpoint depends on the Task status.\n        To withdraw a dispense notification from EPS, send a Task with a status of `in-progress`.\n        For more information on how to create these messages, see [NHSDigital-Task](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).\n\n        Note that the `#withdraw` in the URL has been added to distinguish this from the other operations which\n        can be performed using the `Task` endpoint. It is not required in requests to the API.\n\n        This interaction is only available in the sandbox environment.\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: The request to withdraw a dispense notification, expressed as a [Task FHIR resource](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Task).\n            examples:\n              withdraw:\n                description: |\n                  A valid request to withdraw a dispense notification. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Task).\n                value:\n                  $ref: components/examples/secondary-care/homecare/acute/nominated-pharmacy/clinical-practitioner/3-Task-Request-Withdraw-200_OK.json\n      responses:\n        '200':\n          description: Action completed successfully.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/responses/200OperationOutcome'\n              examples:\n                OperationOutcome:\n                  description: |\n                    A successful response to a withdraw request.\n                  value:\n                    $ref: components/examples/operation-outcome-success.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              examples:\n                example:\n                  description: |\n                    An error response to a withdraw request.\n                  value:\n                    $ref: components/examples/release/not-found-error.json\n  /FHIR/R4/Claim:\n    post:\n      operationId: send-dispense-claim-message\n      summary: Claim for a dispensed prescription - Dispensing\n      description: |\n        ## Overview\n        ### Claim\n        Use this endpoint to submit a claim for reimbursement for a dispensed prescription.\n        ### Claim amendment\n        The same endpoint can be used to amend a previous claim. The same message structure is used with the addition of a `replacementOf` extension \n        referencing the identifier of the previous claim to be amended. \n        More information can be found on the fhir [documentation](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Claim).\n      tags:\n        - dispensing\n      parameters:\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n      requestBody:\n        required: true\n        content:\n          application/fhir+json:\n            schema:\n              type: object\n              description: |\n                The claim to be submitted or amended, expressed as a [Claim FHIR resource](https://simplifier.net/guide/NHSDigital-Medicines/Home/FHIRAssets/AllAssets/Profiles/NHSDigital-Claim).\n                If amending a claim, include the `replacementOf` extension.\n            examples:\n              dispense-claim-success:\n                description: |\n                  A valid secondary care Claim message. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Claim).\n                value:\n                  $ref: components/examples/secondary-care/homecare/acute/nominated-pharmacy/clinical-practitioner/4-Claim-Request-200_OK.json\n        description: ''\n      responses:\n        '200':\n          description: Successfully submitted.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                operation-outcome-success:\n                  description: |\n                    A successful response to a dispense-claim request.\n                  value:\n                    $ref: components/examples/operation-outcome-success.json\n        '4XX':\n          description: Invalid request.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                OperationOutcome:\n                  description: |\n                    An error response.\n                  value:\n                    $ref: components/examples/example-a-validation-error-missing-field/Response-FhirError.json\n  /FHIR/R4/Task:\n    get:\n      operationId: get-task\n      summary: Search for summary details about a prescription\n      description: |\n        ## Overview\n        Use this endpoint to search for summary details about one or more prescriptions.\n        \n        At least one of the following query parameters must be provided:\n        * identifier\n        * focus:identifier\n        * patient:identifier\n        \n        You can also search on the following parameters:\n        * business-status\n        * authored-on\n      tags:\n        - tracker\n      parameters:\n        - $ref: '#/components/parameters/RoleId'\n        - $ref: '#/components/parameters/BearerAuthorization'\n        - $ref: '#/components/parameters/RequestID'\n        - $ref: '#/components/parameters/CorrelationID'\n        - name: identifier\n          in: query\n          description: |\n            The short form identifier of the prescription you are searching for.\n          required: false\n          schema:\n            type: string\n            example: 'D7AC09-A99968-4BA59C'\n        - name: focus:identifier\n          in: query\n          description: |\n            The short form identifier of the prescription you are searching for.\n          required: false\n          schema:\n            type: string  \n        - name: patient:identifier\n          in: query\n          description: |\n            The NHS number of the patient whose prescriptions you are searching for.\n          required: false\n          schema:\n            type: string\n            example: '9912003489'\n        - name: business-status\n          in: query\n          description: |\n            The state that a prescription is in. You can find valid business states [here](https://simplifier.net/packages/uk.nhsdigital.medicines.r4/2.1.14-alpha/files/374928).\n          required: false\n          schema:\n            type: string\n            example: '0001'\n        - name: authored-on\n          in: query\n          description: Date the prescription was authored `\u003ceq|ge|le\u003eyyyy-mm-dd`. To specify a range, use `authored-on=geyyyy-mm-dd\u0026authored-on=leyyyy-mm-dd`.\n          examples:\n            simple:\n              value:\n                - eq2010-10-22\n              description: Exact match date\n            rangege:\n              value:\n                - ge2010-10-22\n              description: Greater than or equals match, which matches 2010-10-22 or 2010-10-23\n            rangele:\n              value:\n                - le2010-10-22\n              description: Less than or equals match, which matches 2010-10-22 or 2010-10-21 \n          required: false\n          schema:\n            type: string\n            example: 'date=ge2010-01-01\u0026date=le2011-12-31'\n      responses:\n        '200':\n          description: Successful query.\n          content:\n            application/fhir+json:\n              schema:\n                type: object\n              examples:\n                example:\n                  description: |\n                    A successful response to a prescription summary query. More examples of this message can be found [here](https://simplifier.net/guide/NHSDigital-Medicines/Home/Examples/AllExamples?version=current#Home/Examples/AllExamples/Task).\n                  value:\n                    $ref: 'components/examples/task/success.json'\n        '4XX':\n          description: Invalid query.\n          content:\n            application/fhir+json:\n              schema:\n                $ref: '#/components/schemas/operation-outcome'\n              examples:\n                example:\n                  description: |\n                    An error response to a prescription summary query.\n                  value:\n                    $ref: 'components/examples/task/query-error.json'\ncomponents:\n  parameters:\n    BearerAuthorization:\n      in: header\n      name: Authorization\n      description: |\n        An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n        Required in all environments except sandbox.\n      required: true\n      schema:\n        type: string\n        format: '^Bearer\\ [[:ascii:]]+$'\n        example: 'Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM'\n    RoleId:\n      in: header\n      name: NHSD-Session-URID\n      description: |\n        The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\n        If you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, see [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) for guidance.\n\n        This field is optional.\n      required: false\n      schema:\n        type: string\n        pattern: '^[0-9]+$'\n        example: '555254240100'\n    RequestID:\n      in: header\n      name: X-Request-ID\n      required: true\n      description: |\n        A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests and to trace the request if you contact our helpdesk.\n\n        Must be a universally unique identifier (UUID) (ideally version 4).\n        \n        Mirrored back in a response header.\n        \n        If you re-send a failed request, use the same value in this header.\n        \n        Required in all environments except sandbox.\n      schema:\n        type: string\n        pattern: '^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$'\n        example: 60E0B220-8136-4CA5-AE46-1D97EF59D068\n    CorrelationID:\n      in: header\n      name: X-Correlation-ID\n      required: false\n      description: |\n        An optional ID which you can use to track transactions across multiple systems. It can have any value, but we recommend avoiding `.` characters.\n\n        Mirrored back in a response header.\n      schema:\n        type: string\n        example: 11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA\n  responses:\n    200OperationOutcome:\n      description: A successful response.\n      content:\n        application/fhir+json:\n          schema:\n            type: object\n            description: |\n              Outcome of an operation that does not result in a resource or bundle being returned (such as error, async/batch submission).\n            properties:\n              resourceType:\n                type: string\n                description: FHIR Resource Type.\n                enum:\n                  - \"OperationOutcome\"\n                example: \"OperationOutcome\"\n              issue:\n                type: array\n                description: List of issues that have occurred.\n                minItems: 1\n                items:\n                  type: object\n                  required:\n                    - severity\n                    - code\n                  properties:\n                    severity:\n                      type: string\n                      enum: [ \"information\" ]\n                      description: Severity of the error.\n                      example: \"information\"\n                    code:\n                      type: string\n                      enum: [ \"informational\" ]\n                      description: FHIR error code.\n                      example: \"informational\"\n                    diagnostics:\n                      type: string\n                      example: \"Message Sent\"\n  schemas:\n    operation-outcome:\n      $ref: \"components/schemas/OperationOutcome.yaml\"\n    parameters-response:\n      $ref: \"components/schemas/ParametersResponse.yaml\"\n    Encode-Request-Bundle:\n      type: object\n      description: A FHIR Bundle.\n      properties:\n        resourceType:\n          type: string\n          description: FHIR resource type.\n          default: \"Bundle\"\n        id:\n          type: string\n          description: object ID for the Bundle.\n          enum:\n            - \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        identifier:\n          type: object\n          properties:\n            system:\n              type: string\n              description: codesystem URL for identifiers\n              enum:\n                - \"https://tools.ietf.org/html/rfc4122\"\n            value:\n              type: string\n              description: The X-Request ID for the message.\n              example: \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        type:\n          type: string\n          description: The type of payload being carried within the Bundle.\n          enum:\n            - \"message\"\n        entry:\n          type: array\n          items:\n            oneOf:\n            - $ref: \"#/components/schemas/Create-MedicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Create-PractitionerRole-Resource\"\n            - $ref: \"#/components/schemas/Create-Practitioner-Resource\"\n            - $ref: \"#/components/schemas/Create-MessageHeader-Resource\"\n            - $ref: \"#/components/schemas/Create-Patient-Resource\"\n            - $ref: \"#/components/schemas/Create-HealthcareService-Resource\"\n            - $ref: \"#/components/schemas/Create-Location-Resource\"\n            - $ref: \"#/components/schemas/Create-Organization-Resource\"\n            - $ref: \"#/components/schemas/Create-CommunicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Create-List-Resource\"\n    Create-Request-Bundle:\n      type: object\n      description: A FHIR Bundle.\n      properties:\n        resourceType:\n          type: string\n          description: FHIR resource type.\n          default: \"Bundle\"\n        id:\n          type: string\n          description: An object ID for the Bundle.\n          enum:\n            - \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        identifier:\n          type: object\n          properties:\n            system:\n              type: string\n              description: codesystem URL for identifiers\n              enum:\n                - \"https://tools.ietf.org/html/rfc4122\"\n            value:\n              type: string\n              description: The X-Request ID for the message.\n              example: \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        type:\n          type: string\n          description: The type of payload being carried within the Bundle.\n          enum:\n            - \"message\"\n        entry:\n          type: array\n          items:\n            oneOf:\n            - $ref: \"#/components/schemas/Create-MedicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Create-PractitionerRole-Resource\"\n            - $ref: \"#/components/schemas/Create-Practitioner-Resource\"\n            - $ref: \"#/components/schemas/Create-MessageHeader-Resource\"\n            - $ref: \"#/components/schemas/Create-Patient-Resource\"\n            - $ref: \"#/components/schemas/Create-HealthcareService-Resource\"\n            - $ref: \"#/components/schemas/Create-Location-Resource\"\n            - $ref: \"#/components/schemas/Create-Organization-Resource\"\n            - $ref: \"#/components/schemas/Create-CommunicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Create-List-Resource\"\n            - $ref: \"#/components/schemas/Create-Provenance-Resource\"\n    Cancel-Request-Bundle:\n      type: object\n      description: A FHIR Bundle.\n      properties:\n        resourceType:\n          type: string\n          description: FHIR resource type.\n          default: \"Bundle\"\n        id:\n          type: string\n          description: An object ID for the Bundle.\n          enum:\n            - \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        identifier:\n          type: object\n          properties:\n            system:\n              type: string\n              description: codesystem URL for identifiers\n              enum:\n                - \"https://tools.ietf.org/html/rfc4122\"\n            value:\n              type: string\n              description: The X-Request ID for the message.\n              example: \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        type:\n          type: string\n          description: The type of payload being carried within the Bundle.\n          enum:\n            - \"message\"\n        entry:\n          type: array\n          items:\n            oneOf:\n            - $ref: \"#/components/schemas/Cancel-Request-MessageHeader-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-MedicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-Patient-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-HealthcareService-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-Location-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-Organization-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-CommunicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-List-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-PractitionerRole-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Request-Practitioner-Resource\"\n    Cancel-Response-Bundle:\n      type: object\n      description: A FHIR Bundle.\n      properties:\n        resourceType:\n          type: string\n          description: FHIR resource type.\n          default: \"Bundle\"\n        id:\n          type: string\n          description: An object ID for the Bundle.\n          enum:\n            - \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        identifier:\n          type: object\n          properties:\n            system:\n              type: string\n              description: codesystem URL for identifiers\n              enum:\n                - \"https://tools.ietf.org/html/rfc4122\"\n            value:\n              type: string\n              description: The X-Request ID for the message.\n              example: \"164996aa-29eb-4f14-a5ac-4b556a7baf6e\"\n        type:\n          type: string\n          description: The type of payload being carried within the Bundle.\n          enum:\n            - \"message\"\n        entry:\n          type: array\n          items:\n            oneOf:\n            - $ref: \"#/components/schemas/Cancel-Response-MedicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-MessageHeader-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-Patient-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-PractitionerRole-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-Practitioner-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-HealthcareService-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-Location-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-Organization-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-CommunicationRequest-Resource\"\n            - $ref: \"#/components/schemas/Cancel-Response-List-Resource\"\n    Create-MessageHeader-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MessageHeader/CreateRequestMessageHeader.yaml\"\n    Create-MedicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49bb6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MedicationRequest/CreateMedicationRequest.yaml\"\n    Create-Patient-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Patient/Patient.yaml\"\n    Create-PractitionerRole-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/PractitionerRole/CreatePractitionerRole.yaml\"\n    Create-Practitioner-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Practitioner/CreatePractitioner.yaml\"\n    Create-HealthcareService-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/HealthcareService/HealthcareService.yaml\"\n    Create-Organization-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Organization/Organization.yaml\"\n    Create-List-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/List/CreateList.yaml\"\n    Create-CommunicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/CommunicationRequest/CreateCommunicationRequest.yaml\"\n    Create-Location-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Location/CreateLocation.yaml\"\n    Create-Provenance-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Provenance/CreateProvenance.yaml\"\n    Cancel-Request-MessageHeader-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MessageHeader/CancelRequestMessageHeader.yaml\"\n    Cancel-Request-MedicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MedicationRequest/CancelRequestMedicationRequest.yaml\"\n    Cancel-Request-Patient-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Patient/Patient.yaml\"\n    Cancel-Request-PractitionerRole-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/PractitionerRole/CancelPractitionerRole.yaml\"\n    Cancel-Request-Practitioner-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Practitioner/CancelRequestPractitioner.yaml\"\n    Cancel-Request-HealthcareService-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/HealthcareService/HealthcareService.yaml\"\n    Cancel-Request-Organization-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Organization/Organization.yaml\"\n    Cancel-Request-List-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/List/CreateList.yaml\"\n    Cancel-Request-CommunicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/CommunicationRequest/CreateCommunicationRequest.yaml\"\n    Cancel-Request-Location-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Location/CreateLocation.yaml\"\n    Cancel-Response-MessageHeader-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MessageHeader/CancelResponseMessageHeader.yaml\"\n    Cancel-Response-MedicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/MedicationRequest/CancelResponseMedicationRequest.yaml\"\n    Cancel-Response-Patient-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Patient/Patient.yaml\"\n    Cancel-Response-Practitioner-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Practitioner/CancelResponsePractitioner.yaml\"\n    Cancel-Response-PractitionerRole-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/PractitionerRole/CancelPractitionerRole.yaml\"\n    Cancel-Response-Organization-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Organization/Organization.yaml\"\n    Cancel-Response-List-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/List/CreateList.yaml\"\n    Cancel-Response-HealthcareService-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/HealthcareService/HealthcareService.yaml\"\n    Cancel-Response-CommunicationRequest-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/CommunicationRequest/CreateCommunicationRequest.yaml\"\n    Cancel-Response-Location-Resource:\n      type: object\n      properties: \n        fullUrl:\n          type: string\n          description: object URL for the resource\n          example: \"urn:uuid:a54219b8-f741-4c47-b662-e4f8dfa49ab6\"\n        resource:\n          type: object\n          properties:\n          $ref: \"components/schemas/Location/CreateLocation.yaml\"\n    \n",
			"canonicalURL": "/github.com/NHSDigital/electronic-prescription-service-api@eb30f7483b4839efa1321c06a2845e16937e34bf/-/blob/packages/specification/electronic-prescription-service-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/NHSDigital/electronic-prescription-service-api/blob/eb30f7483b4839efa1321c06a2845e16937e34bf/packages/specification/electronic-prescription-service-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "unmarshal: yaml: line 1190: cannot unmarshal !!null into *ogen.Properties"
}