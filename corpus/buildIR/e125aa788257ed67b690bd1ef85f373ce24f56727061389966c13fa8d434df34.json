{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ita-social-projects/Home"
		},
		"file": {
			"name": "oauth-openapi.yaml",
			"size": 0,
			"path": "home-open-api/src/main/resources/yaml/oauth-openapi.yaml",
			"byteSize": 5171,
			"content": "openapi: 3.0.3\ninfo:\n  title: OAuth 2.0 Server\n  description: \"This is a OAuth 2.0 Server Page sample of Home Project based on the OpenAPI 3.0 specification.\"\n  license:\n    name: MIT License\n    url: https://opensource.org/licenses/mit-license.php\n  version: 1.0.0\nservers:\n  - url: /api/0/oauth2\n\ntags:\n  - name: Authentication\n    description: API for managing OAuth 2.0.\n\npaths:\n  /server/login:\n    post:\n      tags:\n        - Authentication\n      summary: Authenticate User\n      description: The endpoint generate access and refresh token\n      operationId: authenticateUser\n      requestBody:\n        $ref: '#/components/requestBodies/AuthenticationBody'\n      responses:\n        201:\n          $ref: '#/components/responses/AuthenticationResponse'\n        404:\n          $ref: '#/components/responses/NotFound'\n        default:\n          $ref: '#/components/responses/InternalServerError'\n  /server/refresh:\n    post:\n      tags:\n        - Authentication\n      summary: Update Access Token\n      description: The endpoint update current access token.\n      operationId: updateAccessToken\n      requestBody:\n        $ref: '#/components/requestBodies/RefreshTokenBody'\n      responses:\n        201:\n          $ref: '#/components/responses/AccessTokenResponse'\n        406:\n          $ref: '#/components/responses/NotAcceptable'\n        default:\n          $ref: '#/components/responses/InternalServerError'\n\ncomponents:\n  responses:\n    NotFound:\n      description: The specified resource was not found.\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/NotFoundError'\n    InternalServerError:\n      description: Something went wrong.\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ApiError'\n    NotAcceptable:\n      description: Not Acceptable\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/NotAcceptableError'\n    AuthenticationResponse:\n      description: OK\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/CreateToken'\n    AccessTokenResponse:\n      description: OK\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/AccessToken'\n  requestBodies:\n    AuthenticationBody:\n      description: A payload for generating tokens\n      content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UserCredentials'\n    RefreshTokenBody:\n      description: A payload for updating refresh token\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/RefreshToken'\n  schemas:\n    UserCredentials:\n      required:\n        - email\n        - password\n      type: object\n      properties:\n        email:\n          pattern: '^([\\w!#$%\u0026''*+\\/=?{|}~^-]|\\.){1,60}@(?!-)(?:[a-zA-Z0-9-]{2,250}+\\.)+[a-zA-Z]{2,6}$'\n          type: string\n          example: \"test@gmail.com\"\n          minLength: 5\n          maxLength: 320\n        password:\n          pattern: '^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=\\S+$).{8,}$'\n          type: string\n          example: \"mySuperStrongPass\"\n          minLength: 8\n          maxLength: 128\n    CreateToken:\n      type: object\n      properties:\n        access_token:\n          type: string\n          example: \"eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiIzIiwic3ViIjoidGVzdEBnbWFpbC5jb20iLCJpYXQiOjE2NDI2OTI3NjEsImV4cCI6MTY0Mjc3OTE2MX0.9wlQed0cO5hEwT2934sVZPD4PSrwSvpMyFEoeFg0v3d6misQD7QdD-fy5Ovb1TkCP81UC9mvuSQvDYBVStkxOg\"\n        refresh_token:\n          type: string\n          example: \"eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiIzIiwic3ViIjoidGVzdEBnbWFpbC5jb20iLCJpYXQiOjE2NDI2OTI3NjIsImV4cCI6MTY0MzIzNDQwMH0.aUF-vGDOQRAZbTnA1KZiNY1unsbvipbplULb4azVPjO61YRZHIYwsWaYP5CiqiyHS_sO6LazinPdoLgVNrSucw\"\n    AccessToken:\n      type: object\n      properties:\n        access_token:\n          type: string\n          example: \"eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiIzIiwic3ViIjoidGVzdEBnbWFpbC5jb20iLCJpYXQiOjE2NDI2OTI3NjEsImV4cCI6MTY0Mjc3OTE2MX0.9wlQed0cO5hEwT2934sVZPD4PSrwSvpMyFEoeFg0v3d6misQD7QdD-fy5Ovb1TkCP81UC9mvuSQvDYBVStkxOg\"\n    RefreshToken:\n      required:\n        - refresh_token\n      type: object\n      properties:\n        refresh_token:\n          type: string\n          example: \"eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiIzIiwic3ViIjoidGVzdEBnbWFpbC5jb20iLCJpYXQiOjE2NDI2OTI3NjIsImV4cCI6MTY0MzIzNDQwMH0.aUF-vGDOQRAZbTnA1KZiNY1unsbvipbplULb4azVPjO61YRZHIYwsWaYP5CiqiyHS_sO6LazinPdoLgVNrSucw\"\n    NotFoundError:\n      type: object\n      properties:\n        response_code:\n          type: integer\n          example: 404\n        error_message:\n          type: string\n          example: \"Bad credentials\"\n    NotAcceptableError:\n      type: object\n      properties:\n        response_code:\n          type: integer\n          example: 406\n        error_message:\n          type: string\n          example: \"Token is invalid\"\n    ApiError:\n      type: object\n      properties:\n        response_code:\n          type: integer\n          example: 400\n        error_message:\n            type: string\n            example: \"Something went wrong. Please contact support\"\n",
			"canonicalURL": "/github.com/ita-social-projects/Home@396c28a95d75c5904d1b61de7b3cee45d0e537c9/-/blob/home-open-api/src/main/resources/yaml/oauth-openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/ita-social-projects/Home/blob/396c28a95d75c5904d1b61de7b3cee45d0e537c9/home-open-api/src/main/resources/yaml/oauth-openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: operations: path \"/server/login\": post: requestBody: contents: media: \"application/json\": generate schema: field email: string validator: pattern: regexp2: error parsing regexp: invalid nested repetition operator in `^([\\w!#$%\u0026'*+\\/=?{|}~^-]|\\.){1,60}@(?!-)(?:[a-zA-Z0-9-]{2,250}+\\.)+[a-zA-Z]{2,6}$`"
}