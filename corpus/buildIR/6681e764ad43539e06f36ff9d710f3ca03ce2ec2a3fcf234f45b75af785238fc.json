{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/TOMP-WG/TOMP-API"
		},
		"file": {
			"name": "TOMP-API.yaml",
			"size": 0,
			"path": "TOMP-API.yaml",
			"byteSize": 140306,
			"content": "openapi: 3.0.0\ninfo:\n  title: Transport Operator MaaS Provider API\n  description:\n    An API between MaaS providers and transport operators for booking trips and corresponding assets.\n    \u003cp\u003eThe documentation (examples, process flows and sequence diagrams) can be found at \u003ca href=\"https://github.com/TOMP-WG/TOMP-API/\"\u003egithub\u003c/a\u003e.\n  version: \"1.3.0\"\n  license:\n    name: Apache 2.0\n    url: \"http://www.apache.org/licenses/LICENSE-2.0.html\"\n\ntags:\n  - name: planning\n    description: gives information about transport asset availability and pricing [free_bike_status and system_pricing_plans in GBFS].\u003cp\u003e The endpoints in this part can give information about the availability of assets (or assetTypes) and can provide information to take the next step - the booking part.\n\n  - name: booking\n    description: a booking is the main object exchanged between MaaS and a TO [from MaaS-API]. \u003cbr\u003eSee also \u003ca href='https://github.com/maasglobal/maas-tsp-api/blob/master/specs/Booking.md'\u003eBooking.md\u003c/a\u003e\u003cp\u003eThis section contains functionality to book a leg (part of a trip) for one asset (or assetType), including the non-happy paths (cancel, expire etc).\n\n  - name: trip execution\n    description: supports the complete trip execution process. It contains f.i. getting an available asset, assigning the asset to the leg, starting, pausing, finishing a leg (all by using the POST /legs/{id}/events) or updating an execution (not the state!).\n\n  - name: operator information\n    description: gives information about systems, stations, operating hours [from GBFS]\n\n  - name: payment\n    description: reports financial overview for legs\n\n  - name: support\n    description: support for the user while the leg is ongoing\n\n  - name: general\n    description: general operations (e.g. notifications)\n\n  - name: booking [optional]\n    description: endpoints that can faciliate processes in the booking process, but are not necessary for a minimal viable product. You can think of getting information, updating (parts of) a booking (not the state!), adding and removing subscriptions (webhook), etc.\n\n  - name: TO\n    description: the Transport Operator's endpoints\n\n  - name: MP\n    description: the MaaS Service Provider's endpoints\n\n# security. Allowed methods basic (in header: Authorization: Basic ZGVtbzpwQDU1dzByZA==),\n#                           bearer (in header: Authorization: Bearer \u003ctoken\u003e)\n#                           Api-key (in header: X-API-Key: abcdef12345)\n#                           OAuth2 and OpenId are also available\n# The exact ways to authenticate will be described in a later version\nsecurity:\n  - BasicAuth: []\n  - BearerAuth: []\n  - ApiKeyAuth: []\n  - OAuth: []\n  - OpenId: []\n\nservers:\n  - url: https://tomp.dat.nl/bike/\n\npaths:\n  /plannings:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      description:\n        Returns plannings for the given travel plan. \u003cp\u003eStart time can be defined, but is optional. If startTime is not provided, but required by the third party API, a default value of \"Date.now()\" is used. [from MaaS-API /listing].\n        During the routing phase this service can be used to check availability without any state changes. \u003cp\u003eIn the final check, just before presenting the alternatives to the user, a call should be made using `booking-intent`, requesting the TO to provide booking IDs to reference to during communication with the MP.\n        \u003cp\u003esee (2.1) in the process flow - planning\n        Replaced by /plannings/inquires (booking-intent false) and /planning/offers (booking-intent true)\n      tags:\n        - planning\n        - TO\n      deprecated: true\n      parameters:\n        - name: booking-intent\n          in: query\n          description: Specifies whether IDs should be returned for the leg options that can be referred to when booking\n          schema:\n            type: boolean\n            default: false\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/planningRequest\"\n      responses:\n        \"201\":\n          description: Available transport methods matching the given query parameters. If no transport methods are available, an empty array is returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/planning\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /planning/inquiries:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      description:\n        Returns informative options for the given travel plan. \u003cp\u003eStart time can be defined, but is optional. If startTime is not provided, but required by the third party API, a default value of \"Date.now()\" is used. [from MaaS-API /listing].\n        During the routing phase this service can be used to check availability without any state changes. \u003cp\u003eIn the final check, just before presenting the alternatives to the user, a call should be made using `booking-intent`, requesting the TO to provide booking IDs to reference to during communication with the MP.\n        \u003cp\u003esee (2.1) in the process flow - planning.\n      tags:\n        - planning\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/planningRequest\"\n      responses:\n        \"201\":\n          description: Available transport methods matching the given query parameters. If no transport methods are available, an empty array is returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/planning\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /planning/offers:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      description:\n        Returns bookable offers for the given travel plan. \n        \u003cp\u003eStart time can be defined, but is optional. If startTime is not provided, but required by the third party API, a default value of \"Date.now()\" is used. [from MaaS-API /listing].\n        During the routing phase this service can be used to check availability without any state changes. \u003cp\u003eIn the final check, just before presenting the alternatives to the user, a call should be made using `booking-intent`, requesting the TO to provide booking IDs to reference to during communication with the MP.\n        \u003cp\u003esee (2.1) in the process flow - planning\n      tags:\n        - planning\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/planningRequest\"\n      responses:\n        \"201\":\n          description: Available transport methods matching the given query parameters. If no transport methods are available, an empty array is returned.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/planning\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /bookings:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      description:\n        Creates a new `Booking` for the TO in **Pending** state. The ID of the posted booking should be the ID provided in the previous step (planning).\n        \u003cp\u003eThe Booking may be modified in the response, e.g. location being adjusted for a more suitable pick-up location.\n        In addition, the service may contain a **meta** attribute for arbitrary TO metadata that the TO needs later, and **token** attribute depicting how long the current state is valid.\n        \u003cp\u003e see (3.2) in the process flow - booking.\n        \u003cp\u003eThe MP can implement this endpoint when it allows direct booking by TOs. The specific TO can book an asset from themselves to get it registrated and handled (financially) by the MP.\n      tags:\n        - booking\n        - TO\n        - MP\n      requestBody:\n        description: One of available booking options, returned by /plannings, with an ID.\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/bookingRequest\"\n\n      responses:\n        \"201\":\n          description: A new booking was succesfully created, status pending\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/booking\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n            Expires:\n              description: The result is valid until this timestamp. The pending booking is expired after this timestamp. \n              schema:\n                description: A HTTP date string, see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires\n                type: string\n                format: http-date\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"409\":\n          $ref: \"#/components/responses/409Conflict\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n    get:\n      description: Optional - Returns bookings that has been created earlier, selected on state.\n      tags:\n        - booking [optional]\n        - TO\n      parameters:\n        - name: state\n          in: query\n          required: true\n          schema:\n            $ref: \"#/components/schemas/bookingState\"\n\n      responses:\n        \"200\":\n          description: The bookings matching the query\n          content:\n            application/json:\n              schema:\n                type: array\n                description: The bookings that matched the query (zero or more)\n                items:\n                  $ref: \"#/components/schemas/booking\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /bookings/{id}/events:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    post:\n      description: This endpoint **must** be used to alter the state of a booking:\u003cbr\u003e- The operation 'CANCEL' Cancels the booking (see \u003c4\u003e in the process flow - booking), \u003cbr\u003e- the operation 'EXPIRE' informs that the booking-option is expired (see \u003c5\u003e in the process flow - booking) and \u003cbr\u003e- the 'COMMIT' actually makes this booking option a real confirmed booking. (see also (3.2) in process flow - booking). This event should also be used to commit in the 'postponed-commit' scenario.\u003cbr\u003e - 'DENY' tells the MP that the leg is cancelled in the post-commit scenario. \u003cp\u003e `CANCEL` - Cancels a confirmed booking. Cancelling twice should still return 204. \u003cbr\u003e `EXPIRE` - Typically for sending back a signal from TO to MP to tell the pending state is expired. Expiring twice should return 204. Expiring a booking in a non-pending state will result in 403. \u003cBR\u003e `COMMIT` - Turns the booking in a confirmed state, after all legs are in state pending. Committing twice will result in 204. If the booking is in state CANCELLED or EXPIRED, a commit will result a 403. \u003cBR\u003e `DENY` - Used for the 'postponed-commit' scenario. Whenever a TO cannot give guarantees directly to fulfil a booking, it can return a 'COMMIT', but the state of the booking object should be 'POSTPONED-COMMIT'. In the conditions returned in the planning phase is stated until when this phase can be. After this time it will become expired. Otherwise, it can be committed when the leg is confirmed or denied (using this event).\n      tags:\n        - booking\n        - MP\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/bookingOperation\"\n      responses:\n        \"200\":\n          description: The modified booking\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/booking\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n\n  /bookings/{id}:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Booking identifier\n        required: true\n        schema:\n          type: string\n    get:\n      description: Returns the booking. See (3.5.2) in the process flow - booking. In the 'meta'-field the digital tickes can be returned (see (3.3) in the process flow - booking)\n      tags:\n        - booking\n        - TO\n      responses:\n        \"200\":\n          description: The booking was found\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/booking\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n    put:\n      description: Optional - This endpoint should be used to adjust the parameters of the booking. Changes not acceptable to the TO should return 400. If a booking is started and can no longer be adjusted the TO should return 403. The state of the booking should **never** be adjusted using this method. Use /bookings/{id}/events for that. See also (7.2) in the flow diagram - booking.\n      tags:\n        - booking [optional]\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/booking\"\n        description: changed booking\n        required: true\n\n      responses:\n        \"200\":\n          description: The booking was modified\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/booking\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"409\":\n          $ref: \"#/components/responses/409Conflict\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n\n  /bookings/{id}/subscription:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Booking identifier\n        required: true\n        schema:\n          type: string\n    post:\n      description: Optional - subscribe to a specific booking (=leg \u0026 (type of) asset). This is an optional endpoint. This endpoint facilitates notifications in all the phases. (see (7.1) in the flow chart - execution)\n      tags:\n        - booking [optional]\n        - TO\n        - MP\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n      callbacks: # webhooks\n        # as described in https://swagger.io/docs/specification/callbacks/\n        booking-operations:\n          \"{$request.body#/webhook}\":\n            post:\n              description: see POST /legs/{id}/events\n              requestBody:\n                content:\n                  application/json:\n                    schema:\n                      $ref: \"#/components/schemas/legEvent\"\n              responses:\n                \"200\":\n                  description: operation ok\n    delete:\n      description: Optional - subscribe to a specific booking (=leg \u0026 (type of) asset). This is an optional endpoint\n      tags:\n        - booking [optional]\n        - TO\n        - MP\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/error\"\n\n  /bookings/{id}/notifications:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Booking identifier\n        required: true\n        schema:\n          type: string\n    get:\n      description: retrieves all notifications concerning events related to this booking.\n      tags:\n        - general\n        - TO\n      responses:\n        \"200\":\n          description: The bookings matching the query\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                type: array\n                description: Notifications related to this booking. Later versions of this API will define the types and use more extensively. For now, this is a catch-all for any messages the TO or MP need to send to each other that does not have its own API call.\n                items:\n                  $ref: \"#/components/schemas/notification\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n    post:\n      description: notification between MaaS provider and Transport operator in case of user no-show or if specific asset is not available or some other event occurs not covered by other API calls.\n      tags:\n        - general\n        - TO\n        - MP\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/notification\"\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"410\":\n          $ref: \"#/components/responses/410Gone\"\n\n  /legs/{id}/available-assets:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    get:\n      description: Returns a list of available assets for the given leg. These assets can be used to POST to /legs/{id}/asset if no specific asset is assigned by the TO. If picking an asset is not allowed for this booking, or one already has been, 403 should be returned. If the booking is unknown, 404 should be returned. See (4.7) in the process flow. - trip execution\n      tags:\n        - trip execution\n        - TO\n      parameters:\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n      responses:\n        \"200\":\n          description: Available assets for the leg. If no suitable assets are found an empty array is to be returned.\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/asset\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /legs/{id}:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    get:\n      description: Retrieves the latest summary of the leg, being the execution of a portion of a journey travelled using one asset (vehicle). Every leg belongs to one booking, every booking has at least one leg. Where the booking describes the agreement between user/MP and TO, the leg describes the journey as it occured. See (4.3) in the flow chart - trip execution\n      tags:\n        - trip execution\n        - TO\n        - MP\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/leg\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n    put:\n      description: Updates the leg with new information. Only used for updates about execution to the MP. To request changes as the MP, the booking should be updated and the TO can accept the change and update the leg in turn.\n      tags:\n        - trip execution\n        - MP\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/leg\"\n        description: changed leg (e.g. with different duration or destination)\n        required: true\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /legs/{id}/ancillaries/{category}/{number}:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n      - name: category\n        in: path\n        description: ancillary category\n        required: true\n        schema:\n          type: string\n      - name: number\n        in: path\n        description: ancillary number\n        required: true\n        schema:\n          type: string\n    post:\n      description: a new ancillary is added to the leg.\n      tags:\n        - trip execution\n        - TO\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/leg\"\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n    delete:\n      description: an ancillary (or amount) is removed to the leg.\n      tags:\n        - trip execution\n        - TO\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/leg\"\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /legs/{id}/events:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    post:\n      description: This endpoint must be used to alter the state of a leg.\u003cbr\u003e\n        Operations:\u003cbr\u003e `PREPARE` the TO can send a message telling the MP that he is preparing the booked leg [To be implemented by the MP] (see (7.2) in the process flow - trip execution),\u003cbr\u003e\n        `ASSIGN_ASSET` can assign an asset to a leg. Can be to assign an asset in case there is still an asset type assigned [Optionally implementable by the MP]. See (4.7) in the process flow - trip execution\u003cbr\u003e\n        `SET_IN_USE` will activate the leg or resume the leg [TO and MP] (see (4.6) in process flow),\u003cbr\u003e\n        `TIME_EXTEND` will be used to request an extension in time; the end user wants to use the asset longer, the `time` field contains the new end time,\u003cbr\u003e\n        `TIME_POSTPONE` will be used to request a delay in the departure time, the end user wants to depart later, the `time` field contains the new departure time,\u003cbr\u003e\n        `PAUSE` will pause the leg [TO and MP] (see (4.6) in process flow),\u003cbr\u003e\n        `START_FINISHING` will start the end-of-leg [Optionally implementable by TO and MP],\u003cbr\u003e\n        `FINISH` will end this leg (see (4.6) in process flow) [TO and MP]\n      tags:\n        - trip execution\n        - MP\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/legEvent\"\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/leg\"\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n        \"503\":\n          description: In case of temporary malfunctioning, this response can be send (e.g. bluetooth lock jammed). See also https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n          headers:\n            Retry-After:\n              description: seconds after response\n              example: 120\n              schema:\n                type: integer\n\n  /legs/{id}/progress:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    get:\n      description: Monitors the current location of the asset and duration \u0026 distance of the leg (see (4.7) in process flow)\n      tags:\n        - trip execution\n        - TO\n      parameters:\n        - name: location-only\n          in: query\n          description: Specifies if only the location should be returned\n          schema:\n            type: boolean\n            default: false\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/legProgress\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n    post:\n      description: Monitors the current location of the asset and duration \u0026 distance of the leg\n      tags:\n        - trip execution\n        - MP\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/legProgress\"\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204NoContent\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /operator/ping:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n    get:\n      tags:\n        - operator information\n        - TO\n        - MP\n      summary: Describes the status of the Transport Operator - whether the APIs are running or not\n      description: This is a healthcheck endpoint to see if the TO is up and running perfectly. \n      responses:\n        \"200\":\n          description: successful operation\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"500\":\n          description: not every endpoint functions properly\n\n  /legs/{id}/confirmation:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - name: id\n        in: path\n        description: Leg identifier\n        required: true\n        schema:\n          type: string\n    post:\n      description: The TO can request confirmation for certain actions from the MP.\n      tags:\n        - trip execution\n        - MP\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/confirmationRequest\"\n      responses:\n        \"200\":\n          description: operation successful\n          content:\n            application/json:\n              schema:\n                type: boolean\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /operator/meta:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n        - MP\n      summary: describes the running implementations\n      description: all versions that are implemented on this url, are described in the result of this endpoint. In contains all versions and per version the endpoints, their status\n        and the supported scenarios.\n      responses:\n        '200':\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/endpointImplementation\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n\n  /operator/stations:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: describes all available stations\n      description: All stations contained in this list are considered public (ie, can be shown on a map for public use). If there are private stations (such as Capital Bikeshare's White House station) these should not be exposed here and their status should not be included [from GBFS]. This endpoint can be filtered using the regionId OR with the combination lon, lat and range.\n      parameters:\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: lon\n          in: query\n          description: the longitude of the search location (WGS84)\n          required: false\n          schema:\n            type: number\n            format: float\n            minimum: 0\n        - name: lat\n          in: query\n          description: the latitude of the search location (WGS84)\n          required: false\n          schema:\n            type: number\n            format: float\n            minimum: 0\n        - name: radius\n          in: query\n          description: the range in meters from the search location to look for stations\n          required: false\n          schema:\n            type: number\n            format: float\n            minimum: 0\n      responses:\n        \"200\":\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/stationInformation\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /operator/available-assets:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      description: Returns a list of available assets.\n      tags:\n        - operator information\n        - TO\n      parameters:\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: stationId\n          in: query\n          description: optional id of the station to use in the filter (/operator/stations)\n          required: false\n          schema: \n            type: string\n      responses:\n        \"200\":\n          description: Available assets or asset-types. In case assets are replied, the realtime location is also available.\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/assetType\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /operator/alerts:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: informs customers about changes to the system outside of normal operations\n      description: This feed is intended to inform customers about changes to the system that do not fall within the normal system operations. For example, system closures due to weather would be listed here, but a system that only operated for part of the year would have that schedule listed in the system-calendar.json feed. This file is an array of alert objects defined as below. Obsolete alerts should be removed so the client application can safely present to the end user everything present in the feed. The consumer could use the start/end information to determine if this is a past, ongoing or future alert and adjust the presentation accordingly. [from GBFS]\n      parameters:\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: stationId\n          in: query\n          description: optional id of the station to use in the filter (/operator/stations)\n          required: false\n          schema: \n            type: string    \n      responses:\n        \"200\":\n          description: returns currently active system alerts\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/systemAlert\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /operator/operating-calendar:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: describes the operating calendar for a system. An array of year objects defined as follows (if start/end year are omitted, then assume the start and end months do not change from year to year). [from GFBS]\n      parameters:\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: stationId\n          in: query\n          description: optional id of the station to use in the filter (/operator/stations)\n          required: false\n          schema: \n            type: string\n      responses:\n        \"200\":\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/systemCalendar\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /operator/operating-hours:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: describes the system hours of operation\n      description: Describes the hours of operation of all available systems of the transport operator [from GBFS]\n      parameters:\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: stationId\n          in: query\n          description: optional id of the station to use in the filter (/operator/stations)\n          required: false\n          schema: \n            type: string\n      responses:\n        \"200\":\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/systemHours\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /operator/information:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: describes the system\n      description: Describes the system including System operator, System location, year implemented, URLs, contact info, time zone. [from GBFS]\n      responses:\n        \"200\":\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/systemInformation\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /operator/pricing-plans:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: gives pricing information\n      description: Describes pricing of systems or assets [from GBFS]\n      parameters:\n        - name: regionId\n          in: query\n          description: optional id of the region to use in the filter (/operator/regions)\n          required: false\n          schema: \n            type: string\n        - name: stationId\n          in: query\n          description: optional id of the station to use in the filter (/operator/stations)\n          required: false\n          schema: \n            type: string\n      responses:\n        \"200\":\n          description: returns standard pricing plans for an operator\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/systemPricingPlan\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /operator/regions:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - operator information\n        - TO\n      summary: describes regions for a system that is broken up by geographic or political region. It is defined as a separate feed to allow for additional region metadata (such as shape definitions). [from GBFS]\n      parameters:\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n      responses:\n        \"200\":\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/systemRegion\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n\n  /payment/journal-entry:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      tags:\n        - payment\n        - MP\n        - TO\n      description: Returns all the journal entries that should be paid per leg\n      parameters:\n        - name: from\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: string\n            format: date-time\n        - name: to\n          in: query\n          description: end of the selection\n          required: false\n          schema:\n            type: string\n            format: date-time\n        - name: state\n          in: query\n          required: false\n          schema:\n            $ref: \"#/components/schemas/journalState\"\n        - name: id\n          in: query\n          required: false\n          schema:\n            type: string\n        - name: category\n          in: query\n          description: type of booking line (e.g. fare, addition costs, fines, ...)\n          required: false\n          schema:\n            type: string\n            enum:\n              [\n                ALL,\n                DAMAGE,\n                LOSS,\n                STOLEN,\n                EXTRA_USAGE,\n                REFUND,\n                FINE,\n                OTHER_ASSET_USED,\n                CREDIT,\n                VOUCHER,\n                DEPOSIT,\n                OTHER,\n              ]\n        - name: offset\n          in: query\n          description: start of the selection\n          required: false\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n        - name: limit\n          in: query\n          description: count of the selection\n          required: false\n          schema:\n            type: integer\n            minimum: 0\n      responses:\n        \"200\":\n          description: journal entries\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/journalEntry\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /payment/{id}/claim-extra-costs:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      tags:\n        - payment\n        - MP\n      description: extra costs that the TO has to charge to the MP or vice versa.\n      parameters:\n        - name: id\n          in: path\n          description: Booking identifier\n          required: true\n          schema:\n            type: string\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/extraCosts\"\n\n      responses:\n        \"200\":\n          description: journal entry received, will be processed (state = INVOICED)\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/journalEntry\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n\n  /support/:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    post:\n      description: creates a request for support from end user via MP\n      tags:\n        - support\n        - TO\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/supportRequest\"\n      responses:\n        \"200\":\n          description: support request acknowledged\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/supportStatus\"\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\n  /support/{id}/status:\n    parameters:\n      - $ref: \"#/components/parameters/acceptLanguage\"\n      - $ref: \"#/components/parameters/api\"\n      - $ref: \"#/components/parameters/apiVersion\"\n      - $ref: \"#/components/parameters/maasId\"\n      - $ref: \"#/components/parameters/addressedTo\"\n    get:\n      description: Gets the status report of the support request. Last status (highest order number) is the current status\n      tags:\n        - support\n        - TO\n      parameters:\n        - name: id\n          in: path\n          description: Booking identifier\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: support status delivered\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/supportStatus\"\n          headers:\n            Content-Language:\n              description: The language/localization of user-facing content\n              example: nl\n              schema:\n                type: string\n                format: One IETF BCP 47 (RFC 5646) language tag\n              required: true\n        \"400\":\n          $ref: \"#/components/responses/400BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/401Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/403Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/404NotFound\"\n\ncomponents:\n  schemas:\n    address:\n      type: object\n      description: street address, including number OR PO box number, eventually extended with internal reference like room number, could match Content-Language\n      required:\n        - streetAddress\n        - areaReference\n      properties:\n        streetAddress:\n          type: string\n          example: example street 18, 2nd floor, 18-B33\n        street:\n          type: string\n          description: street, consistent with streetAddress\n        houseNumber:\n          type: integer\n          description: house number, consistent with streetAddress\n          minimum: 0\n        houseNumberAddition:\n          type: string\n          description: the additional part of the house number (f.x. 13bis, where 'bis' is the additional part), consistent with streetAddress\n        addressAdditionalInfo:\n          type: string\n          description: additional information to find the address (f.x. just around the corner)\n        areaReference:\n          description: city or town, principal subdivision such as province, state or county, could match Content-Language\n          type: string\n          example: Smallcity, Pinetree county\n        city:\n          type: string\n          description: specified city or town, consistent with areaReference\n        province:\n          type: string\n          description: province or region, consistent with areaReference\n        state:\n          type: string\n          description: state, consistent with areaReference\n        postalCode:\n          type: string\n        country:\n          $ref: \"#/components/schemas/country\"\n\n    amountOfMoney:\n      type: object\n      properties:\n        amount:\n          description: This should be in the base unit as defined by the ISO 4217 currency code with the appropriate number of decimal places and omitting the currency symbol. e.g. if the price is in US Dollars the price would be 9.95. This is inclusive VAT\n          type: number\n          example: 9.95\n          format: float\n          minimum: 0\n        amountExVat:\n          type: number\n          example: 8.95\n          format: float\n          minimum: 0\n        currencyCode:\n          description: ISO 4217 currency code\n          type: string\n          minLength: 3\n          maxLength: 3\n        vatRate:\n          type: number\n          description: value added tax rate (percentage of amount)\n          example: 21.0\n          format: float\n          minimum: 0\n        vatCountryCode:\n          $ref: \"#/components/schemas/country\"\n\n    asset:\n      type: object\n      required:\n        - id\n        - overriddenProperties\n      properties:\n        id:\n          type: string\n          description: Identifier of an asset. Whenever used in Operator Information changed after every trip (GDPR).\n        isReserved:\n          type: boolean\n          description: true indicates the bike is currently reserved for someone else\n        isReservedFrom:\n          description: optional addition to determine if an asset is reserved in the future\n          type: string\n          format: date-time\n        isReservedTo:\n          description: optional addition to determine when asset is available in the future\n          type: string\n          format: date-time\n        isDisabled:\n          type: boolean\n          description: true indicates the asset is currently disabled (broken)\n        rentalUrl:\n          type: string\n          description: deep-linking option from GBFS+. Only added to be consistent with GBFS 2.0\n          format: URL\n          example: https://www.rentmyfreebike.com/app?sid=1234567890\n          deprecated: true\n        rentalUrlAndroid:\n          type: string\n          description: deep-linking option from GBFS 2.0. Only added to be consistent with GBFS 2.0\n          format: URL\n          example: https://www.rentmyfreebike.com/app?sid=1234567890\u0026platform=android\n          deprecated: true\n        rentalUrlIOS:\n          type: string\n          description: deep-linking option from GBFS 2.0. Only added to be consistent with GBFS 2.0\n          format: URL\n          example: https://www.rentmyfreebike.com/app?sid=1234567890\u0026platform=ios\n          deprecated: true\n        mileage:\n          type: number\n          description: the current mileage of the asset \n          format: float\n          minimum: 0\n        licensePlate:\n          type: string\n          description: the usage of this field requires a secure environment. When assets are published in available-assets, this field can be used \n            to track assets. Be aware of this.\n        overriddenProperties:\n          $ref: \"#/components/schemas/assetProperties\"\n\n    assetClass:\n      type: string\n      description: These classes are taken from the NeTeX standard, but ALL and UNKNOWN are removed. On the other hand OTHER and PARKING are added.\n      enum:\n        [\n          AIR,\n          BUS,\n          TROLLEYBUS,\n          TRAM,\n          COACH,\n          RAIL,\n          INTERCITYRAIL,\n          URBANRAIL,\n          METRO,\n          WATER,\n          CABLEWAY,\n          FUNICULAR,\n          TAXI,\n          SELFDRIVE,\n          FOOT,\n          BICYCLE,\n          MOTORCYCLE,\n          CAR,\n          SHUTTLE,\n          OTHER,\n          PARKING,\n          MOPED,\n          STEP,\n        ]\n\n    assetType:\n      type: object\n      required:\n        - id\n      properties:\n        id:\n          type: string\n          description: Unique identifier of an asset type,\n        stationId:\n          type: string\n          description: If stationId is present, the nrAvailable is expected to find the availability at that particular station\n        nrAvailable:\n          type: integer\n        assets:\n          type: array\n          items:\n            $ref: \"#/components/schemas/asset\"\n        assetClass:\n          $ref: \"#/components/schemas/assetClass\"\n        assetSubClass:\n          type: string\n          description: a more precise classification of the asset, like 'cargo bike', 'public bus', 'coach bus', 'office bus', 'water taxi',  'segway'. This is mandatory when using 'OTHER' as class.\n        sharedProperties:\n          $ref: \"#/components/schemas/assetProperties\"\n        applicablePricings:\n          description: pricing plans that can be applicable for this assetType. Business logic to determine the \n            final pricing plan is not exposed. Just call the plannings endpoint (v1.2) or the inquiries endpoint (v.1.3)\n          type: array\n          items:\n            $ref: \"#/components/schemas/systemPricingPlan\"\n        conditions:\n          description: extra information about the asset type, making it possible to f.x. specifying that booking this car requires a driver license.\n          type: array\n          items:\n            oneOf:\n              - $ref: \"#/components/schemas/conditionDeposit\"\n              - $ref: \"#/components/schemas/conditionPayWhenFinished\"\n              - $ref: \"#/components/schemas/conditionPostponedCommit\"\n              - $ref: \"#/components/schemas/conditionRequireBookingData\"\n              - $ref: \"#/components/schemas/conditionReturnArea\"\n              - $ref: \"#/components/schemas/conditionUpfrontPayment\"\n            discriminator:\n              propertyName: conditionType\n\n\n    assetProperties:\n      description: Aspects of an asset or assetType. Most aspects are optional and should only be used when applicable.\n      properties:\n        name:\n          description: name of asset (type), required in either assetType or asset, should match Content-Language\n          type: string\n        location:\n          $ref: \"#/components/schemas/place\"\n        fuel:\n          type: string\n          enum:\n            [\n              NONE,\n              GASOLINE,\n              DIESEL,\n              ELECTRIC,\n              HYBRID_GASOLINE,\n              HYBRID_DIESEL,\n              HYBRID_GAS,\n              HYDROGEN,\n              GAS,\n              BIO_MASS,\n              KEROSINE,\n              OTHER,\n            ]\n        energyLabel:\n          description: Energy efficiency\n          type: string\n          enum: [A, B, C, D, E]\n        co2PerKm:\n          type: number\n          format: float\n          minimum: 0\n        brand:\n          type: string\n          description: brand of the asset\n        model:\n          type: string\n        buildingYear:\n          type: integer\n        travelAbroad:\n          type: boolean\n          description: true indicates asset is allowed to travel abroad\n        airConditioning:\n          type: boolean\n          description: true indicates airconditioning required\n        cabrio:\n          type: boolean\n          description: true indicates cabrio required\n        colour:\n          type: string\n          description: colour of the asset, should match Content-Language\n        cargo:\n          type: string\n          description: describes options to carry cargo, should match Content-Language\n        easyAccessibility:\n          type: string\n          description: describes if asset is or needs to be easily accessible\n          enum:\n            [\n              LIFT,\n              ESCALATOR,\n              GROUND_LEVEL,\n              SIGHTIMPAIRMENT,\n              HEARINGIMPAIRMENT,\n              WHEELCHAIR,\n            ]\n        gears:\n          type: integer\n          description: number of gears of the asset\n        gearbox:\n          type: string\n          description: type of gearbox\n          enum:\n            [\n              MANUAL,\n              AUTOMATIC,\n              SEMIAUTOMATIC\n            ]\n        image:\n          description: Link to an image of the asset\n          type: string\n          format: URL\n          example: \"https://files.fietsersbond.nl/app/uploads/2014/10/30151126/ST2_Men_Side_CityKit-Stromer.jpg\"\n        infantSeat:\n          type: boolean\n          description: true indicates infant seat required\n        persons:\n          type: integer\n          description: number of persons able to use the asset\n          minimum: 1\n        pets:\n          type: boolean\n          description: true indicates pets are allowed on asset\n        propulsion:\n          type: string\n          description: way in which the asset is powered\n          enum:\n            [\n              MUSCLE,\n              ELECTRIC,\n              GASOLINE,\n              DIESEL,\n              HYBRID,\n              LPG,\n              HYDROGEN\n            ]\n        smoking:\n          type: boolean\n          description: true indicates smoking is allowed on asset\n        stateOfCharge:\n          type: integer\n          minimum: 0\n          maximum: 100\n          description: percentage of charge available\n        towingHook:\n          type: boolean\n          description: true indicates towing hook required\n        undergroundParking:\n          type: boolean\n          description: true indicates underground parking is allowed with asset\n        winterTires:\n          type: boolean\n          description: true indicates winter tires required\n        maxSpeed:\n          type: integer\n          description: the maximum allowed speed for this asset (in km/h)\n        helmetRequired:\n          type: boolean\n          default: false\n          description: is a helmet required to operate this asset\n        other:\n          type: string\n          description: free text to describe asset, should match Content-Language\n        nrOfDoors:\n          type: integer\n          description: the number of doors of the vehicle. Return only when applicable\n        meta:\n          description: this object can contain extra information about the type of asset. For instance values from the 'Woordenboek Reizigerskenmerken'. [https://github.com/efel85/TOMP-API/issues/17]. These values can also be used in the planning.\n          type: object\n          additionalProperties: true\n        accessMethods: \n          type: array\n          description: access method for trip execution. Data will be delivered in the response of /booking/{id}/events - COMMIT \n            or /leg/{id}/events - PREPARE (preferred).\n          items:\n            $ref: \"#/components/schemas/assetAccessMethods\"\n        ancillaries:\n          type: array\n          items:\n            $ref: \"#/components/schemas/requirement\"\n\n    assetAccessMethods:\n      type: string\n      enum:  [\n              DEEPLINK, \n              QR, \n              AZTEC,\n              TOMP-API, \n              AXA-EKEY-OTP, \n              PHYSICAL-KEY,\n              BARCODE,\n              PDF,\n              HTML,\n              OVC,\n              EMV,\n              NONE\n            ]\n\n    bankAccount:\n      type: object\n      properties:\n        name:\n          description: account name\n          type: string\n        number:\n          description: account number\n          type: string\n        country:\n          $ref: \"#/components/schemas/country\"\n        bankIdentification:\n          description: bank identification, like BIC code\n          type: string\n\n    booking:\n      description: The booking information describing the state and details of an agreed upon trip\n      type: object\n      allOf:\n        - $ref: \"#/components/schemas/bookingRequest\"\n        - type: object\n          properties:\n            state:\n              $ref: \"#/components/schemas/bookingState\"\n            legs:\n              description: The legs of this booking, generally just one for simple legs, in order of how they will be travelled.\n                If this part is not present, it means that there is only one leg. This leg can be constructed \n                * leg[0].id = booking.id\n                * leg[0].departureTime = booking.departureTime\n                * leg[0].arrivalTime = booking.arrivalTime\n                * leg[0].assetType = booking.mainAssetType\n                * leg[0].pricing = booking.pricing\n                This approach is not allowed in the trip execution part\n              type: array\n              items:\n                $ref: \"#/components/schemas/leg\"\n            pricing:\n              description: The pricing information of the overall booking, in addition to any leg pricing, if not all legs have pricing the booking should have the fare\n              $ref: \"#/components/schemas/fare\"\n            departureTime:\n              description: The initial departure time (over all legs)\n              type: string\n              format: date-time\n            arrivalTime:\n              description: The intended arrival time at the destination of the booking (over all legs)\n              type: string\n              format: date-time\n            mainAssetType:\n              description: the asset type that is used mainly in the complete trip.\n              $ref: \"#/components/schemas/assetType\"\n            extraData:\n              description: Arbitrary information that a TO can add\n              type: object\n              additionalProperties: true\n              properties:\n                safeWaitTime: \n                  type: integer\n                  description: the predicted time before the asset will arrive, in minutes\n                  minimum: 0\n                maxWaitTime:\n                  type: integer\n                  description: the maximum time before the asset will arrive, in minutes\n                  minimum: 0\n                safeTravelTime: \n                  type: integer\n                  description: the predicted time the legs will take, in minutes\n                  minimum: 0\n                maxTravelTime:\n                  type: integer\n                  description: the maximum time the legs will take, in minutes\n                  minimum: 0\n\n    bookingOperation:\n      type: object\n      description: operation on the bookingOption\n      required:\n        - operation\n      properties:\n        operation:\n          type: string\n          enum: [CANCEL, EXPIRE, DENY, COMMIT]\n        origin:\n          type: string\n          description: This operation can be done on behalf of another party. The MP can act on behalf of the END_USER (cancel this booking for me); \n            to override the default origin. In case this field is missing, it must be assumed that the events the MP is sending, this field should \n            contain \"MP\". And in case the TO is sending, \"TO\".\n          enum: [TO, MP, END_USER, OTHER]\n\n    bookingRequest:\n      description: A booking requested by the MP\n      type: object\n      properties:\n        id:\n          description: A unique identifier for the TO to know this booking by\n          type: string\n        from:\n          description: information about the origin, only to supply when requested in the conditionRequireBookingData\n          $ref: \"#/components/schemas/place\"\n        callbackUrl: \n          description: The callback URL of the Maas Provider, to use as base url for callback, f.x. the POST legs/{id}/events and POST /bookings/{id}/events. Only to be provided \n            when this deviates from standard or agreed URL.\n          type: string\n          format: URL\n        to:\n          description: information about the destination, only to supply when requested in the conditionRequireBookingData\n          $ref: \"#/components/schemas/place\"\n        customer:\n          description: The user that wants to make this booking, only to supply when requested in the conditionRequireBookingData\n          $ref: \"#/components/schemas/customer\"\n\n    bookingState:\n      description: The life-cycle state of the booking (from NEW to FINISHED)\n      type: string\n      enum:\n        [\n          NEW,\n          PENDING,\n          REJECTED,\n          RELEASED,\n          EXPIRED,\n          CONDITIONAL_CONFIRMED,\n          CONFIRMED,\n          CANCELLED,\n          STARTED,\n          FINISHED,\n        ]\n      example: CONFIRMED\n\n    card:\n      description: Any kind of card that isn't a license, only provide the cards that are required\n      allOf:\n        - $ref: \"#/components/schemas/cardType\"\n        - type: object\n          required:\n            - cardNumber\n            - validUntil\n          properties:\n            cardDescription:\n              description: description of the card\n              type: string\n            cardNumber:\n              description: number of the card, like ID number, credit card or bank account number\n              type: string\n            cardAdditionalNumber:\n              description: additional number, like CVC code or IBAN code\n              type: string\n            validUntil:\n              type: string\n              format: date\n            country:\n              $ref: \"#/components/schemas/country\"\n\n    cardType:\n      description: A generic description of a card, asset class and acceptors is only allowed for DISCOUNT/TRAVEL/OTHER cards\n      type: object\n      required:\n        - type\n      properties:\n        type:\n          description: The broad category of card\n          type: string\n          enum:\n            [\n              ID,\n              DISCOUNT,\n              TRAVEL,\n              BANK,\n              CREDIT,\n              PASSPORT,\n              OTHER\n            ]\n        subType:\n          description: For use in case of OTHER. Can be used in bilateral agreements.\n          type: string\n        assetClass:\n          $ref: \"#/components/schemas/assetClass\"\n        acceptors:\n          description: references to accepting parties, only if applicable\n          type: array\n          items:\n            type: string\n            format: maas-id\n\n    condition:\n      required:\n        - conditionType\n      properties:\n        conditionType:\n          description: The specific subclass of condition, should match the schema name exactly\n          type: string\n        id:\n          description: An identifier for this condition that can be used to refer to this condition\n          type: string\n          example: deposit50eu\n\n    conditionDeposit:\n      description: in case the TO demands a deposit before usage. Requesting and refunding should be done using the /payment/claim-extra-costs endpoint.\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n        - $ref: \"#/components/schemas/amountOfMoney\"\n\n    conditionPayWhenFinished:\n      description: in case the TO demands a direct payment after usage.\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n\n    conditionPostponedCommit:\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n        - type: object\n          required:\n            - ultimateResponseTime\n          properties:\n            ultimateResponseTime:\n              type: string\n              format: date-time\n\n    conditionRequireBookingData:\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n        - type: object\n          required:\n            - requiredFields\n          properties:\n            requiredFields:\n              type: array\n              items:\n                type: string\n                enum:\n                  [\n                    FROM_ADDRESS,\n                    TO_ADDRESS,\n                    BIRTHDATE,\n                    EMAIL,\n                    PERSONAL_ADDRESS,\n                    PHONE_NUMBERS,\n                    LICENSES,\n                    BANK_CARDS,\n                    DISCOUNT_CARDS,\n                    TRAVEL_CARDS,\n                    ID_CARDS,\n                    CREDIT_CARDS,\n                    NAME,\n                    AGE,\n                    BLOCKCHAIN_CLAIMS,\n                  ]\n            claims:\n              description: when in the 'requiredFields' array 'BLOCKCHAIN_CLAIMS' is specified, in this array claims can be specified.\n                On the WIKI page, the known ones are enlisted, but this list isn't finalized yet. https://github.com/TOMP-WG/TOMP-API/wiki/Blockchain---Verifiable-credentials\n              type: array\n              items:\n                type: string\n\n    conditionReturnArea:\n      description: a return area. In the condition list there can be multiple return area's.\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n        - type: object\n          properties:\n            stationId:\n              description: station to which the asset should be returned\n              type: string\n            returnArea:\n              description: area in which the asset should be returned as GeoJSON Polygon coordinates\n              $ref: \"#/components/schemas/geojsonPolygon\"\n            coordinates:\n              $ref: \"#/components/schemas/coordinates\"\n            returnHours:\n              description: the return hours of the facility (if different from operating-hours)\n              type: array\n              items:\n                $ref: \"#/components/schemas/systemHours\"\n\n    conditionUpfrontPayment:\n      description: in case the TO demands a upfront payment before usage. The payment should be made in the booking phase.\n      allOf:\n        - $ref: \"#/components/schemas/condition\"\n\n    confirmationRequest:\n      type: object\n      description: the TO can ask permission to do something to the MP, as the MP is financially responsible. \n      properties:\n        type:\n          type: string\n          enum: [ REPLACE_ASSET, START_LEG ]\n        assetTypeId:\n          type: string\n          description: reference to the assetType in /operator/available-assets, this property can be set when replacing an asset (for another type). In case of a succesfull replacement, the /legs/{id}/events - ASSIGN_ASSET should be send to the MP to inform a change of asset has been made.\n        \n    coordinates:\n      type: object\n      description: a lon, lat (WGS84, EPSG:4326)\n      required:\n        - lat\n        - lng\n      properties:\n        lng:\n          type: number\n          example: 6.169639\n          format: float\n          minimum: 0\n        lat:\n          type: number\n          example: 52.253279\n          format: float\n          minimum: 0\n        alt:\n          type: number\n          description: altitude, in meters above sea level\n          format: float\n          minimum: 0\n\n    country:\n      type: string\n      description: two-letter country codes according to ISO 3166-1\n      maxLength: 2\n      minLength: 2\n      example: NL\n\n    customer:\n      description: A MaaS user that wishes to make a booking, only use the fields required by booking conditions\n      allOf:\n        - $ref: \"#/components/schemas/traveler\"\n        - type: object\n          required:\n            - id\n          properties:\n            id:\n              description: The identifier MaaS uses to identify the customer\n              type: string\n              example: \"A0-123456\"\n            travelerReference:\n              description: optional reference field to the travelers in the planning request.\n              type: string\n            initials:\n              type: string\n            firstName:\n              description: First name of the customer\n              type: string\n              example: John\n            lastName:\n              description: Last name of the customer\n              type: string\n              example: Doe\n            middleName:\n              description: Middle name of the customer\n              type: string\n              example: von\n            prefix:\n              description: prefix of the customer, like titles\n              type: string\n            postfix:\n              description: postfix of the customer, like titles\n              type: string\n            phones:\n              type: array\n              items:\n                $ref: \"#/components/schemas/phone\"\n            email:\n              description: the email address of the customer\n              type: string\n            birthDate:\n              type: string\n              format: date\n            address:\n              $ref: \"#/components/schemas/address\"\n            photo:\n              description: base64 encoded\n              type: string\n              format: byte\n            cards:\n              type: array\n              items:\n                $ref: \"#/components/schemas/card\"\n            licenses:\n              type: array\n              items:\n                $ref: \"#/components/schemas/license\"\n\n    day:\n      type: string\n      enum: [MON, TUE, WED, THU, FRI, SAT, SUN]\n\n    distance:\n      description: The estimated distance travelled in the leg (in meters)\n      type: integer\n      minimum: 0\n      example: 7250\n\n    duration:\n      description: A duration of some time (relative to a time) in milliseconds\n      type: integer\n      maximum: 2147483647\n      minimum: 0\n      example: 11112\n\n    endpoint:\n      type: object\n      description: a formal description of an endpoint.\n      required:\n        - method\n        - path\n        - status\n      properties:\n        method:\n          type: string\n          enum: [\n            POST,\n            PUT,\n            GET,\n            DELETE,\n            PATCH\n          ]\n        path:\n          description: the exact path of the endpoint, starting after the base URL\n          type: string\n          example: /plannings/\n        eventType:\n          description: in case the path is ending in /events, the event type/operator enum should be added here.\n          type: string\n          enum: [\n            PREPARE,\n            ASSIGN_ASSET,\n            SET_IN_USE,\n            PAUSE,\n            START_FINISHING,\n            FINISH,\n            ISSUE,\n            CANCEL,\n            EXPIRE,\n            DENY,\n            COMMIT\n          ]\n        status:\n          type: string\n          enum: [\n            NOT_IMPLEMENTED,\n            DIALECT,\n            IMPLEMENTED\n          ]\n        supportsPaging:\n          description: does this endpoint support paging? In that case this endpoint can be accessed using query parameters offset=x and limit=y. Only allowed at endpoints that have specified these query parameters.\n          type: boolean\n          default: false\n        maxPageSize:\n          description: the maximum size of the pages (only valid when supportsPaging=true). If the limit-parameter of the request is above this amount, a http code 400 will be returned.\n          type: integer\n          minimum: 1\n      example:\n        withoutPaging:\n          { \"method\": \"POST\", \"path\": \"/booking/{id}/events\", \"eventType\": \"COMMIT\", \"status\": \"IMPLEMENTED\" }\n        withPaging:\n          { \"method\": \"POST\", \"path\": \"/operator/stations\", \"status\": \"IMPLEMENTED\", \"supportsPaging\": true, \"maxPageSize\": 100 }\n\n    endpointImplementation:\n      type: object\n      description: a complete endpoint description, containing all endpoints, their status, but also the served scenarios and implemented process flows. The identifiers for the process flows can be found at https://github.com/TOMP-WG/TOMP-API/wiki/ProcessIdentifiers\n      required:\n        - version\n        - baseUrl\n        - endpoints\n        - scenarios\n        - processIdentifiers\n      properties:\n        version:\n          type: string\n        baseUrl:\n          type: string\n        endpoints:\n          type: array\n          items:\n            $ref: \"#/components/schemas/endpoint\"\n        scenarios:\n          type: array\n          items:\n            $ref: \"#/components/schemas/scenario\"\n        processIdentifiers:\n          $ref: \"#/components/schemas/processIdentifiers\"\n\n    error:\n      type: object\n      description:\n        An error that the service may send, e.g. in case of invalid input,\n        missing authorization or internal service error. See https://github.com/TOMP-WG/TOMP-API/wiki/Error-handling-in-TOMP for further explanation of error code.\n      properties:\n        errorcode:\n          type: integer\n          description: The TOMP specific error code. See https://github.com/TOMP-WG/TOMP-API/wiki/Error-handling-in-TOMP for more details of this error.\n        type:\n          type: string\n          description: The category of this type of error.\n        title:\n          type: string\n          description: A short, human-readable summary of the problem type.  It SHOULD NOT change from occurrence to occurrence of the problem, except to match Content-Language\n        status:\n          type: integer\n          description: The HTTP status code ([RFC7231], Section 6) generated by the origin server for this occurrence of the problem.\n        detail:\n          type: string\n          description: A human-readable explanation specific to this occurrence of the problem, could match Content-Language\n        instance:\n          type: string\n          description: A URI reference that identifies the specific occurrence of the problem.  It may or may not yield further information if dereferenced.\n\n    extraCosts:\n      description: Costs that the TO is charging the MP; credits are negative. Other amounts should be positive\n      allOf:\n        - $ref: \"#/components/schemas/amountOfMoney\"\n        - type: object\n          required:\n            - category\n            - description\n            - amount\n          properties:\n            category:\n              $ref: \"#/components/schemas/journalCategory\"\n            description:\n              description: free text to describe the extra costs. Mandatory in case of 'OTHER', should match Content-Language\n              type: string\n            number:\n              type: number\n              description: e.g. number of litres, number of kilowatthour, etc\n              format: float\n              minimum: 0\n            numberType:\n              type: string\n              enum: [LITER, KILOWATTHOUR, CO2_COMPENSATION, OTHER]\n            account:\n              $ref: \"#/components/schemas/bankAccount\"\n            meta:\n              description: Arbitrary metadata that a TO can add, like voucher codes\n              type: object\n              additionalProperties: true\n\n    fare:\n      description: the total fare is the sum of all parts, except for the 'MAX' farePart. This one descripes the maximum price for the complete leg.\n      required:\n        - estimated\n        - parts\n      properties:\n        estimated:\n          description: is this fare an estimation?\n          type: boolean\n        description:\n          description: user friendly description of the fare (e.g. 'full fare'), should match Content-Language\n          type: string\n        class:\n          description: in the future we'll set up an enumeration of possible \"fare classes\". For now it's free format.\n          type: string\n        parts:\n          type: array\n          items:\n            $ref: \"#/components/schemas/farePart\"\n\n    farePart:\n      description: this describes a part of the fare (or discount). It contains a for instance the startup costs (fixed) \n       or the flex part (e.g. 1.25 EUR per 2.0 MILES). The amount is tax included. In case of discounts, the values are \n       negative. With 'MAX' you can specify e.g. a maximum of 15 euro per day. Percentage is mainly added for discounts. \n       The `scale` properties create the ability to communicate scales (e.g. the first 4 kilometers you've to pay \n       EUR 0.35 per kilometer, the kilometers 4 until 8 EUR 0.50 and above it EUR 0.80 per kilometer).\n      allOf:\n        - $ref: \"#/components/schemas/amountOfMoney\"\n        - type: object\n          required:\n            - amount\n          properties:\n            type:\n              description: type of fare part. If there is only one farepart and this field is missing, it should\n                be assumed it is 'FIXED'. In all other situations this field is mandatory.\n              type: string\n              enum: [FIXED, FLEX, MAX]\n            kind:\n              description: is this the default price or is this an additional part (discount, price surge). In case of a DISCOUNT, the amount\n                must always be negative and in case of SURGE it must be positive. This also means, that when you're working with discounts or surges,\n                you have to deliver 2 fareparts, one for the default price and one for the discount/surge. This can be used in combination with as\n                well the fixed price parts as with the flex price parts.\n              type: string\n              enum: [DEFAULT, DISCOUNT, SURGE]\n            unitType:\n              type: string\n              description: in case of 'FLEX' mandatory, otherwise not allowed. E.g. 0.5 EUR per HOUR\n              enum: [KM, SECOND, MINUTE, HOUR, MILE, PERCENTAGE]\n            units:\n              type: number\n              description: the number of km, seconds etc. Mandatory when the type is 'FLEX', otherwise\n                not allowed. In case of 0.5 EUR per 15 MINUTES, `units` should contain 15 and `unitType` MINUTES.\n              format: float\n              minimum: 0\n            scaleFrom:\n              type: number\n              description: in case of scaling, this is the bottom value (f.x. in the first hour 3 CAD, the `scaleFrom` should\n                contain 0 and the `scaleType` HOUR). When `scaleTo` is used, but this field is missing, it should be assumed\n                it is a 0.\n              format: float\n              minimum: 0\n            scaleTo:\n              type: number\n              description: the upper value of the scale (f.x. 3 CAD in the first hour, this field should contain 1, \n                `scaleFrom` 0 and `scaleType` HOUR)\n              format: float\n              minimum: 0\n            scaleType:\n              type: string\n              enum: [KM, MILE, HOUR, MINUTE]\n            name:\n              description: an optional description of this fare part.\n              type: string\n            class:\n              description: class of this fare part. Could be FARE or ANCILLARY\n              default: \"FARE\"\n              type: string\n              enum: [ \"FARE\", \"ANCILLARY\" ]\n            minimumAmount:\n              description: The minimum price, in the same currency as amount. Place in `amount` the most likely value.\n              type: number\n              example: 9.00\n              format: float\n              minimum: 0\n            maximumAmount:\n              description: The minimum price, in the same currency as amount. Place in `amount` the most likely value.\n              type: number\n              example: 11.00\n              format: float\n              minimum: 0\n            meta:\n              type: object\n              additionalProperties: true\n\n    geojsonLine:\n      description: An array  of WGS84 coordinate pairs\n      type: array\n      example: [[6.169639, 52.253279], [6.05623, 52.63473]]\n      items:\n        $ref: \"#/components/schemas/geojsonPoint\"\n\n    geojsonPoint:\n      description: Geojson Coordinate\n      type: array\n      minItems: 2\n      maxItems: 2\n      items:\n        type: number\n        format: float\n        minimum: 0.0\n      example: [4.53432, 55.324523]\n\n    geojsonPolygon:\n      description: geojson representation of a polygon. First and last point must be equal. See also https://geojson.org/geojson-spec.html#polygon and example https://geojson.org/geojson-spec.html#id4. The order should be lon, lat [[[lon1, lat1], [lon2,lat2], [lon3,lat3], [lon1,lat1]]], the first point should match the last point.\n      type: array\n      items:\n        $ref: \"#/components/schemas/geojsonLine\"\n      example: [[[1.0, 1.0], [0.0, 1.0], [0.0, 0.0], [1.0,0.0], [1.0, 1.0]]]\n\n    journalEntry:\n      allOf:\n        - $ref: \"#/components/schemas/amountOfMoney\"\n        - type: object\n          properties:\n            category:\n              $ref: \"#/components/schemas/journalCategory\"\n            journalId:\n              description: id of the entry, leg id can be reused\n              type: string\n            journalSequenceId:\n              description: sequence id of the entry, in combination with journalId unique from TO perspective.\n              type: string\n            invoiceId:\n              description: the number of the invoice. Should be filled in when invoiced.\n              type: string\n            invoiceDate:\n              type: string\n              format: date-time\n            state:\n              $ref: \"#/components/schemas/journalState\"\n            expirationDate:\n              type: string\n              format: date-time\n            comment:\n              type: string\n            distance:\n              description: the travelled distance. Only if applicable.\n              type: number\n              format: float\n              minimum: 0\n            distanceType:\n              type: string\n              enum: [KM, MILE]\n            usedTime:\n              description: the time in seconds that the assed is used. Only if applicable.\n              type: integer\n              minimum: 0\n            rentalStartMileage:\n              description: the mileage at the start of the rental. 'DistanceType' field is also applicable here\n              type: number\n              format: float\n              minimum: 0\n            bankAccount:\n              $ref: \"#/components/schemas/bankAccount\"\n            details:\n              description: the specification of the amount; how is it composed.\n              oneOf:\n                - $ref: \"#/components/schemas/fare\"\n                - $ref: \"#/components/schemas/extraCosts\"\n\n    journalState:\n      type: string\n      enum: [TO_INVOICE, INVOICED]\n\n    journalCategory:\n      type: string\n      description: ALL and FARE are not allowed to use in the journalEntry object. They are there for filtering purposes in the journal entry endpoint. \n      enum:\n        [\n          ALL,\n          DAMAGE,\n          LOSS,\n          STOLEN,\n          EXTRA_USAGE,\n          REFUND,\n          FINE,\n          OTHER_ASSET_USED,\n          CREDIT,\n          VOUCHER,\n          DEPOSIT,\n          OTHER,\n          FARE\n        ]\n\n    leg:\n      description: A planned (segment of) a booked trip using one asset type\n      type: object\n      required:\n        - from\n        - assetType\n      properties:\n        id:\n          description: The unique identifier (TO) of this leg\n          type: string\n        from:\n          description: The departure location of this leg, using this asset type\n          $ref: \"#/components/schemas/place\"\n        to:\n          description: The destination of this leg, using this asset type\n          $ref: \"#/components/schemas/place\"\n        departureTime:\n          description: The departure time of this leg\n          type: string\n          format: date-time\n        arrivalTime:\n          description: The intended arrival time at the to place\n          type: string\n          format: date-time\n        travelerReferenceNumbers:\n          description: reference to the travelers field of the request. If missing, it is refering to the first (if any). it is an array to facilitate multiple users on one leg (e.g. using a car). If multiple access informations are needed, please create a leg per used asset.\n          type: array\n          items:\n            type: string\n        assetType: \n          description: The asset type used in this leg as determined during booking\n          $ref: \"#/components/schemas/assetType\"\n        legSequenceNumber:\n          description: The order of the leg in the booking. There can be multiple legs with the same sequence (different user or parallel usage (eg. parking lot and a bike)).\n          type: integer\n        asset:\n          description: The concrete asset used for the execution of the leg\n          $ref: \"#/components/schemas/asset\"\n        pricing:\n          description: The leg-specific pricing information, all fares are additive, if the booking does not have pricing set all legs should\n          $ref: \"#/components/schemas/fare\"\n        suboperator:\n          $ref: \"#/components/schemas/suboperator\"\n        conditions:\n          description: The conditions that apply to this leg, there may be more conditions in a parent booking and planning object (if this is returned as part of those)\n          type: array\n          items:\n            oneOf:\n              - $ref: \"#/components/schemas/conditionDeposit\"\n              - $ref: \"#/components/schemas/conditionPayWhenFinished\"\n              - $ref: \"#/components/schemas/conditionPostponedCommit\"\n              - $ref: \"#/components/schemas/conditionRequireBookingData\"\n              - $ref: \"#/components/schemas/conditionReturnArea\"\n              - $ref: \"#/components/schemas/conditionUpfrontPayment\"\n            discriminator:\n              propertyName: conditionType\n        state:\n          $ref: \"#/components/schemas/legState\"\n        departureDelay:\n          $ref: \"#/components/schemas/duration\"\n        arrivalDelay:\n          $ref: \"#/components/schemas/duration\"\n        distance:\n          $ref: \"#/components/schemas/distance\"\n        progressGeometry:\n          description: A list of coordinates describing the progress so far along the leg, as GeoJSON LineString coordinates\n          $ref: \"#/components/schemas/geojsonLine\"\n        ticket:\n          description: The MaaS user's proof of their right to travel on this leg\n          $ref: \"#/components/schemas/token\"\n        assetAccessData:\n          description: Data to open a specific asset (e.g. QR code, image base64)\n          $ref: \"#/components/schemas/token\"\n        allAssetAccessData:\n          description: Array of data to open a specific asset (e.g. QR code, image base64)\n          $ref: \"#/components/schemas/tokenArray\"   \n            \n    legEvent:\n      type: object\n      description: event for the execution\n      required:\n        - time\n        - event\n      properties:\n        time:\n          type: string\n          format: date-time\n        event:\n          type: string\n          enum:\n            [\n              PREPARE,\n              ASSIGN_ASSET,\n              SET_IN_USE,\n              PAUSE,\n              START_FINISHING,\n              FINISH,\n              TIME_EXTEND,\n              TIME_POSTPONE,\n              CANCEL,\n            ]\n        comment:\n          type: string\n          description: free text, should match Content-Language\n        url:\n          type: array\n          description: urls to support the event e.g. pictures justifying the exit conditions\n          items:\n            type: string\n            format: url\n        asset:\n          $ref: \"#/components/schemas/asset\"\n\n    legProgress:\n      type: object\n      description: provides current asset location \u0026 duration and distance of the current leg\n      required:\n        - coordinates\n      properties:\n        coordinates:\n          $ref: \"#/components/schemas/coordinates\"\n        duration:\n          $ref: \"#/components/schemas/duration\"\n        distance:\n          $ref: \"#/components/schemas/distance\"\n\n    legState:\n      type: string\n      description: status of a leg\n      enum:\n        [\n          NOT_STARTED,\n          PREPARING,\n          IN_USE,\n          PAUSED,\n          FINISHING,\n          FINISHED,\n          ISSUE_REPORTED,\n          CANCELLED,\n        ]\n\n    license:\n      description: driver or usage license for a specific user. Contains the number and the assetType you're allowed to operate (e.g. driver license for CAR)\n      allOf:\n        - $ref: \"#/components/schemas/licenseType\"\n        - type: object\n          properties:\n            number:\n              type: string\n              example: \"1287948792\"\n            licenseCode:\n              description: in most countries a driver license has also a code. As TO you can exactly verify, based on this code if the license allows to operate it's assets, if the assetType too generic.\n              example: D4\n              type: string\n            validUntil:\n              type: string\n              format: date\n\n    licenseType:\n      description: A category of license to use a certain asset class\n      type: object\n      required:\n        - assetClass\n      properties:\n        assetClass:\n          $ref: \"#/components/schemas/assetClass\"\n        issuingCountry:\n          $ref: \"#/components/schemas/country\"\n\n    notification:\n      type: object\n      description: notifies the MaaS operator of issues with a booking. Asset information can be provided when needed.\n      required:\n       - type\n      properties:\n        type:\n          type: string\n          enum: [VEHICLE_NOT_AVAILABLE, USER_NO_SHOW, ETA, MESSAGE_TO_DRIVER, MESSAGE_TO_END_USER, OTHER]\n          example: VEHICLE_NOT_AVAILABLE\n        minutes:\n          description: in case of ETA, the number of minutes until arrival at the pickup location\n          type: integer\n          minimum: 0\n        asset:\n          $ref: '#/components/schemas/asset'\n        comment:\n          type: string\n          description: free text, should match Content-Language\n\n    phone:\n      type: object\n      properties:\n        preferred:\n          description: only one phone in this array can have a true in this property\n          type: boolean\n        number:\n          description: phone number. In case of international usage, always provide the country code.\n          type: string\n          pattern: '^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\.0-9]*$'\n          example: +31-48934758 or +(0075)-834923384 or 020 1234 1234\n        kind:\n          type: string\n          enum: [LANDLINE, MOBILE]\n        type:\n          type: string\n          enum: [PRIVATE, BUSINESS, OTHER]\n\n    place:\n      type: object\n      description: a origin or destination of a leg, 3D. lon/lat in WGS84.\n      required:\n        - coordinates\n      properties:\n        name:\n          description: Human readable name of the place, could match Content-Language\n          type: string\n        stopReference:\n          type: array\n          items:\n            $ref: \"#/components/schemas/stopReference\"\n        stationId:\n          description: reference to /operator/stations\n          type: string\n        coordinates:\n          $ref: \"#/components/schemas/coordinates\"\n        physicalAddress:\n          $ref: \"#/components/schemas/address\"\n        extraInfo:\n          type: object\n          additionalProperties: true\n\n    planningRequest:\n      description: A travel planning for which bookable options are requested\n      type: object\n      required:\n        - from\n      properties:\n        from:\n          $ref: \"#/components/schemas/place\"\n        radius:\n          description: Maximum distance in meters a user wants to travel to reach the travel option\n          type: integer\n          minimum: 0\n        to:\n          $ref: \"#/components/schemas/place\"\n        estimatedDistance:\n          type: integer\n          description: instead of using the from/to construct, it is also possible to give an indication of the distance to travel. \n            The process identifier 'USE_ESTIMATED_DISTANCE' is used to indicate this scenario. Also in meters\n          minimum: 0\n        departureTime:\n          description: The intended departure time. If left out and no arrivalTime is set, the current time should be assumed.\n          type: string\n          format: date-time\n        arrivalTime:\n          description: The intended arrival time, at the to place if set otherwise the time the user intends to stop using the asset.\n          type: string\n          format: date-time\n        nrOfTravelers:\n          description: The number of people that intend to travel, including the customer.\n          type: integer\n          minimum: 1\n        travelers:\n          description: Extra information about the people that intend to travel if relevant, length must be less than or equal to nrOftravelers.\n          type: array\n          items:\n            $ref: \"#/components/schemas/traveler\"\n        useAssets:\n          description: The specific asset(s) the user wishes to receive leg options for\n          type: array\n          items:\n            type: string\n            format: an asset id for this operator, this might be an asset id from /operator/available-assets, but can also be another identification for this asset (e.g. bluetooth id)\n        userGroups:\n          description: Id(s) of user groups that the user belongs to. This provides access to exclusive assets that are hidden to the public. Id's are agreed upon by TO and MP.\n          type: array\n          items:\n            type: string\n            format: a usergroup id for this operator\n        useAssetTypes:\n          description: The specific asset type(s) the user wishes to receive leg options for\n          type: array\n          items:\n            type: string\n            format: an asset type id for this operator (from /operator/available-assets)\n            \n    planning:\n      description: A travel planning with bookable options that fulfil the constraints of the planning\n      type: object\n      required:\n        - validUntil\n        - options\n      properties:\n        validUntil:\n          description: The time until which the presented options are (likely) available\n          type: string\n          format: date-time\n        options:\n          type: array\n          items:\n            $ref: \"#/components/schemas/booking\"\n\n    processIdentifiers:\n      type: object\n      required:\n        - operatorInformation\n        - planning\n        - booking\n        - tripExecution\n        - support\n        - payment\n        - general\n      properties:\n        operatorInformation:\n          type: array\n          items:\n            type: string\n        planning:\n          type: array\n          items:\n            type: string\n        booking:\n          type: array\n          items:\n            type: string\n        tripExecution:\n          type: array\n          items:\n            type: string\n        support:\n          type: array\n          items:\n            type: string\n        payment:\n          type: array\n          items:\n            type: string\n        general:\n          type: array\n          items:\n            type: string\n\n    requirement:\n      type: object\n      description: describes an (dis)ability or ancillary.\n      required:\n        - category\n        - number\n      properties:\n        source:\n          type: string\n          description: if obsolete, it is referencing the travelers' dictionary (https://github.com/TOMP-WG/TOMP-API/blob/master/documents/CROW%20passenger%20characteristics.xlsx)\n        category:\n          type: string\n          description: references to the first column of the specification \n                       initial values [ HR, AV, HV, AB, AER, K, ZR, RR ]\n        number:\n          type: string\n          description: references to the second column of the specification\n          minLength: 2\n          maxLength: 2\n        type:\n          description: conditionally extra information, referencing to the 3th column\n          type: string\n        memo:\n          description: extra field for detailed information, not standardized\n          type: string\n        variable-number:\n          description: in some requirements there is references to '[variable number]' e.g. of meters (like ZR06)\n          type: integer\n          minimum: 0\n        applicable-days:\n          description: days of week that are applicable\n          type: array\n          items: \n            type: string\n            enum: [MO, TU, WE, TH, FR, SA, SU]\n\n    requirements:\n      description: Requirements from the end user side.\n      type: object\n      additionalProperties: true\n      properties:\n        abilities: \n          type: array\n          items:\n            $ref: \"#/components/schemas/requirement\" \n        bringAlong:\n          type: array\n          items:\n            $ref: \"#/components/schemas/requirement\" \n\n    scenario:\n      type: string\n      enum: [\n        POSTPONED_COMMIT,\n        DEPOSIT,\n        PAY_WHEN_FINISHED,\n        REQUIRE_BOOKING_DATA,\n        RETURN_AREA,\n        UPFRONT_PAYMENT\n      ]\n\n    stationInformation:\n      type: object\n      required:\n        - stationId\n        - name\n        - coordinates\n      properties:\n        stationId:\n          type: string\n          description: unique identifier of a station\n          example: XX:Y:12345678\n        name:\n          type: string\n          description: public name of the station, could match Content-Language\n          example: Island Central\n        coordinates:\n          $ref: \"#/components/schemas/coordinates\"\n        physicalAddress:\n          $ref: \"#/components/schemas/address\"\n        crossStreet:\n          type: string\n          description: Cross street of where the station is located. This field is intended to be a descriptive field for human consumption. In cities, this would be a cross street, but could also be a description of a location in a park, etc, should match Content-Language\n          example: on the corner with Secondary Road\n        regionId:\n          type: string\n          description: ID of the region where the station operates (see \"systemRegions\")\n        rentalMethods:\n          type: array\n          description: Array of enumerables containing the payment methods accepted at this station.\n          items:\n            type: string\n            enum:\n              [\n                KEY,\n                CREDITCARD,\n                PAYPASS,\n                APPLEPAY,\n                ANDROIDPAY,\n                TRANSITCARD,\n                ACCOUNTNUMBER,\n                PHONE,\n                OTHER,\n              ]\n          example: [CREDITCARD, PAYPASS, APPLEPAY]\n        rentalUrl:\n          type: string\n          description: web uri for renting assets at this station. Only added to be consistent with GBFS 2.0.\n          format: URL\n          example: https://www.rentmyfreebike.com\n          deprecated: true\n        rentalUrlAndroid:\n          type: string\n          description: android uri for renting assets at this station. Only added to be consistent with GBFS 2.0.\n          format: URL\n          example: https://www.rentmyfreebikecom/app?sid=1234567890\u0026platform=android\n          deprecated: true\n        rentalUrlIOS:\n          type: string\n          description: ios uri for renting assets at this station. Only added to be consistent with GBFS 2.0.\n          format: URL\n          example: https://www.rentmyfreebike.com/app?sid=1234567890\u0026platform=ios\n          deprecated: true\n\n    stopReference:\n      type: object\n      description: reference to a stop (can be nation specific). This can help to specific pinpoint a (bus) stop. Extra information about the stop is not supplied; you should find it elsewhere.\n      required:\n        - type\n        - id\n        - country\n      properties:\n        type:\n          type: string\n          description: type of external reference (GTFS, CHB).\n          enum:\n            [\n              GTFS_STOP_ID,\n              GTFS_STOP_CODE,\n              GTFS_AREA_ID,\n              CHB_STOP_PLACE_CODE,\n              CHB_QUAY_CODE,\n              NS_CODE,\n            ]\n        id:\n          type: string\n          description: this field should contain the complete ID. E.g. NL:S:13121110 or BE:S:79640040\n        country:\n          $ref: \"#/components/schemas/country\"\n\n    suboperator:\n      type: object\n      description: The operator of a leg or asset, in case this is not the TO itself but should be shown to the user\n      required:\n        - name\n      properties:\n        name:\n          type: string\n          description: Name of the operator, could match Content-Language\n        maasId:\n          type: string\n          description: the maasId from the operator\n        description:\n          type: string\n          description: short description of the operator, should match Content-Language\n        contact:\n          type: string\n          description: contact information, should match Content-Language\n\n    supportRequest:\n      description: request for support\n      type: object\n      properties:\n        id:\n          type: string\n          description: the booking id\n        supportType:\n          type: string\n          enum: [BROKEN_DOWN, NOT_AT_LOCATION, MISSING_AFTER_PAUSE, NOT_CLEAN, NOT_AVAILABLE, UNABLE_TO_OPEN, UNABLE_TO_CLOSE, API_TECHNICAL, API_FUNCTIONAL, ACCIDENT, OTHER]\n        location:\n          $ref: '#/components/schemas/place'\n        time:\n          type: string\n          format: date-time\n        priority:\n          description: the priority of the support request.\n          type: string\n          enum: [ERROR_CANNOT_CONTINUE, ERROR_CAN_CONTINUE, DISTURBING_ISSUE, QUESTION, OTHER]\n        contactInformationEndUser:\n          description: contact information of the end user in case of direct response requests, like phone number\n          type: string\n        comment:\n          type: string\n        requestedResponseTime:\n          type: number\n          format: double\n          description: time to respond in minutes.\n          minimum: 0\n\n    supportStatus:\n      description: the current status of support\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/supportRequest'\n      properties:\n        status:\n          type: string\n          enum: [PROCESSING, UPDATE_REQUESTED, RESOLVED, CANCELLED]\n          example: PROCESSING\n        timeToResolution:\n          type: integer\n          description: time in minutes to expected resolution of support request\n          example: 9\n        order:\n          type: integer\n          description: the sequence number of status of the support issue\n          minimum: 0\n        comment:\n          type: string\n          description: free text to send to the end user.\n\n    systemAlert:\n      type: object\n      required:\n        - alertId\n        - alertType\n        - summary\n      properties:\n        alertId:\n          type: string\n          description: a unique identifier for this alert\n        alertType:\n          type: string\n          enum: [SYSTEM_CLOSURE, STATION_CLOSURE, STATION_MOVE, OTHER]\n        startAndEndTimes:\n          description: Array of hashes with the keys \"start\" and \"end\" indicating when the alert is in effect (e.g. when the system or station is actually closed, or when it is scheduled to be moved). If this array is omitted then the alert should be displayed as long as it is in the feed.\n          type: array\n          items:\n            type: array\n            items:\n              type: string\n              format: date-time\n            minItems: 2\n            maxItems: 2\n        stationIds:\n          type: array\n          items:\n            type: string\n          description: Array of strings - If this is an alert that affects one or more stations, include their ids, otherwise omit this field. If both stationIDs and regionIDs are omitted, assume this alert affects the entire system\n          example: [\"stationID0001\"]\n        regionId:\n          type: array\n          items:\n            type: string\n          description: Array of strings - If this system has regions, and if this alert only affects certain regions, include their ids, otherwise, omit this field. If both stationIDs and regionIDs are omitted, assume this alert affects the entire system\n          example: [\"regionID0001\"]\n        url:\n          type: string\n          format: hostname\n          description: URL where the customer can learn more information about this alert, if there is one\n          example: http://www.rentmyfreebike.com/alerts\n        summary:\n          type: string\n          description: A short summary of this alert to be displayed to the customer, should match Content-Language\n          example: station closed\n        description:\n          type: string\n          description: Detailed text description of the alert, should match Content-Language\n          example: station closed indefinitely due to vandalism\n        lastUpdated:\n          type: string\n          format: date-time\n\n    systemCalendar:\n      type: object\n      required:\n        - startMonth\n        - startDay\n        - endMonth\n        - endDay\n      properties:\n        stationId:\n          type: string\n          description: If this parameter is present, it means that start and end prameters correspond to the opening and closing days of the station. (GET /operator/stations)\n        regionId:\n          type: string\n          description: If this parameter is present, it means that start and end prameters correspond to the opening and closing days for the region. (GET /operator/regions)\n        startMonth:\n          type: integer\n          minimum: 1\n          maximum: 12\n          description: Starting month for the system operations (1-12)\n          example: 1\n        startDay:\n          type: integer\n          minimum: 1\n          maximum: 31\n          description: Starting day for the system operations (1-31)\n          example: 1\n        startYear:\n          type: integer\n          description: Starting year for the system operations\n          example: 2019\n        endMonth:\n          type: integer\n          minimum: 1\n          maximum: 12\n          description: Ending month for the system operations (1-12)\n          example: 12\n        endDay:\n          type: integer\n          minimum: 1\n          maximum: 31\n          description: Ending day for the system operations (1-31)\n          example: 31\n        endYear:\n          type: integer\n          description: Ending year for the system operations\n          example: 2099\n\n    systemHours:\n      type: object\n      required:\n        - days\n        - startTime\n        - endTime\n      properties:\n        userType:\n          type: string\n          description: This indicates that this set of rental hours applies to either members or non-members only.\n          enum: [MEMBER, NON_MEMBERS]\n          example: MEMBER\n        stationId:\n          type: string\n          description: If this parameter is present, it means that startTime and endTime correspond to the opening and closing hours of the station. (GET /operator/stations)\n        regionId:\n          type: string\n          description: If this parameter is present, it means that startTime and endTime correspond to the opening and closing hours for the region. (GET /operator/regions)\n        startTime:\n          type: string\n          format: HH:MM time\n        endTime:\n          type: string\n          format: HH:MM time\n        days:\n          type: array\n          description: An array of abbreviations (first 3 letters) of English names of the days of the week that this hour object applies to (i.e. [\"mon\", \"tue\"]). Each day can only appear once within all of the hours objects in this feed.\n          items:\n            $ref: \"#/components/schemas/day\"\n\n    systemInformation:\n      required:\n        - systemId\n        - language\n        - name\n        - timezone\n        - typeOfSystem\n      properties:\n        systemId:\n          description: identifier for this transport system. This should be globally unique (even between different systems)\n          type: string\n          example: XXTO0001\n        language:\n          description: The languages supported by this operator for user-facing text. These can be requested using the Accept-Language header and should then be returned in Content-Language\n          type: array\n          items:\n            type: string\n            format: One IETF BCP 47 (RFC 5646) language tag\n            example: fr-FR\n        name:\n          description: Full name of the system to be displayed to customers, could match Content-Language\n          type: string\n          example: FreeBike\n        shortName:\n          description: Optional abbreviation for a system\n          type: string\n          example: FB\n        operator:\n          description:  Name of the operator of the system, could match Content-Language\n          type: string\n          example: FreeBike\n        url:\n          description: The URL of the transport operator. The value must be a fully qualified URL that includes http:// or https://, and any special characters in the URL must be correctly escaped.\n          type: string\n          format: URL\n          example: https://www.rentmyfreebike.com\n        purchaseUrl:\n          description: A fully qualified URL where a customer can purchase a membership or learn more about purchasing memberships\n          type: string\n          format: URL\n          example: https://www.rentmyfreebike.com/purchase\n        discoveryUriAndroid:\n          description: Uri to detect if the app is available at the mobile.\n          format: URL\n          type: string\n        discoveryUriIOS:\n          description: Uri to detect if the app is available at the mobile.\n          format: URL\n          type: string\n        storeUriAndroid:\n          description: Uri to the app in the store.\n          format: URL\n          type: string\n          example: https://play.google.com/store/apps/details?id=com.rentmyfreebike.android\n        storeUriIOS:\n          description: Uri to the app in the store.\n          format: URL\n          type: string\n          example: itms-apps://itunes.apple.com/app/idcom.rentmyfreebike.ios\n        startDate:\n          type: string\n          format: date\n        phoneNumber:\n          description: A single voice telephone number for the specified system. This field is a string value that presents the telephone number as typical for the system's service area. It can and should contain punctuation marks to group the digits of the number.\n          type: string\n          example: 555-12345\n        email:\n          description: A single contact email address for customers to address questions about the system\n          type: string\n          format: email\n          example: rent@freebike.com\n        feedContactEmail:\n          description: A single contact email address for consumers of this feed to report technical issues.\n          type: string\n          format: email\n        timezone:\n          description: The time zone where the system is located. Time zone names never contain the space character but may contain an underscore. Please refer to the \"TZ\" value in https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for a list of valid values\n          type: string\n          example: IST\n        licenseUrl:\n          description: A fully qualified URL of a page that defines the license terms for the GBFS data for this system, as well as any other license terms the system would like to define (including the use of corporate trademarks, etc)\n          type: string\n          example: https://www.rentmyfreebike.com/license\n        typeOfSystem:\n          description: Describes the type of system\n          type: string\n          enum: [FREE_FLOATING, STATION_BASED, VIRTUAL_STATION_BASED]\n          example: FREE_FLOATING\n        chamberOfCommerceInfo:\n          $ref: \"#/components/schemas/chamberOfCommerceInfo\"\n        conditions:\n          description: Added to include possibility to communicatie general rental conditions like minimum age, max. reservation time etc. [amended]\n          type: string\n        productType:\n          description: the type of product offered. SHARING should also be used for public transport.\n          type: string\n          enum: [RENTAL, SHARING, PARKING, CHARGING]\n        assetClasses:\n          type: array\n          items:\n            $ref: \"#/components/schemas/assetClass\"\n\n    systemPricingPlan:\n      type: object\n      required:\n        - planId\n        - name\n        - isTaxable\n        - description\n        - fare\n      properties:\n        planId:\n          type: string\n          description: a unique identifier for this plan in the system\n          example: freeplan1\n        url:\n          type: string\n          description: a fully qualified URL where the customer can learn more about this particular scheme\n          example: https://www.rentmyfreebike.com/freeplan\n        name:\n          type: string\n          description: name of this pricing scheme, could match Content-Language\n          example: Free Plan\n        stationId:\n          type: string\n          description: pricing plan for a specific station\n        regionId:\n          type: string\n          description: pricing plan for a specific region\n        fare:\n          $ref: \"#/components/schemas/fare\"\n        isTaxable:\n          type: boolean\n          description: false indicates that no additional tax will be added (either because tax is not charged, or because it is included) true indicates that tax will be added to the base price\n        description:\n          type: string\n          description: Text field describing the particular pricing plan in human readable terms. This should include the duration, price, conditions, etc. that the publisher would like users to see. This is intended to be a human-readable description and should not be used for automatic calculations, should match Content-Language\n          example: Unlimited plan for free bikes, as long as you don't break them!\n\n    systemRegion:\n      type: object\n      required:\n        - regionId\n        - name\n      properties:\n        regionId:\n          type: string\n          description: Unique identifier for this region\n          example: BikeRegion\n        name:\n          type: string\n          description: Public name for this region, could match Content-Language\n          example: BikeTown\n        type:\n          type: string\n          description: the type of area. Default this is 'OPERATING', but other area's can be published here as well \n            (since 1.3.0). Before 1.3.0, it was only allowed to communicate OPERATING area's.\n          enum: [ OPERATING, NO_ACCESS, NO_PARKING, PARKING, DISCOUNT, SPEEDLIMIT ]\n          default: OPERATING\n        typeUnit:\n          type: string\n          description: in case the type needs a value (f.x. speed limit), this is the unit type.\n          enum: [ KMPH, MPH ]\n        typeValue:\n          type: number\n          format: float\n          description: the value that belongs to the type (e.g. 8 MPH)\n        areaStartTime:\n          type: string\n          description: the start time of this area (mostly applicable in case of limitations)\n          format: date-time\n        areaEndTime:\n          type: string\n          description: the end time of this area (mostly applicable in case of limitations)\n          format: date-time\n        serviceArea:\n          description: The area served by the region (i.e. where one may travel using the service's assets) as GeoJSON Polygon coordinates\n          $ref: \"#/components/schemas/geojsonPolygon\"\n\n    token:\n      description: The validity token (such as booking ID, travel ticket etc.) that MaaS clients will display to show their right to travel, or use to access an asset\n      type: object\n      required:\n        - validFrom\n        - validUntil\n        - tokenType\n      properties:\n        validFrom:\n          type: string\n          format: date-time\n        validUntil:\n          type: string\n          format: date-time\n        tokenType:\n          description: The type of data held in this token, will later be an enum\n          type: string\n          enum: [tokenDefault, tokenDeeplink, tokenEKey, tokenQR]\n        tokenData:\n          oneOf:\n          - $ref: \"#/components/schemas/tokenDefault\"\n          - $ref: \"#/components/schemas/tokenDeeplink\"\n          - $ref: \"#/components/schemas/tokenEKey\"\n          - $ref: \"#/components/schemas/tokenQR\"\n          discriminator:\n            propertyName: tokenType\n\n    tokenArray:\n      type: array\n      items:\n        $ref: \"#/components/schemas/token\"\n\n    tokenData:\n      type: object\n      additionalProperties: true\n      required:\n        - tokenType\n      properties:\n        tokenType:\n          type: string\n\n    tokenDefault:\n      description: Arbitrary data the TO may pass along the ticket to the client\n      allOf:\n        - $ref: \"#/components/schemas/tokenData\"\n        - type: object\n          properties:\n            url:\n              description: download url for html/pdf\n              type: string\n              format: URI\n\n    tokenDeeplink:\n      description: deeplink info\n      allOf:\n        - $ref: \"#/components/schemas/tokenData\"\n        - type: object\n          properties:\n            url:\n              description: the base deeplink url for the MP app. Can be extended by\n                the 'knownParamaters'. Including the scheme.\n              type: string\n              example: mp1.app://something/?auth=sdfkjhrkjsdf003df38=dfsdf\n              format: URI\n            knownParameters:\n              type: array\n              example: [ \"return-url\"\n                      , \"error-url\"\n                      , \"error-code\"\n                      , \"error-description\"\n                      ]\n              items:\n                type: string\n\n    tokenEKey:      \n      description: Axa EKey information\n      allOf:\n        - $ref: \"#/components/schemas/tokenData\"\n        - type: object\n          required:\n            - ekey\n            - lock\n          properties:\n            ekey: \n              type: object\n              properties:\n                key: \n                  description: certificate\n                  type: string\n                passkey:\n                  description: one time pass key\n                  type: string\n            lock:\n              type: object\n              properties:\n                bdAddress:\n                  description: physical address \n                  type: string\n                deviceName:\n                  description: how it advertises itself\n                  type: string\n\n    tokenQR:\n      description: QR information\n      allOf:\n        - $ref: \"#/components/schemas/tokenData\"\n        - type: object\n          required:\n            - base64\n          properties:\n            base64: \n              description: base 64 QR code\n              type: string\n            version: \n              type: string\n\n    chamberOfCommerceInfo:\n      description: To identify the operator\n      type: object\n      properties:\n        number:\n          type: string\n        place:\n          type: string\n\n    traveler:\n      description: A generic description of a traveler, not including any identifying information\n      type: object\n      properties:\n        isValidated:\n          description: Whether this traveler's identity and properties have been verified by the MaaS provider\n          type: boolean\n        age:\n          description: Age of the traveler, may be approximate\n          type: integer\n        referenceNumber:\n          description: reference number of the traveler. This number could be used to refer to in the planning result.\n          type: string\n        cardTypes:\n          description: The kind of cards this traveler possesses\n          type: array\n          items:\n            $ref: \"#/components/schemas/cardType\"\n        licenseTypes:\n          description: The kind of licenses this traveler possesses\n          type: array\n          items:\n            $ref: \"#/components/schemas/licenseType\"\n        requirements:\n          $ref: \"#/components/schemas/requirements\"\n        knownIdentifier: \n          type: string\n          description: identifier for this traveler in the personal data store. This identifier can be used to get personal information\n            from the provider specified in the \"knownIdentifierProvider\"\n        knownIdentifierProvider:\n          type: string\n          description: provider for personal information. Can be a URI or identifier.\n\n  parameters:\n    acceptLanguage:\n      in: header\n      name: Accept-Language\n      required: true\n      schema:\n        type: string\n        format: A comma-separated list of BCP 47 (RFC 5646) language tags and optional weights as described in IETF RFC7231 section 5.3.5\n      description: A list of the languages/localizations the user would like to see the results in. For user privacy and ease of use on the TO side, this list should be kept as short as possible, ideally just one language tag from the list in operator/information\n      example: nl, de;q=0.7\n    api:\n      in: header\n      name: Api\n      required: true\n      schema:\n        type: string\n      description: API description, can be TOMP or maybe other (specific/derived) API definitions\n      example: TOMP\n    apiVersion:\n      in: header\n      name: Api-Version\n      required: true\n      schema:\n        type: string\n      description: Version of the API.\n      example: 0.6.0\n    maasId:\n      in: header\n      name: maas-id\n      required: true\n      schema:\n        type: string\n      description: The ID of the sending maas operator\n      example: 1324A-DFB3482-32ACD\n    addressedTo:\n      in: header\n      name: addressed-to\n      required: false\n      schema:\n        type: string\n      description: The ID of the maas operator that has to receive this message\n      example: 1324A-DFB3482-32ACD\n\n  securitySchemes:\n    BasicAuth:\n      type: http\n      scheme: basic\n    BearerAuth:\n      type: http\n      scheme: bearer\n    ApiKeyAuth:\n      type: apiKey\n      in: header\n      name: X-API-Key\n    OAuth:\n      type: oauth2\n      flows:\n        authorizationCode:\n          authorizationUrl: /oauth/authorize\n          tokenUrl: /oauth/token\n          scopes: {}\n    OpenId:\n      type: openIdConnect\n      openIdConnectUrl: https://unknownserver/.well-known/openid-configuration\n\n  responses:\n    202Accepted:\n      description: Request was successfully accepted for processing but has not yet completed.\n      headers:\n        Location:\n          schema:\n            type: string\n          description: The URI where the created or updated resource will eventually be found.\n          example: \"/bookings/1234\"\n    204NoContent:\n      description: Request was successful, no content to return.\n    400BadRequest:\n      description: Bad request. See https://github.com/TOMP-WG/TOMP-API/wiki/Error-handling-in-TOMP for further explanation of error code.\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/error\"\n    401Unauthorized:\n      description: Although the HTTP standard specifies \"unauthorized\", semantically this response means \"unauthenticated\". That is, the client must authenticate itself to get the requested response.\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/error\"\n    403Forbidden:\n      description: The client does not have access rights to the content, i.e. they are unauthorized, so server is rejecting to give proper response. Unlike 401, the client's identity is known to the server.\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/error\"\n    404NotFound:\n      description: The requested resources does not exist or the requester is not authorized to see it or know it exists.\n    409Conflict:\n      description: The request will not be fulfilled. The request itself is legal, but the content conflicts with the server and might be stale. The user might try again after looking up the current state of the resource.\n\n    410Gone:\n      description: The requested resource is no longer available. This is permanent.\n",
			"canonicalURL": "/github.com/TOMP-WG/TOMP-API@9978fbc024df83a36b01dac5cee9ae32aa3cd996/-/blob/TOMP-API.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/TOMP-WG/TOMP-API/blob/9978fbc024df83a36b01dac5cee9ae32aa3cd996/TOMP-API.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: path \"/bookings\": post: requestBody: contents: media: \"application/json\": generate schema: save schema types: save referenced type: reference \"#/components/schemas/cardType\" type name conflict: \"CardType\"",
	"NotImplemented": [
		"sum types with same names"
	]
}