{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/CDCgov/prime-reportstream"
		},
		"file": {
			"name": "lookup-tables-openapi.yaml",
			"size": 0,
			"path": "prime-router/docs/api/lookup-tables-openapi.yaml",
			"byteSize": 6665,
			"content": "openapi: \"3.0.2\"\ninfo:\n  title: ReportStream Lookup Table Management API\n  description: Fetches and manipulates lookup tables in ReportStream\n  version: \"1.0\"\n  contact:\n    name: USDS at Centers for Disease Control and Prevention\n    url: https://open.cdc.gov\n    email: usds@cdc.gov\n\npaths:\n  /api/lookuptables/list:\n    get:\n      description: Fetch the list lookup tables\n      security:\n        - OAuth2: [ user ]\n      parameters:\n        - name: showInactive\n          in: query\n          description: Set to true to include inactive tables\n          schema:\n            type: boolean\n      responses:\n        '200':\n          description: The list of tables with version information\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TableVersionArray'\n        '400':\n          description: if there was an error fetching the list of tables\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n\n  /api/lookuptables/{tableName}:\n    post:\n      description: Create a new version of a lookup table.  First versions of a table\n        are automatically activated.\n      security:\n        - OAuth2: [ system_admin ]\n      parameters:\n        - name: tableName\n          in: path\n          description: Name of new lookup table\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: An array of objects that list the table's rows.\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DynamicTableRows'\n      responses:\n        '200':\n          description: The table was created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TableVersionInfo'\n        '400':\n          description: if there was an error creating the table\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n\n  /api/lookuptables/{tableName}/{tableVersion}/content:\n    get:\n      description: Fetch the contents of a specific version of a table\n      security:\n        - OAuth2: [ user ]\n      parameters:\n        - name: tableName\n          in: path\n          description: Name of lookup table\n          required: true\n          schema:\n            type: string\n        - name: tableVersion\n          in: path\n          description: Version of specified table\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: The table contents\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/DynamicTableRows'\n        '404':\n          description: The table name and/or version was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n        '400':\n          description: if there was an error fetching the table data\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n\n  /api/lookuptables/{tableName}/{tableVersion}/info:\n    get:\n      description: Fetch the version information of a specific version of a table\n      security:\n        - OAuth2: [ user ]\n      parameters:\n        - name: tableName\n          in: path\n          description: Name of lookup table\n          required: true\n          schema:\n            type: string\n        - name: tableVersion\n          in: path\n          description: Version of specified table\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: The table version information\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TableVersionInfo'\n        '404':\n          description: The table name and/or version was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n        '400':\n          description: if there was an error fetching the table data\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n\n  /api/lookuptables/{tableName}/{tableVersion}/activate:\n    put:\n      description: Activate a specific version of a table.  This endpoint does not take a request body.\n      security:\n        - OAuth2: [ system_admin ]\n      parameters:\n        - name: tableName\n          in: path\n          description: Name of lookup table\n          required: true\n          schema:\n            type: string\n        - name: tableVersion\n          in: path\n          description: Version of specified table\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: The table version information\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TableVersionInfo'\n        '404':\n          description: The table name and/or version was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n        '400':\n          description: if there was an error fetching the table data\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorMsg'\n\ncomponents:\n  schemas:\n    DynamicTableRows:\n      description: An ordered array with the table rows\n      type: array\n      items:\n        type: object\n        description: Dynamic JSON object with all columns of a table row\n        example: { \"FIPS\": \"01001\",\"County\": \"Autauga\",\"State\": \"AL\" }\n\n    TableVersionArray:\n      description: A table version information\n      type: array\n      items:\n        $ref: '#/components/schemas/TableVersionInfo'\n\n    TableVersionInfo:\n      description: A table version information\n      type: object\n      properties:\n        tableName:\n          type: string\n        tableVersion:\n          type: string\n        isActive:\n          type: boolean\n        createdBy:\n          type: string\n        createdAt:\n          type: string\n\n    ErrorMsg:\n      description: The error message\n      type: object\n      properties:\n        error:\n          type: string\n\n  securitySchemes:\n    OAuth2:\n      $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/security_schemes.yml#/OAuth2'\n"
		}
	},
	"Error": "buildIR: make ir: path \"/api/lookuptables/list\": get: security: security \"OAuth2\" (index 0): unknown security type \"\""
}