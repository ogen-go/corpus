{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/amosproj/amos2021ws06-exp-similarity-detector"
		},
		"file": {
			"name": "backend_api.yaml",
			"size": 0,
			"path": "Code/API/backend_api.yaml",
			"byteSize": 14150,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: \"1.0.0\"\n  title: \"Similarity Detector API\"\n  license:\n    name: \"MIT\"\n  description: \"OpenAPI specification for the Similarity Detector API\"\nservers:\n  - url: https://apim-similarity-detector.azure-api.net/v1\n    description: Azure Backend\n\npaths:\n  # general data access\n  /componentTypes:\n    description: \"highest level in hierarchy, representing different component categories\"\n    get:\n      operationId: ReadComponentTypes\n      tags:\n        - \"component types\"\n      summary: \"List of component types\"\n      description: \"Highest level in hierarchy, representing different component categories\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/componentTypesList\"\n              example:\n                result:\n                  - name: \"capacitators\"\n                    displayName: \"Capactitors\"\n                    tableName: \"capacitor\"\n                  - name: \"powerSupplies\"\n                    displayName: \"Power Supplies\"\n                    tableName: \"powerSupply\"\n        \"500\":\n          description: \"internal server error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n  /componentTypes/{componentType}:\n    get:\n      operationId: ReadComponents\n      tags:\n        - \"components\"\n      summary: \"List of components with ID and name\"\n      description: \"Return list of ids and names of all componentTypes in componentType\"\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/componentsListLowDetail\"\n              example:\n                result:\n                  - id: 243589\n                    name: \"Yageo SE025M1000A5S-1019 Elektrolyt-Kondensator\"\n                  - id: 298293\n                    name: \"Julse LO025M1000A5S-2999 Elektrolyt-Kondensator\"\n        \"404\":\n          description: \"unknown component type\"\n\n        \"500\":\n          description: \"internal server error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n    post:\n      operationId: CreateComponent\n      tags:\n        - \"components\"\n      summary: \"Creates new component in DB\"\n      description: \"Create new component for component type in database\"\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n      requestBody:\n        description: component to be added\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/suggestedComponentDatabase\"\n      responses:\n        \"404\":\n          description: \"unknown component type\"\n\n        \"201\":\n          description: component transmitted successfully\n          content:\n            text/plain:\n              schema:\n                type: integer\n\n        \"409\":\n          description: malformatted user input\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n        \"500\":\n          description: internal server error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n  /componentTypes/{componentType}/{componentId}:\n    get:\n      operationId: ReadComponent\n      tags:\n        - \"component\"\n      summary: \"Object with all attributes from component\"\n      description: \"Return info as object with all attributes and values for a single component\"\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n        - $ref: \"#/components/parameters/componentId\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/singleComponentHighDetail\"\n              example:\n                result:\n                  id: 298293\n                  name: \"Julse LO025M1000A5S-2999 Elektrolyt-Kondensator\"\n                  numberOfTerminals: 343\n                  height: 239.2493\n                  voltage: 0.3\n                  maximumDissipationFactor: 42.23\n\n        \"404\":\n          description: \"id not found within component type\"\n\n        \"500\":\n          description: \"internal server error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n  /componentTypes/{componentType}/{componentId}/similarities:\n    # corresponds to user story 1\n    # contains filtering functionality necessary for user story 3\n    get:\n      operationId: ReadSimilarities\n      tags:\n        - \"similarities\"\n      summary: \"List of similar components\"\n      description: \"Return list of similar components to the component with the requested ID\"\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n        - $ref: \"#/components/parameters/componentId\"\n        - $ref: \"#/components/parameters/filters\"\n        - $ref: \"#/components/parameters/ordering\"\n        - $ref: \"#/components/parameters/differenceInAsString\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/similariesOfSomeComponent\"\n              example:\n                result:\n                  - component_id_1: 948394\n                    component_id_2: 943482\n                    comment: \"oof\"\n                    differenceIn:\n                      - \"height\"\n                      - \"weight\"\n                    type: \"A\"\n                  - component_id_1: 948394\n                    component_id_2: 345235\n                    comment: \"big oof\"\n                    differenceIn:\n                      - \"Microwave\"\n                      - \"Technology\"\n                    type: \"C\"\n        \"500\":\n          description: \"internal server error\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n    # corresponds to user story 5\n    post:\n      operationId: CreateSimilarity\n      tags:\n        - \"similarities\"\n      summary: \"Creates similarity suggestion in DB\"\n      description: \"Via this endpoint, users can suggest results for a similarity query they did\"\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n        - $ref: \"#/components/parameters/componentId\"\n      requestBody:\n        description: the suggested component\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/suggestedComponentRetraining\"\n            example:\n              component_id_2: 40596\n              user_comment: \"should be also shown as similar component as it only differs in height\"\n      responses:\n        \"201\":\n          description: comment transmitted successfully\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/suggestedComponentRetrainingResult\"\n\n        \"404\":\n          description: \"unknown component type\"\n        \"409\":\n          description: malformatted user input\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n        \"500\":\n          description: internal server error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/errorMessage\"\n\n  /filter/{componentType}:\n    description: \"Get all attributes with their range\"\n    get:\n      parameters:\n        - $ref: \"#/components/parameters/componentType\"\n      # operationId: ReadRanges\n      tags:\n        - \"filter\"\n      summary: \"All attributes with range\"\n      description: \"Get a list with all attributes and with their name, type and range (values).\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            application/json:\n              example:\n                result:\n                  - name: \"id\"\n                    type: \"float\"\n                    values: [1, 99]\n                  - name: \"height\"\n                    type: \"float\"\n                    values: [0.9474737, 3.47346363]\n\n  /docs:\n    get:\n      operationId: ReadDocs\n      tags:\n        - documentation\n      summary: \"OpenAPI Swagger UI\"\n      description: \"Returns the HTML page containing the OpenAPI Swagger UI, which is an overview over all available endpoints\"\n      responses:\n        \"200\":\n          description: \"success\"\n          content:\n            text/html:\n              schema:\n                type: string\n\n  /openapi:\n    get:\n      operationId: ReadOpenApi\n      tags:\n        - documentation\n      summary: \"YAML file for the OpenAPI specification\"\n      description: \"Returns the YAML document that the OpenAPI Swagger UI is based on (this file)\"\n      responses:\n        \"200\":\n          description: \"success\"\n          content:\n            application/yaml:\n              schema:\n                type: object\n\n  /machineLearningMock:\n    description: \"Get a similarity response from the mocked ML model\"\n    post:\n      operationId: CreateMLMockModel\n      tags:\n        - \"machine learning\"\n      summary: \"Mocked ML API response\"\n      description: \"Similarity response (mocked)\"\n      security:\n        - bearerAuth: []\n      requestBody:\n        description: \"The complete component 1 and component 2 with all its attributes.\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/machineLearningInput\"\n            example:\n              component_1:\n                id: 1\n                name: \"Capacitor 1\"\n              component_2:\n                id: 2\n                name: \"Capacitor 2\"\n      responses:\n        \"200\":\n          description: success\n          content:\n            text/plain:\n              example: \"Similarity Type : B . Comment : Difference in : AEC _ QUALIFIED , Lead Finish , Product Height , Temp . \u003cEOS\u003e\"\n\ncomponents:\n  parameters:\n    componentType:\n      in: path\n      name: componentType\n      required: true\n      schema:\n        type: string\n\n    componentId:\n      in: path\n      name: componentId\n      required: true\n      schema:\n        type: integer\n\n    filters:\n      in: query\n      name: filters\n      required: false\n      schema:\n        $ref: \"#/components/schemas/filters\"\n\n    ordering:\n      in: query\n      name: ordering\n      required: false\n      schema:\n        $ref: \"#/components/schemas/ordering\"\n\n    differenceInAsString:\n      in: query\n      name: differenceInAsString\n      required: false\n      schema:\n        $ref: \"#/components/schemas/differenceInAsString\"\n\n  schemas:\n    componentTypesList:\n      type: object\n      properties:\n        result:\n          type: array\n          items:\n            type: object\n            properties:\n              name:\n                type: string\n              displayName:\n                type: string\n              tableName:\n                type: string\n\n    componentsListLowDetail:\n      type: object\n      properties:\n        result:\n          type: array\n          items:\n            type: object\n            properties:\n              id:\n                type: integer\n              name:\n                type: string\n\n    singleComponentHighDetail:\n      type: object\n      properties:\n        result:\n          type: object\n          properties:\n            id:\n              type: integer\n            name:\n              type: string\n            furtherAttributes:\n              type: string\n\n    similariesOfSomeComponent:\n      type: object\n      properties:\n        result:\n          type: array\n          items:\n            type: object\n            properties:\n              component_id_1:\n                type: integer\n              component_id_2:\n                type: integer\n              comment:\n                type: string\n              differenceIn:\n                type: array\n                items:\n                  type: string\n              type:\n                type: string\n                \n    filters:\n      type: array\n      items:\n        type: object\n        properties:\n          attribute:\n            type: string\n            example: price\n          operator:\n            type: string\n            example: \"\u003e\"\n          value:\n            type: string\n            example: \"10\"\n\n    ordering:\n      type: string\n      example: \"type\"\n\n    differenceInAsString:\n      type: boolean\n      example: true\n\n    # todo: change\n    suggestedComponentRetraining:\n      type: object\n      properties:\n        component_id_2:\n          type: integer\n        user_comment:\n          type: string\n\n    machineLearningInput:\n      type: object\n      properties:\n        component_1:\n          type: object\n        component_2:\n          type: object\n\n    suggestedComponentDatabase:\n      type: object\n      properties:\n        componentAttribute:\n          type: string\n\n    suggestedComponentRetrainingResult:\n      type: object\n      properties:\n        result:\n          type: object\n          properties:\n            id:\n              type: integer\n            component_id_1:\n              type: integer\n            component_id_2:\n              type: integer\n            user_comment:\n              type: string\n            # TODO: is type necessary here? should probably be called componentType to not confuse it with type from similarity\n            type:\n              type: string\n\n    errorMessage:\n      type: object\n      properties:\n        message:\n          type: string\n        statusCode:\n          type: string\n\n  securitySchemes:\n    bearerAuth:            # arbitrary name for the security scheme\n      type: http\n      scheme: bearer\n      bearerFormat: JWT \n"
		}
	},
	"Error": "buildIR: make ir: path \"/componentTypes/{componentType}/{componentId}/similarities\": get: parameters: fail: nested objects not allowed",
	"NotImplemented": [
		"unsupported content types"
	]
}