{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/hpi-schul-cloud/schulcloud-server"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "src/services/authentication/docs/openapi.yaml",
			"byteSize": 6044,
			"content": "security:\n  - jwtBearer: []\ninfo:\n  title: Schul-Cloud Authentication Service API\n  description:\n    This is the API specification for the Schul-Cloud Authentication service.\n    \n  contact:\n    name: support\n    email: info@dbildungscloud.de\n  license:\n    name: GPL-3.0\n    url: 'https://github.com/hpi-schul-cloud/schulcloud-server/blob/master/LICENSE'\n  version: 1.0.0\ncomponents:\n  securitySchemes:\n    jwtBearer:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n  schemas:\n    authentication_body:\n      description: Payload for an authentication request\n      properties:\n        strategy:\n            type: string\n            enum: ['local', 'ldap', 'moodle', 'iserv', 'tsp']\n        username:\n          type: string\n        password:\n          type: string\n        privateDevice:\n          type: boolean\n          description: when this is set, the user will remain logged in for longer when inactive.\n        systemId:\n          type: string\n          pattern: '^[0-9a-f]{24}$'\n        schoolId:\n          type: string\n          pattern: '^[0-9a-f]{24}$'\n      required:\n        - username\n        - password\n        - strategy\n    authentication_response:\n      description: Response for a successful authentication\n      properties:\n        accessToken:\n          type: string\n        account:\n          type: object\n          properties:\n            __v:\n              type: integer\n            _id:\n              type: string\n              pattern: '^[0-9a-f]{24}$'\n            activated:\n              type: boolean\n            createdAt:\n              type: string\n              format: date-time\n            lasttriedFailedLogin:\n              type: string\n              format: date-time\n            updatedAt:\n              type: string\n              format: date-time\n            userId:\n              type: string\n              pattern: '^[0-9a-f]{24}$'\n            username:\n              type: string\n        authentication:\n          type: object\n          properties:\n            strategy:\n              type: string\n              enum: ['local', 'ldap', 'moodle', 'iserv', 'tsp']\n    logout_response:\n      description: Response for a successful logout\n      properties:\n        accessToken:\n          type: string\n        account:\n          type: object\n          properties:\n            __v:\n              type: integer\n            _id:\n              type: string\n              pattern: '^[0-9a-f]{24}$'\n            createdAt:\n              type: string\n              format: date-time\n            lasttriedFailedLogin:\n              type: string\n              format: date-time\n            updatedAt:\n              type: string\n              format: date-time\n            userId:\n              type: string\n              pattern: '^[0-9a-f]{24}$'\n            username:\n              type: string\n        authentication:\n          type: object\n          properties:\n            strategy:\n              type: string\n              enum: ['jwt']\n            accessToken:\n              type: string\n            payload:\n              type: object\n              properties:\n                accountId:\n                  type: string\n                  pattern: '^[0-9a-f]{24}$'\n                userId:\n                  type: string\n                  pattern: '^[0-9a-f]{24}$'\n                schoolId:\n                  type: string\n                  pattern: '^[0-9a-f]{24}$'\n                roles:\n                  type: array\n                  items:\n                    type: string\n                    pattern: '^[0-9a-f]{24}$'\n                iat:\n                  type: integer\n                  description: unix timestamp of when the jwt was issued\n                exp:\n                  type: integer\n                  description: unix timestamp of when the jwt would have expired\n                aud:\n                  type: string\n                  description: audience of the token\n                  example: https://dbildungscloud.de\n                iss:\n                  type: string\n                  description: issuer of the token\n                  example: feathers\n                sub:\n                  type: string\n                  pattern: '^[0-9a-f]{24}$'\n                  description: subject of the token\n                jti:\n                  type: string\n                  description: unique identifier of the token\n        userId:\n          type: string\n          pattern: '^[0-9a-f]{24}$'\n\npaths:\n  /authentication:\n    post:\n      parameters: []\n      responses:\n        '201':\n          description: created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/authentication_response'\n            application/x-www-form-urlencoded:\n              schema:\n                $ref: '#/components/schemas/logout_response'\n        '401':\n          description: not authenticated\n        '500':\n          description: general error\n      description: Logs in the user based on authentication data.\n      summary: ''\n      tags:\n        - authentication\n      security: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/authentication_body'\n    delete:\n      responses:\n        '200':\n          description: success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/logout_response'\n            application/x-www-form-urlencoded:\n              schema:\n                $ref: '#/components/schemas/logout_response'\n        '401':\n          description: not authenticated\n        '404':\n          description: not found\n        '500':\n          description: general error\n      description: logs out the authenticating user, invalidating the jwt used for the call.\n      summary: ''\n      tags:\n        - authentication\n      security:\n        - jwtBearer: []\nopenapi: 3.0.2\ntags:\n  - name: authentication\n    description: A authentication service.\n\n\n",
			"canonicalURL": "/github.com/hpi-schul-cloud/schulcloud-server@00804831553d2010ac95fb91d5826731343bf073/-/blob/src/services/authentication/docs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/hpi-schul-cloud/schulcloud-server/blob/00804831553d2010ac95fb91d5826731343bf073/src/services/authentication/docs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: path \"/authentication\": post: responses: code 201: contents: media: \"application/x-www-form-urlencoded\": form parameter \"authentication\": field \"Payload\": nested objects not allowed"
}