{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ONDC-Official/protocol-network-extension"
		},
		"file": {
			"name": "settle.yaml",
			"size": 0,
			"path": "specifications/rsp/settle.yaml",
			"byteSize": 9136,
			"content": "openapi: 3.0.0\r\ninfo:\r\n  title: Settlement Advice for Settlement Agency\r\n  description: Settlement Agency API Specification\r\n  version: 0.3.0-draft\r\nsecurity:\r\n  - SubscriberAuth: []\r\npaths:\r\n  /settle:\r\n    post:\r\n      tags:\r\n        - SettlementAgency\r\n      description: settlement of payment for different receivers - called by RSP\r\n      requestBody:\r\n        description: RSP advising settlement agency to settle receiver payments\r\n        content:\r\n          application/json:\r\n            schema:\r\n              type: object\r\n              properties:\r\n                context:\r\n                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Context'\r\n                message:\r\n                  type: object\r\n                  properties:\r\n                    settlement:\r\n                      $ref: '#/components/schemas/Settlement'\r\n              required:\r\n                - context\r\n                - message.settlement.settlements.collector_app_id\r\n                - message.settlement.settlements.receiver_app_id\r\n                - message.settlement.settlements.payer_name\r\n                - message.settlement.settlements.payer_address\r\n                - message.settlement.settlements.payer_account_no\r\n                - message.settlement.settlements.payer_bank_code\r\n                - message.settlement.settlements.curr_type\r\n                - message.settlement.settlements.amount\r\n                - message.settlement.settlements.timestamp\r\n                - message.settlement.settlements.payee_name\r\n                - message.settlement.settlements.payee_address\r\n                - message.settlement.settlements.payee_account_no\r\n                - message.settlement.settlements.payee_bank_code\r\n                - message.settlement.settlements.payment_type\r\n                - message.settlement.settlements.purpose_code\r\n                - message.settlement.settlements.payee_account_type\r\n                - message.settlement.settlements.settlement_id\r\n      responses:\r\n        '200':\r\n          description: Acknowledgement of message received\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: object\r\n                properties:\r\n                  message:\r\n                    type: object\r\n                    properties:\r\n                      ack:\r\n                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Ack'\r\n                    required:\r\n                      - ack\r\n                  error:\r\n                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Error'\r\n                required:\r\n                  - message\r\n\r\ncomponents:\r\n  securitySchemes:\r\n    SubscriberAuth:\r\n      type: apiKey\r\n      in: header\r\n      name: Authorization\r\n      description: 'Signature of message body using Collector or Receiver subscriber''s signing public key. \u003cbr/\u003e\u003cbr/\u003eFormat:\u003cbr/\u003e\u003cbr/\u003e\u003ccode\u003eAuthorization : Signature keyId=\"{subscriber_id}|{unique_key_id}|{algorithm}\",algorithm=\"ed25519\",created=\"1606970629\",expires=\"1607030629\",headers=\"(created) (expires) digest\",signature=\"Base64(signing string)\"\u003c/code\u003e'\r\n  schemas:\r\n    Settlement:\r\n      description: Settlement details\r\n      type: object\r\n      properties:\r\n        settlements:\r\n          type: array\r\n          items:\r\n            type: object\r\n            properties:\r\n              collector_app_id:\r\n                type: string\r\n                description: Subscriber Id of the Payer\r\n                example: \"abc.collectorapp.com\"\r\n              receiver_app_id:\r\n                type: string\r\n                description: Subscriber Id of the Payee\r\n                example: \"abc.receiverapp.com\"\r\n              payer_name:\r\n                type: string\r\n                description: \"Payer name\"\r\n                example: \"“Example1 company Pvt. Ltd\"\r\n              payer_address:\r\n                $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Address/properties/full'\r\n              payer_account_no:\r\n                type: number\r\n                description: \"Debit Account Number of the client, used when client maintains multiple debit accounts with bank\"      \r\n                example: 509424924294248\r\n              payer_bank_code:\r\n                type:  string\r\n                description: \"Bank Code of Payee e.g. IFSC code\"\r\n                example: “HDFC0000000”\r\n              payer_virtual_payment_address:\r\n                type: string\r\n                pattern: '^([a-zA-Z0-9]{2,10})@([a-zA-Z0-9]{2,10})'\r\n                example: \"80abc@abctMh2h\"\r\n              curr_type: \r\n                $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Price/properties/currency'\r\n              amount:\r\n                $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Price'\r\n              timestamp:\r\n                type: string\r\n                format: date-time\r\n                example: \"2022-10-18T16:14:40.396Z\"\r\n              payee_name:\r\n                type: string\r\n                description: \"Payee name\"\r\n                example: \"A to Z Printing Solutions Pvt. Ltd\"\r\n              payee_address:\r\n                $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Address/properties/full'\r\n              payee_account_no:\r\n                type: string\r\n                description: \"Account number of the beneficiary which is to be credited. Without special charcters and can be alpha numeric\"\r\n                example: \"99679007677676\"\r\n              payee_bank_code:\r\n                type:  string\r\n                description: \"Bank Code of Payee e.g. IFSC code\"\r\n                example: \"HDFC900008\"\r\n              payee_virtual_payment_address:\r\n                type: string\r\n                pattern: '^([a-zA-Z0-9]{2,10})@([a-zA-Z0-9]{2,10})'\r\n                example: \"receiver@upi\"\r\n              payment_type:\r\n                description: \"Payment type allocated by the bank\"\r\n                enum:\r\n                  - \"01\"\r\n                  - \"02\"\r\n                  - \"03\"\r\n                  - \"04\"\r\n                  - \"05\"\r\n              purpose_code:\r\n                type: string\r\n                maxLength: 10\r\n                description: \"For RTGS / IFT transaction it should contain CMS and for NEFT it should be OTH\"\r\n                enum:\r\n                  - \"01\"\r\n                  - \"02\"\r\n              payee_account_type:\r\n                type: string\r\n                description: \"Type of Beneficiary Account\"\r\n                enum:\r\n                - \"01\"\r\n                - \"02\"\r\n                - \"03\"\r\n              remarks:\r\n                $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Descriptor'\r\n              settlement_id:\r\n                type: string\r\n                description: \"Unique identifier for each settlement\"\r\n                example: \"121313\"\r\n              state:\r\n                type: string\r\n                description: settlement state\r\n                enum:\r\n                  - \"01\"\r\n                  - \"02\"\r\n                  - \"03\"\r\n              prev_settlement_reference_no:\r\n                type: array\r\n                description: \"Array of all previous UTR references against which settlement for this order was done\"\r\n                example: [\"1234ABCD\",\"2345qwer\"]\r\n                items:\r\n                  type: string\r\n              settlement_reference_no:\r\n                type: string\r\n                description: \"Reference number, incase of successful settlement\"\r\n                example: \"3718683618631\"\r\n              error_code:\r\n                type: string\r\n                description: \"Error Message Code, to be provided by bank. Only required if settlement_status = 03\"\r\n                enum:\r\n                  - \"01\"\r\n                  - \"02\"\r\n                  - \"03\"\r\n                  - \"04\"\r\n              error_message:\r\n                type: string\r\n                description: Message for error on settlement. Only required if settlement_status = \"03\"\r\n                example: \"Account not active or not found\"\r\n            required:\r\n              - collector_app_id\r\n              - receiver_app_id\r\n              - payer_name\r\n              - payer_address\r\n              - payer_account_no\r\n              - payer_bank_code\r\n              - curr_type\r\n              - amount\r\n              - timestamp\r\n              - payee_name\r\n              - payee_address\r\n              - payee_account_no\r\n              - payee_bank_code\r\n              - payment_type\r\n              - purpose_code\r\n              - payee_account_type\r\n              - settlement_id\r\n",
			"canonicalURL": "/github.com/ONDC-Official/protocol-network-extension@c2b8f72ef62fbba40ba6d952969253a8b6557581/-/blob/specifications/rsp/settle.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/ONDC-Official/protocol-network-extension/blob/c2b8f72ef62fbba40ba6d952969253a8b6557581/specifications/rsp/settle.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: operations: path \"/settle\": post: requestBody: contents: media: \"application/json\": generate schema: save schema types: save referenced type: reference \"https://raw.githubusercontent.com/beckn/protocol-specifications/draft/core/v0/api/core.yaml#/components/schemas/Country/properties/code\" type name conflict: \"Code\""
}