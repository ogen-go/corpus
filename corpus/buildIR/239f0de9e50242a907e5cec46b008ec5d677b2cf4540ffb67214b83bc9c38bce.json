{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/PaloAltoNetworks/prisma.pan.dev"
		},
		"file": {
			"name": "LicensingV2.yaml",
			"size": 0,
			"path": "static/oas/cspm/LicensingV2.yaml",
			"byteSize": 15063,
			"content": "openapi: 3.0.1\ninfo:\n  title: Prisma Cloud License V2 API Overview\n  description: The Prisma Cloud License endpoints enable you to query your Prisma Cloud usage.\n  version: Latest\n  contact: {}\ntags:\n- name: Licensing \nservers:\n  - url: 'https://api.prismacloud.io'\npaths:\n  /license/api/v1/usage/time_series:\n    post:\n      tags:\n        - Licensing\n      summary: Resource Usage Over Time\n      description: Get a breakdown of resource usage over time.\n      operationId: license-usage-graph\n      requestBody:\n        content:\n          application/json; charset=UTF-8:\n            schema:\n              $ref: '#/components/schemas/AccountListRequestModel'\n        required: true\n      responses:\n        '200':\n          description: Successful operation\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/ResourceUsageGraphResponse'\n        '400':\n          description: invalid_parameter_value\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n        '403':\n          description: Forbidden\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n        '500':\n          description: internal_error\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n      security:\n        - x-redlock-auth: []\n  /license/api/v1/usage:\n    post:\n      tags:\n        - Licensing\n      summary: Usage Count By Cloud Type\n      description: |\n        Returns a breakdown of resources used per account for a single cloud type. \n\n\n        You can request usage data in one of the following formats;\n        * Receive paginated usage data in the response object \n        * Download usage data in a CSV file\n\n\n        By default, you will receive your paginated usage data in the response object. You can control the number of items in the \n        response object through the **limit** request body parameter. If data beyond what's in the response object is available,\n        the response object attribute **nextPageToken** will provide a token you can set in the request parameter **pageToken** of your\n        next request to get the next page of usage data.\n\n\n        To download the usage data in a CSV file, set the following:\n        * Request header: **Accept: application/octet-stream**\n        * Request body parameter: **csvHeaderRequired** = **true**.\n\n\n        The following example curl command requests usage data in a CSV file:\n\n        ```bash\n        curl --location --request POST 'https://api.prismacloud.io/license/api/v1/usage' \\\n        --header 'x-redlock-auth:\u003cyour JWT\u003e' \\\n        --header 'Content-Type: application/json' \\\n        --header 'Accept: application/octet-stream' \\\n        --data-raw '{\n            \"timeRange\": {\n                \"type\": \"relative\",\n                \"value\": {\n                    \"amount\": 1,\n                    \"unit\": \"month\"\n                }\n            },\n            \"accountIds\": [\n                \"123456789987\", \n                \"987654321123\"\n            ],\n            \"cloudType\": \"AWS\",\n            \"csvHeaderRequired\": true\n        }'\n        ````\n        \n      operationId: get-license-usage\n      parameters:\n        - name: cloud_type\n          in: query\n          required: true\n          schema:\n            type: string\n      requestBody:\n        content:\n          application/json; charset=UTF-8:\n            schema:\n              $ref: '#/components/schemas/LicenseRequestModel'\n        required: true\n      responses:\n        '200':\n          description: Successful operation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/LicenseResponseModel'\n            'application/octet-stream':\n              schema:\n                $ref: '#/components/schemas/CsvMessage'\n        '400':\n          description: invalid_parameter_value\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n        '403':\n          description: Forbidden\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n        '500':\n          description: internal_error\n          content:\n            application/json; charset=UTF-8:\n              schema:\n                $ref: '#/components/schemas/SpringErrorResponse'\n      security:\n        - x-redlock-auth: []\ncomponents:\n  schemas:\n    AbsoluteTimeRangeConfigModel:\n      allOf:\n        - $ref: \"#/components/schemas/TimeRangeConfigModel\"\n        - type: object\n          required:\n            - value\n          properties:\n            type:\n              type: string\n              example: absolute\n            value:\n              $ref: \"#/components/schemas/TimeModel\"\n          description: Model for AbsoluteTimeRangeConfig\n    CsvMessage:\n      type: object\n      properties:\n        headerComments:\n          type: array\n          description: List of header comments\n          items:\n            type: string\n            description: List of header comments\n        headers:\n          type: array\n          description: List of headers\n          items:\n            type: string\n            description: List of headers\n        rows:\n          type: array\n          description: List of rows\n          items:\n            type: array\n            description: List of rows\n            items:\n              type: string\n              description: List of rows\n      description: Model for CsvMessage\n    SpringErrorResponse:\n      required:\n        - error\n        - message\n        - path\n        - status\n        - timestamp\n      type: object\n      properties:\n        timestamp:\n          type: string\n          description: timestamp\n        status:\n          type: integer\n          description: Http status\n          format: int32\n        error:\n          type: string\n          description: Error message\n        message:\n          type: string\n          description: Error message\n        path:\n          type: string\n          description: Request path\n      description: Error Response\n    AccountListRequestModel:\n      required:\n        - accountIds\n        - timeRange\n      type: object\n      properties:\n        accountIds:\n          type: array\n          description: List of account IDs\n          items:\n            type: string\n            description: Each item is an account ID\n        limit:\n          type: integer\n          description: Limit of items per request. Default is 1000.\n          format: int32\n          example: 100\n        timeRange:\n          $ref: '#/components/schemas/TimeRangeConfigModel'\n        cloudType:\n          type: string\n          description: Cloud type values\n          enum:\n            - aws\n            - azure\n            - gcp\n            - alibaba_cloud\n            - oci\n        csvHeaderRequired:\n          type: boolean\n          description: CSV file header\n          example: true\n      description: Model for AccountListRequest\n    RelativeTimeRangeConfigModel:\n      allOf:\n        - $ref: \"#/components/schemas/TimeRangeConfigModel\"\n        - type: object\n          required:\n            - value\n          properties:\n            type:\n              type: string\n              example: relative\n            value:\n              $ref: \"#/components/schemas/RelativeTimeDurationModel\"\n            relativeTimeType:\n              type: string\n              description: Direction in which to count time. Default = BACKWARD\n              enum:\n                - BACKWARD\n                - FORWARD\n          description: Model for RelativeTimeRangeConfig\n    RelativeTimeDurationModel:\n      description: Model for RelativeTimeDuration\n      properties:\n        amount:\n          description: Number of time units\n          example: 5\n          format: int32\n          type: integer\n        unit:\n          description: Time unit\n          example: day\n          enum:\n          - minute\n          - hour\n          - day\n          - week\n          - month\n          - year\n          type: string\n      type: object     \n    GraphDataPoint:\n      type: object\n      properties:\n        timeRange:\n          $ref: '#/components/schemas/TimeRange'\n        countsByCloudType:\n          type: object\n          description: Graph resource usage by cloud type\n          additionalProperties:\n            type: object\n            additionalProperties:\n              type: integer\n              format: int32\n          writeOnly: true\n        counts:\n          type: object\n          description: Graph resource usage count\n          additionalProperties:\n            type: object\n            additionalProperties:\n              type: integer\n              format: int32\n      description: Graph GraphDataPoint points\n    ResourceUsageGraphResponse:\n      type: object\n      properties:\n        dataPoints:\n          type: array\n          description: Graph GraphDataPoint points\n          items:\n            $ref: '#/components/schemas/GraphDataPoint'\n        workloadsPurchased:\n          type: integer\n          description: Purchased workload count\n          format: int32\n        timeUnit:\n          type: string\n          description: Returned data time unit\n          enum:\n            - minute\n            - hour\n            - day\n            - week\n            - month\n            - year\n            - epoch\n            - login\n        availableAsOf:\n          type: integer\n          description: Selected data end time in milliseconds\n          format: int64\n      description: Graph resource usage\n    TimeRange:\n      required:\n        - endTime\n        - startTime\n      type: object\n      properties:\n        startTime:\n          type: object\n          properties:\n            empty:\n              type: boolean\n            present:\n              type: boolean\n            asLong:\n              type: integer\n              format: int64\n          description: Start time im milliseconds\n        endTime:\n          type: object\n          properties:\n            empty:\n              type: boolean\n            present:\n              type: boolean\n            asLong:\n              type: integer\n              format: int64\n          description: End time im milliseconds\n      description: Time range\n    Account:\n      type: object\n      description: Account\n      properties:\n        name:\n          type: string\n          description: Account name\n        id:\n          type: string\n          description: AccountID\n    Item:\n      type: object\n      properties:\n        total:\n          type: integer\n          description: Total\n          format: int32\n        account:\n          $ref: '#/components/schemas/Account'\n        resourceTypeCount:\n          type: object\n          description: Resource type count\n          additionalProperties:\n            type: object\n      description: \u003e-\n        List of items. Each item contains the cloud account name and workload\n        count of resource type\n    LicenseResponseModel:\n      type: object\n      properties:\n        totalRows:\n          type: integer\n          description: Total number of rows for the query\n          format: int64\n        nextPageToken:\n          type: string\n          description: Token to be used for next page call\n        items:\n          type: array\n          description: \u003e-\n            List of items. Each item contains cloud account name and the\n            workload count of resource type\n          items:\n            $ref: '#/components/schemas/Item'\n        stats:\n          $ref: '#/components/schemas/Stats'\n      description: Model containing Paginated License response\n    Stats:\n      type: object\n      properties:\n        stats:\n          type: object\n          additionalProperties:\n            type: integer\n            format: int32\n      description: \u003e-\n        Statistics to be shown. This contains the total workload per resource\n        type\n    LicenseRequestModel:\n      required:\n        - accountIds\n        - timeRange\n      type: object\n      properties:\n        accountIds:\n          type: array\n          description: List of account IDs\n          items:\n            type: string\n            description: List of account IDs\n        limit:\n          type: integer\n          description: Limit no of records per request\n          format: int32\n          example: 10\n        timeRange:\n          $ref: '#/components/schemas/TimeRangeConfigModel'\n        cloudType:\n          type: string\n          description: Cloud type values\n          enum:\n            - aws\n            - azure\n            - gcp\n            - alibaba_cloud\n            - oci\n        csvHeaderRequired:\n          type: boolean\n          description: CSV file header\n          example: true\n        pageToken:\n          type: string\n          description: Page token for pagination\n        offset:\n          type: integer\n          description: Offset\n          format: int64\n      description: Model for LicenseRequest\n    TimeModel:\n      description: Model for Time\n      properties:\n        endTime:\n          description: End timestamp\n          format: int64\n          type: integer\n          example: 1504794533000\n        startTime:\n          description: Start timestamp\n          format: int64\n          type: integer\n          example: 1504448933000\n      type: object\n    TimeRangeConfigModel:\n      type: object\n      required:\n      - type\n      description: |\n        See the [Time Range Model](/api/cloud/api-time-range-model) for details.\n      discriminator:\n        propertyName: type\n        mapping:\n          relative: '#/components/schemas/RelativeTimeRangeConfigModel'\n          absolute: '#/components/schemas/AbsoluteTimeRangeConfigModel'\n          to_now: '#/components/schemas/ToNowTimeRangeConfigModel'\n      oneOf:\n      - $ref: '#/components/schemas/RelativeTimeRangeConfigModel'\n      - $ref: '#/components/schemas/AbsoluteTimeRangeConfigModel'\n      - $ref: '#/components/schemas/ToNowTimeRangeConfigModel'\n      properties:\n        type:\n          type: string\n          description: Time type\n    ToNowTimeRangeConfigModel:\n      allOf:\n      - $ref: '#/components/schemas/TimeRangeConfigModel'\n      - description: Model for ToNowTimeRangeConfig\n        properties:\n          value:\n            description: Time range object\n            example: DAY\n            enum:\n            - MINUTE\n            - HOUR\n            - DAY\n            - WEEK\n            - MONTH\n            - YEAR\n            - EPOCH\n            - LOGIN\n            type: string\n        type: object\n  securitySchemes:\n    x-redlock-auth:\n      description: The x-redlock-auth value is a JSON Web Token (JWT).\n      in: header\n      name: x-redlock-auth\n      type: apiKey\n",
			"canonicalURL": "/github.com/PaloAltoNetworks/prisma.pan.dev@3687b36ae9b024761f9a714baa1622d170b564dc/-/blob/static/oas/cspm/LicensingV2.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/PaloAltoNetworks/prisma.pan.dev/blob/3687b36ae9b024761f9a714baa1622d170b564dc/static/oas/cspm/LicensingV2.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: path \"/license/api/v1/usage\": post: requestBody: contents: application/json; charset=UTF-8: generate schema: field timeRange: oneOf: oneOf \"#/components/schemas/TimeRangeConfigModel\" [0]: allOf \"#/components/schemas/RelativeTimeRangeConfigModel\" [0]: reference \"#/components/schemas/TimeRangeConfigModel\" [0] leads to infinite recursion"
}