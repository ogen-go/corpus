{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/samtools/hts-specs"
		},
		"file": {
			"name": "htsget-openapi.yaml",
			"size": 0,
			"path": "pub/htsget-openapi.yaml",
			"byteSize": 23031,
			"content": "openapi: 3.0.3\nservers:\n  - description: htsget genomics api\n    url: htsget/1\ninfo:\n  description: This data retrieval API bridges from existing genomics bulk data transfers to a client/server model\n  version: 1.3.0\n  title: htsget\n  contact:\n    name: GA4GH\n    email: security-notification@ga4gh.org\nexternalDocs:\n  description: htsget specification\n  url: https://samtools.github.io/hts-specs/htsget.html\npaths:\n  /reads/{id}:\n    get:\n      summary: Gets the reads from a pre-indexed id\n      operationId: searchReadId\n      description: |\n        Searches a pre-indexed object id\n      parameters:\n        - $ref: '#/components/parameters/idPathParam'\n        - in: query\n          name: format\n          required: false\n          schema:\n            $ref: '#/components/schemas/FormatReads'\n        - $ref: '#/components/parameters/classParam'\n        - $ref: '#/components/parameters/referenceNameParam'\n        - $ref: '#/components/parameters/startParam'\n        - $ref: '#/components/parameters/endParam'\n        - in: query\n          name: fields\n          required: false\n          schema:\n            $ref: '#/components/schemas/FieldsReads'\n        - in: query\n          name: tags\n          required: false\n          schema:\n            $ref: '#/components/schemas/TagsReads'\n        - in: query\n          name: notags\n          required: false\n          schema:\n            $ref: '#/components/schemas/NoTagsReads'\n\n      responses:\n        200:\n          description: results matching criteria\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetResponseReads'\n        400:\n          $ref: '#/components/responses/400BadRequestResponse'\n        401:\n          $ref: '#/components/responses/401UnauthorizedResponse'\n        403:\n          $ref: '#/components/responses/403ForbiddenResponse'\n        404:\n          $ref: '#/components/responses/404NotFoundResponse'\n        500:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n        default:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n\n      security:\n        - htsget_auth:\n          - read:genomic_reads\n    \n    post:\n      summary: Get htsget ticket for reads data streaming\n      operationId: postRead\n      description: |\n        Servers may optionally accept `POST` requests to enable alignment data\n        streaming of more than one genomic region \n      parameters:\n        - $ref: '#/components/parameters/idPathParam'\n      requestBody:\n        description: Specify output format, fields, genomic regions, etc.\n        required: false\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RequestBodyReads'\n      responses:\n        200:\n          description: Successfully retrieved ticket for streaming alignment file\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetResponseReads'\n        400:\n          $ref: '#/components/responses/400BadRequestResponse'\n        401:\n          $ref: '#/components/responses/401UnauthorizedResponse'\n        403:\n          $ref: '#/components/responses/403ForbiddenResponse'\n        404:\n          $ref: '#/components/responses/404NotFoundResponse'\n        413:\n          $ref: '#/components/responses/413PayloadTooLargeResponse'\n        500:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n        default:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n\n  /variants/{id}:\n    get:\n      summary: Gets the variants from a pre-indexed id\n      operationId: searchVariantId\n      description: Searches a pre-indexed object id\n      parameters:\n        - $ref: '#/components/parameters/idPathParam'\n        - in: query\n          name: format\n          required: false\n          schema:\n            $ref: '#/components/schemas/FormatVariants'\n        - $ref: '#/components/parameters/classParam'\n        - $ref: '#/components/parameters/referenceNameParam'\n        - $ref: '#/components/parameters/startParam'\n        - $ref: '#/components/parameters/endParam'\n        - in: query\n          name: tags\n          required: false\n          schema:\n            $ref: '#/components/schemas/TagsVariants'\n        - in: query\n          name: notags\n          required: false\n          schema:\n            $ref: '#/components/schemas/NoTagsVariants'\n\n      responses:\n        200:\n          description: results matching criteria\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetResponseVariants'\n        400:\n          $ref: '#/components/responses/400BadRequestResponse'\n        401:\n          $ref: '#/components/responses/401UnauthorizedResponse'\n        403:\n          $ref: '#/components/responses/403ForbiddenResponse'\n        404:\n          $ref: '#/components/responses/404NotFoundResponse'\n        500:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n        default:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n\n      security:\n        - htsget_auth:\n          - read:genomic_variants\n    \n    post:\n      summary: Get htsget ticket for variant data streaming\n      operationId: postVariant\n      description: |\n        Servers may optionally accept `POST` requests to enable variant data\n        streaming of more than one genomic region.\n      parameters:\n        - $ref: '#/components/parameters/idPathParam'\n      requestBody:\n        description: Specify output format, genomic regions, etc.\n        required: false\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RequestBodyVariants'\n      responses:\n        200:\n          description: Successfully retrieved ticket for streaming variant file\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetResponseVariants'\n        400:\n          $ref: '#/components/responses/400BadRequestResponse'\n        401:\n          $ref: '#/components/responses/401UnauthorizedResponse'\n        403:\n          $ref: '#/components/responses/403ForbiddenResponse'\n        404:\n          $ref: '#/components/responses/404NotFoundResponse'\n        413:\n          $ref: '#/components/responses/413PayloadTooLargeResponse'\n        500:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n        default:\n          $ref: '#/components/responses/500InternalServerErrorResponse'\n\n  /reads/service-info:\n    get:\n      summary: Get htsget reads API service info\n      description: Retrieves GA4GH Service Info, and htsget reads API features supported by the web service\n      operationId: readsServiceInfo\n      responses:\n        '200':\n          description: displays configuration of htsget service reads API\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetServiceInfo'\n        '500':\n          description: Internal Server Error\n  /variants/service-info:\n    get:\n      summary: Get htsget variants API service info\n      description: Retrieves GA4GH Service Info, and htsget variants API features supported by the web service\n      operationId: variantsServiceInfo\n      responses:\n        '200':\n          description: displays configuration of htsget service variants API\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/htsgetServiceInfo'\n        '500':\n          description: Internal Server Error\n\ncomponents:\n  schemas:\n    htsgetResponse:\n      type: object\n      required:\n        - htsget\n      properties:\n        htsget:\n          type: object\n          description: Container for response object\n          required:\n            - format\n          properties:\n            format:\n              type: string\n              description: Response data is in this format\n            md5:\n              type: string\n              description: MD5 digest of the blob resulting from concatenating all of the payload data\n              example: 8a6049fad4943ff4c6de5c22df97d001\n    \n    htsgetResponseReads:\n      allOf:\n        - $ref: '#/components/schemas/htsgetResponse'\n        - properties:\n            htsget:\n              properties:\n                format:\n                  example: BAM\n                  enum: [BAM, CRAM]\n                urls:\n                  type: array\n                  description: An array providing URLs from which raw alignment data can be retrieved\n                  items:\n                    $ref: '#/components/schemas/htsgetUrlReads'\n              required:\n                - urls\n    \n    htsgetResponseVariants:\n      allOf:\n        - $ref: '#/components/schemas/htsgetResponse'\n        - properties:\n            htsget:\n              properties:\n                format:\n                  example: VCF\n                  enum: [VCF, BCF]\n                urls:\n                  type: array\n                  description: An array providing URLs from which raw variant data can be retrieved\n                  items:\n                    $ref: '#/components/schemas/htsgetUrlVariants'\n              required:\n                - urls\n\n    htsgetUrl:\n      type: object\n      required:\n        - url\n      properties:\n        url:\n          type: string\n          description: URL to download data block\n        headers:\n          type: object\n          description: JSON object of key-value pairs representing HTTP headers. If supplied, the client MUST provide these as headers to the data download url\n        class:\n          type: string\n          description: Indicates whether the header or body of the requested file will be retrieved by this url\n          example: body\n          enum: [header, body]\n\n    htsgetUrlReads:\n      allOf:\n        - $ref: '#/components/schemas/htsgetUrl'\n        - example:\n            - url: data:application/vnd.ga4gh.vcf;base64,QkFNAQ==\n            - url: https://htsget.blocksrv.example/sample1234/run1.bam\n              headers:\n                Authorization: Bearer xxxxx\n                Range: bytes=65536-1003750\n\n    htsgetUrlVariants:\n      allOf:\n        - $ref: '#/components/schemas/htsgetUrl'\n        - example:\n            - url: https://example.com/sample1234/run1.vcf\n\n    FormatReads:\n      type: string\n      description: Desired alignment file format\n      enum: [BAM, CRAM]\n      example: BAM\n      default: BAM\n    \n    FormatVariants:\n      type: string\n      description: Desired variant file format\n      enum: [VCF, BCF]\n      example: VCF\n      default: VCF\n\n    Class:\n      type: string\n      description: Request different classes of data. By default, i.e., when class is not specified, the response will represent a complete read or variant data stream, encompassing SAM/CRAM/VCF headers, body data records, and EOF marker\n      enum: [header]\n      example: header\n\n    ReferenceName:\n      type: string\n      description: Reference sequence name\n      example: chr1\n\n    Start:\n      type: integer\n      description: The start position of the range on the reference, 0-based, inclusive\n      format: int64\n      minimum: 0\n      example: 12312\n\n    End:\n      type: integer\n      description: The end position of the range on the reference, 0-based exclusive\n      format: int64\n      minimum: 0\n      example: 99999\n\n    Region:\n      type: object\n      description: A genomic region to return\n      properties:\n        referenceName:\n          $ref: '#/components/schemas/ReferenceName'\n        start:\n          $ref: '#/components/schemas/Start'\n        end:\n          $ref: '#/components/schemas/End'\n      required:\n        - referenceName\n\n    FieldsReads:\n      type: array\n      description: A list of SAM fields to include. By default, i.e., when fields is not specified, all fields will be included\n      items:\n        type: string        \n        example: [QNAME, RNAME]\n        enum:\n          - QNAME\n          - FLAG\n          - RNAME\n          - POS\n          - MAPQ\n          - CIGAR\n          - RNEXT\n          - PNEXT\n          - TLEN\n          - SEQ\n          - QUAL\n    \n    TagsReads:\n      type: array\n      description: A list of SAM tags to include. By default, i.e., when tags is not specified, all tags will be included\n      items:\n        type: string\n        example: [MD, NM]\n    \n    TagsVariants:\n      type: array\n      description: A list of tags to include, by default all\n      items:\n        type: string\n\n    NoTagsReads:\n      type: array\n      description: A list of SAM tags to exclude. By default, i.e., when notags is not specified, no tags will be excluded\n      items:\n        type: string\n        example: [OQ]\n    \n    NoTagsVariants:\n      type: array\n      description: A list of tags to exclude, default none\n\n    RequestBody:\n      type: object\n      properties:\n        regions:\n          type: array\n          description: A list of genomic regions to return. If not present, the entire file will be returned.\n          items:\n            $ref: '#/components/schemas/Region'\n\n    RequestBodyReads:\n      allOf:\n        - type: object\n          properties:\n            format:\n              $ref: '#/components/schemas/FormatReads'\n            class:\n              $ref: '#/components/schemas/Class'\n            fields:\n              $ref: '#/components/schemas/FieldsReads'\n            tags:\n              $ref: '#/components/schemas/TagsReads'\n            notags:\n              $ref: '#/components/schemas/NoTagsReads'\n        - $ref: '#/components/schemas/RequestBody'\n\n    RequestBodyVariants:\n      allOf:\n        - type: object\n          properties:\n            format:\n              $ref: '#/components/schemas/FormatVariants'\n            class:\n              $ref: '#/components/schemas/Class'\n            tags:\n              $ref: '#/components/schemas/TagsVariants'\n            notags:\n              $ref: '#/components/schemas/NoTagsVariants'\n        - $ref: '#/components/schemas/RequestBody'\n\n    ServiceInfo:\n      type: object\n      '$ref': https://raw.githubusercontent.com/ga4gh-discovery/ga4gh-service-info/v1.0.0/service-info.yaml#/components/schemas/Service\n    htsgetServiceInfo:\n      allOf:\n        - '$ref': '#/components/schemas/ServiceInfo'\n        - type: object\n          properties:\n            htsget:\n              type: object\n              description: extended attributes for htsget\n              properties:\n                datatype:\n                    type: string\n                    description: \u003e\n                      Indicates the htsget datatype category ('reads' or 'variants')\n                      served by the ticket endpoint related to this service-info\n                      endpoint\n                    enum: [reads, variants]\n                    example: reads\n                formats:\n                  type: array\n                  description: \u003e\n                    List of alignment or variant file formats supported\n                    by the htsget endpoint. If absent, clients cannot make \n                    assumptions about what formats are supported ahead\n                    of making a query.\n                  items:\n                    type: string\n                    enum: [BAM, CRAM, VCF, BCF]\n                fieldsParameterEffective:\n                  type: boolean\n                  description: \u003e\n                    Indicates whether the web service supports alignment field\n                    inclusion/exclusion via the `fields` parameter. If absent,\n                    clients cannot make assumptions about whether the `fields`\n                    parameter is effective ahead of making a query.\n                tagsParametersEffective:\n                  type: boolean\n                  description: \u003e\n                    Indicates whether the web service supports alignment tag\n                    inclusion/exclusion via the `tags` and `notags` parameters.\n                    If absent, clients cannot make assumptions about whether the\n                    `tags` and `notags` parameters are effective ahead of making\n                    a query.\n        - type: object\n          description: \u003e\n            This response extends the GA4GH Service Info specification\n            with htsget-specific properties under the 'htsget' attribute.\n            ServiceType 'artifact' property MUST be 'htsget' for both reads \n            and variants endpoints.\n          required:\n            - type\n          properties:\n            type:\n              type: object\n              required:\n                - artifact\n              properties:\n                artifact:\n                  type: string\n                  enum: [htsget]\n                  example: htsget\n\n    Error:\n      type: object\n      description: Generic error response object\n      required:\n        - htsget\n      properties:\n        htsget:\n          type: object\n          description: Container for the error response object\n          required:\n            - error\n            - message\n          properties:\n            error:\n              type: string\n              description: The type of error\n            message:\n              type: string\n              description: A message specific to the error providing information on how to debug the problem. Clients MAY display this message to the user.\n    InvalidAuthenticationError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: Authorization provided is invalid\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: InvalidAuthentication\n                message:\n                  example: Invalid authentication credentials provided\n    PermissionDeniedError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: Authorization is required to access the resource\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: PermissionDenied\n                message:\n                  example: Client is not authorized to access this resource\n    NotFoundError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: The resource requested was not found\n          properties:\n            htsget:\n                properties:\n                    error:\n                        example: NotFound\n                    message:\n                        example: The requested resource could not be found\n    UnsupportedFormatError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: The requested file format is not supported by the server\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: UnsupportedFormat\n                message:\n                  example: The requested file format is not supported by the server\n    InvalidInputError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: The request parameters do not adhere to the specification\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: InvalidInput\n                message:\n                  example: The request parameters do not adhere to the specification\n    InvalidRangeError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: The requested range cannot be satisfied\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: InvalidRange\n                message:\n                  example: The requested range cannot be satisfied\n    PayloadTooLargeError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: POST request size is too large\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: PayloadTooLarge\n                message:\n                  example: POST request size is too large\n    InternalServerError:\n      allOf:\n        - $ref: '#/components/schemas/Error'\n        - type: object\n          description: Internal server error\n          properties:\n            htsget:\n              properties:\n                error:\n                  example: InternalServerError\n                message:\n                  example: An internal server error occurred\n\n  parameters:\n    idPathParam:\n      in: path\n      name: id\n      description: read or variant object identifier\n      required: true\n      schema:\n        type: string\n    classParam:\n      in: query\n      name: class\n      required: false\n      schema:\n        $ref: '#/components/schemas/Class'\n    referenceNameParam:\n      in: query\n      name: referenceName\n      required: false\n      schema:\n        $ref: '#/components/schemas/ReferenceName'\n    startParam:\n      in: query\n      name: start\n      required: false\n      schema:\n        $ref: '#/components/schemas/Start'\n    endParam:\n      in: query\n      name: end\n      required: false\n      schema:\n        $ref: '#/components/schemas/End'\n\n  securitySchemes:\n    htsget_auth:\n      type: oauth2\n      flows:\n        authorizationCode:\n          authorizationUrl: https://example.com/api/oauth/dialog\n          tokenUrl: https://example.com/api/oauth/token\n          scopes:\n            read:genomic_reads: read access to genomic reads\n            read:genomic_variants: read access to genomic variants\n\n  responses:\n    400BadRequestResponse:\n      description: Bad request\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - $ref: '#/components/schemas/UnsupportedFormatError'\n              - $ref: '#/components/schemas/InvalidInputError'\n              - $ref: '#/components/schemas/InvalidRangeError'\n    401UnauthorizedResponse:\n      description: Unauthorized\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/InvalidAuthenticationError'\n    403ForbiddenResponse:\n      description: Forbidden\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/PermissionDeniedError'\n    404NotFoundResponse:\n      description: NotFound\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/NotFoundError'\n    413PayloadTooLargeResponse:\n      description: PayloadTooLarge\n      content:\n       application/json:\n         schema:\n           $ref: '#/components/schemas/PayloadTooLargeError'\n    500InternalServerErrorResponse:\n      description: Internal Server Error\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/InternalServerError'\n",
			"canonicalURL": "/github.com/samtools/hts-specs@f2dbeb34cf27e69579bbe0914eb21e84efc2df58/-/blob/pub/htsget-openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/samtools/hts-specs/blob/f2dbeb34cf27e69579bbe0914eb21e84efc2df58/pub/htsget-openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: path \"/reads/{id}\": get: responses: code 200: contents: application/json: generate schema: allOf: field htsget: field urls: item: allOf: schema type mismatch: object and "
}