{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/signalcd/signalcd"
		},
		"file": {
			"name": "api.yaml",
			"size": 0,
			"path": "api/api.yaml",
			"byteSize": 5589,
			"content": "openapi: 3.0.1\ninfo:\n  title: SignalCD\n  version: 0.0.0\nservers:\n  - url: /api/v1\npaths:\n  /deployments:\n    get:\n      summary: List Deployments\n      operationId: ListDeployments\n      tags:\n        - deployment\n      responses:\n        '200':\n          description: List of Deployments\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Deployments\"\n  /deployments/current:\n    get:\n      summary: Get the current Deployment\n      operationId: GetCurrentDeployment\n      tags:\n        - deployment\n      responses:\n        '200':\n          description: Get the current Deployment\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Deployment\"\n    post:\n      summary: Set the current Deployment\n      operationId: SetCurrentDeployment\n      tags:\n        - deployment\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SetCurrentDeployment'\n      responses:\n        '200':\n          description: Current deployment was successfully set.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Deployment\"\n  /deployments/{id}/status:\n    patch:\n      summary: Update parts of the Status of a Deployment\n      operationId: UpdateDeploymentStatus\n      tags:\n        - deployment\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DeploymentStatusUpdate'\n      parameters:\n        - in: path\n          name: id\n          required: true\n          schema:\n            type: integer\n            format: int64\n      responses:\n        200:\n          description: Status update successful\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Deployment\"\n  /pipelines:\n    get:\n      summary: List of Pipelines.\n      operationId: ListPipelines\n      tags:\n        - pipeline\n      responses:\n        '200':\n          description: List of Pipelines.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Pipelines'\n    post:\n      summary: Create a new Pipeline.\n      operationId: CreatePipeline\n      tags:\n        - pipeline\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Pipeline'\n      responses:\n        '200':\n          description: The created Pipeline.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Pipeline'\n  /pipelines/{id}:\n    get:\n      summary: Get Pipeline by its ID\n      operationId: GetPipeline\n      tags:\n        - pipeline\n      parameters:\n        - name: id\n          in: path\n          description: Pipeline ID (UUID)\n          required: true\n          schema:\n            type: string\n            format: uuid\n      responses:\n        '200':\n          description: A Pipeline\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Pipeline'\ncomponents:\n  schemas:\n    Deployment:\n      type: object\n      required:\n        - number\n      properties:\n        number:\n          type: integer\n          format: int64\n        created:\n          type: string\n          format: 'date-time'\n        pipeline:\n          $ref: '#/components/schemas/Pipeline'\n        status:\n          type: object\n          additionalProperties:\n            $ref: '#/components/schemas/DeploymentStatus'\n    Deployments:\n      type: array\n      items:\n        $ref: \"#/components/schemas/Deployment\"\n    SetCurrentDeployment:\n      type: object\n      required:\n        - pipelineID\n      properties:\n        pipelineID:\n          type: string\n          format: uuid\n    DeploymentStatus:\n      type: object\n      required:\n        - steps\n      properties:\n        steps:\n          type: array\n          items:\n            $ref: '#/components/schemas/DeploymentStepStatus'\n    DeploymentStepStatus:\n      type: object\n      required:\n        - phase\n        - started\n      properties:\n        phase:\n          type: string\n        started:\n          type: string\n          format: 'date-time'\n        stopped:\n          type: string\n          format: 'date-time'\n    DeploymentStatusUpdate:\n      type: object\n      required:\n        - agent\n        - step\n      properties:\n        agent:\n          type: string\n        step:\n          type: integer\n          format: int64\n        phase:\n          type: string\n          enum: ['unknown', 'success', 'failure', 'progress', 'pending', 'killed']\n    Pipeline:\n      type: object\n      required:\n        - id\n      properties:\n        id:\n          type: string\n          format: uuid\n        name:\n          type: string\n        created:\n          type: string\n          format: 'date-time'\n        steps:\n          type: array\n          items:\n            type: object\n            properties:\n              name:\n                type: string\n              image:\n                type: string\n              imagePullSecrets:\n                type: array\n                items:\n                  type: string\n              commands:\n                type: array\n                items:\n                  type: string\n    Pipelines:\n      type: array\n      items:\n        $ref: '#/components/schemas/Pipeline'\n",
			"canonicalURL": "/github.com/signalcd/signalcd@863ebf7d3eacedf631d65f11b8b3f36995ad3883/-/blob/api/api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/signalcd/signalcd/blob/863ebf7d3eacedf631d65f11b8b3f36995ad3883/api/api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: operations: path \"/deployments\": get: responses: code 200: contents: media: \"application/json\": generate schema: save schema types: save referenced type: reference \"https://raw.githubusercontent.com/signalcd/signalcd/863ebf7d3eacedf631d65f11b8b3f36995ad3883/api/api.yaml#/components/schemas/DeploymentStatus\" type name conflict: \"DeploymentStatus\""
}