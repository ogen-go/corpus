{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/bangumi/api"
		},
		"file": {
			"name": "api.yml",
			"size": 0,
			"path": "open-api/api.yml",
			"byteSize": 20099,
			"content": "openapi: 3.0.0\ninfo:\n  title: Bangumi API\n  description: |\n    你可以在 \u003chttps://next.bgm.tv/demo/access-token\u003e 生成一个 Access Token\n\n    ## [关于 User Agent](https://github.com/bangumi/api/blob/master/docs-raw/user%20agent.md)\n\n  version: \"dev\"\n  contact:\n    name: Bangumi API\n    url: https://github.com/bangumi/api/\nservers:\n  - url: https://api.bgm.tv\npaths:\n  /calendar:\n    get:\n      tags:\n        - 条目\n      summary: 每日放送\n      operationId: getCalendar\n      responses:\n        200:\n          description: 每日放送\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    weekday:\n                      type: object\n                      properties:\n                        en:\n                          type: string\n                          example: Mon\n                        cn:\n                          type: string\n                          example: 星期一\n                        ja:\n                          type: string\n                          example: 月耀日\n                        id:\n                          type: integer\n                          example: 1\n                    items:\n                      type: array\n                      items:\n                        $ref: \"#/components/schemas/Legacy_SubjectSmall\"\n\n  /search/subject/{keywords}:\n    get:\n      tags:\n        - 搜索\n      summary: 条目搜索\n      operationId: searchSubjectByKeywords\n      parameters:\n        - name: keywords\n          in: path\n          description: 关键词\n            \u003cbr\u003e 需要 URL Encode\n          required: true\n          schema:\n            type: string\n        - name: type\n          in: query\n          description: 条目类型，参考 [SubjectType](#model-Legacy_SubjectType)\n          required: false\n          schema:\n            $ref: \"#/components/schemas/Legacy_SubjectType\"\n        - name: responseGroup\n          in: query\n          description: 返回数据大小 \u003cbr\u003e 默认为 small\n          required: false\n          schema:\n            description: 返回数据大小\n            type: string\n            enum:\n              - small\n              - medium\n              - large\n            default: small\n        - name: start\n          in: query\n          description: 开始条数\n          required: false\n          schema:\n            type: integer\n        - name: max_results\n          in: query\n          description: 每页条数\n            \u003cbr\u003e 最多 25\n          required: false\n          schema:\n            type: integer\n            maximum: 25\n      responses:\n        200:\n          description: 搜索结果\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - type: object\n                    properties:\n                      results:\n                        description: 总条数\n                        type: integer\n                      list:\n                        description: 结果列表\n                        type: array\n                        items:\n                          $ref: \"#/components/schemas/Legacy_SubjectSmall\"\n                  - type: object\n                    properties:\n                      results:\n                        description: 总条数\n                        type: integer\n                      list:\n                        description: 结果列表\n                        type: array\n                        items:\n                          $ref: \"#/components/schemas/Legacy_SubjectMedium\"\n                  - type: object\n                    properties:\n                      results:\n                        description: 总条数\n                        type: integer\n                      list:\n                        description: 结果列表\n                        type: array\n                        items:\n                          $ref: \"#/components/schemas/Legacy_SubjectLarge\"\ncomponents:\n  schemas:\n    Legacy_SubjectType:\n      description: 条目类型\n        \u003cbr\u003e 1 = book\n        \u003cbr\u003e 2 = anime\n        \u003cbr\u003e 3 = music\n        \u003cbr\u003e 4 = game\n        \u003cbr\u003e 6 = real\n      type: integer\n      enum:\n        - 1\n        - 2\n        - 3\n        - 4\n        - 6\n      example: 2\n    Legacy_SubjectSmall:\n      type: object\n      properties:\n        id:\n          description: 条目 ID\n          type: integer\n          example: 12\n        url:\n          description: 条目地址\n          type: string\n          example: https://bgm.tv/subject/12\n        type:\n          title: SubjectType\n          example: 2\n          enum:\n            - 1\n            - 2\n            - 3\n            - 4\n            - 6\n          type: integer\n          description: |-\n            条目类型\n            - `1` 为 书籍\n            - `2` 为 动画\n            - `3` 为 音乐\n            - `4` 为 游戏\n            - `6` 为 三次元\n            \n            没有 `5`\n          x-ms-enum:\n            name: SubjectType\n            modelAsString: false\n            values:\n              - Book\n              - Anime\n              - Music\n              - Game\n              - Real\n          x-enum-varnames:\n            - Book\n            - Anime\n            - Music\n            - Game\n            - Real\n        name:\n          description: 条目名称\n          type: string\n          example: ちょびっツ\n        name_cn:\n          description: 条目中文名称\n          type: string\n          example: 人形电脑天使心\n        summary:\n          description: 剧情简介\n          type: string\n          example: 在不久的将来,电子技术飞速发展,电脑成为人们生活中不可缺少的一部分.主角的名字是本须和秀树,是个19岁的少年,由于考试失败,来到东京上补习班,过着贫穷潦倒的生活……\\r\\n到达东京的第一天,他很幸运的在垃圾堆捡到一个人型电脑,一直以来秀树都非常渴望拥有个人电脑.当他抱着她带返公寓后,却不知如何开机,在意想不到的地方找到开关并开启后,故事就此展开\\r\\n本须和秀树捡到了人型计算机〔唧〕。虽然不晓得她到底是不是〔Chobits〕，但她的身上似乎藏有极大的秘密。看到秀树为了钱而烦恼，唧出去找打工，没想到却找到了危险的工作！为了让秀树开心，唧开始到色情小屋打工。但她在遭到过度激烈的强迫要求之后失控。让周遭计算机因此而强制停摆。\\r\\n另一方面，秀树发现好友新保与补习班的清水老师有着不可告人的关系……\n        air_date:\n          description: 放送开始日期\n          type: string\n          example: \"2002-04-02\"\n        air_weekday:\n          description: 放送星期\n          type: integer\n          example: 2\n        images:\n          description: 封面\n          type: object\n          properties:\n            large:\n              type: string\n              example: https://lain.bgm.tv/pic/cover/l/c2/0a/12_24O6L.jpg\n            common:\n              type: string\n              example: https://lain.bgm.tv/pic/cover/c/c2/0a/12_24O6L.jpg\n            medium:\n              type: string\n              example: https://lain.bgm.tv/pic/cover/m/c2/0a/12_24O6L.jpg\n            small:\n              type: string\n              example: https://lain.bgm.tv/pic/cover/s/c2/0a/12_24O6L.jpg\n            grid:\n              type: string\n              example: https://lain.bgm.tv/pic/cover/g/c2/0a/12_24O6L.jpg\n        eps:\n          description: 话数\n          type: integer\n          example: 27\n        eps_count:\n          description: 话数\n          type: integer\n          example: 27\n        rating:\n          description: 评分\n          type: object\n          properties:\n            total:\n              description: 总评分人数\n              type: integer\n              example: 2289\n            count:\n              description: 各分值评分人数\n              type: object\n              properties:\n                \"1\":\n                  type: integer\n                  example: 5\n                \"2\":\n                  type: integer\n                  example: 3\n                \"3\":\n                  type: integer\n                  example: 4\n                \"4\":\n                  type: integer\n                  example: 6\n                \"5\":\n                  type: integer\n                  example: 46\n                \"6\":\n                  type: integer\n                  example: 267\n                \"7\":\n                  type: integer\n                  example: 659\n                \"8\":\n                  type: integer\n                  example: 885\n                \"9\":\n                  type: integer\n                  example: 284\n                \"10\":\n                  type: integer\n                  example: 130\n            score:\n              description: 评分\n              type: number\n              example: 7.6\n        rank:\n          description: 排名\n          type: integer\n          example: 573\n        collection:\n          description: 收藏人数\n          type: object\n          properties:\n            wish:\n              description: 想做\n              type: integer\n              example: 608\n            collect:\n              description: 做过\n              type: integer\n              example: 3010\n            doing:\n              description: 在做\n              type: integer\n              example: 103\n            on_hold:\n              description: 搁置\n              type: integer\n              example: 284\n            dropped:\n              description: 抛弃\n              type: integer\n              example: 86\n    Legacy_SubjectMedium:\n      allOf:\n        - $ref: '#/components/schemas/Legacy_SubjectSmall'\n        - type: object\n          properties:\n            crt:\n              description: 角色信息\n              type: array\n              items:\n                allOf:\n                  - $ref: '#/components/schemas/Legacy_Character'\n                  - type: object\n                    properties:\n                      role_name:\n                        description: 角色类型\n                        type: string\n                        example: 主角\n            staff:\n              description: 制作人员信息\n              type: array\n              items:\n                allOf:\n                  - $ref: '#/components/schemas/Legacy_Person'\n                  - type: object\n                    properties:\n                      role_name:\n                        description: 人物类型\n                        type: string\n                        example: 主角\n                      jobs:\n                        description: 职位\n                        type: array\n                        items:\n                          type: string\n    Legacy_SubjectLarge:\n      allOf:\n        - $ref: '#/components/schemas/Legacy_SubjectMedium'\n        - type: object\n          properties:\n            eps:\n              description: 章节列表\n              type: array\n              items:\n                $ref: '#/components/schemas/Legacy_Episode'\n            topic:\n              description: 讨论版\n              type: array\n              items:\n                $ref: '#/components/schemas/Legacy_Topic'\n            blog:\n              description: 评论日志\n              type: array\n              items:\n                $ref: '#/components/schemas/Legacy_Blog'\n    Legacy_EpisodeType:\n      description: 章节类型\n        \u003cbr\u003e 0 = 本篇\n        \u003cbr\u003e 1 = 特别篇\n        \u003cbr\u003e 2 = OP\n        \u003cbr\u003e 3 = ED\n        \u003cbr\u003e 4 = 预告/宣传/广告\n        \u003cbr\u003e 5 = MAD\n        \u003cbr\u003e 6 = 其他\n      type: integer\n      enum:\n        - 0\n        - 1\n        - 2\n        - 3\n        - 4\n        - 5\n        - 6\n      example: 0\n    Legacy_Episode:\n      description: 章节信息\n      type: object\n      properties:\n        id:\n          description: 章节 ID\n          type: integer\n          example: 1027\n        url:\n          description: 章节地址\n          type: string\n          example: https://bgm.tv/ep/1027\n        type:\n          $ref: '#/components/schemas/Legacy_EpisodeType'\n        sort:\n          description: 集数\n          type: integer\n          example: 1\n        name:\n          description: 标题\n          type: string\n          example: ちぃ 目覚める\n        name_cn:\n          description: 简体中文标题\n          type: string\n          example: 叽，觉醒了\n        duration:\n          description: 时长\n          type: string\n          example: 24m\n        airdate:\n          description: 放送日期\n          type: string\n          example: '2002-04-03'\n        comment:\n          description: 回复数量\n          type: integer\n          example: 9\n        desc:\n          description: 简介\n          type: string\n        status:\n          description: 放送状态\n            \u003cbr\u003e Air = 已放送\n            \u003cbr\u003e Today = 正在放送\n            \u003cbr\u003e NA = 未放送\n          type: string\n          enum:\n            - Air\n            - Today\n            - NA\n          example: Air\n    Legacy_Topic:\n      description: 讨论版\n      type: object\n      properties:\n        id:\n          description: ID\n          type: integer\n        url:\n          description: 地址\n          type: string\n        title:\n          description: 标题\n          type: string\n        main_id:\n          description: 所属对象（条目） ID\n          type: integer\n        timestamp:\n          description: 发布时间\n          type: integer\n        lastpost:\n          description: 最后回复时间\n          type: integer\n        replies:\n          description: 回复数\n          type: integer\n        user:\n          $ref: '#/components/schemas/Legacy_User'\n    Legacy_Blog:\n      description: 日志\n      type: object\n      properties:\n        id:\n          description: ID\n          type: integer\n        url:\n          description: 地址\n          type: string\n        title:\n          description: 标题\n          type: string\n        summary:\n          description: 概览\n          type: string\n        image:\n          description: 图片\n          type: string\n        replies:\n          description: 回复数\n          type: integer\n        timestamp:\n          description: 发布时间\n          type: integer\n          example: 1357144903\n        dateline:\n          description: 发布时间\n          type: string\n          example: 2013-1-2 16:41\n        user:\n          $ref: '#/components/schemas/Legacy_User'\n    Legacy_User:\n      description: 用户信息\n      type: object\n      properties:\n        id:\n          description: 用户 id\n          type: integer\n          example: 1\n        url:\n          description: 用户主页地址\n          type: string\n          example: https://bgm.tv/user/sai\n        username:\n          description: 用户名\n          type: string\n          example: sai\n        nickname:\n          description: 昵称\n          type: string\n          example: Sai\n        avatar:\n          description: 头像地址\n          type: object\n          properties:\n            large:\n              type: string\n              example: https://lain.bgm.tv/pic/user/l/000/00/00/1.jpg?r=1391790456\n            medium:\n              type: string\n              example: https://lain.bgm.tv/pic/user/m/000/00/00/1.jpg?r=1391790456\n            small:\n              type: string\n              example: https://lain.bgm.tv/pic/user/s/000/00/00/1.jpg?r=1391790456\n        sign:\n          description: 签名\n          type: string\n          example: Awesome!\n        usergroup:\n          $ref: '#/components/schemas/Legacy_UserGroup'\n    Legacy_UserGroup:\n      description: \u003e-\n        用户组\n        \u003cbr\u003e 1 = 管理员\n        \u003cbr\u003e 2 = Bangumi 管理猿\n        \u003cbr\u003e 3 = 天窗管理猿\n        \u003cbr\u003e 4 = 禁言用户\n        \u003cbr\u003e 5 = 禁止访问用户\n        \u003cbr\u003e 8 = 人物管理猿\n        \u003cbr\u003e 9 = 维基条目管理猿\n        \u003cbr\u003e 10 = 用户\n        \u003cbr\u003e 11 = 维基人\n      type: integer\n      enum:\n        - 1\n        - 2\n        - 3\n        - 4\n        - 5\n        - 8\n        - 9\n        - 10\n        - 11\n      example: 11\n    Legacy_Person:\n      description: 现实人物\n      allOf:\n        - $ref: '#/components/schemas/Legacy_Mono'\n        - type: object\n          properties:\n            info:\n              $ref: '#/components/schemas/Legacy_MonoInfo'\n    Legacy_Character:\n      description: 虚拟角色\n      allOf:\n        - $ref: '#/components/schemas/Legacy_Mono'\n        - type: object\n          properties:\n            info:\n              $ref: '#/components/schemas/Legacy_MonoInfo'\n            actors:\n              description: 声优列表\n              type: array\n              items:\n                $ref: '#/components/schemas/Legacy_MonoBase'\n    Legacy_MonoBase:\n      description: 人物（基础模型）\n      type: object\n      properties:\n        id:\n          description: 人物 ID\n          type: integer\n        url:\n          description: 人物地址\n          type: string\n        name:\n          description: 姓名\n          type: string\n        images:\n          description: 肖像\n          type: object\n          properties:\n            large:\n              type: string\n              example: https://lain.bgm.tv/pic/crt/l/ce/65/32_crt_XMJOj.jpg\n            medium:\n              type: string\n              example: https://lain.bgm.tv/pic/crt/m/ce/65/32_crt_XMJOj.jpg\n            small:\n              type: string\n              example: https://lain.bgm.tv/pic/crt/s/ce/65/32_crt_XMJOj.jpg\n            grid:\n              type: string\n              example: https://lain.bgm.tv/pic/crt/g/ce/65/32_crt_XMJOj.jpg\n    Legacy_Mono:\n      description: 人物\n      allOf:\n        - $ref: '#/components/schemas/Legacy_MonoBase'\n        - type: object\n          properties:\n            name_cn:\n              description: 简体中文名\n              type: string\n            comment:\n              description: 回复数量\n              type: integer\n            collects:\n              description: 收藏人数\n              type: integer\n    Legacy_MonoInfo:\n      description: 人物信息\n      type: object\n      properties:\n        birth:\n          description: 生日\n          type: string\n          example: 4月13日\n        height:\n          description: 身高\n          type: string\n          example: 152cm\n        gender:\n          description: 性别\n          type: string\n          example: 女\n        alias:\n          description: 别名（另外添加出来的 key 为 0 开始的数字）\n          type: object\n          properties:\n            jp:\n              description: 日文名\n              type: string\n            kana:\n              description: 纯假名\n              type: string\n            nick:\n              description: 昵称\n              type: string\n            romaji:\n              description: 罗马字\n              type: string\n            zh:\n              description: 第二中文名\n              type: string\n        source:\n          description: 引用来源\n          oneOf:\n            - type: string\n              example: anidb.net\n            - type: array\n              items:\n                type: string\n                example: anidb.net\n        name_cn:\n          description: 简体中文名\n          type: string\n        cv:\n          description: 声优\n          type: string\n  securitySchemes:\n    OptionalHTTPBearer:\n      type: \"http\"\n      description: |\n        Some api like getting a subject doesn't require any authorization. \n        But only authorized user can see NSFW recoed, non-authorized user get 404 response.\n        You can create a access token here [https://bgm.tv/dev/app](https://bgm.tv/dev/app)\n      scheme: \"bearer\"\n\n    HTTPBearer:\n      type: \"http\"\n      description: \"require a authorization\"\n      scheme: \"bearer\"\n",
			"canonicalURL": "/github.com/bangumi/api@42cd722932e78765518a0da534fb764da1be9e7b/-/blob/open-api/api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/bangumi/api/blob/42cd722932e78765518a0da534fb764da1be9e7b/open-api/api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: path \"/search/subject/{keywords}\": get: responses: code 200: contents: media: \"application/json\": generate schema: oneOf: collect variants: oneOf[1]: field list: item: allOf: field crt: item: allOf: schema type mismatch:  and object"
}