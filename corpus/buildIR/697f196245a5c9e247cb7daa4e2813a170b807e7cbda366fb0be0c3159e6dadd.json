{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/AlbertSuarez/casescan"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "api/src/openapi/openapi.yaml",
			"byteSize": 7171,
			"content": "openapi: 3.0.0\n\ninfo:\n\n  title: Casescan API\n  description: Clinical cases search by similarity specialized in Covid-19\n  version: 1.0.0\n\nexternalDocs:\n  description: GitHub repository\n  url: https://github.com/AlbertSuarez/casescan\n\nservers:\n  - url: https://casescan.herokuapp.com\n    description: Production endpoint\n\ntags:\n  - name: clinical_cases\n    x-displayName: Clinical Cases\n  - name: search\n    x-displayName: Similarity search\n\npaths:\n\n  /clinical_cases:\n    get:\n      tags:\n        - clinical_cases\n      summary: API endpoint to retrieve clinical cases from database\n      description: Endpoint for an end-user to get clinical cases\n      operationId: src.api.clinical_cases.get\n      parameters:\n        - $ref: '#/components/parameters/OptionalCaseId'\n      responses:\n        200:\n          $ref: '#/components/responses/ClinicalCases'\n        default:\n          $ref: '#/components/responses/Error'\n\n  /search/text:\n    post:\n      tags:\n        - search\n      summary: API endpoint to search similarities given a free-text input\n      description: Endpoint for an end-user to search similarities given a free-text input split in sections.\n      operationId: src.api.search.post_text\n      parameters:\n        - $ref: '#/components/parameters/AggregatedSearch'\n      requestBody:\n        $ref: '#/components/requestBodies/TextSearch'\n      responses:\n        200:\n          $ref: '#/components/responses/Search'\n        default:\n          $ref: '#/components/responses/Error'\n  \n  /search/clinical_case:\n    post:\n      tags:\n        - search\n      summary: API endpoint to search similarities given a clinical case identifier\n      description: Endpoint for an end-user to search similarities given a clinical case identifier and some search parameters.\n      operationId: src.api.search.post_clinical_case\n      parameters:\n        - $ref: '#/components/parameters/RequiredCaseId'\n      requestBody:\n        $ref: '#/components/requestBodies/ClinicalCaseSearch'\n      responses:\n        200:\n          $ref: '#/components/responses/Search'\n        default:\n          $ref: '#/components/responses/Error'\n\ncomponents:\n\n  requestBodies:\n\n    TextSearch:\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Sections'\n\n    ClinicalCaseSearch:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            description: Clinical case type of search content.\n            properties:\n              section_names:\n                type: array\n                description: Array of section to search. Aggregated if empty.\n                items:\n                  $ref: '#/components/schemas/SectionName'\n\n  parameters:\n\n    RequiredCaseId:\n      name: case_id\n      in: query\n      required: true\n      schema:\n        $ref: '#/components/schemas/CaseId'\n\n    OptionalCaseId:\n      name: case_id\n      in: query\n      required: false\n      schema:\n        $ref: '#/components/schemas/CaseId'\n\n    AggregatedSearch:\n      name: aggregated_search\n      in: query\n      required: false\n      schema:\n        $ref: '#/components/schemas/AggregatedSearch'\n\n  responses:\n\n    ClinicalCases:\n      description: Successfully Clinical cases response.\n      content:\n        application/json:\n          schema:\n            allOf:\n              - $ref: '#/components/schemas/BaseResponse'\n              - type: object\n                properties:\n                  response:\n                    type: object\n                    description: Contains the response data.\n                    properties:\n                      results:\n                        type: array\n                        description: Contains the clinical cases based on the query.\n                        items:\n                          type: object\n                          description: Clinical case object representation.\n                          properties:\n                            case_id:\n                              $ref: '#/components/schemas/CaseId'\n                            sections:\n                              $ref: '#/components/schemas/Sections'\n\n    Search:\n      description: Successfully search response.\n      content:\n        application/json:\n          schema:\n            allOf:\n              - $ref: '#/components/schemas/BaseResponse'\n              - type: object\n                properties:\n                  response:\n                    type: object\n                    description: Contains the response data.\n                    properties:\n                      results:\n                        type: object\n                        description: Section results.\n                        properties:\n                          section_name:\n                            type: array\n                            description: List of similar Clinical Cases, sorted by similarity\n                            items:\n                              type: object\n                              properties:\n                                case_id:\n                                    $ref: '#/components/schemas/CaseId'\n                                sections:\n                                  $ref: '#/components/schemas/Sections'\n                                percentage:\n                                  $ref: '#/components/schemas/Percentage'\n\n    Error:\n      description: Error response with additional information.\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              message:\n                $ref: '#/components/schemas/Message'\n\n  schemas:\n\n    # Abstract Complex Properties\n    BaseResponse:\n      type: object\n      properties:\n        error:\n          $ref: '#/components/schemas/Error'\n        message:\n          $ref: '#/components/schemas/Message'\n\n    # Simple Properties\n    CaseId:\n      type: integer\n      description: Identifier of an item.\n      example: 1\n      minimum: 1\n      maximum: 2500\n    AggregatedSearch:\n      type: boolean\n      description: True if all the input has to be aggregated for the search, False otherwise\n      default: false\n      example: false\n    Error:\n      type: boolean\n      description: Whether or not the request was successfully processed or not.\n      example: false\n    Message:\n      type: string\n      description: Error message.\n      example: 'Useful information.'\n    SectionName:\n      type: string\n      description: Clinical case section name.\n      example: 'medical_history'\n      enum:\n        - medical_history\n        - physic_exploration\n        - supplementary_tests\n        - assessment\n        - treatment\n        - evolution\n    SectionContent:\n      type: string\n      description: Text representing the Clinical case section.\n      example: 'Paciente de 31 a√±os...'\n    Percentage:\n      type: number\n      format: float\n      description: Similarity percentage.\n      example: 92.5\n      minimum: 0.0\n      maximum: 100.0\n    Sections:\n      type: object\n      description: Clinical Case sections.\n      properties:\n        section_name:\n          $ref: '#/components/schemas/SectionContent'\n",
			"canonicalURL": "/github.com/AlbertSuarez/casescan@037f3bc9628e63a4c6963a20ece49710ceb8cd8e/-/blob/api/src/openapi/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/AlbertSuarez/casescan/blob/037f3bc9628e63a4c6963a20ece49710ceb8cd8e/api/src/openapi/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "buildIR: make ir: operations: reference type \"https://raw.githubusercontent.com/AlbertSuarez/casescan/037f3bc9628e63a4c6963a20ece49710ceb8cd8e/api/src/openapi/openapi.yaml#/components/schemas/Error\" name conflict: \"Error\""
}