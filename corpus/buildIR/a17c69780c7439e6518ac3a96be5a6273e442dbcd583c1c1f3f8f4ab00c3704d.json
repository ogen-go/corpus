{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/DiegoVictor/deliveryman"
		},
		"file": {
			"name": "swagger.json",
			"size": 0,
			"path": "src/swagger.json",
			"byteSize": 15609,
			"content": "{\n  \"openapi\": \"3.0.2\",\n  \"info\": {\n    \"title\": \"Deliveryman\",\n    \"version\": \"1.0\",\n    \"license\": {\n      \"name\": \"MIT\",\n      \"url\": \"https://raw.githubusercontent.com/DiegoVictor/deliveryman/main/LICENSE\"\n    }\n  },\n  \"servers\": [\n    {\n      \"url\": \"http://localhost:3333/v1\"\n    }\n  ],\n  \"paths\": {\n    \"/clients\": {\n      \"post\": {\n        \"tags\": [\n          \"Clients\"\n        ],\n        \"requestBody\": {\n          \"$ref\": \"#/components/requestBodies/Account\"\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Client created successfully\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"allOf\": [\n                    {\n                      \"title\": \"Account\",\n                      \"properties\": {\n                        \"id\": {\n                          \"type\": \"string\"\n                        }\n                      }\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/Account\"\n                    }\n                  ]\n                },\n                \"example\": {\n                  \"id\": \"2e075d78-bf02-49c5-a52b-593d35db11e8\",\n                  \"username\": \"johndoe\",\n                  \"password\": \"$2b$10$ceg8QxJ7YmJuLCwqD6IxQeVI7D/lrgN7d3LhvRqoNl0JpJ0tF1rRy\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Client already exists\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"message\": \"Client already exists\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/clients/auth\": {\n      \"post\": {\n        \"tags\": [\n          \"Clients\"\n        ],\n        \"requestBody\": {\n          \"$ref\": \"#/components/requestBodies/Account\"\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Authenticated successfully\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"token\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                },\n                \"example\": {\n                  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImpvaG5kb2UiLCJpYXQiOjE2NDEyNDI2MjAsImV4cCI6MTY0MTMyOTAyMCwic3ViIjoiZGM4OTM4YjQtZGI2Zi00NDRlLWIyOTUtY2QxYWE3Y2VhODhhIn0.tsFee0ZP8ApjV2bFIwlLaeIYm6FgnNnyRP4TCXZPd2c\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Username or password incorrect\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"message\": \"Username or password incorrect\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/clients/deliveries\": {\n      \"get\": {\n        \"tags\": [\n          \"Clients\"\n        ],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Returned client's deliveries\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"title\": \"ClientDeliveries\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    },\n                    \"username\": {\n                      \"type\": \"string\"\n                    },\n                    \"deliveries\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"$ref\": \"#/components/schemas/Delivery\"\n                      }\n                    }\n                  }\n                },\n                \"example\": {\n                  \"id\": \"dc8938b4-db6f-444e-b295-cd1aa7cea88a\",\n                  \"username\": \"johndoe\",\n                  \"deliveries\": [\n                    {\n                      \"id\": \"6ba73361-c164-411a-8dd9-a6dff6c63a2f\",\n                      \"client_id\": \"dc8938b4-db6f-444e-b295-cd1aa7cea88a\",\n                      \"deliveryman_id\": \"09142cc9-de04-4715-9e14-344e75907b39\",\n                      \"product_name\": \"Lemon Ice cream\",\n                      \"delivered_at\": \"2021-12-25T16:43:02.818Z\",\n                      \"created_at\": \"2021-12-25T16:01:46.365Z\"\n                    }\n                  ]\n                }\n              }\n            }\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      },\n      \"post\": {\n        \"tags\": [\n          \"Clients\"\n        ],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"requestBody\": {\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"product_name\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"example\": {\n                \"product_name\": \"Lemon Ice Cream\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Delivery created successfully\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Delivery\"\n                },\n                \"example\": {\n                  \"id\": \"57ca1294-7dcc-45a8-8bf3-baa6bd982f8b\",\n                  \"client_id\": \"dc8938b4-db6f-444e-b295-cd1aa7cea88a\",\n                  \"deliveryman_id\": null,\n                  \"product_name\": \"Lemon Ice Cream\",\n                  \"delivered_at\": null,\n                  \"created_at\": \"2022-01-03T21:08:12.980Z\"\n                }\n              }\n            }\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      }\n    },\n    \"/deliveryman\": {\n      \"post\": {\n        \"tags\": [\n          \"Deliveryman\"\n        ],\n        \"requestBody\": {\n          \"$ref\": \"#/components/requestBodies/Account\"\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Deliveryman created successfully\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"allOf\": [\n                    {\n                      \"title\": \"Account\",\n                      \"properties\": {\n                        \"id\": {\n                          \"type\": \"string\"\n                        }\n                      }\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/Account\"\n                    }\n                  ]\n                },\n                \"example\": {\n                  \"id\": \"2e075d78-bf02-49c5-a52b-593d35db11e8\",\n                  \"username\": \"janedoe\",\n                  \"password\": \"$2b$10$ceg8QxJ7YmJuLCwqD6IxQeVI7D/lrgN7d3LhvRqoNl0JpJ0tF1rRy\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Deliveryman already exists\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"message\": \"Deliveryman already exists\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/deliveryman/auth\": {\n      \"post\": {\n        \"tags\": [\n          \"Deliveryman\"\n        ],\n        \"requestBody\": {\n          \"$ref\": \"#/components/requestBodies/Account\"\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Authenticated successfully\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"token\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                },\n                \"example\": {\n                  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImpvaG5kb2UiLCJpYXQiOjE2NDEyNDI2MjAsImV4cCI6MTY0MTMyOTAyMCwic3ViIjoiZGM4OTM4YjQtZGI2Zi00NDRlLWIyOTUtY2QxYWE3Y2VhODhhIn0.tsFee0ZP8ApjV2bFIwlLaeIYm6FgnNnyRP4TCXZPd2c\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Username or password incorrect\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"message\": \"Username or password incorrect\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/deliveryman/deliveries\": {\n      \"get\": {\n        \"tags\": [\n          \"Deliveryman\"\n        ],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Returned client's deliveries\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"title\": \"ClientDeliveries\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    },\n                    \"username\": {\n                      \"type\": \"string\"\n                    },\n                    \"deliveries\": {\n                      \"type\": \"array\",\n                      \"items\": {\n                        \"$ref\": \"#/components/schemas/Delivery\"\n                      }\n                    }\n                  }\n                },\n                \"example\": {\n                  \"id\": \"09142cc9-de04-4715-9e14-344e75907b39\",\n                  \"username\": \"janedoe\",\n                  \"deliveries\": [\n                    {\n                      \"id\": \"6ba73361-c164-411a-8dd9-a6dff6c63a2f\",\n                      \"client_id\": \"dc8938b4-db6f-444e-b295-cd1aa7cea88a\",\n                      \"deliveryman_id\": \"09142cc9-de04-4715-9e14-344e75907b39\",\n                      \"product_name\": \"Lemon Ice cream\",\n                      \"delivered_at\": \"2021-12-25T16:43:02.818Z\",\n                      \"created_at\": \"2021-12-25T16:01:46.365Z\"\n                    }\n                  ]\n                }\n              }\n            }\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      }\n    },\n    \"/deliveries/not_delivered\": {\n      \"get\": {\n        \"tags\": [\n          \"Deliveries\"\n        ],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Lists not deliveries not sent yet\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/components/schemas/Delivery\"\n                  }\n                },\n                \"example\": [\n                  {\n                    \"id\": \"a3b25f46-6aa7-4079-90bc-bedbd79ee4ad\",\n                    \"client_id\": \"0ba9f177-96ff-4dbc-9dd2-bc05bf7179d3\",\n                    \"deliveryman_id\": null,\n                    \"product_name\": \"Small Wooden Pizza\",\n                    \"delivered_at\": null,\n                    \"created_at\": \"2021-12-25T16:04:56.534Z\"\n                  }\n                ]\n              }\n            }\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      }\n    },\n    \"/deliveries/{id}/set_deliveryman\": {\n      \"patch\": {\n        \"tags\": [\"Deliveries\"],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"id\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"example\": \"a3b25f46-6aa7-4079-90bc-bedbd79ee4ad\"\n          }\n        ],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Deliveryman takes the delivery successfully\"\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      }\n    },\n    \"/deliveries/{id}/set_as_delivered\": {\n      \"patch\": {\n        \"tags\": [\"Deliveries\"],\n        \"security\": [\n          {\n            \"bearer\": []\n          }\n        ],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"id\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"example\": \"a3b25f46-6aa7-4079-90bc-bedbd79ee4ad\"\n          }\n        ],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Delivery reached its client\"\n          },\n          \"401\": {\n            \"$ref\": \"#/components/responses/AuthenticationError\"\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"Account\": {\n        \"properties\": {\n          \"username\": {\n            \"type\": \"string\"\n          },\n          \"password\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"Delivery\": {\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"client_id\": {\n            \"type\": \"string\"\n          },\n          \"deliveryman_id\": {\n            \"type\": \"string\"\n          },\n          \"product_name\": {\n            \"type\": \"string\"\n          },\n          \"delivered_at\": {\n            \"type\": \"string\"\n          },\n          \"created_at\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"Error\": {\n        \"properties\": {\n          \"message\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"requestBodies\": {\n      \"Account\": {\n        \"required\": true,\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"allOf\": [\n                {\n                  \"title\": \"Client\",\n                  \"required\": [\n                    \"username\",\n                    \"password\"\n                  ]\n                },\n                {\n                  \"$ref\": \"#/components/schemas/Account\"\n                }\n              ]\n            },\n            \"example\": {\n              \"username\": \"johndoe\",\n              \"password\": \"123456\"\n            }\n          }\n        }\n      }\n    },\n    \"responses\": {\n      \"AuthenticationError\": {\n        \"description\": \"Missing or invalid authentication token\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/Error\"\n            },\n            \"examples\": {\n              \"Missing authentication token\": {\n                \"value\": {\n                  \"message\": \"Missing authentication token\"\n                }\n              },\n              \"Invalid authentication token\": {\n                \"value\": {\n                  \"message\": \"Invalid authentication token\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"securitySchemes\": {\n      \"bearer\": {\n        \"scheme\": \"bearer\",\n        \"type\": \"http\"\n      }\n    }\n  }\n}\n"
		}
	},
	"Error": "buildIR: make ir: path \"/clients\": post: requestBody: contents: application/json: generate schema: allOf: schema type mismatch:  and object"
}