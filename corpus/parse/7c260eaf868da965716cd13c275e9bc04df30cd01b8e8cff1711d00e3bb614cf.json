{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/acesso-bankly/open-api"
		},
		"file": {
			"name": "schema.yaml",
			"size": 0,
			"path": "apis/v1/oauth/schema.yaml",
			"byteSize": 8938,
			"content": "openapi: 3.0.1\ninfo:\n  version: 1.0.0\n  title: Autenticação\nservers:\n  - url: 'https://login.sandbox.bankly.com.br'\npaths:\n  /connect/token:\n    post:\n      tags:\n        - Token \n      summary: Token de acesso\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eObtenha um token de acesso para a API desejada.\u003c/p\u003e \n          \u003cspan class=\"bkly-ref-small-stable-tag\"\u003estable\u003c/span\u003e\n        \u003c/div\u003e\n      operationId: PostAuth\n      requestBody:\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/AuthForm'\n      responses:\n        '200':\n          description: Token de acesso gerado com sucesso.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AuthResponse'\n              examples:\n                authResponse:\n                  value:\n                    access_token: '{{JWT}}'\n                    expires_in: 3600\n                    token_type: Bearer\n                    scope: '{{requested scope}}'\n                  summary: Exemplo de sucesso \n        '400':\n          description: Há algum problema com a sua requisição.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  error:\n                    type: string\n              examples:\n                authError:\n                  value: \n                    error: \"invalid_credentials\"\n                  summary: Exemplo de erro\n  \n  /totp:\n    post:\n      tags:\n        - TOTP \n      summary: Geração do hash e do código numérico\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eGere um hash e um código numérico para a criação do TOTP.\u003c/p\u003e \n          \u003cspan class=\"bkly-ref-small-stable-tag\"\u003estable\u003c/span\u003e\n          \u003cspan class=\"bkly-ref-scope-tag\"\u003escope: totp.create\u003c/span\u003e\n        \u003c/div\u003e\n      operationId: CreateTotpAsync\n      parameters:\n        - name: api-version\n          in: header\n          description: Versão da API. Atualmente estamos na 1.0.\n          required: true\n          schema:\n            type: string\n        - name: authorization\n          in: header\n          required: true\n          schema:\n            type : string\n        - name: x-bkly-user-id\n          in: header\n          description: Informe o número do documento do cliente que solicita a consulta (11 dígitos para CPF e 14 para CNPJ).\n          required: true\n          schema:\n            type: string\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CreateTotpRequest\"\n      responses:\n        \"201\":\n          description: Código criado com sucesso.\n          headers:\n            x-bkly-correlation-id:\n              description: Id correlação da operação requisitada.\n              schema:\n                type: string\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/CreateTotpResponse\"\n        \"400\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/400'\n        \"500\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/500' \n        \"503\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/503'\n      security:\n        - Bearer: []\n    patch:\n      tags:\n        - TOTP \n      summary: Validação do hash e do código numérico\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eValide o código numérico recebido pelo cliente e o seu hash.\u003c/p\u003e \n          \u003cspan class=\"bkly-ref-small-stable-tag\"\u003estable\u003c/span\u003e\n          \u003cspan class=\"bkly-ref-scope-tag\"\u003escope: totp.validate\u003c/span\u003e\n        \u003c/div\u003e\n      parameters:\n        - name: api-version\n          in: header\n          description: Versão da API. Atualmente estamos na 1.0.\n          required: true\n          schema:\n            type: string\n        - name: authorization\n          in: header\n          required: true\n          schema:\n            type : string\n        - name: x-bkly-user-id\n          in: header\n          description: Informe o número do documento do cliente que solicita a consulta (11 dígitos para CPF e 14 para CNPJ).\n          required: true\n          schema:\n            type: string\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ValidateTotpRequest\"\n      responses:\n        \"200\":\n          description: Recurso encontrado\n          headers:\n            x-bkly-correlation-id:\n              description: Id correlação da operação requisitada.\n              schema:\n                type: string\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ValidateTotpResponse\"\n        \"400\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/400'\n        \"404\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/404'\n        \"500\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/500' \n        \"503\":\n          $ref: 'http://localhost:3320/commons/components#/components/responses/503'\n      security:\n        - Bearer: []\n\ncomponents:\n  schemas:\n    AuthForm:\n      type: object\n      required:\n        - grant_type\n        - client_id\n        - client_secret\n      properties:\n        grant_type:\n          type: string\n          default: client_credentials\n          description: |\n            Método pelo qual suas aplicações podem obter tokens de acesso. \n            Default: **_client_credentials_**\n        client_id:\n          type: string\n          description: |\n            O identificador publico de sua aplicação no formato (uuid v4). \n        client_secret:\n          type: string\n          description: \u003e\n            O segredo conhecido por sua aplicação e pelo servidor de\n            autorização. \n        scope:\n          type: string\n          description: |\n            Escopo da api que deseja acessar. \n            Consulte a [lista de scope](https://docs.bankly.com.br/docs/scopes)\n    \n    AuthResponse:\n      type: object\n      properties:\n        access_token:\n          type: string\n          description: |\n            Token de acesso no formato JWT (Json Web Token).\n        expires_in:\n          type: string\n          description: \u003e\n            Tempo de vida do token em segundos. \n            Evite solicitar novos tokens de acesso, antes do tempo de expiração.\n            Default: **_3600_**\n        token_type:\n          type: string\n          description: |\n            Tipo do token retornado. \n            Default: **_Bearer_**\n        scope:\n          type: string\n          description: |\n            Escopo informado na solicitação do token de acesso.          \n    \n    Context:\n      enum:\n        - Pix\n      type: string\n    \n    CreateTotpRequest:\n      required:\n        - context\n        - data\n        - operation\n      type: object\n      properties:\n        userId:\n          type: string\n          nullable: true\n          readOnly: true\n        context:\n          $ref: \"#/components/schemas/Context\"\n        operation:\n          $ref: \"#/components/schemas/Operation\"\n        data: {}\n      additionalProperties: false\n    \n    CreateTotpResponse:\n      type: object\n      properties:\n        hash:\n          type: string\n          nullable: true\n        code:\n          type: string\n          nullable: true\n      additionalProperties: false\n    \n    Operation:\n      enum:\n        - Portability\n        - Ownership\n        - RegisterEntry\n      type: string\n    \n    ProblemDetails:\n      type: object\n      properties:\n        type:\n          type: string\n          nullable: true\n        title:\n          type: string\n          nullable: true\n        status:\n          type: integer\n          format: int32\n          nullable: true\n        detail:\n          type: string\n          nullable: true\n        instance:\n          type: string\n          nullable: true\n      additionalProperties: {}\n    \n    ValidateTotpRequest:\n      required:\n        - code\n        - hash\n      type: object\n      properties:\n        code:\n          maxLength: 6\n          minLength: 1\n          type: string\n        hash:\n          minLength: 1\n          type: string\n        userId:\n          type: string\n          nullable: true\n          readOnly: true\n      additionalProperties: false\n    \n    ValidateTotpResponse:\n      type: object\n      properties:\n        hash:\n          type: string\n          nullable: true\n        expirationInSeconds:\n          type: integer\n          format: int32\n      additionalProperties: false\nx-readme:\n  explorer-enabled: true\n  proxy-enabled: true\n  samples-enabled: true\n  samples-languages:\n    - curl\n",
			"canonicalURL": "/github.com/acesso-bankly/open-api@f1b880f8c6c625aa96ae3d1b4acb02aacb8da6cb/-/blob/apis/v1/oauth/schema.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/acesso-bankly/open-api/blob/f1b880f8c6c625aa96ae3d1b4acb02aacb8da6cb/apis/v1/oauth/schema.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/totp\": post: operation \"CreateTotpAsync\": responses: 400: at 1:6494: external \"http://localhost:3320/commons/components\": get: http: do: Get \"http://localhost:3320/commons/components\": host \"localhost:3320\" is not allowed"
}