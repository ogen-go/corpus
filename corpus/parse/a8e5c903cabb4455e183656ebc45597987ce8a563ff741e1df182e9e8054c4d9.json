{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/stadlar/IST-FUT-FMTH"
		},
		"file": {
			"name": "psd2-api-lean_push_notifications 20190508.yaml",
			"size": 0,
			"path": "Vinnusvæði/Stuðningsefni/Berlin-group/Extended-services/psd2-api-lean_push_notifications 20190508.yaml",
			"byteSize": 22769,
			"content": "openapi: 3.0.1\ninfo:\n  title: NextGenPSD2 XS2A Framework\n  version: \"1.0.0 Apr 16th 2019\"\n  description: |\n    # Summary\n    For definition on character Sets and Notations, request and response notations and details on the transport Layer, please refer to XS2A Implementation Guidelines.\n    \n  license:\n    name: Creative Commons Attribution 4.0 International Public License\n    url: https://creativecommons.org/licenses/by/4.0/\n  #termsOfService: URL for Terms of Service of the API\n  contact:\n    name: The Berlin Group - A European Standards Initiative\n    url: https://www.berlin-group.org/\n    email: info@berlin-group.org\n    \nexternalDocs:\n  description: |\n    Full Documentation of NextGenPSD2 Access to Account Interoperability Framework\n    (General Introduction Paper, Operational Rules, Implementation Guidelines)\n  url: https://www.berlin-group.org/nextgenpsd2-downloads\n\nservers:\n  - url: https://api.tpp.com/psd2\n    description: TPP server\n\npaths:\n  /TPP-notification-URI:\n    post:\n      summary: POST Resource Status\n      description: | \n        POST Resource Status.\n    \n        **Remark:** In case, where the ASPSP is only pushing a status hyperlink to the TPP, the TPP needs to check the resource status before informing e.g. the PSU\n        \n        **Side Effects**\n        Creates a Resource Notification on the TPP server\n        \n      operationId: resourceStatusNotification\n      tags:\n        - Resource Notification Push Service\n      \n      security:\n      ##################################################### \n      # REMARKS ON SECURITY IN THIS OPENAPI FILE\n      #In this file only the basic security element to transport\n      # the bearer token of an an OAuth2 process, which has to \n      # be included inthe HTTP header ist described.\n      #\n      # WARNING:\n      # If you want to use this file for a productive implementation, \n      # it is recommandes to adjust the security schemes according to \n      # your system enviroments and security policies.\n      #####################################################\n        - {}\n        - BearerAuthOAuth: []\n      \n      parameters:\n        #path # NO PATH PARAMETER\n        #query # NO QUERY PARAMETER\n        #header\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"                 \n   \n      requestBody:\n        $ref: \"#/components/requestBodies/pushNotification\"          \n      \n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_LPS\"        \n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_LPS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_LPS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_LPS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_LPS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_LPS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_LPS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_LPS\"   \n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_LPS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_LPS\"\n\n\n\ncomponents:\n#####################################################\n# Predefined Components\n#####################################################\n\n  schemas:\n  #####################################################\n  # Predefined Schemas\n  #####################################################\n\n    consentId:\n      description: |\n        This shall be contained if the push notification is about establishing a consent\n      type: string\n      \n    paymentId:\n      description: |\n        This shall be contained, if the push notification is about a payment initiation.\n      type: string\n    \n    basketId:\n      description: |\n        This shall be contained, if the push notification is about a payment initiation.\n      type: string\n    \n    authorisationId:\n      description: |\n        This attribute should be contained if the push notification is about a specific SCA status\n      type: string\n      \n    cancellationId:\n      description: |\n        This attribute should be contained if the push notification is about a specific SCA status of a cancellation authorisation sub-resource\n      type: string\n\n    hrefType:\n      description: Link to a resource\n      type: object\n      properties:\n        href:\n          $ref: \"#/components/schemas/hrefEntry\"\n\n    hrefEntry:\n      description: Link to a resource\n      type: string\n      example: \"/v1/payments/sepa-credit-transfers/1234-wertiq-983\"\n \n    consentStatus:\n      description: |\n        This is the overall lifecycle status of the consent.\n        \n        Valid values are:\n          - 'received': The consent data have been received and are technically correct. \n            The data is not authorised yet.\n          - 'rejected': The consent data have been rejected e.g. since no successful authorisation has taken place.\n          - 'valid': The consent is accepted and valid for GET account data calls and others as specified in the consent object.\n          - 'revokedByPsu': The consent has been revoked by the PSU towards the ASPSP.\n          - 'expired': The consent expired.\n          - 'terminatedByTpp': The corresponding TPP has terminated the consent by applying the DELETE method to the consent resource.\n        \n        The ASPSP might add further codes. These codes then shall be contained in the ASPSP's documentation of the XS2A interface \n        and has to be added to this API definition as well.\n      type: string\n      enum:\n        - \"received\"\n        - \"rejected\"\n        - \"valid\"\n        - \"revokedByPsu\"\n        - \"expired\"\n        - \"terminatedByTpp\"\n    scaStatus:\n      description: |\n        This data element is containing information about the status of the SCA method applied. \n        \n        The following codes are defined for this data type.\n        \n          * 'received':\n            An authorisation or cancellation-authorisation resource has been created successfully.\n          * 'psuIdentified':\n            The PSU related to the authorisation or cancellation-authorisation resource has been identified.\n          * 'psuAuthenticated':\n            The PSU related to the authorisation or cancellation-authorisation resource has been identified and authenticated e.g. by a password or by an access token.\n          * 'scaMethodSelected':\n            The PSU/TPP has selected the related SCA routine. \n            If the SCA method is chosen implicitly since only one SCA method is available, \n            then this is the first status to be reported instead of 'received'.\n          * 'started':\n            The addressed SCA routine has been started.\n          * 'finalised':\n            The SCA routine has been finalised successfully.\n          * 'failed':\n            The SCA routine failed\n          * 'exempted':\n            SCA was exempted for the related transaction, the related authorisation is successful.\n      type: string\n      enum:\n        - \"received\"\n        - \"psuIdentified\"\n        - \"psuAuthenticated\"\n        - \"scaMethodSelected\"\n        - \"started\"\n        - \"finalised\"\n        - \"failed\"\n        - \"exempted\"\n        \n      example: \"psuAuthenticated\"\n    \n    transactionStatus:\n      description: | \n        The transaction status is filled with codes of the ISO 20022 data table:\n        - 'ACCC': 'AcceptedSettlementCompleted' -\n          Settlement on the creditor's account has been completed.\n        - 'ACCP': 'AcceptedCustomerProfile' - \n          Preceding check of technical validation was successful. \n          Customer profile check was also successful.\n        - 'ACSC': 'AcceptedSettlementCompleted' - \n          Settlement on the debtor�s account has been completed.\n          \n          **Usage:** this can be used by the first agent to report to the debtor that the transaction has been completed. \n          \n          **Warning:** this status is provided for transaction status reasons, not for financial information. \n          It can only be used after bilateral agreement.\n        - 'ACSP': 'AcceptedSettlementInProcess' - \n          All preceding checks such as technical validation and customer profile were successful and therefore the payment initiation has been accepted for execution.\n        - 'ACTC': 'AcceptedTechnicalValidation' - \n          Authentication and syntactical and semantical validation are successful.\n        - 'ACWC': 'AcceptedWithChange' - \n          Instruction is accepted but a change will be made, such as date or remittance not sent.\n        - 'ACWP': 'AcceptedWithoutPosting' - \n          Payment instruction included in the credit transfer is accepted without being posted to the creditor customer�s account.\n        - 'RCVD': 'Received' - \n          Payment initiation has been received by the receiving agent.\n        - 'PDNG': 'Pending' - \n          Payment initiation or individual transaction included in the payment initiation is pending. \n          Further checks and status update will be performed.\n        - 'RJCT': 'Rejected' - \n          Payment initiation or individual transaction included in the payment initiation has been rejected.\n        - 'CANC': 'Cancelled'\n          Payment initiation has been cancelled before execution\n          Remark: This codeis accepted as new code by ISO20022.\n        - 'ACFC': 'AcceptedFundsChecked' -\n          Preceding check of technical validation and customer profile was successful and an automatic funds check was positive .\n          Remark: This code is accepted as new code by ISO20022.\n        - 'PATC': 'PartiallyAcceptedTechnical'\n          Correct The payment initiation needs multiple authentications, where some but not yet all have been performed. Syntactical and semantical validations are successful.\n          Remark: This code is accepted as new code by ISO20022.\n        - 'PART': 'PartiallyAccepted' -\n          A number of transactions have been accepted, whereas another number of transactions have not yet achieved 'accepted' status.\n          Remark: This code may be used only in case of bulk payments. It is only used in a situation where all mandated authorisations have been applied, but some payments have been rejected.\n          \n      type: string\n      enum:\n        - \"ACCC\"\n        - \"ACCP\"\n        - \"ACSC\"\n        - \"ACSP\"\n        - \"ACTC\"\n        - \"ACWC\"\n        - \"ACWP\"\n        - \"RCVD\"\n        - \"PDNG\"\n        - \"RJCT\"\n        - \"CANC\"\n        - \"ACFC\"\n        - \"PATC\"\n        - \"PART\"\n      example: \"ACCP\"\n    \n    _linksPushNotification:\n      description: |\n        The following link types are supported:\n        \n        status: This shall be contained if the related consent or transactio status is not reported at the same time. The TPP then needs to get the resource status by a GET command using this hyperlink \n        \n        scaStatus: This shall be contained if the related SCA status is not reported at the same time by the scaStatus attribute. The TPP then needs to get the scaStatus by a GET command using this hyperlink\n        \n      type: object\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n        status: \n          $ref: \"#/components/schemas/hrefType\"\n    \n\n#####################################################\n# Content of Request Bodies\n#####################################################\n\n    #####################################################\n    # Content of Request Bodies - JSON\n    #####################################################\n\n    pushNotification:\n      description: |\n        Content of the body of a payment, signing basket or consent resource.\n      type: object      \n      properties:\n        paymentId: \n          $ref: \"#/components/schemas/paymentId\"\n        consentId:\n          $ref: \"#/components/schemas/consentId\"\n        basketId: \n          $ref: \"#/components/schemas/basketId\"\n        authorisationId:\n          $ref: \"#/components/schemas/authorisationId\"\n        cancellationId: \n          $ref: \"#/components/schemas/cancellationId\"\n        transactionStatus:\n          $ref: \"#/components/schemas/transactionStatus\"\n        scaStatus: \n          $ref: \"#/components/schemas/scaStatus\"\n        consentStatus:\n          $ref: \"#/components/schemas/consentStatus\"\n        _links:\n          $ref: \"#/components/schemas/_linksPushNotification\"\n    \n\n    #####################################################\n    # Content of Request Bodies - XML\n    #####################################################\n\n      #####################################################\n      # Content of Request Bodies - Single Part\n      #####################################################\n\n\n\n\n   \n#####################################################\n# _links\n#####################################################\n\n\n#####################################################\n# Tpp-Messages to Communicate Error Information\n#####################################################\n\n\n  #####################################################\n  # Generic Elements\n  #####################################################\n\n  parameters:\n  #####################################################\n  # Predefined Parameters\n  #####################################################\n\n    X-Request-ID:\n      name: X-Request-ID\n      in: header\n      description: ID of the request, unique to the call, as determined by the initiating party.\n      required: true\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n\n\n    TPP-Notification-URI:\n      name: TPP-Notification-URI\n      in: header\n      description: |\n        URI for the Endpoint of the TPP-API to which the status of the payment initiation should be sent. \n    \n        This header field may by ignored by the ASPSP.\n        \n        For security reasons, it shall be ensured that the TPP-Notification-URI as introduced above is secured by the TPP eIDAS QWAC used for identification of the TPP. The following applies:\n          \n          URIs which are provided by TPPs in TPP-Notification-URI shall comply with the domain secured by the eIDAS QWAC certificate of the TPP in the field CN or SubjectAltName of the certificate. Please note that in case of example-TPP.com as certificate entry TPP- Notification-URI like www.example-TPP.com/xs2a-client/v1/ASPSPidentifcation/mytransaction- id/notifications or notifications.example-TPP.com/xs2a-client/v1/ASPSPidentifcation/mytransaction- id/notifications would be compliant.\n          \n          Wildcard definitions shall be taken into account for compliance checks by the ASPSP.\n          ASPSPs may respond with ASPSP-Notification-Support set to false, if the provided URIs do not comply.\n      schema:\n        type: string       \n      required: false\n\n\n    TPP-Notification-Content-Preferred:\n      name: TPP-Notification-Content-Preferred\n      in: header\n      description: |\n        The string has the form status=X1, …, Xn , where  Xi is one of the constants SCA, PROCESS, LAST and where constants are not repeated.\n    \n        The usage of the constants supports the following semantics:\n    \n        SCA: A notification on every change of the scaStatus attribute for all related authorisation processes is preferred by the TPP.\n    \n        PROCESS: A notification on all changes of consentStatus or transactionStatus attributes is preferred by the TPP.\n    \n        LAST: Only a notification on the last consentStatus or transactionStatus as available in the XS2A interface is preferred by the TPP\n    \n        This header field may be ignored, if the ASPSP does not support resource notification services for the related TPP\n      schema:\n        type: string       \n      required: false\n\n\n  requestBodies:\n  #####################################################\n  # Reusable Request Bodies\n  #####################################################\n  \n    pushNotification:\n      description: |\n        Request body for pushing a status of payment, signing basket or consent resource\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/pushNotification\"\n          examples:\n            Example:\n              $ref: \"#/components/examples/pushNotification\"\n \n  headers:\n  #####################################################\n  # Reusable Response Header Elements\n  #####################################################\n  \n    X-Request-ID:\n      description: ID of the request, unique to the call, as determined by the initiating party.\n      required: true\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n\n    Location:\n      description: |\n        Location of the created resource.\n      schema:\n        type: string\n        format: url\n      required: false\n   \n    TPP-Notification-URI:    \n      description: |\n        URI for the Endpoint of the TPP-API to which the status of the payment initiation should be sent. \n        This header field may by ignored by the ASPSP\n      schema:\n        type: string      \n        format: url    \n      required: false\n\n    TPP-Notification-Content-Preferred:\n      description: |\n        The string has the form\n        status=X1, …, Xn  \n        where Xi is one of the constants SCA, PROCESS, LAST and where constants are not repeated.\n        The usage of the constants supports the following semantics\n        SCA: notification on every change of the scaStatus attribute for all related authorisation processes is preferred by the TPP.\n        PROCESS: notification on all changes of consentStatus or transactionStatus attributes is preferred by the TPP.\n        LAST: Only a notification on the last consentStatus or transactionStatus as available in the XS2A interface is preferred by the TPP\n        This header field may be ignored, if the ASPSP does not support resource notification services for the related TPP\n      schema:\n        type: string       \n      required: false\n   \n    ASPSP-Notification-Support:\n      description: |\n        true if the ASPSP supports resource status notification services.\n    \n        false if the ASPSP supports resource status notification in general, but not for the current request.\n    \n        Not used, if resource status notification services are generally not supported by the ASPSP.\n    \n        Shall be supported if the ASPSP supports resource status notification services.\n      schema:\n        type: boolean       \n      required: false\n    \n    ASPSP-Notification-Content:\n      description: |\n        The string has the form\n        status=X1, …, Xn\n        where Xi is one of the constants SCA, PROCESS, LAST and where constants are not repeated.\n        The usage of the constants supports the following semantics\n        SCA - Notification on every change of the scaStatus attribute for all related authorisation processes is provided by the ASPSP for the related resource.\n        PROCESS - Notification on all changes of consentStatus or transactionStatus attributes is provided by the ASPSP for the related resource\n        LAST - Notification on the last consentStatus or transactionStatus as available in the XS2A interface is provided by the ASPSP for the related resource.\n        This field must be provided if the ASPSP-Notification-Support=true. The ASPSP might consider the notification content as preferred by the TPP, but can also respond independently of the preferred request    \n      schema:\n        type: string        \n      required: false\n   \n  responses:\n  #####################################################\n  # Reusabale Responses\n  #####################################################\n    #####################################################\n    # Positive Responses\n    #####################################################\n\n    CREATED_201_ConfirmationImplicitSubscription:\n      description: Created\n      headers:        \n        ASPSP-Notification-Support:\n          $ref: \"#/components/headers/ASPSP-Notification-Support\"\n        ASPSP-Notification-Content:\n          $ref: \"#/components/headers/ASPSP-Notification-Content\"\n      #No Response body because there are no specific requirements\n           \n    OK_200_LPS:\n      description: Push notification\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"        \n      #No Response body because there are no specific requirements\n    \n    #####################################################\n    # Negative Responses\n    #####################################################\n\n    BAD_REQUEST_400_LPS:\n      description: Validation error occurred. This code will cover malformed syntax in request or incorrect data in payload.\n\n    UNAUTHORIZED_401_LPS:\n      description: The TPP or the PSU is not correctly authorized to perform the request. Retry the request with correct authentication information.\n\n    FORBIDDEN_403_LPS:\n      description: Returned if the resource that was referenced in the path exists but cannot be accessed by the ASPSP. This code should only be used for non-sensitive id references as it will reveal that the resource exists even though it cannot be accessed.\n\n    NOT_FOUND_404_LPS:\n      description: Returned if the endpoint that was referenced in the path does not exist or cannot be referenced by the ASPSP.\n        When in doubt if a specific id in the path is sensitive or not, use the HTTP response code 404 instead of the HTTP response code 403.\n\n    METHOD_NOT_ALLOWED_405_LPS:\n      description: This code is only sent when the HTTP method (PUT, POST, DELETE, GET etc.) is not supported on a specific endpoint.\n\n    REQUEST_TIMEOUT_408_LPS: \n      description: The server is still working correctly, but an individual request has timed out.\n\n\n    UNSUPPORTED_MEDIA_TYPE_415_LPS:\n      description: The ASPSP has supplied a media type which the TPP does not support.\n\n    INTERNAL_SERVER_ERROR_500_LPS:\n      description: Internal server error occurred.\n\n    SERVICE_UNAVAILABLE_503_LPS:\n      description: The TPP server is currently unavailable. Generally, this is a temporary state.\n\n  examples:\n  #####################################################\n  # Predefined Examples\n  #####################################################\n\n    pushNotification:\n      description: Consent request on dedicated accounts\n      value:\n        {\n        \"payment-ID\": \"12345-23454-123123\",\n        \"transactionStatus\": \"ACFC\"\n       }\n      \n\n\nsecurity:\n#####################################################\n# Global security options\n#####################################################\n  - {}\n\n\n\n",
			"canonicalURL": "/github.com/stadlar/IST-FUT-FMTH@dc598095fa94b3f52c3ac8b2e2e5189df3571253/-/blob/Vinnusv%C3%A6%C3%B0i/Stu%C3%B0ningsefni/Berlin-group/Extended-services/psd2-api-lean_push_notifications%2020190508.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/stadlar/IST-FUT-FMTH/blob/dc598095fa94b3f52c3ac8b2e2e5189df3571253/Vinnusvæði/Stuðningsefni/Berlin-group/Extended-services/psd2-api-lean_push_notifications 20190508.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/TPP-notification-URI\": at 1:15688: post: operation \"resourceStatusNotification\": at 1:15696: at 1:16796: security: unknown security schema \"BearerAuthOAuth\""
}