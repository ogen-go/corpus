{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/emanuelfreitas/3gpp-documentation"
		},
		"file": {
			"name": "TS29222_CAPIF_Publish_Service_API.yaml",
			"size": 0,
			"path": "apis/TS29222_CAPIF_Publish_Service_API.yaml",
			"byteSize": 19076,
			"content": "openapi: 3.0.0\ninfo:\n  title: CAPIF_Publish_Service_API\n  description: |\n    API for publishing service APIs.\n    © 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\n    All rights reserved.\n  version: \"1.2.0-alpha.1\"\nexternalDocs:\n  description: 3GPP TS 29.222 V17.1.0 Common API Framework for 3GPP Northbound APIs\n  url: http://www.3gpp.org/ftp/Specs/archive/29_series/29.222/\nservers:\n  - url: '{apiRoot}/published-apis/v1'\n    variables:\n      apiRoot:\n        default: https://example.com\n        description: apiRoot as defined in subclause 7.5 of 3GPP TS 29.222.\npaths:\n\n# APF published API\n\n  /{apfId}/service-apis:\n    post:\n      description: Publish a new API.\n      parameters:\n        - name: apfId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/apfId'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ServiceAPIDescription'\n      responses:\n        '201':\n          description: Service API published successfully The URI of the created resource shall be returned in the \"Location\" HTTP header.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceAPIDescription'\n          headers:\n            Location:\n              description: 'Contains the URI of the newly created resource, according to the structure: {apiRoot}/published-apis/v1/{apfId}/service-apis/{serviceApiId}'\n              required: true\n              schema:\n                type: string\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n    get:\n      description: Retrieve all published APIs.\n      parameters:\n        - name: apfId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/apfId'\n      responses:\n        '200':\n          description: Definition of all service API(s) published by the API publishing function.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceAPIDescription'\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '406':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/406'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n\n# Individual APF published API\n\n  /{apfId}/service-apis/{serviceApiId}:\n    get:\n      description: Retrieve a published service API.\n      parameters:\n        - name: serviceApiId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/serviceApiId'\n        - name: apfId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/apfId'\n      responses:\n        '200':\n          description: Definition of all service API published by the API publishing function.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceAPIDescription'\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '406':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/406'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n    put:\n      description: Update a published service API.\n      parameters:\n        - name: serviceApiId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/serviceApiId'\n        - name: apfId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/apfId'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ServiceAPIDescription'\n      responses:\n        '200':\n          description: Definition of service API updated successfully.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceAPIDescription'\n        '204':\n          description: No Content\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n    delete:\n      description: Unpublish a published service API.\n      parameters:\n        - name: serviceApiId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/serviceApiId'\n        - name: apfId\n          in: path\n          required: true\n          schema:\n            $ref: '#/components/schemas/apfId'\n      responses:\n        '204':\n          description: The individual published service API matching the serviceAPiId is deleted.\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n\n# Components\n\ncomponents:\n  schemas:\n# Data types uses as path variables\n    apfId:\n      type: string\n      description: Identification of the API publishing function.\n    serviceApiId:\n      type: string\n      description: String identifying an individual published service API.\n# Data Type for representations\n    ServiceAPIDescription:\n      type: object\n      description: Represents the description of a service API as published by the APF.\n      properties:\n        apiName:\n          type: string\n          description: API name, it is set as {apiName} part of the URI structure as defined in subclause 4.4 of 3GPP TS 29.501.\n        apiId:\n          type: string\n          description: API identifier assigned by the CAPIF core function to the published service API. Shall not be present in the HTTP POST request from the API publishing function to the CAPIF core function. Shall be present in the HTTP POST response from the CAPIF core function to the API publishing function and in the HTTP GET response from the CAPIF core function to the API invoker (discovery API).\n        aefProfiles:\n          type: array\n          items:\n            $ref: '#/components/schemas/AefProfile'\n          minItems: 1\n          description: AEF profile information, which includes the exposed API details (e.g. protocol).\n        description:\n          type: string\n          description: Text description of the API\n        supportedFeatures:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n        shareableInfo:\n          $ref: '#/components/schemas/ShareableInformation'\n        serviceAPICategory:\n          type: string\n        apiSuppFeats:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n        pubApiPath:\n          $ref: '#/components/schemas/PublishedApiPath'\n        ccfId:\n          type: string\n          description: CAPIF core function identifier.\n      required:\n        - apiName\n    InterfaceDescription:\n      type: object\n      description: Represents the description of an API's interface.\n      properties:\n        ipv4Addr:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/Ipv4Addr'\n        ipv6Addr:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/Ipv6Addr'\n        port:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/Port'\n        securityMethods:\n          type: array\n          items:\n            $ref: '#/components/schemas/SecurityMethod'\n          minItems: 1\n          description: Security methods supported by the interface, it take precedence over the security methods provided in AefProfile, for this specific interface.\n      oneOf:\n        - required: [ipv4Addr]\n        - required: [ipv6Addr]\n    AefProfile:\n      type: object\n      description: Represents the AEF profile data.\n      properties:\n        aefId:\n          type: string\n          description: Identifier of the API exposing function\n        versions:\n          type: array\n          items:\n            $ref: '#/components/schemas/Version'\n          minItems: 1\n          description: API version\n        protocol:\n          $ref: '#/components/schemas/Protocol'\n        dataFormat:\n          $ref: '#/components/schemas/DataFormat'\n        securityMethods:\n          type: array\n          items:\n            $ref: '#/components/schemas/SecurityMethod'\n          minItems: 1\n          description: Security methods supported by the AEF\n        domainName:\n          type: string\n          description: Domain to which API belongs to\n        interfaceDescriptions:\n          type: array\n          items:\n            $ref: '#/components/schemas/InterfaceDescription'\n          minItems: 1\n          description: Interface details\n      required:\n        - aefId\n        - versions\n      oneOf:\n        - required: [domainName]\n        - required: [interfaceDescriptions]\n    Resource:\n      type: object\n      description: Represents the API resource data.\n      properties:\n        resourceName:\n          type: string\n          description: Resource name\n        commType:\n          $ref: '#/components/schemas/CommunicationType'\n        uri:\n          type: string\n          description: Relative URI of the API resource, it is set as {apiSpecificResourceUriPart} part of the URI structure as defined in subclause 4.4 of 3GPP TS 29.501.\n        custOpName:\n          type: string\n          description: it is set as {custOpName} part of the URI structure for a custom operation associated with a resource as defined in subclause 4.4 of 3GPP TS 29.501.\n        operations:\n          type: array\n          items:\n            $ref: '#/components/schemas/Operation'\n          minItems: 1\n          description: Supported HTTP methods for the API resource. Only applicable when the protocol in AefProfile indicates HTTP.\n        description:\n          type: string\n          description: Text description of the API resource\n      required:\n        - resourceName\n        - commType\n        - uri\n    CustomOperation:\n      type: object\n      description: Represents the description of a custom operation.\n      properties:\n        commType:\n          $ref: '#/components/schemas/CommunicationType'\n        custOpName:\n          type: string\n          description: it is set as {custOpName} part of the URI structure for a custom operation without resource association as defined in subclause 4.4 of 3GPP TS 29.501.\n        operations:\n          type: array\n          items:\n            $ref: '#/components/schemas/Operation'\n          minItems: 1\n          description: Supported HTTP methods for the API resource. Only applicable when the protocol in AefProfile indicates HTTP.\n        description:\n          type: string\n          description: Text description of the custom operation\n      required:\n        - commType\n        - custOpName\n    Version:\n      type: object\n      description: Represents the API version information.\n      properties:\n        apiVersion:\n          type: string\n          description: API major version in URI (e.g. v1)\n        expiry:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/DateTime'\n        resources:\n          type: array\n          items:\n            $ref: '#/components/schemas/Resource'\n          minItems: 1\n          description: Resources supported by the API.\n        custOperations:\n          type: array\n          items:\n            $ref: '#/components/schemas/CustomOperation'\n          minItems: 1\n          description: Custom operations without resource association.\n      required:\n        - apiVersion\n    ShareableInformation:\n      type: object\n      description: Indicates whether the service API and/or the service API category can be shared to the list of CAPIF provider domains.\n      properties:\n        isShareable:\n          type: boolean\n          description: Set to \"true\" indicates that the service API and/or the service API category can be shared to the list of CAPIF provider domain information. Otherwise set to \"false\".\n        capifProvDoms:\n          type: array\n          items:\n            type: string\n          minItems: 1\n          description: List of CAPIF provider domains to which the service API information to be shared.\n      required:\n        - isShareable\n    PublishedApiPath:\n      type: object\n      description: Represents the published API path within the same CAPIF provider domain.\n      properties:\n        ccfIds:\n          type: array\n          items:\n            type: string\n          minItems: 1\n          description: A list of CCF identifiers where the service API is already published.\n    Protocol:\n      anyOf:\n      - type: string\n        enum:\n          - HTTP_1_1\n          - HTTP_2\n      - type: string\n        description: \u003e\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: \u003e\n        Possible values are\n        - HTTP_1_1: HTTP version 1.1\n        - HTTP_2: HTTP version 2\n    CommunicationType:\n      anyOf:\n      - type: string\n        enum:\n          - REQUEST_RESPONSE\n          - SUBSCRIBE_NOTIFY\n      - type: string\n        description: \u003e\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: \u003e\n        Possible values are\n        - REQUEST_RESPONSE: The communication is of the type request-response\n        - SUBSCRIBE_NOTIFY: The communication is of the type subscribe-notify\n    DataFormat:\n      anyOf:\n      - type: string\n        enum:\n          - JSON\n      - type: string\n        description: \u003e\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: \u003e\n        Possible values are\n        - JSON: JavaScript Object Notation\n    SecurityMethod:\n      anyOf:\n      - type: string\n        enum:\n          - PSK\n          - PKI\n          - OAUTH\n      - type: string\n        description: \u003e\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: \u003e\n        Possible values are\n        - PSK: Security method 1 (Using TLS-PSK) as described in 3GPP TS 33.122\n        - PKI: Security method 2 (Using PKI) as described in 3GPP TS 33.122\n        - OAUTH: Security method 3 (TLS with OAuth token) as described in 3GPP TS 33.122\n    Operation:\n      anyOf:\n      - type: string\n        enum:\n          - GET\n          - POST\n          - PUT\n          - PATCH\n          - DELETE\n      - type: string\n        description: \u003e\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: \u003e\n        Possible values are\n        - GET: HTTP GET method\n        - POST: HTTP POST method\n        - PUT: HTTP PUT method\n        - PATCH: HTTP PATCH method\n        - DELETE: HTTP DELETE method\n"
		}
	},
	"Error": "parse: parse spec: paths: /{apfId}/service-apis: get: operation \"\": responses: 400: resolve \"TS29122_CommonData.yaml#/components/responses/400\" reference: invalid response reference: \"TS29122_CommonData.yaml#/components/responses/400\""
}