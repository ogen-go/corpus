{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/marigold-dev/deku"
		},
		"file": {
			"name": "api.json",
			"size": 0,
			"path": "docs/api.json",
			"byteSize": 20269,
			"content": "{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Deku\",\n    \"version\": \"v1\",\n    \"description\": \"API for deku v1.\"\n  },\n  \"paths\": {\n    \"/chain/info\": {\n      \"get\": {\n        \"description\": \"Gets the consensus and discovery contract address from the chain.\",\n        \"tags\": [\"chain\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"consensus and discovery address\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/ChainInfo\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/level\": {\n      \"get\": {\n        \"description\": \"Returns the current level of the chain.\",\n        \"tags\": [\"chain\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Gets the string representation of the level (an int64) of the current chain level.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"level\": {\n                      \"$ref\": \"#/components/schemas/BlockLevel\"\n                    }\n                  }\n                },\n                \"examples\": {\n                  \"level\": {\n                    \"$ref\": \"#/components/examples/level-response\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/blocks\": {\n      \"get\": {\n        \"description\": \"Streams blocks starting at the current level of the chain\",\n        \"tags\": [\"chain\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"blocks\",\n            \"headers\": {\n              \"Transfer-Encoding\": {\n                \"schema\": {\n                  \"type\": \"string\",\n                  \"description\": \"Used to stream blocks.\",\n                  \"example\": \"chunked\"\n                }\n              }\n            },\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Block\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/blocks/{block_hash}\": {\n      \"get\": {\n        \"description\": \"Returns the block of the given hash.\",\n        \"tags\": [\"chain\"],\n        \"parameters\": [\n          {\n            \"name\": \"block_hash\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/BlockHash\"\n            },\n            \"required\": true,\n            \"description\": \"The hash of the block to find\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Block for the given hash has been found.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Block\"\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"The block wasn't found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"block not found\": {\n                    \"$ref\": \"#/components/examples/block-not-found-error\"\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Non valid block_hash\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"invalid block hash\": {\n                    \"$ref\": \"#/components/examples/invalid-block-hash-error\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/blocks/{level}\": {\n      \"get\": {\n        \"description\": \"Returns the block at the given level.\",\n        \"tags\": [\"chain\"],\n        \"parameters\": [\n          {\n            \"name\": \"level\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/BlockLevel\"\n            },\n            \"required\": true,\n            \"description\": \"The level of the block to find\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Block is retrieved.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Block\"\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"The block wasn't found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"block not found\": {\n                    \"$ref\": \"#/components/examples/block-not-found-error\"\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Non-valid level. The level should represents a int64.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"invalid block level\": {\n                    \"$ref\": \"#/components/examples/invalid-block-level-error\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/blocks/head\": {\n      \"get\": {\n        \"description\": \"Returns the last applied block.\",\n        \"tags\": [\"chain\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Current block retrieved.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Block\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/chain/blocks/genesis\": {\n      \"get\": {\n        \"description\": \"Returns the genesis block of the chain.\",\n        \"tags\": [\"chain\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Genesis block has been retrieved.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Block\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/operations\": {\n      \"post\": {\n        \"description\": \"Sends an operation.\",\n        \"tags\": [\"operations\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Operation\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"202\": {\n            \"description\": \"The commit has been accepted (but not yet processed)\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"hash\": {\n                      \"$ref\": \"#/components/schemas/BlockHash\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"The request is malformed.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"invalid-packet-hash-error\": {\n                    \"$ref\": \"#/components/examples/invalid-packet-hash-error\"\n                  },\n                  \"invalid-message-error\": {\n                    \"$ref\": \"#/components/examples/invalid-message-error\"\n                  }\n                }\n              }\n            }\n          },\n          \"403\": {\n            \"$ref\": \"#/components/responses/403-response\"\n          }\n        }\n      }\n    },\n    \"/states/ledger/balance/{deku_address}/{ticketer}/{ticket_data}\": {\n      \"get\": {\n        \"description\": \"Returns the current balance of someone for a given ticket, returns 0 by default.\",\n        \"tags\": [\"ledger\"],\n        \"parameters\": [\n          {\n            \"name\": \"deku_address\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"the address of the ticket owner\"\n          },\n          {\n            \"name\": \"ticketer\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"the address of the ticketer\",\n            \"example\": \"KT1Ue4LG7323KyW6SHEoVD1Z77zbuxFqRG9T\"\n          },\n          {\n            \"name\": \"ticket_data\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"the hexa representation of the ticket data\",\n            \"example\": \"0x00\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Balance retrieved.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Balance\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Non valid deku address.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"invalid deku address\": {\n                    \"$ref\": \"#/components/examples/invalid-deku-address-error\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/states/wasm\": {\n      \"get\": {\n        \"description\": \"Returns the whole state of the wasm vm.\",\n        \"tags\": [\"wasm\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Wasm state retrieved\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/states/unix\": {\n      \"get\": {\n        \"description\": \"Returns the whole state of the deku-p state\",\n        \"tags\": [\"deku-p\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Deku-p state retrieved\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/states/unix/{key}\": {\n      \"get\": {\n        \"description\": \"Returns a subpart of the state of deku-p, default is null\",\n        \"tags\": [\"deku-p\"],\n        \"parameters\": [\n          {\n            \"name\": \"key\",\n            \"in\": \"path\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"the key of the json state\",\n            \"example\": \"custom_key\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Deku-p state retrieved.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/helpers/operation-messages\": {\n      \"post\": {\n        \"description\": \"Returns the hash of the given operation content.\",\n        \"tags\": [\"helpers\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Operation\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The hash of the operation.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"hash\": {\n                      \"type\": \"string\"\n                    },\n                    \"content\": {\n                      \"$ref\": \"#/components/schemas/Operation\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/helpers/hash-operation\": {\n      \"post\": {\n        \"description\": \"Returns the hash of the given packet. It can be any json.\",\n        \"tags\": [\"helpers\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Operation\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The hash of the operation.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"hash\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"responses\": {\n      \"403-response\": {\n        \"description\": \"The signature does not match\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/Error\"\n            },\n            \"examples\": {\n              \"invalid signature\": {\n                \"$ref\": \"#/components/examples/invalid-signature-error\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"examples\": {\n      \"invalid-block-hash-error\": {\n        \"value\": {\n          \"code\": \"INVALID_BLOCK_HASH\",\n          \"msg\": \"The given block hash cannot be deserialized.\"\n        }\n      },\n      \"block-not-found-error\": {\n        \"value\": {\n          \"code\": \"BLOCK_NOT_FOUND\",\n          \"msg\": \"The block was not found.\"\n        }\n      },\n      \"invalid-block-level-error\": {\n        \"value\": {\n          \"code\": \"INVALID_BLOCK_LEVEL\",\n          \"msg\": \"The given level cannot be deserialized. The level should be an int64 serialized as a string.\"\n        }\n      },\n      \"invalid-signature-error\": {\n        \"value\": {\n          \"code\": \"INVALID_SIGNATURE\",\n          \"msg\": \"The signature does not match the given payload.\"\n        }\n      },\n      \"invalid-packet-hash-error\": {\n        \"value\": {\n          \"code\": \"INVALID_PACKET_HASH\",\n          \"msg\": \"The hash of the given message does not match.\"\n        }\n      },\n      \"invalid-message-error\": {\n        \"value\": {\n          \"code\": \"INVALID_MESSAGE\",\n          \"msg\": \"This is not the expected message, please verify the type of your message by refering to the API.\"\n        }\n      },\n      \"invalid-deku-address-error\": {\n        \"value\": {\n          \"code\": \"INVALID_DEKU_ADDRESS\",\n          \"msg\": \"This is not a valid deku address.\"\n        }\n      },\n      \"level-response\": {\n        \"value\": {\n          \"level\": \"123456\"\n        }\n      },\n      \"block\": {\n        \"value\": {\n          \"hash\": \"Db3VbLn9cPHdxdddXf1nbsYxUckworUY7bbamZFJjzwy1twXQ2DL\",\n          \"level\": \"1234456\",\n          \"round\": \"6543\",\n          \"payload\": []\n        }\n      }\n    },\n    \"schemas\": {\n      \"InvalidPacketHashError\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"code\": {\n            \"type\": \"string\",\n            \"example\": \"INVALID_PACKET_HASH\"\n          },\n          \"msg\": {\n            \"type\": \"string\",\n            \"example\": \"The hash of the packet does not correspond.\"\n          }\n        },\n        \"example\": \"WRONG_PACKET_HASH\"\n      },\n      \"InvalidSignatureError\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"code\": {\n            \"type\": \"string\",\n            \"example\": \"INVALID_SIGNATURE\"\n          },\n          \"msg\": {\n            \"type\": \"string\",\n            \"example\": \"The signature of your message is invalid.\"\n          }\n        }\n      },\n      \"InvalidPayloadError\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"code\": {\n            \"type\": \"string\",\n            \"example\": \"INVALID_PAYLOAD\"\n          },\n          \"msg\": {\n            \"type\": \"string\",\n            \"example\": \"Some fields are missing, or you are using the wrong type for some of them.\"\n          }\n        }\n      },\n      \"Error\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"code\": {\n            \"type\": \"string\"\n          },\n          \"msg\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"ChainInfo\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"consensus\": {\n            \"type\": \"string\",\n            \"description\": \"tezos contract address.\",\n            \"example\": \"KT1Ue4LG7323KyW6SHEoVD1Z77zbuxFqRG9T\"\n          },\n          \"discovery\": {\n            \"type\": \"string\",\n            \"description\": \"discovery contract address.\",\n            \"example\": \"KT1FKj8GCYgHFyRLjzTdGhawKDS3iA7TQh2J\"\n          }\n        }\n      },\n      \"Balance\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"balance\": {\n            \"type\": \"integer\",\n            \"description\": \"balance\"\n          }\n        }\n      },\n      \"BlockHash\": {\n        \"type\": \"string\",\n        \"description\": \"BLAKE2b hash string starting by 'B'.\"\n      },\n      \"BlockLevel\": {\n        \"type\": \"string\",\n        \"description\": \"int64 as string.\"\n      },\n      \"Round\": {\n        \"type\": \"string\",\n        \"description\": \"int64 as string\"\n      },\n      \"Block\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"key\": {\n            \"type\": \"string\"\n          },\n          \"signature\": {\n            \"type\": \"string\"\n          },\n          \"block\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"author\": {\n                \"type\": \"string\"\n              },\n              \"level\": {\n                \"$ref\": \"#/components/schemas/BlockLevel\"\n              },\n              \"previous\": {\n                \"$ref\": \"#/components/schemas/BlockHash\"\n              },\n              \"payload\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"tezos_operations\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"TicketId\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"oneOf\": [\n            {\n              \"type\": \"string\",\n              \"example\": \"Ticket_id\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"ticketer\": {\n                  \"type\": \"string\",\n                  \"example\": \"KT...\"\n                },\n                \"amount\": {\n                  \"type\": \"string\",\n                  \"example\": \"200\"\n                }\n              }\n            }\n          ]\n        }\n      },\n      \"OperationContent\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"oneOf\": [\n            {\n              \"type\": \"string\",\n              \"example\": \"Transaction\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"receiver\": {\n                  \"type\": \"string\"\n                },\n                \"ticket_id\": {\n                  \"$ref\": \"#/components/schemas/TicketId\"\n                },\n                \"amount\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          ]\n        },\n        \"minItems\": 1,\n        \"maxItems\": 2\n      },\n      \"Operation\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"level\": {\n            \"type\": \"string\"\n          },\n          \"nonce\": {\n            \"type\": \"string\"\n          },\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"content\": {\n            \"$ref\": \"#/components/schemas/OperationContent\"\n          }\n        }\n      }\n    }\n  }\n}\n",
			"canonicalURL": "/github.com/marigold-dev/deku@607a51af72e4d0a9ca2116d509a21cc87d26af8c/-/blob/docs/api.json",
			"externalURLs": [
				{
					"url": "https://github.com/marigold-dev/deku/blob/607a51af72e4d0a9ca2116d509a21cc87d26af8c/docs/api.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: at docs/api.json:141:5: duplicate path: \"/chain/blocks/{level}\""
}