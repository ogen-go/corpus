{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/acesso-bankly/open-api"
		},
		"file": {
			"name": "schema.yaml",
			"size": 0,
			"path": "apis/v1/documents/schema.yaml",
			"byteSize": 20024,
			"content": "openapi: 3.0.1\ninfo:\n  title: KYC (Know Your Customer)\n  description: |\n    Antes de abrir uma conta de pagamento ou solicitar um cartão de crédito\n    (pré-pago), conheça mais sobre o seu cliente.\n  version: '1.0'\nservers:\n  - url: 'https://api-mtls.sandbox.bankly.com.br'\npaths:\n  /document-analysis/{documentNumber}:\n    get:\n      tags:\n        - Análise de documentos\n      summary: Consulta do resultado da análise do documento\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eVocê pode solicitar mais de um resultado, informando os tokens correspondentes às análises solicitadas.\u003c/p\u003e\n          \u003cspan class=\"bkly-ref-small-stable-tag\"\u003estable\u003c/span\u003e \n          \u003cspan class=\"bkly-ref-scope-tag\"\u003escope: kyc.document.read\u003c/span\u003e\n        \u003c/div\u003e  \n      operationId: GetDocumentAnalysis\n      parameters:\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/CustomerDocument'\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/ApiVersion'\n        - $ref: '#/components/parameters/ResultLevel'\n        - $ref: '#/components/parameters/AnalysisToken'\n      responses:\n        '200':\n          description: Recurso encontrado\n          headers:\n            x-bkly-correlation-id:\n              $ref: 'http://localhost:3320/commons/components#/components/headers/CorrelationId'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/DocumentAnalysisResponse'\n              examples:\n                Selfie:\n                  $ref: '#/components/examples/Selfie'\n                DocumentFront:\n                  $ref: '#/components/examples/DocumentFront'\n                DocumentBack:\n                  $ref: '#/components/examples/DocumentBack'\n        '400':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/400'\n        '403':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/403'\n        '404':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/404'\n        '500':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/500'\n    put:\n      tags:\n        - Análise de documentos\n      summary: Envio de documentos (SELFIE, RG, CNH, RNE, DNI e CRNM) para análise\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eEssa análise é um pré-requisito para fluxo de Onboarding completo e atualização cadastral para clientes pessoa física ou pessoa jurídica.\u003c/p\u003e\n          \u003cspan class=\"bkly-ref-small-stable-tag\"\u003estable\u003c/span\u003e \n          \u003cspan class=\"bkly-ref-scope-tag\"\u003escope: kyc.document.write\u003c/span\u003e\n        \u003c/div\u003e  \n        [block:callout]\n        {\n          \"type\": \"warning\",\n          \"title\": \"Importante\",\n          \"body\": \"A análise acontece de forma assíncrona, considere consultar o status da análise antes de avançar com as etapas do Onboarding completo ou atualização cadastral.\"\n        }\n        [/block]\n      operationId: UploadDocument\n      parameters:\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/CustomerDocument'\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/ApiVersion'\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              $ref: '#/components/schemas/DocumentAnalysisForm'\n            encoding:\n              documentType:\n                style: form\n              documentSide:\n                style: form\n              image:\n                style: form\n      responses:\n        '202':\n          description: Requisição foi aceita e está sendo processada.\n          headers:\n            x-bkly-correlation-id:\n              $ref: 'http://localhost:3320/commons/components#/components/headers/CorrelationId'\n            Location:\n              $ref: 'http://localhost:3320/commons/components#/components/headers/Location'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UploadDocumentResponse'\n              examples:\n                analysIsTokenResponse:\n                  value:\n                    token: T42tcobk32rgiSGM23O6aDTFG6VhhKK4ZR\n                  summary: Token da análise\n        '400':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/400'\n        '403':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/403'\n        '409':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/409'\n        '422':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/422'\n        '500':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/500'\n      security:\n        - Bearer: []\n  \n  /document-analysis/{documentNumber}/corporation-business:\n    put:\n      tags:\n        - Análise de documentos\n      summary: Envio de documentos para Onboarding de Pessoa Jurídica (LTDA, S.A. e TS)\n      operationId: UploadDocumentOnboardingPJLTDASATS\n      description: |\n        \u003cdiv class=\"bkly-ref-description\"\u003e\n          \u003cp\u003eEssa análise é um pré-requisito para fluxo de Onboarding para clientes pessoa jurídica (LTDA, S.A. e TS).\u003c/p\u003e\n          \u003cspan class=\"bkly-ref-small-beta-tag\"\u003ebeta\u003c/span\u003e \n          \u003cspan class=\"bkly-ref-scope-tag\"\u003escope: kyc.document.write\u003c/span\u003e\n        \u003c/div\u003e\n      parameters:\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/ApiVersion'\n        - $ref: 'http://localhost:3320/commons/components#/components/parameters/BusinessDocument'\n      requestBody:\n        required: true\n        content:\n          multipart/form-data:\n            schema:\n              $ref: \"#/components/schemas/CorporateDocumenteRequest\"\n             \n      responses:\n        '201':\n          description: Requisição foi aceita\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/FileTokenResponse\"\n        '400':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/400'\n        '500':\n          $ref: 'http://localhost:3320/commons/components#/components/responses/500'\n      security:\n        - bearer: []\nsecurity:\n  - Bearer: []\ncomponents:\n  parameters:  \n    ResultLevel:\n      name: resultLevel\n      in: query\n      description: |\n        Tipo de retorno da API.\n        _(ONLY_STATUS, DETAILED)_\n      required: false\n      style: form\n      explode: true\n      schema:\n        $ref: '#/components/schemas/ResultLevel'\n    \n    AnalysisToken:\n      name: token\n      in: query\n      description: Lista de tokens de análise do documento.\n      required: false\n      style: form\n      explode: true\n      schema:\n        type: array\n        description: Lista de tokens de análise do documento.\n        nullable: true\n        items:\n          type: string\n  \n  schemas:\n\n    CorporateDocumenteRequest:\n      type: object\n      required:\n        - documentType\n        - file\n      properties:\n        documentType:\n          type: string\n          description: Tipo do documento (ARTICLES_OF_INCORPORATION, LAST_CONTRACT_CHANGE, BALANCE_SHEET ou POWER_OF_ATTORNEY)\n          enum:\n            - ARTICLES_OF_INCORPORATION\n            - LAST_CONTRACT_CHANGE\n            - BALANCE_SHEET\n            - POWER_OF_ATTORNEY\n        file:\n          type: string\n          format: binary\n          description: Arquivo do documento. Não deve ser superior à 8.5 MB. Apenas arquivos com a extensão '.pdf'.\n\n    Error:\n      $ref: http://localhost:3320/commons/components#/components/schemas/ErrorResponse\n\n    ErrorResponse:\n      $ref: http://localhost:3320/commons/components#/components/schemas/Error\n\n    DocumentType:\n      type: string\n      description: |\n        Tipo do documento (RG, CNH, RNE, CRNM, DNI e SELFIE).\n      enum:\n        - RG\n        - CNH\n        - RNE\n        - CRNM\n        - DNI\n        - SELFIE\n\n    DocumentSide:\n      type: string\n      description: |\n        Lado do documento (FRONT ou BACK). Quando o tipo do documento for SELFIE, este parâmetro será desprezado.\n      enum:\n        - FRONT\n        - BACK\n\n    ResultLevel:\n      type: string\n      description: |\n        Tipo de retorno da API.\n        _(ONLY_STATUS, DETAILED)_\n      default: ONLY_STATUS\n      enum:\n        - ONLY_STATUS\n        - DETAILED\n    \n    AnalysisStatus:\n      type: string\n      description: |\n        Status da análise da imagem.\n        _(ANALYZING, PARTIALLY_ANALYZED, ANALYSIS_COMPLETED, UNEXPECTED_ERROR)_\n      enum:\n        - ANALYZING\n        - PARTIALLY_ANALYZED\n        - ANALYSIS_COMPLETED\n        - UNEXPECTED_ERROR\n    \n    Confidence:\n      description: |\n        Nível de confiança da análise.\n      type: number\n      format: double\n      nullable: false\n    \n    FaceMatchStatus: \n      description: |\n        Resultado da análise face match.\n        _(HAS_FACE_MATCH, UNMATCHED_DOCUMENT, MANY_FACES_DETECTEDR)_\n      type: string\n      enum:\n        - HAS_FACE_MATCH\n        - UNMATCHED_DOCUMENT\n        - MANY_FACES_DETECTED\n    \n    FaceMatch:\n      description: |\n        Informações da Análise Face Match.\n      type: object\n      properties:\n        status:\n          $ref: '#/components/schemas/FaceMatchStatus'\n        similarity:\n          description: |\n            Nível de similaridade entre as faces comparadas.\n          type: number\n          format: double\n          nullable: true\n        confidence:\n          $ref: '#/components/schemas/Confidence'\n      additionalProperties: false\n    \n    FaceDetailsStatus:\n      description: |\n        Resultado da análise facial.\n        _(DETECTED_FACE, MANY_FACES_DETECTED, COULD_NOT_DETECT_FACE)_\n      type: string\n      enum:\n        - DETECTED_FACE\n        - MANY_FACES_DETECTED\n        - COULD_NOT_DETECT_FACE\n    \n    AgeRange:\n      type: object\n      description: Faixa de idade identificada.\n      properties:\n        low:\n          description: |\n            Idade minina detectada.\n          type: integer\n          format: int32\n          nullable: true\n        high:\n          description: |\n            Idade máxina detectada.\n          type: integer\n          format: int32\n          nullable: true\n      additionalProperties: false\n    \n    FacialDetail:\n      type: object\n      properties:\n        value:\n          type: object\n          additionalProperties: false\n          description: Tipo do detalhe facial identificado.\n          nullable: true\n        confidence:\n          $ref: '#/components/schemas/Confidence'\n      additionalProperties: false\n    \n    FaceDetails:\n      description: |\n        Informações da análise facial.\n      type: object\n      properties:\n        status:\n          $ref: '#/components/schemas/FaceDetailsStatus'\n        confidence:\n          $ref: '#/components/schemas/Confidence'\n        ageRange:\n          $ref: '#/components/schemas/AgeRange'\n        gender:\n          $ref: '#/components/schemas/FacialDetail'\n        sunglasses:\n          $ref: '#/components/schemas/FacialDetail'\n        eyesOpen:\n          $ref: '#/components/schemas/FacialDetail'\n        emotions:\n          description: |\n            Lista de expressões detectadas.\n          type: array\n          nullable: true\n          items:\n            $ref: '#/components/schemas/FacialDetail'\n      additionalProperties: false\n    \n    OcrStatus:\n      description: |\n        Resultado da análise OCR.\n        _(DETECTED_DOCUMENT, NO_DOCUMENT_FOUND, NO_INFO_FOUND)_\n      type: string\n      enum:\n        - DETECTED_DOCUMENT\n        - NO_DOCUMENT_FOUND\n        - NO_INFO_FOUND\n    \n    DocumentDetails:\n      description: |\n        Informações extraídas documento analisado.\n      type: object\n      properties:\n        status:\n          $ref: '#/components/schemas/OcrStatus'\n        identifiedDocumentType:\n          description: Tipo do documento detectado\n          type: string\n          nullable: true\n        idNumber:\n          description: Número do RG.\n          type: string\n          nullable: true\n        cpfNumber:\n          description: Número do CPF.\n          type: string\n          nullable: true\n        birthDate:\n          description: Data de nascimento.\n          type: string\n          nullable: true\n        fatherName:\n          description: Nome do pai do titular do documento.\n          type: string\n          nullable: true\n        motherName:\n          description: Nome do mãe do titular do documento.\n          type: string\n          nullable: true\n        registerName:\n          description: Nome do titular do documento.\n          type: string\n          nullable: true\n        validDate:\n          description: Validade do documento CNH do motorista.\n          type: string\n          nullable: true\n        driveLicenseCategory:\n          description: Categoria da CNH.\n          type: string\n          nullable: true\n        driveLicenseNumber:\n          description: Número da licença (CNH) do motorista.\n          type: string\n          nullable: true\n        driveLicenseFirstQualifyingDate:\n          description: Data da primeira habilitação (CNH) do motorista.\n          type: string\n          nullable: true\n        federativeUnit:\n          description: Unidade Federativa onde o documento foi emitido.\n          type: string\n          nullable: true\n        issuedBy:\n          description: Órgão emissor do documento.\n          type: string\n          nullable: true\n        issuePlace:\n          description: Localidade onde o documento foi emitido.\n          type: string\n          nullable: true\n        issueDate:\n          description: Data em que o documento foi emitido.\n          type: string\n          nullable: true\n      additionalProperties: false\n    \n    LivenessStatus:\n      description: |\n        Resultado da análise de prova de vida.\n        _(LIVENESS_FOUND, NO_LIVENESS, COULD_NOT_DETECT_FACE)_\n      type: string\n      enum:\n        - LIVENESS_FOUND\n        - NO_LIVENESS\n        - COULD_NOT_DETECT_FACE\n    \n    Liveness:\n      description: |\n        Informações da análise de prova de vida.\n      type: object\n      properties:\n        status:\n          $ref: '#/components/schemas/LivenessStatus'\n        confidence:\n          $ref: '#/components/schemas/Confidence'\n      additionalProperties: false\n   \n    UploadDocumentResponse:\n      type: object\n      properties:\n        token:\n          description: Token da análise\n          type: string\n          nullable: true\n      additionalProperties: false\n   \n    DocumentAnalysisResponse:\n      type: object\n      properties:\n        token:\n          description: Token da análise.\n          type: string\n          nullable: true\n        documentType:\n          $ref: '#/components/schemas/DocumentType'\n        documentSide:\n          $ref: '#/components/schemas/DocumentSide'\n        status:\n          $ref: '#/components/schemas/AnalysisStatus'\n        faceMatch:\n          $ref: '#/components/schemas/FaceMatch'\n        faceDetails:\n          $ref: '#/components/schemas/FaceDetails'\n        documentDetails:\n          $ref: '#/components/schemas/DocumentDetails'\n        liveness:\n          $ref: '#/components/schemas/Liveness'\n        analyzedAt:\n          description: Data da análise do documento.\n          type: string\n          format: date-time\n          nullable: true\n      additionalProperties: false\n   \n    DocumentAnalysisForm:\n      required:\n        - documentType\n        - documentSide\n        - image\n      type: object\n      properties:\n        documentType:\n          $ref: '#/components/schemas/DocumentType'\n        documentSide:\n          $ref: '#/components/schemas/DocumentSide'\n        image:\n          type: string\n          description: |\n            Arquivo da imagem. Não deve ser superior à **1 MB**. A resolução deve ser compatível com [VGA](https://en.wikipedia.org/wiki/Video_Graphics_Array).\n          format: binary\n          nullable: true\n    \n    FileTokenResponse:\n      required:\n        - token\n      type: object\n      description: Token que será utilizado no processo de Onboarding de pessoa jurídica.\n      properties:\n        token:\n          type: string\n\n  responses:\n    '202':\n      description: Requisição foi aceita e está sendo processada.\n      headers:\n        x-bkly-correlation-id:\n          $ref: 'http://localhost:3320/commons/components#/components/headers/CorrelationId'\n        Location:\n          $ref: 'http://localhost:3320/commons/components#/components/headers/Location'\n\n  securitySchemes:\n    Bearer:\n      type: http\n      description: Inclua o token de autorização do tipo Bearer\n      scheme: bearer\n      bearerFormat: JWT\n\n  examples:\n    \n    Selfie:\n      value:\n        - token: string\n          documentType: SELFIE\n          documentSide: FRONT\n          status: ANALYSIS_COMPLETED\n          liveness:\n            status: LIVENESS_FOUND\n            confidence: 1.9746\n          faceDetails:\n            status: DETECTED_FACE\n            confidence: 99.99689\n            ageRange:\n              low: 18\n              high: 23\n            gender:\n              value: Male\n              confidence: 99.21723\n            sunglasses:\n              value: false\n              confidence: 99.40401\n            eyesOpen:\n              value: false\n              confidence: 57.259457\n            emotions:\n              - value: CALM\n                confidence: 95.32976\n              - value: SAD\n                confidence: 2.078439\n              - value: CONFUSED\n                confidence: 0.9475501\n              - value: ANGRY\n                confidence: 0.6159508\n              - value: SURPRISED\n                confidence: 0.37119603\n              - value: FEAR\n                confidence: 0.24299896\n              - value: HAPPY\n                confidence: 0.20983662\n              - value: DISGUSTED\n                confidence: 0.20425977\n          analyzedAt: '2021-08-31T21:20:58.754Z'\n      summary: Selfie (do cliente ou representante legal)\n  \n    DocumentFront:\n      value:\n        - token: string\n          documentType: RG\n          documentSide: FRONT\n          status: ANALYSIS_COMPLETED\n          faceMatch:\n            status: HAS_FACE_MATCH\n            similarity: 99.98459\n            confidence: 99.99835\n          documentDetails:\n            status: DETECTED_DOCUMENT\n            identifiedDocumentType: RG\n            idNumber: string\n            cpfNumber: string\n            birthDate: string\n            fatherName: string\n            motherName: string\n            registerName: string\n            validDate: string\n            driveLicenseCategory: string\n            driveLicenseNumber: string\n            driveLicenseFirstQualifyingDate: string\n            federativeUnit: string\n            issuedBy: string\n            issuePlace: string\n            issueDate: string\n          analyzedAt: '2021-08-31T21:20:58.754Z'\n      summary: Frente do documento (o lado que tem foto)\n  \n    DocumentBack:\n      value:\n        - token: string\n          documentType: RG\n          documentSide: BACK\n          status: ANALYSIS_COMPLETED\n          documentDetails:\n            status: DETECTED_DOCUMENT\n            identifiedDocumentType: RG\n            idNumber: string\n            cpfNumber: string\n            birthDate: string\n            fatherName: string\n            motherName: string\n            registerName: string\n            validDate: string\n            driveLicenseCategory: string\n            driveLicenseNumber: string\n            driveLicenseFirstQualifyingDate: string\n            federativeUnit: string\n            issuedBy: string\n            issuePlace: string\n            issueDate: string\n          analyzedAt: '2021-08-31T21:20:58.754Z'\n      summary: Verso do documento (o lado que não tem foto)\n\nx-readme:\n  explorer-enabled: true\n  proxy-enabled: true\n  samples-enabled: true\n  samples-languages:\n    - curl\n",
			"canonicalURL": "/github.com/acesso-bankly/open-api@f1b880f8c6c625aa96ae3d1b4acb02aacb8da6cb/-/blob/apis/v1/documents/schema.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/acesso-bankly/open-api/blob/f1b880f8c6c625aa96ae3d1b4acb02aacb8da6cb/apis/v1/documents/schema.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"Error\": parse schema: at 1:7397: external \"http://localhost:3320/commons/components\": get: http: do: Get \"http://localhost:3320/commons/components\": host \"localhost:3320\" is not allowed"
}