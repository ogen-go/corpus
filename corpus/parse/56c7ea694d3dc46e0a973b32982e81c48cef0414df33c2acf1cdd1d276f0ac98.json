{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/tsuru/tsuru"
		},
		"file": {
			"name": "service_api.yaml",
			"size": 0,
			"path": "docs/reference/service_api.yaml",
			"byteSize": 8213,
			"content": "#\n# Tsuru Service API Specification\n#\nopenapi: 3.0.0\n\ninfo:\n  title: Tsuru Service API\n  description: Tsuru Service API used to integration with external services\n  version: \"1.0.0\"\n\npaths:\n  /resources/plans:\n    get:\n      summary: List plans available\n      description: |\n        The service endpoint returns available service plans\n      responses:\n        200:\n          description: An array of plans\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Plan'\n        default:\n          $ref: '#/components/schemas/Error'\n  /resources:\n    post:\n      summary: Create a new service instance\n      description: |\n        The service endpoint creates a new service instance\n      tags:\n        - Service Instance\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/InstanceForm'\n      responses:\n        201:\n          description: Instance successfully created\n        default:\n          $ref: '#/components/schemas/Error'\n  /resources/{name}:\n    parameters:\n      - name: name\n        in: path\n        description: Instance name\n        required: true\n        schema:\n          type: string\n    get:\n      summary: Service instance additional information\n      description: |\n        The service endpoint returns additional information about the instance\n      tags:\n        - Service Instance\n      responses:\n        404:\n          description: No additional information available\n        200:\n          description: Additional information available\n          content:\n            application/json:\n                schema:\n                  type: array\n                  items:\n                    type: object\n                    description: Additional service instance information\n                    additionalProperties:\n                      type: string\n    put:\n      summary: Update a service instance\n      description: |\n        The service endpoint updates a service instance\n      tags:\n        - Service Instance\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/InstanceForm'\n      responses:\n        200:\n          description: Instance updated\n        404:\n          description: Instance not found\n        default:\n          $ref: '#/components/schemas/Error'\n    delete:\n      summary: Delete a service instance\n      description: |\n        The service endpoint removes the service instance\n      tags:\n        - Service Instance\n      responses:\n        200:\n          description: Instance removed\n        404:\n          description: Instance not found\n        default:\n          $ref: '#/components/schemas/Error'\n  /resources/{name}/bind:\n    parameters:\n      - name: name\n        in: path\n        description: Instance name\n        required: true\n        schema:\n          type: string\n    post:\n      summary: Bind Unit\n      description: |\n        The service endpoint binds a unit to the service instance\n      tags:\n        - Binding\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/BindUnitForm'\n      responses:\n        201:\n          description: Unit successfully bound to the service instance\n          content:\n            application/json:\n              schema:\n                type: object\n                description: Environments to be inject on the unit\n                additionalProperties:\n                  type: string\n        404:\n          description: Service instance does not exist\n        412:\n          description: Service instance not ready\n        default:\n          $ref: '#/components/schemas/Error'\n    delete:\n      summary: Unbind Unit\n      description: |\n        The service endpoint unbinds the unit from the service instance\n      tags:\n        - Binding\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/BindUnitForm'\n      responses:\n        200:\n          description: Unit successfully unbound from service instance\n        404:\n          description: Service instance does not exist\n        default:\n          $ref: '#/components/schemas/Error'\n  /resources/{name}/bind-app:\n    parameters:\n      - name: name\n        in: path\n        description: Instance name\n        required: true\n        schema:\n          type: string\n    post:\n      summary: Bind App\n      description: |\n        The service endpoint binds the app to the service instance\n      tags:\n        - Binding\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/BindAppForm'\n      responses:\n        201:\n          description: App successfully bound to the service instance\n          content:\n            application/json:\n              schema:\n                type: object\n                description: Environments to be inject on the app\n                additionalProperties:\n                  type: string\n        404:\n          description: Service instance does not exist\n        412:\n          description: Service instance not ready\n        default:\n          $ref: '#/components/schemas/Error'\n\n    delete:\n      summary: Unbind App\n      description: |\n        The service endpoint unbinds the app from the service instance\n      tags:\n        - Binding\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/BindAppForm'\n      responses:\n        200:\n          description: App successfully unbound from service instance\n        404:\n          description: Service instance does not exist\n        default:\n          $ref: '#/components/schemas/Error'\n  /resources/{name}/status:\n    get:\n      summary: Service Instance Status\n      description: |\n        The service endpoint returns the service instance status\n      tags:\n        - Service Instance\n      parameters:\n        - name: name\n          in: path\n          description: Instance name\n          required: true\n          schema:\n            type: string\n      responses:\n        202:\n          description: Instance not available yet\n        204:\n          description: Instance running\n        default:\n          $ref: '#/components/schemas/Error'\n\n\n# Object definitions          \ncomponents:\n  schemas:\n    Plan:\n      type: object\n      properties:\n        name:\n          type: string\n          description: Plan name\n        description:\n          type: string\n          description: Plan Description\n    InstanceForm:\n      type: object\n      properties:\n        name:\n          type: string\n          description: Instance name\n        plan:\n          type: string\n          description: Plan name\n        team:\n          type: string\n          description: Team name\n        user:\n          type: string\n          description: User name\n        tag:\n          type: array\n          items:\n            type: string\n      required:\n        - name\n        - plan\n        - team\n        - user\n    BindUnitForm:\n      type: object\n      properties:\n        app-host:\n          type: string\n          description: App host\n        app-name:\n          type: string\n          description: App name\n        unit-host:\n          type: string\n          description: Unit address\n      required:\n        - app-host\n        - app-name\n        - unit-host\n    BindAppForm:\n      type: object\n      properties:\n        app-host:\n          type: string\n          description: App host\n        app-name:\n          type: string\n          description: App name\n      required:\n        - app-host\n        - app-name\n    Error:\n      type: object\n      properties:\n        code:\n          type: integer\n          format: int32\n        message:\n          type: string\n        fields:\n          type: string\n"
		}
	},
	"Error": "parse: parse spec: parse operations: paths: /resources/plans: get: responses: default: resolve \"#/components/schemas/Error\" reference: invalid response reference: \"#/components/schemas/Error\""
}