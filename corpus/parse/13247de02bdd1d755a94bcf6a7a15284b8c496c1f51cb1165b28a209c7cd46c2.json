{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ministryofjustice/laa-court-data-adaptor"
		},
		"file": {
			"name": "swagger.yaml",
			"size": 0,
			"path": "swagger/v1/swagger.yaml",
			"byteSize": 11874,
			"content": "---\nopenapi: 3.0.1\ninfo:\n  title: Court Data Adaptor\n  description: |-\n    CDA exposes API endpoints to the LAA's View Court Data and\n                          MAAT/MLRA applications and the HMCTS Common Platform in order to\n                          exchange criminal court data between the two organisations.\n  version: v1\npaths:\n  \"/api/external/v1/hearings\":\n    post:\n      summary: post hearing\n      description: Post Common Platform hearing data to CDA\n      tags:\n      - External - available to Common Platform\n      security:\n      - oAuth: []\n      parameters: []\n      responses:\n        '202':\n          description: Accepted\n        '422':\n          description: Unprocessable Entity\n        '400':\n          description: Bad Request\n        '401':\n          description: Unauthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              \"$ref\": hearing_resulted.json#/definitions/new_resource\n  \"/api/external/v1/prosecution_conclusions\":\n    post:\n      summary: post prosecution conclusion\n      description: Post Common Platform prosecution concluded data to CDA\n      tags:\n      - External - available to Common Platform\n      security:\n      - oAuth: []\n      parameters: []\n      responses:\n        '202':\n          description: Accepted\n        '422':\n          description: Unprocessable Entity\n        '400':\n          description: Bad Request\n        '401':\n          description: Unauthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              \"$ref\": prosecution_concluded_request.json#/definitions/resource\n        required: true\n  \"/api/internal/v1/defendants/{id}\":\n    patch:\n      summary: patch defendant relationships\n      description: Delete an LAA reference from Common Platform case\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - name: id\n        in: path\n        required: true\n        type: uuid\n        schema:\n          \"$ref\": defendant.json#/definitions/id\n        description: The unique identifier of the defendant\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      responses:\n        '202':\n          description: Accepted\n        '400':\n          description: Bad Request\n        '401':\n          description: Unauthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              \"$ref\": defendant.json#/definitions/resource_to_unlink\n        required: true\n    get:\n      summary: fetch a defendant by ID\n      description: find a defendant where it exists within Court Data Adaptor\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - name: id\n        in: path\n        required: true\n        type: uuid\n        schema:\n          \"$ref\": defendant.json#/definitions/id\n        description: The uuid of the defendant\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: include\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": defendant.json#/definitions/example_included_query_parameters\n        description: |-\n          Include top-level and nested associations for a defendant.\n                                              All top-level and nested associations available for inclusion are listed under the relationships keys of the response body.\n                                              For example to include offences, defence organisation as well as prosecution case and its associated hearing summaries:\n                                              include=offences,defence_organisation,prosecution_case,prosecution_case.hearing_summaries\n      responses:\n        '200':\n          description: Success\n          content:\n            application/vnd.api+json:\n              schema:\n                \"$ref\": defendant.json#/definitions/resource_collection\n        '404':\n          description: Not found\n  \"/api/internal/v1/hearings/{id}\":\n    get:\n      summary: get hearing\n      description: GET Common Platform hearing data\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - name: id\n        in: path\n        required: true\n        type: uuid\n        schema:\n          \"$ref\": hearing.json#/definitions/id\n        description: The uuid of the hearing\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: include\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": hearing.json#/definitions/example_included_query_parameters\n        description: |-\n          Include top-level and nested associations for a hearing.\n                                              All top-level and nested associations available for inclusion are listed under the relationships keys of the response body.\n                                              For example to include hearing events, providers, prosecution cases, cracked ineffective trial as well as court applications and associated judicial results:\n                                              include=hearing_events,providers,court_applications,prosecution_cases,cracked_ineffective_trial,court_applications.judicial_results\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      responses:\n        '200':\n          description: Success\n          content:\n            application/vnd.api+json:\n              schema:\n                \"$ref\": hearing.json#/definitions/resource_collection\n        '401':\n          description: Unauthorized\n  \"/api/internal/v1/laa_references\":\n    post:\n      summary: post laa_reference\n      description: Post an LAA reference to CDA to link a MAAT case to a Common Platform\n        case\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      responses:\n        '202':\n          description: Accepted\n        '422':\n          description: Unprocessable entity\n        '401':\n          description: Unauthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              \"$ref\": laa_reference.json#/definitions/new_resource\n  \"/api/internal/v1/prosecution_cases\":\n    get:\n      summary: search prosecution_cases\n      description: |-\n        Search prosecution cases. Valid search combinations are: \u003cbr/\u003e\u003cbr/\u003e\n                            1) prosecution_case_reference \u003cbr/\u003e\n                            2) arrest_summons_number \u003cbr/\u003e\n                            3) national_insurance_number \u003cbr/\u003e\n                            4) name and date_of_birth \u003cbr/\u003e\n                            5) name and date_of_next_hearing\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - name: filter[prosecution_case_reference]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": prosecution_case.json#/definitions/prosecution_case_reference\n        description: Searches prosecution cases by prosecution case reference\n      - name: include\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": prosecution_case.json#/definitions/example_included_query_parameters\n        description: |-\n          Include top-level and nested associations for a prosecution case. All top-level and nested\n                                            associations available for inclusion are listed under the relationships key of the response body.\n                                            To include hearing_summaries, hearings, defendants and their offences: \u003c/br\u003e\n                                            include=hearing_summaries,hearings,defendants,defendants.offences\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: filter[arrest_summons_number]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": prosecution_case.json#/definitions/arrest_summons_number\n        description: Searches prosecution cases by arrest summons number\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: filter[national_insurance_number]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": defendant.json#/definitions/nino\n        description: Searches prosecution cases by national insurance number\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: filter[name]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": defendant.json#/definitions/name\n        description: Searches prosecution cases by name\n      - name: filter[date_of_birth]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": defendant.json#/definitions/date_of_birth\n        description: Searches prosecution cases by date_of_birth\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - name: filter[name]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": defendant.json#/definitions/name\n        description: Searches prosecution cases by name\n      - name: filter[date_of_next_hearing]\n        in: query\n        required: false\n        type: string\n        schema:\n          \"$ref\": prosecution_case.json#/definitions/date_of_next_hearing\n        description: Searches prosecution cases by date_of_next_hearing\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      responses:\n        '200':\n          description: Success\n          content:\n            application/vnd.api+json:\n              schema:\n                \"$ref\": prosecution_case.json#/definitions/resource_collection\n        '401':\n          description: Unauthorized\n  \"/api/internal/v1/representation_orders\":\n    post:\n      summary: post representation_order\n      description: Post a Representation Order to CDA to update the status on a MAAT\n        case to a Common Platform case\n      tags:\n      - Internal - available to other LAA applications\n      security:\n      - oAuth: []\n      parameters:\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      - \"$ref\": \"#/components/parameters/transaction_id_header\"\n      responses:\n        '202':\n          description: Accepted\n        '422':\n          description: Unprocessable entity\n        '401':\n          description: Unauthorized\n      requestBody:\n        content:\n          application/vnd.api+json:\n            schema:\n              \"$ref\": representation_order.json#/definitions/new_resource\n        required: true\ncomponents:\n  securitySchemes:\n    oAuth:\n      in: header\n      type: oauth2\n      description: OAuth2 client credentials flow\n      flows:\n        clientCredentials:\n          scopes: []\n          tokenUrl: \"/oauth/token\"\n  parameters:\n    transaction_id_header:\n      type: uuid\n      name: Laa-Transaction-Id\n      in: header\n      required: false\n      description: A unique identifier for an individual request that can be traced\n        across multiple systems\n      example: d7f509e8-309c-4262-a41d-ebbb44deab9e\n"
		}
	},
	"Error": "parse: parse spec: paths: /api/internal/v1/defendants/{id}: get: operation \"\": parameters: parse parameter \"id\": schema: parse schema: reference \"defendant.json#/definitions/id\": resolve reference \"defendant.json#/definitions/id\": invalid schema reference \"defendant.json#/definitions/id\""
}