{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/CDCgov/prime-reportstream"
		},
		"file": {
			"name": "waters-delivery.yml",
			"size": 0,
			"path": "prime-router/docs/api/waters-delivery.yml",
			"byteSize": 6701,
			"content": "openapi: \"3.0.3\"\ninfo:\n  title: ReportStream Delivery API\n  description: This API reflects the point of view of the STLTs and provides lookup functionality\n  version: \"1.0\"\n  contact:\n    name: USDS at Centers for Disease Control and Prevention\n    url: https://open.cdc.gov\n    email: usds@cdc.gov\n  license:\n    name: Creative Commons Zero v1.0 Universal\n    url: https://github.com/CDCgov/prime-reportstream/blob/master/LICENSE\nservers:\n  - url: https://prime.cdc.gov/api\n    description: Production server (uses live data)\n  - url: http://localhost:7071/api\n    description: Developer Environment\npaths:\n  /waters/org/{organization}.{client}/deliveries:\n    get:\n      operationId: getDeliveries\n      summary: Get available reports for a STLT\n      description: Retrieve a list of reports available for download by a STLT\n      security:\n        - OAuth2: [ user ]\n        - Server2Server: []\n      parameters:\n        - name: organization\n          in: path\n          description: receiver whose deliveries we want to see\n          required: true\n          schema:\n            type: string\n        - name: client\n          in: path\n          description: client of the receiver to get deliveries for\n          required: true\n          schema:\n            type: string\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/sortDir'\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/sortCol'\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/cursor'\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/since'\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/until'\n        - $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/sort_and_filter.yml#/pageSize'\n      responses:\n        '200':\n          description: a list of AvailableReport objects\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GetDeliveriesResponse'\n        '400':\n          description: bad request\n        '401':\n          description: unauthorized\n        '404':\n          description: organization does not exist\n  /waters/report/{deliveryId}/delivery:\n    get:\n      operationId: getDeliveryDetails\n      summary: Get expanded details for a single report\n      description: Retrieve the details for a report, including easily fetched relations\n      security:\n        - OAuth2: [ user ]\n        - Server2Server: []\n      parameters:\n        - name: reportId\n          in: path\n          description: ID of report whose details we want to see\n          required: true\n          schema:\n            type: string\n            format: uuid\n      responses:\n        '200':\n          description: a report detail object\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Delivery'\n        '400':\n          description: bad request\n        '401':\n          description: unauthorized\n        '404':\n          description: report does not exist\n  /waters/deliveries/{deliveryId}/facilities:\n    get:\n      operationId: getDeliveryFacilities\n      summary: Get facilities for a single report\n      description: Retrieve the list of facilities for a report\n      security:\n        - OAuth2: [ user ]\n        - Server2Server: []\n      parameters:\n        - name: reportId\n          in: path\n          description: ID of report whose details we want to see\n          required: true\n          schema:\n            type: string\n            format: uuid\n      responses:\n        '200':\n          description: an array of facilities in the report\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/FacilitiesList'\n        '400':\n          description: bad request\n        '401':\n          description: unauthorized\n        '404':\n          description: report does not exist\ncomponents:\n  securitySchemes:\n    OAuth2:\n      $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/security_schemes.yml#/OAuth2'\n    Server2Server:\n      $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/security_schemes.yml#/Server2Server'\n  schemas:\n    GetDeliveriesResponse:\n      type: array\n      items:\n        $ref: '#/components/schemas/Delivery'\n    Delivery:\n      type: object\n      properties:\n        deliveryId:\n          description: the action_id from this report's action log entry\n          type: integer\n        sent:\n          description: when this report was sent\n          type: string\n          format: date-time\n        expires:\n          description: expiration date for the report file\n          type: string\n          format: date-time\n        receivingOrg:\n          description: the name of the organization receiving the report\n          type: string\n        receivingOrgSvc:\n          description: service used by the organization\n          type: string\n        reportId:\n          description: the uuid for this report\n          type: string\n          format: uuid\n        topic:\n          description: the schema topic (e.g. COVID-19, Flu)\n          type: string\n        reportItemCount:\n          description: number of tests in the report\n          type: integer\n        fileName:\n          description: the filename for the delivered report\n          type: string\n        fileType:\n          description: format in which the report was originally sent\n          type: string\n          enum: [ INTERNAL, CSV, CSV_SINGLE, HL7, HL7_BATCH, FHIR ]\n    FacilitiesList:\n      type: array\n      items:\n        $ref: '#/components/schemas/Facility'\n    Facility:\n      type: object\n      properties:\n        facility:\n          description: the full name of the facility\n          type: string\n        location:\n          description: city and state of the facility\n          type: string\n        CLIA:\n          description: The CLIA number (10-digit alphanumeric) of the facility\n          type: string\n        positive:\n          description: the result (conclusion) of the test. 0 = negative (good usually)\n          type: integer\n        total:\n          description: number of facilities included in the object\n          type: integer",
			"canonicalURL": "/github.com/CDCgov/prime-reportstream@51d8587ca4287484d017e728502eeeec150f05cb/-/blob/prime-router/docs/api/waters-delivery.yml",
			"externalURLs": [
				{
					"url": "https://github.com/CDCgov/prime-reportstream/blob/51d8587ca4287484d017e728502eeeec150f05cb/prime-router/docs/api/waters-delivery.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/waters/org/{organization}.{client}/deliveries\": at 1:3220: get: operation \"getDeliveries\": at 1:3227: security: parse security scheme \"OAuth2\": at 1:1722: : unknown security scheme type \"\""
}