{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/egovernments/DIGIT-OSS"
		},
		"file": {
			"name": "ingest.yml",
			"size": 0,
			"path": "core-services/docs/ingest.yml",
			"byteSize": 8491,
			"content": "openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: National Dashboard Data Ingest\n  description: |\n    ### API specs for Data ingest in National Dashboard ###\n    The API provides a way to ingest key performance metrics for modules in the National Dashboard system so as to provide a combined view of all states data metrics in National Dashboards`\n  contact:\n    name: Client Placeholder\n    email: client@email.com\nx-module: DSS\nx-common-path: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml'\npaths:\n  /national-dashboard/metric/_ingest:\n    post:\n      summary: API to ingest metrics in national dashboards on daily basis\n      description: Ingest data metrics for given module\n      tags:\n      - Data Ingest\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/IngestRequest'\n        description: Request schema.\n        required: true\n      responses:\n        '202':\n          description: Data ingested successfully\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/IngestResponse'\n        '400':\n          description: Failed to ingest the data\n          content:\n            '*/*':\n              schema:\n                $ref: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml#/components/schemas/ErrorRes'\n  /national-dashboard/masterdata/_ingest:\n    post:\n      summary: Ingests master data in DSS system\n      description: Ingest data master data like target metrics for given module\n      tags:\n      - Master Data Ingest\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/MasterDataRequest'\n        description: Request schema.\n        required: true\n      responses:\n        '202':\n          description: Data ingested successfully\n          content:\n            '*/*':\n              schema:\n                $ref: '#/components/schemas/MasterDataResponse'\n        '400':\n          description: Failed to ingest the data\n          content:\n            '*/*':\n              schema:\n                $ref: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml#/components/schemas/ErrorRes'              \ncomponents:\n  schemas:\n    Data:\n      type: object\n      description: 'Data object containing metrics that are to be ingested for DSS Dashboards'\n      properties:\n        date:\n          type: string\n          description: Date of data ingestion in dd-MM-yyyy format\n          example: \"30-01-2022\"\n        module:\n          type: string\n          description: Module code for which data is ingested. Module code mapping is as follows \n                    \"PT\" -\u003e \"Property Tax\",\n                    \"TL\" -\u003e \"Trade License\",\n                    \"WS\" -\u003e \"Water and Sewerage\",\n                    \"OBPS\" -\u003e \"Online Building Permission System\",\n                    \"FIRENOC\" -\u003e\"Fire Noc\" ,\n                    \"PGR\"-\u003e \"Public Grievance Redressal\",\n                    \"MCOLLECT\" -\u003e \"Miscellaneous Collection\",\n                    \"COMMON\" -\u003e \"Common attributes required for overview\"\n                  \n          enum: [PT, PGR, WS, SW, OBPS, FIRENOC, TL, MCOLLECT, COMMON]\n          example: PT\n        ward:\n          type: string\n          description: Ward Name\n          minLength: 1\n          maxLength: 64\n          example: \"Ajit Nagar\"\n        ulb:\n          type: string\n          description: ULB name\n          minLength: 1\n          maxLength: 64\n          example: \"amritsar\"\n        region:\n          type: string\n          description: The Region or District \n          minLength: 1\n          maxLength: 64\n          example: \"Amritsar-MC\"          \n        state:\n          type: string\n          description: Name of the state which is pushing data\n          example: Punjab\n          minLength: 1\n          maxLength: 64  \n        metrics:\n          type: object\n          description: Key-value pairs of metric_names to metric_values\n          example: '{\"tenantId\":\"pb.amritsar\",\"state\":\"Punjab\",\"ward\":\"Ajit Nagar\",\"DDR\":\"Amritsar\",\"transactions\":2345,\"totalApplications\":2100,\"assessedProperties\":1400,\"propertiesRegistered\":[{\"groupBy\":\"FinancialYear\",\"buckets\":[{\"name\":\"2019-20\",\"value\":300},{\"name\":\"2020-21\",\"value\":1100},{\"name\":\"2021-22\",\"value\":100}]}],\"totalCollection\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":8000},{\"name\":\"COMMERCIAL\",\"value\":7500},{\"name\":\"INDUSTRIAL\",\"value\":8500}]}],\"propertyTax\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":8000},{\"name\":\"COMMERCIAL\",\"value\":1000},{\"name\":\"INDUSTRIAL\",\"value\":2000}]}],\"cess\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":1500},{\"name\":\"COMMERCIAL\",\"value\":700},{\"name\":\"INDUSTRIAL\",\"value\":800}]}],\"rebate\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":1000},{\"name\":\"COMMERCIAL\",\"value\":0},{\"name\":\"INDUSTRIAL\",\"value\":0}]}],\"penalty\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":3000},{\"name\":\"COMMERCIAL\",\"value\":1000},{\"name\":\"INDUSTRIAL\",\"value\":2000}]}],\"interest\":[{\"groupBy\":\"UsageCategory\",\"buckets\":[{\"name\":\"RESIDENTIAL\",\"value\":1800},{\"name\":\"COMMERCIAL\",\"value\":1000},{\"name\":\"INDUSTRIAL\",\"value\":1200}]}]}'\n      required:\n      - date\n      - module\n      - ulb\n      - ward\n      - region\n      - state\n      - metrics\n    IngestRequest:\n      type: object\n      description: Request object to ingest data in DSS system\n      properties:\n        RequestInfo:\n          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/PT_APPLY_PAY/docs/common/contracts/v1-1-1.yml#/components/schemas/RequestHeader'\n        Data:\n          $ref: '#/components/schemas/Data'\n      required:\n      - RequestInfo\n      - Data\n\n    IngestResponse:\n      type: object\n      description: Response object \n      properties:\n        responseInfo:\n          $ref: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml#/components/schemas/ResponseHeader'\n          \n\n    MasterData:\n      type: object\n      description: 'Data object containing static master data to be ingested for DSS Dashboards'\n      properties:\n        financialYear:\n          type: string\n          description: Financial Year for which the master data is configured\n          example: \"2022-23\"\n        module:\n          type: string\n          description: Module for which data is ingested\n          example: PT\n        ulb:\n          type: string\n          description: ULB name\n          minLength: 1\n          maxLength: 64\n          example: \"amritsar\"\n        region:\n          type: string\n          description: The Region or District \n          minLength: 1\n          maxLength: 64\n          example: \"Amritsar-MC\"  \n        state:\n          type: string\n          description: Name of the state which is pushing data\n          example: Punjab\n          minLength: 1\n          maxLength: 64  \n        metrics:\n          type: object\n          description: Key-value pairs of metric_names to metric_values\n          example: '{\n            \"snoForMuninipalCorporation\": \"1\",\n            \"ulbName\": \"Amritsar\",\n            \"budgetProposedForMunicipalCorporation\": 10000000\n          }'\n        auditDetails:\n          $ref: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml#/components/schemas/AuditDetails'\n      required:\n      - financialYear\n      - module\n      - ulb\n      - region\n      - state\n      - metrics\n\n    MasterDataRequest:\n      type: object\n      description: Request object to ingest data in DSS system\n      properties:\n        RequestInfo:\n          $ref: 'https://raw.githubusercontent.com/egovernments/egov-services/PT_APPLY_PAY/docs/common/contracts/v1-1-1.yml#/components/schemas/RequestHeader'\n        MasterData:\n          $ref: '#/components/schemas/MasterData'\n      required:\n      - RequestInfo\n      - MasterData\n\n    MasterDataResponse:\n      type: object\n      description: Response object \n      properties:\n        responseInfo:\n          $ref: 'https://raw.githubusercontent.com/egovernments/municipal-services/common-contract/docs/common-contract-v2-0-0.yml#/components/schemas/ResponseHeader'      \n           \n   \n"
		}
	},
	"Error": "parse: parse spec: paths: /national-dashboard/metric/_ingest: post: operation \"\": requestBody: content: \"application/json\": parse schema: parse schema: resolve \"#/components/schemas/IngestRequest\": parse schema: property \"RequestInfo\": parse schema: resolve \"https://raw.githubusercontent.com/egovernments/egov-services/PT_APPLY_PAY/docs/common/contracts/v1-1-1.yml#/components/schemas/RequestHeader\": find schema: external base \"https://raw.githubusercontent.com/egovernments/egov-services/PT_APPLY_PAY/docs/common/contracts/v1-1-1.yml\" is not supported"
}