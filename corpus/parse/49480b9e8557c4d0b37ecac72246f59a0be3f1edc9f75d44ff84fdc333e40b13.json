{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/authcore/authcore"
		},
		"file": {
			"name": "openapi.yml",
			"size": 0,
			"path": "api/v2/openapi.yml",
			"byteSize": 24244,
			"content": "openapi: \"3.0.2\"\ninfo:\n  title: Authcore API\n  version: \"2.0\"\npaths:\n  /api/v2/ui_preferences:\n    get:\n      summary: UI preferences\n      tags:\n        - ui\n      parameters:\n        - in: query\n          name: client_id\n          description: Application ID\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n  /api/v2/audit_logs:\n    get:\n      summary: List Audit Logs\n      tags:\n        - audit_logs\n      parameters:\n        - in: query\n          name: user_id\n          description: User ID\n          schema:\n            type: string\n          required: true\n        - in: query\n          name: limit\n          description: Pagination Object limit\n          schema:\n            type: string\n        - in: query\n          name: page_token\n          description: Pagination Token\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n  /api/v2/authn:\n    post:\n      summary: Start an local authentication transaction\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                client_id:\n                  type: string\n                handle:\n                  type: string\n                code_challenge_method:\n                  type: string\n                code_challenge:\n                  type: string\n                redirect_uri:\n                  type: string\n                  format: uri\n              required:\n                - client_id\n                - handle\n                - redirect_uri\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/password:\n    post:\n      summary: Request a password key exchange challenge\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                state_token:\n                  type: string\n                message:\n                  type: string\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  challenge:\n                    type: string\n  /api/v2/authn/password/verify:\n    post:\n      summary: Verify password factor\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                state_token:\n                  type: string\n                verifier:\n                  type: string\n              required:\n                - state_token\n                - verifier\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/mfa/{method}:\n    post:\n      summary: Request a MFA challenge\n      tags:\n        - authn\n      parameters:\n        - in: path\n          name: method\n          schema:\n            type: string\n          required: true\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              properties:\n                state_token:\n                  type: string\n                message:\n                  type: string\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  challenge:\n                    type: string\n  /api/v2/authn/mfa/{method}/verify:\n    post:\n      summary: Verify a MFA factor\n      tags:\n        - authn\n      parameters:\n        - in: path\n          name: method\n          schema:\n            type: string\n          required: true\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              properties:\n                state_token:\n                  type: string\n                verifier:\n                  type: string\n              required:\n                - state_token\n                - verifier\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/idp/{provider}:\n    post:\n      summary: Start a third-party IDP authentication transaction\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                client_id:\n                  type: string\n                code_challenge:\n                  type: string\n                code_challenge_method:\n                  type: string\n                redirect_uri:\n                  type: string\n                  format: uri\n              required:\n                - client_id\n                - handle\n                - redirect_uri\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/idp/{provider}/verify:\n    post:\n      summary: Verify a third-party IDP authorization grant\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                state_token:\n                  type: string\n                code:\n                  type: string\n              required:\n                - state_token\n                - code\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/idp_binding/{provider}:\n    post:\n      summary: Start a third-party IDP binding transaction\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/authn/idp_binding/{provider}/verify:\n    post:\n      summary: Verify a third-party IDP authorization grant for a third-party IDP binding transaction.\n      tags:\n        - authn\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                state_token:\n                  type: string\n                code:\n                  type: string\n              required:\n                - state_token\n                - code\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/idp/{id}:\n    get:\n      summary: Get IDP\n      tags:\n        - idp\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/IDP\"\n  /api/v2/mfa/{id}:\n    delete:\n      summary: Delete MFA\n      tags:\n        - mfa\n      responses:\n        \"204\":\n          description: Success\n  /api/v2/signup:\n    post:\n      summary: Create a new user using primary authentication method.\n      tags:\n        - signup\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                client_id:\n                  type: string\n                password_verifier:\n                  $ref: '#/components/schemas/PasswordVerifier'\n                redirect_uri:\n                  type: string\n                  format: uri\n                email:\n                  type: string\n                phone:\n                  type: string\n                name:\n                  type: string\n              required:\n                - client_id\n                - password_verifier\n                - redirect_uri\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthnState\"\n  /api/v2/sessions/{id}:\n    get:\n      summary: Get session\n      tags:\n        - session\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Session\"\n    delete:\n      summary: Delete session\n      tags:\n        - session\n      responses:\n        \"204\":\n          description: Success\n  /api/v2/templates:\n    get:\n      summary: List Avaliable Languages\n      tags:\n        - template\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      type: string\n  /api/v2/templates/{type}/{lang}:\n    get:\n      summary: List templates.\n      tags:\n        - template\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/Template\"\n  /api/v2/templates/{type}/{lang}/{name}:\n    get:\n      summary: Get template.\n      tags:\n        - template\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TemplateString\"\n    post:\n      summary: Update template.\n      tags:\n        - template\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TemplateString\"\n      responses:\n        \"204\":\n          description: \"Success\"\n    delete:\n      summary: Reset template to its default.\n      tags:\n        - template\n      responses:\n        \"204\":\n          description: \"Success\"\n  /api/v2/users:\n    get:\n      summary: List users\n      tags:\n        - users\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/User\"\n    post:\n      summary: Create a new user.\n      tags:\n        - users\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                verifier:\n                  $ref: '#/components/schemas/PasswordVerifier'\n                email:\n                  type: string\n                phone:\n                  type: string\n                name:\n                  type: string\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  user:\n                    $ref: \"#/components/schemas/User\"\n                  refresh_token:\n                    type: string\n  /api/v2/users/{id}:\n    get:\n      summary: Get user\n      tags:\n        - users\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n    put:\n      summary: Update user\n      tags:\n        - users\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n                preferred_username:\n                  type: string\n                email:\n                  type: string\n                email_verified:\n                  type: boolean\n                phone_number:\n                  type: string\n                phone_number_verified:\n                  type: boolean\n                user_metadata:\n                  type: object\n                app_metadata:\n                  type: object\n                is_locked:\n                  type: boolean\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n    delete:\n      summary: Delete user\n      tags:\n        - users\n      responses:\n        \"204\":\n          description: Success\n  /api/v2/users/{id}/idp:\n    get:\n      summary: List user linked IDP\n      tags:\n        - user\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/IDP\"\n  /api/v2/users/{id}/idp/{service}:\n    delete:\n      summary: Unlink user IDP\n      tags:\n        - user\n      responses:\n        \"204\":\n          description: \"Success\"\n  /api/v2/users/{id}/mfa:\n    get:\n      summary: List user MFA\n      tags:\n        - user\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/MFA\"\n  /api/v2/users/{id}/password:\n    post:\n      summary: Update user password\n      tags:\n        - user\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PasswordVerifier\"\n      responses:\n        \"204\":\n          description: Success\n  /api/v2/users/{id}/roles:\n    get:\n      summary: Get user's roles.\n      tags:\n        - user\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Role\"\n    post:\n      summary: Assign new role to user\n      tags:\n        - user\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                role_id:\n                  type: integer\n      responses:\n        \"200\":\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Role\"\n  /api/v2/users/{id}/roles/{role_id}:\n    delete:\n      summary: Unassign a role for user\n      tags:\n        - user\n      responses:\n        \"204\":\n          description: \"Success\"\n  /api/v2/users/{id}/sessions:\n    get:\n      summary: Get user sessions.\n      tags:\n        - user\n      parameters:\n        - in: query\n          name: limit\n          description: Pagination Object limit\n          schema:\n            type: string\n        - in: query\n          name: page_token\n          description: Pagination Token\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/Session\"\n  /api/v2/users/current:\n    get:\n      summary: Get current user\n      tags:\n        - current_user\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n  /api/v2/users/current/mfa:\n    get:\n      summary: List current user's MFA\n      tags:\n        - current_user\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n  /api/v2/users/current/sessions:\n    get:\n      summary: List current user's sessions\n      tags:\n        - current_user\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  total_size:\n                    type: integer\n                  next_page_token:\n                    type: string\n                  prev_page_token:\n                    type: string\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/Session\"\n    delete:\n      summary: Delete all sessions of the current user other than the current session\n      tags:\n        - current_user\n      responses:\n        \"204\":\n          description: Success\n  /api/v2/sessions/current:\n    get:\n      summary: Get current session\n      tags:\n        - current_user\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Session\"\n    delete:\n      summary: Delete current session\n      tags:\n        - current_user\n      responses:\n        \"204\":\n          description: Success\n  /oauth/token:\n    post:\n      summary: Exchange an authorization code for an access token\n      tags:\n        - oauth\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TokenRequest\"\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: \"#/components/schemas/TokenRequest\"\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TokenResponse\"\ncomponents:\n  schemas:\n    AuthnState:\n      type: object\n      properties:\n        state_token:\n          type: string\n        status:\n          type: string\n        password_method:\n          type: string\n        password_salt:\n          type: string\n        factors:\n          type: array\n          items:\n            type: string\n        idp_authorization_url:\n          type: string\n          format: uri\n        authorization_code:\n          type: string\n      required:\n        - state_token\n        - status\n    PasswordVerifier:\n      oneOf:\n        - $ref: '#/components/schemas/SPAKE2PlusVerifier'\n    SPAKE2PlusVerifier:\n      type: object\n      properties:\n        method:\n          type: string\n        salt:\n          type: string\n        w0:\n          type: string\n        l:\n          type: string\n      required:\n        - method\n        - salt\n        - w0\n        - l\n    TokenRequest:\n      type: object\n      properties:\n        client_id:\n          type: string\n        client_secret:\n          type: string\n        grant_type:\n          type: string\n        code:\n          type: string\n        code_verifier:\n          type: string\n        refresh_token:\n          type: string\n    TokenResponse:\n      type: object\n      properties:\n        access_token:\n          type: string\n        token_type:\n          type: string\n        refresh_token:\n          type: string\n        expires_in:\n          type: integer\n        id_token:\n          type: string\n    User:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        preferred_username:\n          type: string\n        email:\n          type: string\n        email_verified:\n          type: boolean\n        phone:\n          type: string\n        phone_verified:\n          type: boolean\n        user_metadata:\n          type: object\n        app_metadata:\n          type: object\n        updated_at:\n          type: string\n          format: date-time\n        created_at:\n          type: string\n          format: date-time\n        last_seen_at:\n          type: string\n          format: date-time\n    Session:\n      type: object\n      properties:\n        id:\n          type: integer\n        user_agent:\n          type: string\n        created_at:\n          type: string\n          format: date-time\n        last_seen_at:\n          type: string\n          format: date-time\n        last_seen_ip:\n          type: string\n        client_id:\n          type: string\n    IDP:\n      type: object\n      properties:\n        id:\n          type: integer\n        user_id:\n          type: integer\n        service:\n          type: integer\n        oauth_user_id:\n          type: string\n        updated_at:\n          type: string\n          format: date-time\n        created_at:\n          type: string\n          format: date-time\n        last_used_at:\n          type: string\n          format: date-time\n        metadata:\n          type: object\n    MFA:\n      type: object\n      properties:\n        id:\n          type: integer\n        type:\n          type: string\n        value:\n          type: string\n        updated_at:\n          type: string\n          format: date-time\n        created_at:\n          type: string\n          format: date-time\n        last_used_at:\n          type: string\n          format: date-time\n    Template:\n      type: object\n      properties:\n        name:\n          type: string\n        language:\n          type: string\n        updated_at:\n          type: string\n          format: date-time\n    TemplateString:\n      type: object\n      properties:\n        subject:\n          type: string\n        html:\n          type: string\n        text:\n          type: string\n    Role:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        created_at:\n          type: string\n          format: date-time\n        updated_at:\n          type: string\n          format: date-time",
			"canonicalURL": "/github.com/authcore/authcore@8876f9a81003d9bb1e8ef86a6d75d90c8a1ad361/-/blob/api/v2/openapi.yml",
			"externalURLs": [
				{
					"url": "https://github.com/authcore/authcore/blob/8876f9a81003d9bb1e8ef86a6d75d90c8a1ad361/api/v2/openapi.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/api/v2/idp/{id}\": at 1:7797: get: at 1:7804: parse path \"/api/v2/idp/{id}\": path parameter not specified: \"id\""
}