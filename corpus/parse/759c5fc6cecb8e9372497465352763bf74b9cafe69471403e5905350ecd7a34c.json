{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/flow-build/workflow-api"
		},
		"file": {
			"name": "swagger.yml",
			"size": 0,
			"path": "res/swagger/swagger.yml",
			"byteSize": 23627,
			"content": "openapi: 3.0.1\ninfo:\n  title: Flowbuild Server\n  description: \"Routes for accessing flowbuild methods\"\n  version: 2.5.1-alpha\nservers:\n- url: http://localhost:3000\ntags:\n- name: Token\n  description: \"Token for authentication and authorization\"\n- name: Workflow\n- name: Process\n- name: Activities\n- name: Packages\npaths:\n  /token:\n    post:\n      tags:\n      - Token\n      summary: \"Get valid JWT token\"\n      security: []\n      parameters:\n      - name: \"x-duration\"\n        in: \"header\"\n        description: \"Token duration in seconds\"\n        schema:\n          type: \"integer\"\n      - name: \"x-secret\"\n        in: \"header\"\n        description: \"Use another JWT secret\"\n        schema:\n          type: \"string\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TokenRequest'\n        required: false\n      responses:\n        '200':\n          description: \"Valid token\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TokenResponse'\n  /workflows:\n    get:\n      tags:\n      - Workflow\n      summary: \"Get all workflows for actor\"\n      responses:\n        '200':\n          description: \"Workflows for actor\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workflows\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n    post:\n      tags:\n      - Workflow\n      summary: \"Create a new workflow\"\n      responses:\n        '200':\n          description: \"Workflow saved successfully\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  workflow_id:\n                    type: \"string\"\n                    example: \"59e11731-040e-4fb7-9e54-9c9befecbf7e\"\n                  workflow_url:\n                    type: \"string\"\n                    example: \"localhost:3000/workflows/59e11731-040e-4fb7-9e54-9c9befecbf7e\"\n        '400':\n          description: \"Error saving\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  error:\n                    type: \"string\"\n                    example: \"error message\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/{id}:\n    get:\n      tags:\n      - Workflow\n      summary: \"Read workflow by its id\"\n      description: \"Returns a single workflow\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Workflow with desired id found\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workflow\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n    delete:\n      tags:\n      - Workflow\n      summary: \"Delete a workflow\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '204':\n          description: \"Workflow deleted successfully\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/name/{name}:\n    get:\n      tags:\n      - Workflow\n      summary: \"Return the latest version of the workflow with that name\"\n      parameters:\n      - name: \"name\"\n        in: \"path\"\n        description: \"workflow name\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Workflow with desired name found\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workflow\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/{id}/create:\n    post:\n      tags:\n      - Process\n      summary: \"Create a process from the workflow id\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"workflow id\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n        required: true\n      responses:\n        '201':\n          description: \"Process created\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ProcessResponse\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/name/{name}/create:\n    post:\n      tags:\n      - Process\n      summary: \"Create process from the workflow name\"\n      parameters:\n      - name: \"name\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '201':\n          description: \"Process created\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ProcessResponse\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/name/{name}/start:\n    post:\n      tags:\n      - Process\n      summary: \"Creates and runs a process from workflow name\"\n      parameters:\n      - name: \"name\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '201':\n          description: \"Process created \u0026 started\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ProcessResponse\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/{id}/processes:\n    get:\n      tags:\n      - Process\n      summary: \"Fetch process list from workflow\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"workflow_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Process list\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /workflows/diagram:\n    post:\n  /workflows/diagram/convert:\n    post:\n  #routes after here need to be reviewed\n  /processes/activityManager/{id}:\n    get:\n      tags:\n      - Activities\n      summary: \"Fetch ActivityManager by id\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"activity_manager_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"ActivityManager with desired id found\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/available:\n    get:\n      tags:\n      - Activities\n      summary: \"Fetch available activities for actor\"\n      parameters:\n      - name: \"workflow_id\"\n        in: \"query\"\n        description: \"Filter by workflow\"\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Available activities\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/done:\n    get:\n      tags:\n      - Activities\n      summary: \"Fetch done activities for actor\"\n      parameters:\n      - name: \"workflow_id\"\n        in: \"query\"\n        description: \"Filter by workflow\"\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Available activities\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{id}/activity:\n    get:\n      tags:\n      - Activities\n      summary: \"Fetch available activity for process\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Available activity\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{process_id}/commit:\n    post:\n      tags:\n      - Activities\n      summary: \"Commit activity\"\n      parameters:\n      - name: \"process_id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"External input\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '200':\n          description: \"Activity committed\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{process_id}/push:\n    post:\n      tags:\n      - Activities\n      summary: \"Push activity\"\n      parameters:\n      - name: \"process_id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"External input\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '200':\n          description: \"Activity pushed\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workflow\"\n        '404':\n          description: \"Workflow not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /activity_manager/{activity_manager_id}/submit:\n    post:\n      tags:\n      - Activities\n      summary: \"Submit activity by ActivityManager id\"\n      parameters:\n      - name: \"activity_manager_id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"External input\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '202':\n          description: \"Activity submitted\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workflow\"\n        '500':\n          description: \"Activity manager not found or error submitting\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  error:\n                    type: \"string\"\n                    example: \"error\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes:\n    get:\n      tags:\n      - Process\n      summary: \"Fetch all processes\"\n      description: \"Returns a single workflow\"\n      parameters:\n      - name: \"workflow_id\"\n        in: \"query\"\n        description: \"Filter by workflow_id\"\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Process list\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{id}/history:\n    get:\n      tags:\n      - Process\n      summary: \"Fetch process state history\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Process state history\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/State\"\n        '404':\n          description: \"Process not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{id}/run:\n    post:\n      tags:\n      - Process\n      summary: \"Run process\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process_id\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"Input\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '200':\n          description: \"Process running\"\n        '404':\n          description: \"Process not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{id}/abort:\n    post:\n      tags:\n      - Process\n      summary: \"Abort process\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Process aborted\"\n        '404':\n          description: \"Process not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /processes/{id}/state:\n    get:\n      tags:\n      - Process\n      summary: \"Fetch process current state\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Process and its current state\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Process\"\n        '404':\n          description: \"Process not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n    post:\n      tags:\n      - Process\n      summary: \"Set process state\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"process_id\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"Process state data\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                process_state:\n                  type: \"object\"\n      responses:\n        '200':\n          description: \"Process state set\"\n        '404':\n          description: \"Process not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /packages:\n    post:\n      tags:\n      - Packages\n      summary: \"Save package\"\n      requestBody:\n        description: \"Input package\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n      responses:\n        '201':\n          description: \"Package saved\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  package_id:\n                    type: \"string\"\n                    example: \"a36ea500-3c72-4af1-aabe-cd2c7d56ca6c\"\n                  package_url:\n                    type: \"string\"\n        '400':\n          description: \"Error saving package\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  error:\n                    type: \"string\"\n                    example: \"error\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /packages/{id}:\n    get:\n      tags:\n      - Packages\n      summary: \"Fetch package by id\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"package_id\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '200':\n          description: \"Package found\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        '404':\n          description: \"Package not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\n    delete:\n      tags:\n      - Packages\n      summary: \"Delete package\"\n      description: \"package_id\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        '204':\n          description: \"Package deleted\"\n        '404':\n          description: \"Package not found\"\n        '401':\n          $ref: \"#/components/responses/UnauthorizedError\"\ncomponents:\n  securitySchemes:\n    BearerAuth:\n      type: \"http\"\n      scheme: \"bearer\"\n      bearerFormat: JWT\n  responses:\n    UnauthorizedError:\n      description: \"Unauthorized. Missing Bearer token\"\n      content:\n        application/json:\n          schema:\n            type: \"string\"\n            example: \"Token not found\"\n  schemas:\n    TokenRequest:\n      type: \"object\"\n      properties:\n        actor_id:\n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        claims:\n          type: \"array\"\n          items:\n            type: \"string\"\n            example: \"user\"\n    TokenResponse:\n      required:\n      - actor_id\n      - claims\n      type: \"object\"\n      properties:\n        jwtToken:\n          type: \"string\"\n          example: \"\"\n        payload:\n          type: \"object\"\n          properties: \n            actor_id:\n              type: \"string\"\n              example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n            claims:\n              type: \"array\"\n              items:\n                type: \"string\"\n                example: \"user\"\n            session_id:\n              type: \"string\"\n              example: \"cb-MyzIIStdYtLmMpjwEC\"\n            iat: \n              type: \"timestamp\"\n              example: 1661807017\n            exp:\n              type: \"timestamp\"\n              example: 1661810617\n    ActorData: \n      type: \"object\"\n      properties: \n        trace:\n          type: \"object\"\n          properties:\n            traceparent:\n              type: \"string\"\n              example: \"00-f14a29a59b29532e2434f755551f9ec8-f1aebad5fdce1b0f-01\"\n        claims:\n          type: \"array\"\n        actor_id:\n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        requestIp: \n          type: \"string\"\n          example: \"192.168.0.1\"\n        session_id:\n          type: \"string\"\n          example: \"cb-MyzIIStdYtLmMpjwEC\"\n        userAgent:\n          type: \"object\"\n          properties:\n            os:  \n              type: \"string\"\n              example: \"linux\"\n            browser:\n              type: \"string\"\n              example: \"Mozilla\"\n            version:\n              type: \"string\"\n              example: \"7.29.1\"\n            isMobile:\n              type: \"boolean\"\n              example: true\n            platform:\n              type: \"string\"\n    ProcessResponse:\n      type: \"object\"\n      properties:\n        process_id:\n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        workflow:\n          $ref: \"#/components/schemas/WorkflowResume\"\n    Process:\n      type: \"object\"\n      properties: \n        id: \n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        created_at:\n          type: \"date-time\"\n          example: \"2022-08-29T14:54:48.346Z\"\n        workflow:\n          $ref: \"#/components/schemas/WorkflowResume\"\n        state:\n          $ref: \"#/components/schemas/State\"\n    State:\n      type: \"object\"\n      properties: \n        id: \n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        created_at:\n          type: \"string\"\n          example: \"2020-11-17T20:25:44.188Z\"      \n        step_number:\n          type: \"integer\"\n          example: 1\n        node_id:\n          type: \"string\"\n          example: \"NODE_ONE\"\n        next_node_id:\n          type: \"string\"\n          example: \"NODE_TWO\"\n        bag:\n          type: \"object\"\n        external_input:\n          type: \"object\"\n        result:\n          type: \"object\"\n        error:\n          type: \"string\"\n        status:\n          type: \"string\"\n        actor_data:\n          $ref: \"#/components/schemas/ActorData\"\n        engine_id:\n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        time_elapsed:\n          type: \"integer\"\n          example: 10\n    Timestamp:\n      type: \"string\"\n      example: \"2020-11-17T20:25:44.188Z\"\n    Workflows:\n      type: \"array\"\n      items:\n        $ref: \"#/components/schemas/WorkflowResume\"\n    Workflow:\n      type: \"object\"\n      properties:\n        workflow_id:\n          type: \"string\"\n          example: \"dd349511-3b6b-4271-8a0b-69e47d34c1e4\"\n        name:\n          type: \"string\"\n          example: \"workflow name\"\n        description:\n          type: \"string\"\n          example: \"what the workflow does\"\n        blueprint_spec:\n          $ref: \"#/components/schemas/BlueprintSpec\"\n        created_at:\n          type: \"date-time\"\n          example: \"2022-08-29T14:54:48.346Z\"\n        version:\n          type: \"integer\"\n          example: 1\n        hash:\n          type: \"string\"\n          example: \"d94c1fb3daac72db118e8227071d59b1f85e71a3d480e5798aa063796e6b9bb9\"\n        isLatest:\n          type: \"boolean\"\n          example: true\n    WorkflowResume:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          example: \"6844da36-aacf-40e7-aedc-576a51dd9046\"\n        name:\n          type: \"string\"\n          example: \"workflow name\"\n        description: \n            type: \"string\"\n            example: \"any description\"\n        version:\n          type: \"integer\"\n          example: 1\n        isLatest:\n          type: \"boolean\"\n          example: true      \n    BlueprintSpec:\n      type: \"object\"\n      properties:\n        lanes:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Lane\"\n        nodes:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Node\"\n        prepare:\n          type: \"array\"\n          items:\n              type: \"string\"\n              example: \"prepare\"\n        environment:\n          type: \"object\"\n        parameters:\n          type: \"object\"\n        requirements:\n          type: \"array\"\n          items:\n              type: \"string\"\n              example: \"core\"\n    Lane:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          example: \"1\"\n        name:\n          type: \"string\"\n          example: \"the_only_lane\"\n        rule:\n          type: \"array\"\n          items:\n            oneOf:\n            - type: \"string\"\n              example: \"fn\"\n            - type: \"array\"\n              example: [\"\u0026\", \"args\"]\n            - type: \"boolean\"\n    Node:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          example: \"1\"\n        name:\n          type: \"string\"\n          example: \"Start Node\"\n        type:\n          type: \"string\"\n          example: \"Start\"\n        lane_id:\n          type: \"string\"\n          example: \"1\"\n        parameters:\n          type: \"object\"\n          properties:\n            input_schema:\n              type: \"object\"\n\nsecurity:\n  - BearerAuth: []\n",
			"canonicalURL": "/github.com/flow-build/workflow-api@f06a3a5e7299bf61b8e99cef835061528e8fad33/-/blob/res/swagger/swagger.yml",
			"externalURLs": [
				{
					"url": "https://github.com/flow-build/workflow-api/blob/f06a3a5e7299bf61b8e99cef835061528e8fad33/res/swagger/swagger.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"Process\": parse schema: property \"created_at\": parse schema: at 1:1907: unexpected schema type: \"date-time\""
}