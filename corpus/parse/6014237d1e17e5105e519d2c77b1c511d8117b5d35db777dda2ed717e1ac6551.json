{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/uhppoted/uhppoted"
		},
		"file": {
			"name": "uhppoted-api.yaml",
			"size": 0,
			"path": "documentation/openapi/uhppoted-api.yaml",
			"byteSize": 70425,
			"content": "openapi: \"3.0.3\"\n\ninfo:\n  version: 0.7.2\n  title: \"uhppoted\"\n  description: \"REST API for the uhppoted-rest service. The API currently supports both device level functions and higher level access control list management.\"\n  license:\n    name: \"MIT\"\n    url: \"https://github.com/uhppoted/uhppoted/blob/master/LICENSE\"\n    \nservers:    \n  - url: \"http://127.0.0.1:8080/uhppote\"\n  - url: \"https://127.0.0.1:8443/uhppote\"\n  \ntags:\n  - name: \"device\"\n    description: \"Low level device API\"\n  - name: \"acl\"\n    description: \"Access control list API\"\n\nsecurity:\n  - basic: []\n  - hotp: []\n\npaths:\n  /device:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves a list of active devices\"\n      description: \"Retrieves the list of active UHPPOTE devices\"\n      operationId: listDevices\n      responses:\n        '200':\n          description: \"List of active devices\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DeviceList\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves a single device information\"\n      description: \"Retrieves the basic configuration for a UHPPOTE device\"\n      operationId: getDevice\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Device configuration\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  device:\n                    $ref: \"#/components/schemas/Device\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n          \n  /device/{device-id}/status:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves the device status\"\n      description: \"Retrieves the current status of a device\"\n      operationId: getDeviceStatus\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Device current status\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  status:\n                    $ref: \"#/components/schemas/DeviceStatus\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/time:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves the device time\"\n      description: \"Retrieves the device current date/time\"\n      operationId: getDeviceTime\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Device current date/time\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DeviceTime\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    put:\n      tags:\n        - device\n      summary: \"Sets the device time\"\n      description: \"Sets the device current date/time\"\n      operationId: putDeviceTime\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      requestBody:\n        description: \"Date time\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DeviceTime\"        \n      responses:\n        '200':\n          description: \"Device current date/time\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DeviceTime\"        \n        '403':\n          description: \"Access denied\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/door/{door}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves the door configuration\"\n      description: \"Retrieves the door delay setting and current control state\"\n      operationId: getDoor\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: door\n          in: path\n          description: \"Door number\"\n          required: true\n          schema:\n            type: integer\n            format: uint8\n            example: 3\n      responses:\n        '200':\n          description: \"Door delay (in seconds)\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  door:\n                    $ref: \"#/components/schemas/Door\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/door/{door}/swipes:\n    post:\n      tags:\n        - device\n      summary: \"Opens a door\"\n      description: \"Issues the 'open door' command to an access controller\"\n      operationId: openDoor\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: number\n            format: uint32\n            example: 405419896\n        - name: door\n          in: path\n          description: \"Door number\"\n          required: true\n          schema:\n            type: number\n            format: uint8\n            example: 3\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/CardSwipe'\n      responses:\n        '200':\n          description: \"Door opened\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  door:\n                    $ref: \"#/components/schemas/DoorOpened\"        \n        '401':\n          description: \"User does not have permssions to open door\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"     \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/door/{door}/delay:\n    put:\n      tags:\n        - device\n      summary: \"Sets the door delay\"\n      description: \"Sets the door delay in seconds\"\n      operationId: putDoorDelay\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: door\n          in: path\n          description: \"Door number\"\n          required: true\n          schema:\n            type: integer\n            format: uint8\n            example: 3\n      requestBody:\n        description: \"Door delay in seconds\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DoorDelay\"        \n      responses:\n        '200':\n          description: \"Door delay in seconds\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DoorDelay\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/door/{door}/control:\n    put:\n      tags:\n        - device\n      summary: \"Sets the door control state\"\n      description: \"Sets the door control state (normally open, normally closed or controlled\"\n      operationId: putDoorControlState\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: door\n          in: path\n          description: \"Door number\"\n          required: true\n          schema:\n            type: integer\n            format: uint8\n            example: 3\n      requestBody:\n        description: \"Door control state\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DoorControlState\"\n      responses:\n        '200':\n          description: \"Door control state\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DoorControlState\"\n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/cards:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves the device card list\"\n      description: \"Retrieves the list of stored card numbers\"\n      operationId: getCards\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Card list\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/CardList\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    delete:\n      tags:\n        - device\n      summary: \"Deletes the entire device card list\"\n      description: \"Deletes all stored card numbers\"\n      operationId: deleteCards\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Stored card list cleared\"\n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/card/{card-number}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves card access information\"\n      description: \"Retrieves the access permissions associated with a card number\"\n      operationId: getCard\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 192837465\n      responses:\n        '200':\n          description: \"Card access information\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  card:\n                    $ref: \"#/components/schemas/Card\"        \n        '404':\n          description: \"No matching device and/or card\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    put:\n      tags:\n        - device\n      summary: \"Adds or updates a card\"\n      description: \"Adds or updates the access permissions associated with a card number\"\n      operationId: putCard\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 192837465\n      requestBody:\n        description: \"Card valid dates and access permissions\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CardDetails\"        \n      responses:\n        '200':\n          description: \"Card details added/updated\"\n        '404':\n          description: \"No matching device and/or card\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    delete:\n      tags:\n        - device\n      summary: \"Deletes a card\"\n      description: \"Removes the card associated with the card number from the stored card list\"\n      operationId: deleteCard\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 192837465\n      responses:\n        '200':\n          description: \"Card deleted\"\n        '404':\n          description: \"No matching device and/or card\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/time-profiles:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves all time profiles\"\n      description: \"Retrieves all the time profiles defined on a controller\"\n      operationId: getTimeProfiles\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"List of time profiles\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/TimeProfileList\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    put:\n      tags:\n        - device\n      summary: \"Updates a list of time profiles\"\n      description: \"Creates/updates a set of time profiles on a controller\"\n      operationId: setTimeProfiles\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      requestBody:\n        description: \"List of time profiles\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TimeProfileList\"        \n      responses:\n        '200':\n          description: \"Time profiles updated\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/TimeProfileListResult\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    delete:\n      tags:\n        - device\n      summary: \"Deletes all time profiles\"\n      description: \"Deletes all time profiles from a controller\"\n      operationId: clearTimeProfiles\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Time profiles cleared\"\n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/time-profile/{time-profile-id}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves a time profile\"\n      description: \"Retrieves a time profile from a controller\"\n      operationId: getDeviceTimeProfile\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: time-profile-id\n          in: path\n          description: \"Time profile ID in the interval [2..254]\"\n          required: true\n          schema:\n            type: integer\n            format: uint8 \n            example: 29\n      responses:\n        '200':\n          description: \"Time profile defined for the time-profile-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/TimeProfile\"        \n        '404':\n          description: \"No time profile defined for device-id + time-profile-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"    \n              example: {\n                  tag: \"get-time-profile\",\n                  message: \"Time profile 29 not found\"\n              }\n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n    \n    put:\n      tags:\n        - device\n      summary: \"Adds or updates a time profile\"\n      description: \"Adds or updates a controller time profile\"\n      operationId: putTimeProfile\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: time-profile-id\n          in: path\n          description: \"Time profile ID in the interval [2..254]\"\n          required: true\n          schema:\n            type: integer\n            format: uint8 \n            example: 29\n      requestBody:\n        description: \"Time profile definition\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TimeProfileBody\"        \n      responses:\n        '200':\n          description: \"Time profile added/updated\"\n        '404':\n          description: \"No matching device\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/tasklist:\n    put:\n      tags:\n        - device\n      summary: \"Sets the controller task list\"\n      description: \"Replaces any existing task list on the controller with the supplied list of scheduled tasks\"\n      operationId: setTaskList\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      requestBody:\n        description: \"List of tasks\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TaskList\"        \n      responses:\n        '200':\n          description: \"Task list updated\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/TaskListResult\"         \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/events:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves the device event list indices\"\n      description: \"Retrieves the indices of the first, last and current events\"\n      operationId: getEventIndices\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      responses:\n        '200':\n          description: \"Event indices\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Events\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/events/{range}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves up to N 'next' events\"\n      description: \"Retrieves the controller event list indices and up to N 'next' events\"\n      operationId: getEvents\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: range\n          in: path\n          description: \"Number of events to retrieve\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 5\n      responses:\n        '200':\n          description: \"Event list\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Events\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/event/{event-index}:\n    get:\n      tags:\n        - device\n      summary: \"Retrieves a single event record\"\n      description: \"Retrieves the event record for an event ID\"\n      operationId: getEvent\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n        - name: event-index\n          in: path\n          description: \"Numeric event index or 'first', 'last', 'current' or 'next'\"\n          required: true\n          schema:\n            type: string\n            example: 31\n      responses:\n        '200':\n          description: \"Event record\"\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  event:\n                    $ref: \"#/components/schemas/Event\"        \n        '404':\n          description: \"No matching device and/or event\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /device/{device-id}/special-events:\n    put:\n      tags:\n        - device\n      summary: \"Enable or disable special events\"\n      description: \"Enables or disables events on door open, door closed and door button pressed\"\n      operationId: putRecordSpecialEvents\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Device serial number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 405419896\n      requestBody:\n        description: \"Enable/disable special events\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/SpecialEvents\"        \n            examples:\n              enable: \n                value:\n                  enabled: true\n              disable: \n                value:\n                  enabled: false\n\n      responses:\n        '200':\n          description: \"Device record special events\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/SpecialEvents\"        \n        '403':\n          description: \"Access denied\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '404':\n          description: \"No device with ID matching device-id\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        \n  /acl:\n    get:\n      tags:\n        - acl\n      summary: \"Retrieves an access control list from a set of controllers\"\n      description: \"Retrieves and consolidates the card lists from a set of controllers into a list of access permissions associated with each card.\"\n      operationId: aclGet\n      responses:\n        '200':\n          description: \"Consolidated access control lists\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ACL\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n  \n    put:\n      tags:\n        - acl\n      summary: \"Loads an access control list to a set of controllers\"\n      description: \"Updates the cards on a set of controllers from an access control list that specifies the access permissions for all users.\"\n      operationId: aclPut\n      requestBody:\n        description: \"Access control list\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ACL\"        \n      responses:\n        '200':\n          description: \"Result of access control lists update\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/PutACLResult\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        \n  /acl/card/{card-number}:\n    get:\n      tags:\n        - acl\n      summary: \"Retrieves the access permissions for a card\"\n      description: \"Retrieves the access permissions for a card, using the configuration to resolve the door ID to the controller + door number.\"\n      operationId: aclShow\n      parameters:\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 192837465\n      responses:\n        '200':\n          description: \"List of current card access permissions\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/CardPermissions\"        \n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n  /acl/card/{card-number}/door/{door}:\n    put:\n      tags:\n        - acl\n      summary: \"Grants a card access to a door\"\n      description: \"Grants a card access to a single named door, using the configuration to resolve the door ID to the controller + door number. A granted access is added to the existing permissions for the card and access dates are widened to accommodate the earliest start date and the latest end date. The ALL door will grant access to all configured doors.\"\n      operationId: aclGrantDoor\n      parameters:\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32รฅรง\n            example: 192837465\n        - name: door\n          in: path\n          description: \"Door ID ('ALL' will grant access to all doors)\"\n          required: true\n          explode: true\n          schema:\n            type: string\n            format: Alphanumeric door name (space- and case-insensitive).\n            example: \"Entrance\"\n      requestBody:\n        description: \"Card valid dates and (optional) time profile\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DateRangeAndProfile\"        \n      responses:\n        '200':\n          description: \"Access granted\"\n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\n    delete:\n      tags:\n        - acl\n      summary: \"Revokes a card access to a door\"\n      description: \"Revokes a card's access to a door, using the configuration to resolve the door ID to the controller + door number. A revoked access is removed from the existing permissions for the card without modifying the card start/end dates or removing the card from the controllers' internal lists.\"\n      operationId: aclRevokeDoor\n      parameters:\n        - name: card-number\n          in: path\n          description: \"Card number\"\n          required: true\n          schema:\n            type: integer\n            format: uint32\n            example: 192837465\n        - name: door\n          in: path\n          description: \"Door ID ('ALL' will revoke access to all doors)\"\n          required: true\n          explode: true\n          schema:\n            type: string\n            format: Alphanumeric door name (space- and case-insensitive).\n            example: \"Entrance\"\n      responses:\n        '200':\n          description: \"Access revoked\"\n        '405':\n          description: \"Invalid request\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/Error\"        \n\ncomponents:\n  securitySchemes:\n    basic:\n      type: http\n      scheme: basic\n      description: \"RFC 2617 user:password credentials\"\n    hotp:\n      type: http\n      scheme: bearer\n      bearerFormat: HOTP:user-id:OTP, base64 encoded\n      description: \"Lightweight user:OTP authorization scheme for IOT devices\"\n      \n  schemas:\n    CardSwipe:\n      required: \n        - card-number\n      properties:\n        card-number:\n          type: number\n          format: uint32\n          description: \"Card number\"\n          example: 1928374646\n\n    DeviceList:\n      required: \n        - devices\n      properties:\n        devices:\n          type: array\n          items:\n            $ref: \"#/components/schemas/DeviceID\"        \n          description: \"List of 'found' devices\"\n\n    DeviceID:\n      required: \n        - device-id\n        - device-type\n      properties:\n        device-id:  \n          type: number\n          format: uint32\n          description: \"UHPPOTE device serial number\"\n          example: 405419896\n        device-type:  \n          type: string\n          format: string\n          description: \"UHPPOTE device type\"\n          example: \"UT0311-L04\"\n\n    Device:\n      required: \n        - device-type\n        - ip-address\n        - subnet-mask\n        - gateway-address\n        - mac-address\n        - version\n        - date\n      properties:\n        device-type:  \n          type: string\n          format: string\n          description: \"UHPPOTE device type\"\n          example: \"UT0311-L04\"\n        ip-address:  \n          type: string\n          format: IPv4 address\n          description: \"Device IP address\"\n          example: \"192.168.1.50\"\n        subnet-mask:  \n          type: string\n          format: IPv4 address\n          description: \"Device IP subnet mask\"\n          example: \"255.255.255.0\"\n        gateway-address:  \n          type: string\n          format: IPv4 address\n          description: \"Device IP gateway address\"\n          example: \"192.168.1.1\"\n        mac-address:  \n          type: string\n          format: 6 byte hexadecimal\n          description: \"Device MAC address\"\n          example: \"00:12:23:34:45:56\"\n        version:  \n          type: string\n          format: uint16 hexadecimal\n          description: \"Device firmware version\"\n          example: \"0892\"\n        date:  \n          type: string\n          format: yyyy-mm-dd\n          description: \"Device current date\"\n          example: \"2020-03-28\"\n\n    DeviceStatus:\n      required: \n        - last-event-index\n        - event-type\n        - access-granted\n        - door\n        - door-opened\n        - user-id\n        - event-timestamp\n        - event-result\n        - door-state \n        - door-buttons\n        - system-state\n        - system-datetime\n        - packet-number\n        - backup-state\n        - special-message\n        - battery-status\n        - fire-alarm-status\n      properties:\n        door-state:  \n          type: object\n          # properties:\n          #   1: bool\n          #   2: bool\n          #   3: bool\n          #   4: bool\n          additionalProperties: false \n          format: map[uint8]boolean\n          description: \"maps door number 1..4 to the corresponding door open/closed state\"\n          example: { \n            1: true, \n            2: false, \n            3: false, \n            4: true \n          }\n        door-buttons:  \n          type: object\n          format: map[uint8]boolean\n          description: \"maps door number 1..4 to the corresponding door button pressed/released state\"\n          example: { \n            1: true, \n            2: true, \n            3: false, \n            4: true \n          }\n        system-state:  \n          type: integer\n          format: uint8\n          description: \"System state flag set\"\n          example: 0\n        system-datetime:  \n          type: string\n          format: yyyy-mm-dd HH:mm:ss\n          description: \"Current system date and time\"\n          example: \"2020-03-28 15:32:29\"\n        packet-number:  \n          type: integer\n          format: uint8\n          description: \"Packet number, whatever that entails\"\n          example: 0\n        backup-state:  \n          type: integer\n          format: uint8\n          description: \"Backup state code, whatever that entails\"\n          example: 0\n        special-message:  \n          type: integer\n          format: uint8\n          description: \"Special message code, whatever that entails\"\n          example: 0\n        battery-status:  \n          type: integer\n          format: uint8\n          description: \"Battery status flag set\"\n          example: 0\n        fire-alarm-status:  \n          type: integer\n          format: uint8\n          description: \"Fire alarm status flag set\"\n          example: 0\n        event:\n          type: object\n          $ref: \"#/components/schemas/DeviceStatus\" \n          format: json\n          description: \"Last event (if present)\"\n          example:  { \n              index: 37, \n              type: 3, \n              access-granted: true, \n              door: 2, \n              user-id: 762424255,  \n              timestamp: \"2021-04-14 12:34:56\", \n              reason: 6 \n            }\n\n    StatusEvent:\n      required: \n        - index\n        - type\n        - access-granted\n        - door\n        - door-opened\n        - user-id\n        - event-timestamp\n        - event-result\n      properties:\n        index:\n          type: number\n          format: uint32\n          description: \"Index of last recorded event\"\n          example: 37\n        type:\n          type: number\n          format: uint8\n          description: \"Type of last recorded event\"\n          example: 3\n        access-granted:\n          type: boolean\n          format: true/false\n          description: \"Access granted/refused\"\n          example: true\n        door:\n          type: number\n          format: uint8 (1..4)\n          description: \"Door ID for event\"\n          example: 3\n        door-opened:\n          type: boolean\n          format: true/false\n          description: \"Door opened to request\"\n          example: true\n        user-id:\n          type: number\n          format: uint32\n          description: \"User ID (card number for swipe events)\"\n          example: 1928374646\n        timestamp:  \n          type: string\n          format: yyyy-mm-dd HH:mm:ss\n          description: \"Event timestamp\"\n          example: \"2020-03-28 15:32:29\"\n        reason:  \n          type: integer\n          format: event reason code\n          description: \"Event reason code\"\n          example: 6\n\n    DeviceTime:\n      properties:\n        datetime:\n          type: string\n          format: yyyy-mm-dd HH:mm:ss\n          description: \"Current device date/time\"\n          example: \"2020-03-28 15:32:29\"\n\n    Door:\n      properties:\n        delay:\n          type: number\n          format: uint8\n          description: \"Door delay in seconds\"\n          example: 5\n        control:\n          type: string\n          format: \"'normally open', 'normally closed' or 'controlled'\"\n          description: \"Door control state\"\n          example: 'normally closed'\n\n    DoorOpened:\n      properties:\n        opened:\n          type: boolean\n          format: true/false\n          description: \"Door opened/not opened\"\n          example: true\n\n    DoorDelay:\n      properties:\n        delay:\n          type: number\n          format: uint8\n          description: \"Door delay in seconds\"\n          example: 5\n          \n    DoorControlState:\n      properties:\n        control:\n          type: string\n          format: \"'normally open', 'normally closed' or 'controlled'\"\n          description: \"Door control state\"\n          example: 'normally closed'\n\n    CardList:\n      required: \n        - cards\n      properties:\n        cards:\n          type: array\n          items:\n             type: number\n             format: uint32\n             description: \"Card number\"\n          example: [ 192837465, 564738291 ]\n          description: \"List of card numbers\"\n\n    Card:\n      required: \n        - card-number\n        - start-date\n        - end-date\n        - doors\n      properties:\n        card-number:  \n          type: number\n          format: uint32\n          description: \"Card number\"\n          example: 192837465\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"First date card is valid\"\n          example: \"2020-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Last date card is valid\"\n          example: \"2020-12-31\"\n        doors:  \n          type: object\n          items:\n             type: boolean\n             format: true/false\n             description: \"Door access permitted\"\n          example: { \"1\":true, \"2\":false, \"3\":false, \"4\":true }\n          description: \"List of doors and access\"\n\n    CardDetails:\n      required: \n        - start-date\n        - end-date\n        - doors\n      properties:\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"First date card is valid\"\n          example: \"2020-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Last date card is valid\"\n          example: \"2020-12-31\"\n        doors:  \n          type: object\n          items:\n             type: object\n             format: map[uint8]boolean\n             description: \"maps door number 1..4 to the corresponding door access permission (true, false or a valid time profile ID\"\n          example: { \"1\":true, \"2\":false, \"3\":55, \"4\":true }\n          description: \"List of doors and access\"\n\n    CardPermissions:\n      required:\n        - permissions\n      properties:\n        permissions:\n          type: array\n          items:\n            $ref: \"#/components/schemas/CardPermission\"                \n      description: \"List of doors to which the card has been granted access, along with associated access date ranges\"      \n      example: { \"permissions\": [ { \"door\":\"Entrance\", \"start-date\":\"2020-01-01\", \"end-date\":\"2020-12-31\" },{ \"door\":\"Workshop\", \"start-date\":\"2020-01-01\", \"end-date\":\"2020-12-31\" }] }\n          \n    CardPermission:\n      required: \n        - door\n        - start-date\n        - end-date\n      properties:\n        door:  \n          type: string\n          format: door ID\n          description: \"Door ID corresponding to an entry in the controller configuration\"\n          example: \"Entrance\"\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"First date card access is enabled (as from 00:00)\"\n          example: \"2020-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Last date card is enabled (until 23:59)\"\n          example: \"2020-12-31\"\n        profile:  \n          type: number\n          format: integer in the range [2..254]\n          description: \"Time profile ID for access to the door\"\n          example: 29\n          \n    TimeProfileList:\n      required: \n        - profiles\n      properties:\n        profiles:\n          type: array\n          items:\n            $ref: \"#/components/schemas/TimeProfile\"                \n          description: \"List of time profiles\"\n\n    TimeProfileListResult:\n      required: \n        - warnings\n      properties:\n        warnings:\n          type: array\n          items: \n            type: string\n          description: \"List of warnings for individual time profiles\"\n\n    TimeProfile:\n      required: \n        - id\n        - start-date\n        - end-date\n        - weekdays\n        - segments\n      properties:\n        id:  \n          type: number\n          format: uint8\n          description: \"Time profile ID in the range [2..254]\"\n          example: 29\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date from which time profile is active\"\n          example: \"2021-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date after which time profile is no longer active\"\n          example: \"2021-12-31\"\n        weekdays:  \n          type: string\n          items:\n             type: string\n             format: \"comma seperated list of weekdays\"\n             description: \"List of weekdays for which the time profile is active. Weekday name are case-insensitive and 3 letter abbreviations are valid.\"\n          example: \"Monday,Wednesday,Friday\"\n          description: \"List of weekdays for which the time profile is active\"\n        segments:  \n          type: array\n          # properties:\n          #   1: \"#/components/schemas/TimeSegment\"\n          #   2: \"#/components/schemas/TimeSegment\"\n          #   3: \"#/components/schemas/TimeSegment\"\n          additionalProperties: false \n          example:  [ { \"start\":\"08:30\", \"end\":\"11:15\" }, { \"start\":\"12:00\", \"end\":\"16:45\" }  ]\n          description: \"Array of up to 3 time intervals during which the time profile is active\"\n        linked-profile:  \n          type: number\n          format: uint8\n          description: \"ID of time profile linked to this time profile.\"\n          example: 71\n\n    TimeProfileBody:\n      required: \n        - start-date\n        - end-date\n        - weekdays\n        - segments\n      properties:\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date from which time profile is active\"\n          example: \"2021-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date after which time profile is no longer active\"\n          example: \"2021-12-31\"\n        weekdays:  \n          type: string\n          items:\n             type: string\n             format: \"comma seperated list of weekdays\"\n             description: \"List of weekdays for which the time profile is active. Weekday name are case-insensitive and 3 letter abbreviations are valid.\"\n          example: \"Monday,Wednesday,Friday\"\n          description: \"List of weekdays for which the time profile is active\"\n        segments:  \n          type: array\n          additionalProperties: false \n          example:  [ { \"start\":\"08:30\", \"end\":\"11:15\" }, { \"start\":\"12:00\", \"end\":\"16:45\" } ]\n          description: \"Array of up to 3 time intervals during which the time profile is active\"\n        linked-profile:  \n          type: number\n          format: uint8\n          description: \"ID of time profile linked to this time profile.\"\n          example: 71\n                    \n    TimeSegment:\n      required: \n        - start\n        - end\n      properties:\n        start:  \n          type: string\n          format: HH:mm\n          description: \"Time from which segment is active\"\n          example: \"08:30\"\n        end:  \n          type: string\n          format: HH:mm\n          description: \"Time until after which segment is no longer active\"\n          example: \"11:15\"\n      example: { \"start\":\"08:30\", \"end\":\"11:15\" }\n\n    TaskList:\n      required: \n        - tasks\n      properties:\n        tasks:\n          type: array\n          items:\n            $ref: \"#/components/schemas/Task\"                \n          description: \"List of scheduled tasks\"\n\n    TaskListResult:\n      required: \n        - warnings\n      properties:\n        warnings:\n          type: array\n          items: \n            type: string\n          description: \"List of warnings for individual tasks\"\n\n    Task:\n      required: \n        - task\n        - door\n        - start-date\n        - end-date\n        - weekdays\n        - start-time\n      properties:\n        task:  \n          type: string\n          format: enum\n          description: \"Standard task description\"\n          example: \"enable time profile\"\n        door:  \n          type: number\n          format: uint8\n          description: \"Door [1..4] for which to run task\"\n          example: 3\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date from which task is active\"\n          example: \"2021-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Date after which task is no longer active\"\n          example: \"2021-12-31\"\n        weekdays:  \n          type: string\n          items:\n             type: string\n             format: \"comma seperated list of weekdays\"\n             description: \"List of weekdays for which the task is active. Weekday name are case-insensitive and 3 letter abbreviations are valid.\"\n          example: \"Monday,Wednesday,Friday\"\n          description: \"List of weekdays for which the time profile is active\"\n        start:  \n          type: string\n          format: HH:mm\n          description: \"Time at which to run task\"\n          example: \"15:30\"\n        cards:  \n          type: number\n          format: uint8\n          description: \"Number of cards to allow for the 'more-cards' task.\"\n          example: 7\n\n    SpecialEvents:\n      properties:\n        enabled:\n          type: boolean\n          format: true/false\n          description: \"Enables or disables events for door open, door closed or door button pressed\"\n          example: true\n\n    ACL:\n      required:\n        - acl\n      properties:\n        acl:\n          type: array\n          items:\n            $ref: \"#/components/schemas/AccessListRecord\"                \n          description: \"List of cards and doors to which the cards have been granted access, along with associated card access date ranges\"      \n          \n    AccessListRecord:\n      required: \n        - card-number\n        - door\n        - start-date\n        - end-date\n        - doors\n      properties:\n        card-number:  \n          type: number\n          format: uint32\n          description: \"Card number\"\n          example: 192837465\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"First date card access is enabled (as from 00:00)\"\n          example: \"2020-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Last date card is enabled (until 23:59)\"\n          example: \"2020-12-31\"\n        doors:\n          type: array\n          items:\n            $ref: \"#/components/schemas/Permission\"                \n\n    Permission:\n      required: \n        - door\n      properties:\n        door:  \n          type: string\n          format: string\n          description: \"Door name\"\n          example: \"Dungeon\"\n        profile:\n          type: number\n          format: integer\n          description: \"Optional time profile ID (in the range [2..254]) for access to a door\"\n          example: 29\n      example: { \"door\":\"Hogsmeade\", \"profile\": 55 }\n\n    PutACLResult:\n      required:\n        - report\n      properties:\n        report:\n          type: array\n          items: \n            $ref: \"#/components/schemas/PutACLResultRecord\"  \n        warnings:\n          type: array\n          items: \n            type: string\n          description: \"List of warnings for time profiles that could not be created or updated\"\n      description: \"Summary list of changes made to controller card lists\"\n      example: { \"report\": [ { \"device-id\":405419896, \"unchanged\":1, \"updated\":3, \"added\": 2, \"deleted\":1, \"failed\":0 } ] }\n        \n    PutACLResultRecord:\n      required: \n        - device-id\n        - unchanged\n        - updated\n        - added\n        - deleted\n        - failed\n      properties:\n        device-id:  \n          type: number\n          format: uint32\n          description: \"UHPPOTE device serial number\"\n          example: 405419896\n        unchanged:  \n          type: number\n          format: integer\n          description: \"Number of records unaffected by ACL update\"\n          example: 3\n        updated:  \n          type: number\n          format: integer\n          description: \"Number of records updated by ACL update\"\n          example: 5\n        added:  \n          type: number\n          format: integer\n          description: \"Number of records added by ACL update\"\n          example: 3\n        deleted:  \n          type: number\n          format: integer\n          description: \"Number of records deleted by ACL update\"\n          example: 1\n        failed:  \n          type: number\n          format: integer\n          description: \"Number of records failed to updated by ACL update\"\n          example: 0\n      description: \"Summary list of changes made to a controller card list\"\n      example: { \"device-id\":405419896, \"unchanged\":2, \"updated\":5, \"added\": 3, \"deleted\":1, \"failed\":0 }\n\n    Events:\n      required: \n        - events\n      properties:\n        events:\n          $ref: \"#/components/schemas/EventsList\"        \n\n    EventsList:\n      properties:\n        first:\n          description: \"Index of the first stored event. Not provided if device has no events.\"\n          type: number\n          format: uint32\n          example: 3\n        last:\n          description: \"Index of the last stored event. Not provided if device has no events.\"\n          type: number\n          format: uint32\n          example: 78\n        current:\n          description: \"Current event index\"\n          type: number\n          format: uint32\n          example: 17\n        events:\n          description: \"List of events\"\n          type: array\n          items:\n            $ref: \"#/components/schemas/Event\"                \n          example: [ { \"event-id\": 13,\n                       \"event-type\": 1,\n                       \"access-granted\": true,\n                       \"door-id\": 2,\n                       \"user-id\": 192837465,\n                       \"timestamp\": '2020-03-27 12:34:56',\n                       \"event-result\": 6\n                      }\n                    ]\n\n    Event:\n      required: \n        - event-id\n        - event-type\n        - access-granted\n        - door-id\n        - door-opened\n        - user-id\n        - timestamp\n        - event-result\n      properties:\n        event-id:  \n          type: number\n          format: uint32\n          description: \"Event id\"\n          example: 13\n        event-type:  \n          type: number\n          format: uint8\n          description: \"Event type\"\n          example: 1\n        access-granted:  \n          type: boolean\n          format: true/false\n          description: \"Access granted\"\n          example: true\n        door-id:  \n          type: number\n          format: uint8\n          description: \"Door number [1..4]\"\n          example: 2\n        user-id:  \n          type: number\n          format: uint32\n          description: \"User ID, typically card number\"\n          example: 192837465\n        timestamp:  \n          type: string\n          format: yyyy-MM-dd HH:mm:ss\n          description: \"Event timestamp\"\n          example: \"2020-03-27 12:34:56\"\n        event-result:  \n          type: number\n          format: uint8\n          description: \"Event result\"\n          example: 6\n\n    DateRangeAndProfile:\n      required: \n        - start-date\n        - end-date\n      properties:\n        start-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"First date card is valid\"\n          example: \"2020-01-01\"\n        end-date:  \n          type: string\n          format: yyyy-MM-dd\n          description: \"Last date card is valid\"\n          example: \"2020-12-31\"\n        profile:  \n          type: number\n          format: uint8\n          description: \"Optional time profile ID (in the range [2..254])\"\n          example: 29\n\n    Error:\n      required: \n        - tag\n        - message\n      properties:\n        tag:  \n          type: string\n          format: string\n          description: \"Operation identifier\"\n          example: \"get-acl\"\n        message:  \n          type: string\n          format: string\n          description: \"User level error message\"\n          example: \"Invalid card number\"\n",
			"canonicalURL": "/github.com/uhppoted/uhppoted@af7eb0fab01311423decbbfe910ceb7e0c997897/-/blob/documentation/openapi/uhppoted-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/uhppoted/uhppoted/blob/af7eb0fab01311423decbbfe910ceb7e0c997897/documentation/openapi/uhppoted-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"Card\": parse schema: property \"doors\": parse schema: object cannot contain 'items' field"
}