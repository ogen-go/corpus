{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/emanuelfreitas/3gpp-documentation"
		},
		"file": {
			"name": "TS29222_CAPIF_Security_API.yaml",
			"size": 0,
			"path": "apis/TS29222_CAPIF_Security_API.yaml",
			"byteSize": 17286,
			"content": "openapi: 3.0.0\ninfo:\n  title: CAPIF_Security_API\n  description: |\n    API for CAPIF security management.\n    Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\n    All rights reserved.\n  version: \"1.2.0-alpha.1\"\nexternalDocs:\n  description: 3GPP TS 29.222 V17.1.0 Common API Framework for 3GPP Northbound APIs\n  url: http://www.3gpp.org/ftp/Specs/archive/29_series/29.222/\nservers:\n  - url: '{apiRoot}/capif-security/v1'\n    variables:\n      apiRoot:\n        default: https://example.com\n        description: apiRoot as defined in subclause 7.5 of 3GPP TS 29.222.\npaths:\n\n  /trustedInvokers/{apiInvokerId}:\n    get:\n      parameters:\n        - name: apiInvokerId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n        - name: authenticationInfo\n          in: query\n          description: When set to 'true', it indicates the CAPIF core function to send the authentication information of the API invoker. Set to false or omitted otherwise.\n          schema:\n            type: boolean\n        - name: authorizationInfo\n          in: query\n          description: When set to 'true', it indicates the CAPIF core function to send the authorization information of the API invoker. Set to false or omitted otherwise.\n          schema:\n            type: boolean\n      responses:\n        '200':\n          description: The security related information of the API Invoker based on the request from the API exposing function.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceSecurity'\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '406':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/406'\n        '414':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/414'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n    put:\n      parameters:\n        - name: apiInvokerId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: create a security context for an API invoker\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ServiceSecurity'\n      callbacks:\n        notificationDestination:\n          '{request.body#/notificationDestination}':\n            post:\n              requestBody:\n                required: true\n                content:\n                  application/json:\n                    schema:\n                      $ref: '#/components/schemas/SecurityNotification'\n              responses:\n                '204':\n                  description: No Content (successful notification)\n                '307':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n                '308':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n                '400':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n                '401':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n                '403':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n                '404':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n                '411':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n                '413':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n                '415':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n                '429':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n                '500':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n                '503':\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n                default:\n                  $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n      responses:\n        '201':\n          description: Successful created.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceSecurity'\n          headers:\n            Location:\n              description: 'Contains the URI of the newly created resource, according to the structure: {apiRoot}/capif-security/v1/trustedInvokers/{apiInvokerId}'\n              required: true\n              schema:\n                type: string\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '411':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n        '414':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/414'\n        '415':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n    delete:\n      parameters:\n        - name: apiInvokerId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n      responses:\n        '204':\n          description: No Content (Successful deletion of the existing subscription)\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n  /trustedInvokers/{apiInvokerId}/update:\n    post:\n      parameters:\n        - name: apiInvokerId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: Update the security context (e.g. re-negotiate the security methods).\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ServiceSecurity'\n      responses:\n        '200':\n          description: Successful updated.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ServiceSecurity'\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n\n  /trustedInvokers/{apiInvokerId}/delete:\n    post:\n      parameters:\n        - name: apiInvokerId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: Revoke the authorization of the API invoker for APIs.\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SecurityNotification'\n      responses:\n        '204':\n          description: Successful revoked.\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29122_CommonData.yaml#/components/responses/default'\n\n  /securities/{securityId}/token:\n    post:\n      parameters:\n        - name: securityId\n          in: path\n          description: Identifier of an individual API invoker\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/AccessTokenReq'\n      responses:\n        '200':\n          description: Successful Access Token Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AccessTokenRsp'\n        '307':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29122_CommonData.yaml#/components/responses/308'\n        '400':\n          description: Error in the Access Token Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AccessTokenErr'\n\ncomponents:\n  schemas:\n    ServiceSecurity:\n      type: object\n      description: Represents the details of the security method for each service API interface. When included by the API invoker, it indicates the preferred method of security. When included by the CAPIF core function, it indicates the security method to be used for the service API interface.\n      properties:\n        securityInfo:\n          type: array\n          items:\n            $ref: '#/components/schemas/SecurityInformation'\n          minimum: 1\n        notificationDestination:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/Uri'\n        requestTestNotification:\n          type: boolean\n          description: Set to true by API invoker to request the CAPIF core function to send a test notification as defined in in subclause 7.6. Set to false or omitted otherwise.\n        websockNotifConfig:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/WebsockNotifConfig'\n        supportedFeatures:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n      required:\n        - securityInfo\n        - notificationDestination\n    SecurityInformation:\n      type: object\n      description: Represents the interface details and the security method.\n      properties:\n        interfaceDetails:\n          $ref: 'TS29222_CAPIF_Publish_Service_API.yaml#/components/schemas/InterfaceDescription'\n        aefId:\n          type: string\n          description: Identifier of the API exposing function\n        prefSecurityMethods:\n          type: array\n          items:\n            $ref: 'TS29222_CAPIF_Publish_Service_API.yaml#/components/schemas/SecurityMethod'\n          minItems: 1\n          description: Security methods preferred by the API invoker for the API interface.\n        selSecurityMethod:\n          $ref: 'TS29222_CAPIF_Publish_Service_API.yaml#/components/schemas/SecurityMethod'\n        authenticationInfo:\n          type: string\n          description: Authentication related information\n        authorizationInfo:\n          type: string\n          description: Authorization related information\n      required:\n        - prefSecurityMethods\n      oneOf:\n        - required: [interfaceDetails]\n        - required: [aefId]\n    SecurityNotification:\n      type: object\n      description: Represents revoked authorization notification details.\n      properties:\n        apiInvokerId:\n          type: string\n          description: String identifying the API invoker assigned by the CAPIF core function.\n        aefId:\n          type: string\n          description: String identifying the AEF.\n        apiIds:\n          type: array\n          items:\n            type: string\n          minItems: 1\n          description: Identifier of the service API\n        cause:\n          $ref: '#/components/schemas/Cause'\n      required:\n        - apiInvokerId\n        - apiIds\n        - cause\n    AccessTokenReq:\n      format: x-www-form-urlencoded\n      description: Represents the access token request information.\n      properties:\n        grant_type:\n          type: string\n          enum:\n            - client_credentials\n        client_id:\n          type: string\n        client_secret:\n          type: string\n        scope:\n          type: string\n      required:\n        - grant_type\n        - client_id\n    AccessTokenRsp:\n      type: object\n      description: Represents the access token response information.\n      properties:\n        access_token:\n          type: string\n          description: JWS Compact Serialized representation of JWS signed JSON object (AccessTokenClaims)\n        token_type:\n          type: string\n          enum:\n            - Bearer\n        expires_in:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/DurationSec'\n        scope:\n          type: string\n      required:\n        - access_token\n        - token_type\n        - expires_in\n    AccessTokenClaims:\n      type: object\n      description: Represents the claims data structure for the access token.\n      properties:\n        iss:\n          type: string\n        scope:\n          type: string\n        exp:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/DurationSec'\n      required:\n        - iss\n        - scope\n        - exp\n    AccessTokenErr:\n      type: object\n      description: Represents an error in the access token request.\n      properties:\n        error:\n          type: string\n          enum:\n            - invalid_request\n            - invalid_client\n            - invalid_grant\n            - unauthorized_client\n            - unsupported_grant_type\n            - invalid_scope\n        error_description:\n          type: string\n        error_uri:\n          type: string\n      required:\n        - error\n    Cause:\n      anyOf:\n      - type: string\n        enum:\n          - OVERLIMIT_USAGE\n          - UNEXPECTED_REASON\n      - type: string\n        description: >\n          This string provides forward-compatibility with future\n          extensions to the enumeration but is not used to encode\n          content defined in the present version of this API.\n      description: >\n        Possible values are\n        - OVERLIMIT_USAGE: The revocation of the authorization of the API invoker is due to the overlimit usage of the service API\n        - UNEXPECTED_REASON: The revocation of the authorization of the API invoker is due to unexpected reason.\n",
			"canonicalURL": "/github.com/emanuelfreitas/3gpp-documentation@5c42f5fe317a014c101c82b84d27be6f6a44851c/-/blob/apis/TS29222_CAPIF_Security_API.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/emanuelfreitas/3gpp-documentation/blob/5c42f5fe317a014c101c82b84d27be6f6a44851c/apis/TS29222_CAPIF_Security_API.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:15: schemas: \"ServiceSecurity\": parse schema: property \"notificationDestination\": at 1:3800: parse schema: resolve \"TS29122_CommonData.yaml#/components/schemas/Uri\": external \"TS29122_CommonData.yaml\": file: local file reference is not allowed"
}