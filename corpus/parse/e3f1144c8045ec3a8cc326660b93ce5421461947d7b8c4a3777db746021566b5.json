{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/OpenBanking-Brasil/areadesenvolvedor"
		},
		"file": {
			"name": "_consents_apis_part.yml",
			"size": 0,
			"path": "documentation/source/swagger/parts/_consents_apis_part.yml",
			"byteSize": 18929,
			"content": "﻿openapi: \"3.0.0\"\ninfo:\n  title: API Consents - Open Banking Brasil\n  description: |\n    API que trata da criação, consulta e revogação de consentimentos para o Open Banking Brasil Fase 2 - customer-data.  \n    Não possui segregação entre pessoa natural e pessoa jurídica.    \n\n    # Orientações importantes\n    A API Consents trata dos consentimentos exclusivamente para a fase 2 do Open Banking Brasil.\n    - As informações da instituição receptora não trafegam na API Consents – a autenticação da receptora se dá através do [DCR](https://openbanking-brasil.github.io/specs-seguranca/open-banking-brasil-dynamic-client-registration-1_ID1.html).   \n    - Na chamada para a criação do consentimento deve-se utilizar um token gerado via `client_credentials`.\n    - Após o `POST` de criação do consentimento, o `STATUS` devolvido na resposta deverá ser `AWAITING_AUTHORISATION`.\n    - O `STATUS` será alterado para `AUTHORISED` somente após autenticação e confirmação por parte do usuário na instituição transmissora dos dados.\n    - Todas as datas trafegadas nesta API seguem o padrão da [RFC3339](https://tools.ietf.org/html/rfc3339) e formato \"zulu\".\n    - A descrição do fluxo de consentimento encontra-se disponível no [Portal do desenvolvedor](https://openbanking-brasil.github.io/areadesenvolvedor/#em-revisao-fluxo-de-consentimento).\n    - O arquivo com o mapeamento completo entre `Roles`, `scopes` e `permissions` está disponibilizado no Portal do desenvolvedor, no mesmo item acima - descrição do fluxo de consentimento.\n    - A receptora deve enviar obrigatoriamente, no pedido de criação de consentimento, todas as permissions dos agrupamentos de dados as quais ela deseja consentimento, conforme tabela abaixo:\n      \n      ```\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | CATEGORIA DE DADOS   | AGRUPAMENTO                   | PERMISSIONS                                              |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cadastro             | Dados Cadastrais PF           | CUSTOMERS_PERSONAL_IDENTIFICATIONS_READ                  |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cadastro             | Informações complementares PF | CUSTOMERS_PERSONAL_ADITTIONALINFO_READ                   |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cadastro             | Dados Cadastrais PJ           | CUSTOMERS_BUSINESS_IDENTIFICATIONS_READ                  |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cadastro             | Informações complementares PJ | CUSTOMERS_BUSINESS_ADITTIONALINFO_READ                   |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Contas               | Saldos                        | ACCOUNTS_READ                                            |\n      |                      |                               | ACCOUNTS_BALANCES_READ                                   |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Contas               | Limites                       | ACCOUNTS_READ                                            |\n      |                      |                               | ACCOUNTS_OVERDRAFT_LIMITS_READ                           |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Contas               | Extratos                      | ACCOUNTS_READ                                            |\n      |                      |                               | ACCOUNTS_TRANSACTIONS_READ                               |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cartão de Crédito    | Limites                       | CREDIT_CARDS_ACCOUNTS_READ                               |\n      |                      |                               | CREDIT_CARDS_ACCOUNTS_LIMITS_READ                        |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cartão de Crédito    | Transações                    | CREDIT_CARDS_ACCOUNTS_READ                               |\n      |                      |                               | CREDIT_CARDS_ACCOUNTS_TRANSACTIONS_READ                  |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Cartão de Crédito    | Faturas                       | CREDIT_CARDS_ACCOUNTS_READ                               |\n      |                      |                               | CREDIT_CARDS_ACCOUNTS_BILLS_READ                         |\n      |                      |                               | CREDIT_CARDS_ACCOUNTS_BILLS_TRANSACTIONS_READ            |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      | Operações de Crédito | Dados do Contrato             | LOANS_READ                                               |\n      |                      |                               | LOANS_WARRANTIES_READ                                    |\n      |                      |                               | LOANS_SCHEDULED_INSTALMENTS_READ                         |\n      |                      |                               | LOANS_PAYMENTS_READ                                      |\n      |                      |                               | FINANCINGS_READ                                          |\n      |                      |                               | FINANCINGS_WARRANTIES_READ                               |\n      |                      |                               | FINANCINGS_SCHEDULED_INSTALMENTS_READ                    |\n      |                      |                               | FINANCINGS_PAYMENTS_READ                                 |\n      |                      |                               | UNARRANGED_ACCOUNTS_OVERDRAFT_READ                       |\n      |                      |                               | UNARRANGED_ACCOUNTS_OVERDRAFT_WARRANTIES_READ            |\n      |                      |                               | UNARRANGED_ACCOUNTS_OVERDRAFT_SCHEDULED_INSTALMENTS_READ |\n      |                      |                               | UNARRANGED_ACCOUNTS_OVERDRAFT_PAYMENTS_READ              |\n      |                      |                               | INVOICE_FINANCINGS_READ                                  |\n      |                      |                               | INVOICE_FINANCINGS_WARRANTIES_READ                       |\n      |                      |                               | INVOICE_FINANCINGS_SCHEDULED_INSTALMENTS_READ            |\n      |                      |                               | INVOICE_FINANCINGS_PAYMENTS_READ                         |\n      |                      |                               | RESOURCES_READ                                           |\n      |----------------------|-------------------------------|----------------------------------------------------------|\n      ```\n    - A instituição transmissora deve validar o preenchimento correto desses agrupamentos no momento da geração do consentimento.\n    - Caso a instiuição receptora envie permissões divergentes ao agrupamento especificado na tabela, a transmissora deve rejeitar o pedido da receptora dando retorno HTTP Status Code 400.\n    - A transmissora deve retornar, da lista de permissions requisitadas, apenas o subconjunto de permissions por ela suportada, removendo da lista as permissions de produtos não suportados e retornando HTTP Status Code 201. Caso não restem permissões funcionais, a instituição transmissora deve retornar o erro HTTP Code \"422 Unprocessable Entity\".\n  version: 1.0.3\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0\n  contact:\n    name: Governança do Open Banking Brasil - Especificações\n    email: gt-interfaces@openbankingbr.org\n    url: https://openbanking-brasil.github.io/areadesenvolvedor/\nservers:\n  - url: 'https://api.banco.com.br/open-banking/consents/v1'\n    description: Servidor de Produção\n  - url: 'https://apih.banco.com.br/open-banking/consents/v1'\n    description: Servidor de Homologação  \ntags:\n  - name: Consents\n    description: \"Operações para criação, consulta e revogação do consentimento dado pelo cliente.\"    \npaths:\n  /consents:\n    post:\n      tags:\n        - \"Consents\"\n      summary: \"Criar novo pedido de consentimento.\"\n      operationId: consentsPostConsents\n      description: \"Método para a criação de um novo consentimento.\"\n      parameters:\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/CreateConsent\"\n        description: \"Payload para criação do consentimento.\"\n        required: true\n      responses:\n        '201':\n          $ref: \"#/components/responses/201ConsentsCreated\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '415':\n          $ref: '#/components/responses/UnsupportedMediaType'\n        '422':\n          $ref: '#/components/responses/UnprocessableEntity'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'  \n        default:\n          description: Erro inesperado.\n          content:  \n            application/json:\n              schema:\n                $ref: '#/components/schemas/ResponseError'\n      security:\n        - OAuth2Security:\n            - consents \n  /consents/{consentId}:\n    get:\n      tags:\n        - \"Consents\"\n      summary: \"Obter detalhes do consentimento identificado por consentId.\"\n      operationId: consentsGetConsentsConsentId\n      description: \"Método para obter detalhes do consentimento identificado por consentId.\"\n      parameters:\n        - $ref: \"#/components/parameters/consentId\"\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '200':\n          $ref: \"#/components/responses/200ConsentsConsentIdRead\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ResponseError'\n      security:\n        - OAuth2Security:\n            - consents \n    delete:\n      tags:\n        - \"Consents\"\n      summary: \"Deletar / Revogar o consentimento identificado por consentId.\"\n      operationId: consentsDeleteConsentsConsentId\n      description: \"Método para deletar / revogar o consentimento identificado por consentId.\"\n      parameters:\n        - $ref: \"#/components/parameters/consentId\"\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '204':\n          $ref: \"#/components/responses/204ConsentsConsentIdDeleted\"\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'   \n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ResponseError'\n      security:\n        - OAuth2Security:\n            - consents\ncomponents:\n  schemas:\n    Links:\n      $ref: ./schemas/Links.yaml\n    Meta:\n      $ref: ./schemas/Meta.yaml\n    CreateConsent:\n      $ref: ./schemas/consents_apis/CreateConsent.yaml\n    ResponseConsent:\n      $ref: ./schemas/consents_apis/ResponseConsent.yaml\n    ResponseError:\n      $ref: ./schemas/ResponseError.yaml\n    LoggedUser:\n      $ref: ./schemas/consents_apis/LoggedUser.yaml\n    BusinessEntity:\n      $ref: ./schemas/consents_apis/BusinessEntity.yaml\n  parameters:\n    consentId:\n      $ref: ./parameters/ConsentId.yaml\n    Authorization:\n      $ref: ./parameters/Authorization.yaml\n    xCustomerUserAgent:\n      $ref: ./parameters/XCustomerUserAgent.yaml    \n    xFapiAuthDate:\n      $ref: ./parameters/XFapiAuthDate.yaml\n    xFapiCustomerIpAddress:\n      $ref: ./parameters/XFapiCustomerIpAddress.yaml\n    xFapiInteractionId:\n      $ref: ./parameters/XFapiInteractionId.yaml\n  securitySchemes:\n    OAuth2Security:\n      type: \"oauth2\"\n      flows:\n        clientCredentials:\n          tokenUrl: \"https://authserver.example/token\"\n          scopes:\n            consents: Criação do consentimento.\n  responses:\n    UnsupportedMediaType:\n      $ref: ./responses/UnsupportedMediaType.yaml\n    BadRequest:\n      $ref: ./responses/BadRequest.yaml\n    Forbidden:\n      $ref: ./responses/Forbidden.yaml\n    InternalServerError:\n      $ref: ./responses/InternalServerError.yaml\n    MethodNotAllowed:\n      $ref: ./responses/MethodNotAllowed.yaml\n    NotAcceptable:\n      $ref: ./responses/NotAcceptable.yaml\n    NotFound:\n      $ref: ./responses/NotFound.yaml\n    TooManyRequests:\n      $ref: ./responses/TooManyRequests.yaml\n    UnprocessableEntity:\n      $ref: ./responses/UnprocessableEntity.yaml\n    Unauthorized:\n      $ref: ./responses/Unauthorized.yaml\n    201ConsentsCreated:\n      description: \"Consentimento criado com sucesso.\"\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação.  \n            Se fornecido, o transmissor deve \"reproduzir\" esse valor no cabeçalho de resposta.          \n          schema:\n            type: string   \n            pattern: ^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$\n            minLength: 1\n            maxLength: 100\n            example: \"73cac523-d3ae-2289-b106-330a6218710d\"     \n      content:\n        application/json:\n          schema:\n            $ref: ./schemas/consents_apis/ResponseConsent.yaml  \n    200ConsentsConsentIdRead:\n      description: \"Consentimento consultado com sucesso.\"\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação.  \n            Se fornecido, o transmissor deve \"reproduzir\" esse valor no cabeçalho de resposta.          \n          schema:\n            type: string   \n            pattern: ^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$\n            minLength: 1\n            maxLength: 100    \n            example: \"92cac523-d3ae-2289-b106-330a6218710d\"\n      content:\n        application/json:\n          schema:\n            $ref: ./schemas/consents_apis/ResponseConsent.yaml            \n    204ConsentsConsentIdDeleted:\n      description: \"Consentimento revogado com sucesso.\"\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação.  \n            Se fornecido, o transmissor deve \"reproduzir\" esse valor no cabeçalho de resposta.          \n          schema:\n            type: string   \n            pattern: ^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$\n            minLength: 1\n            maxLength: 100 \n            example: \"85bac523-d3ae-2289-b106-330a6218710d\"\n    \n",
			"canonicalURL": "/github.com/OpenBanking-Brasil/areadesenvolvedor@d6770dfcb778e2e938c43455740b3f806a1efea8/-/blob/documentation/source/swagger/parts/_consents_apis_part.yml",
			"externalURLs": [
				{
					"url": "https://github.com/OpenBanking-Brasil/areadesenvolvedor/blob/d6770dfcb778e2e938c43455740b3f806a1efea8/documentation/source/swagger/parts/_consents_apis_part.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:2956: schemas: \"ResponseConsent\": parse schema: resolve \"./schemas/consents_apis/ResponseConsent.yaml\": external \"./schemas/consents_apis/ResponseConsent.yaml\": get: file: local file reference is not allowed"
}