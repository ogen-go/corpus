{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/gojek/turing"
		},
		"file": {
			"name": "jobs.yaml",
			"size": 0,
			"path": "api/api/specs/jobs.yaml",
			"byteSize": 11397,
			"content": "openapi: 3.0.3\ninfo:\n  title: Endpoints and schemas of Turing ensembling jobs\n  version: 0.0.1\n\n.tags: &tags\n  - \"Ensembling Job\"\n\n.id: &id\n  type: \"integer\"\n  format: \"int32\"\n\npaths:\n  \"/projects/{project_id}/jobs\":\n    get:\n      tags: *tags\n      operationId: \"ListEnsemblingJobs\"\n      summary: Returns a list of ensembling jobs that belong to the project\n      parameters:\n        - in: path\n          name: project_id\n          schema:\n            <<: *id\n          required: true\n        - in: query\n          name: page\n          schema:\n            type: integer\n            default: 1\n        - in: query\n          name: page_size\n          schema:\n            type: integer\n            default: 10\n        - in: query\n          name: ensembler_id\n          schema:\n            <<: *id\n        - in: query\n          name: search\n          description: Searches ensembling job name used for a partial match of the search text\n          schema:\n            type: string\n        - in: query\n          name: status\n          schema:\n            type: array\n            items:\n              $ref: \"#/components/schemas/EnsemblerJobStatus\"\n          style: form\n          explode: true\n      responses:\n        200:\n          description: A JSON object, that represents paginated results response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/EnsemblingJobPaginatedResults\"\n    post:\n      tags: *tags\n      operationId: \"CreateEnsemblingJob\"\n      summary: Submit an Ensembling job.\n      parameters:\n        - in: path\n          name: project_id\n          schema:\n            <<: *id\n          required: true\n      requestBody:\n        description: A JSON object that contains the configuration of the ensembling job\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/EnsemblingJob\"\n      responses:\n        202:\n          description: Accepted.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/EnsemblingJob\"\n  \"/projects/{project_id}/jobs/{job_id}\":\n    get:\n      tags: *tags\n      operationId: \"GetEnsemblingJob\"\n      summary: Get an existing Ensembling job.\n      parameters:\n        - in: path\n          name: project_id\n          schema:\n            <<: *id\n          required: true\n        - in: path\n          name: job_id\n          schema:\n            <<: *id\n          required: true\n      responses:\n        200:\n          description: A JSON object representing an Ensembling Job\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/EnsemblingJob\"\n        404:\n          description: \"Invalid ensembling job\"\n    delete:\n      tags: *tags\n      operationId: \"TerminateEnsemblingJob\"\n      summary: Terminate an ongoing Ensembling Job.\n      parameters:\n        - in: path\n          name: project_id\n          schema:\n            <<: *id\n          required: true\n        - in: path\n          name: job_id\n          schema:\n            <<: *id\n          required: true\n      responses:\n        202:\n          description: Accepted.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/JobId\"\n        400:\n          description: \"Invalid ensembling job\"\n        404:\n          description: \"Ensembling job not found\"\n\ncomponents:\n  schemas:\n    JobId:\n      $ref: \"common.yaml#/components/schemas/IdObject\"\n    EnsemblingJob:\n      description: A JSON object that represents an ensembling job for batch experiment use cases\n      properties:\n        id:\n          $ref: \"common.yaml#/components/schemas/Id\"\n        name:\n          type: \"string\"\n          minLength: 3\n          maxLength: 50\n          readOnly: true\n        project_id:\n          $ref: \"common.yaml#/components/schemas/Id\"\n        ensembler_id:\n          $ref: \"common.yaml#/components/schemas/Id\"\n        environment_name:\n          type: \"string\"\n        infra_config:\n          $ref: \"#/components/schemas/EnsemblerInfraConfig\"\n        job_config:\n          $ref: \"#/components/schemas/EnsemblerConfig\"\n        status:\n          $ref: \"#/components/schemas/EnsemblerJobStatus\"\n        error:\n          type: \"string\"\n        monitoring_url:\n          type: \"string\"\n          readOnly: true\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n          readOnly: true\n        updated_at:\n          type: \"string\"\n          format: \"date-time\"\n          readOnly: true\n\n    EnsemblerConfig:\n      type: \"object\"\n      required:\n        - version\n        - kind\n        - spec\n      properties:\n        version:\n          type: string\n        kind:\n          $ref: \"#/components/schemas/EnsemblerConfigKind\"\n        metadata:\n          $ref: \"#/components/schemas/EnsemblingJobMeta\"\n        spec:\n          $ref: \"#/components/schemas/EnsemblingJobSpec\"\n\n    EnsemblerConfigKind:\n      type: \"string\"\n      enum:\n        - BatchEnsemblingJob\n\n    EnsemblingJobMeta:\n      description: Ensembling job Metadata\n      required:\n        - name\n      properties:\n        name:\n          type: \"string\"\n        annotations:\n          type: \"object\"\n          nullable: true\n          additionalProperties:\n            type: \"string\"\n\n    EnsemblingJobSpec:\n      description: Ensembling job Specification\n      required:\n        - source\n        - predictions\n        - ensembler\n        - sink\n      properties:\n        source:\n          $ref: \"#/components/schemas/EnsemblingJobSource\"\n        predictions:\n          type: \"object\"\n          additionalProperties:\n            $ref: \"#/components/schemas/EnsemblingJobPredictionSource\"\n        ensembler:\n          $ref: \"#/components/schemas/EnsemblingJobEnsemblerSpec\"\n        sink:\n          $ref: \"#/components/schemas/EnsemblingJobSink\"\n\n    EnsemblingJobSource:\n      type: \"object\"\n      required:\n        - dataset\n        - join_on\n      properties:\n        dataset:\n          $ref: \"#/components/schemas/Dataset\"\n        join_on:\n          type: \"array\"\n          items:\n            type: \"string\"\n\n    DatasetType: &DatasetType\n      type: \"string\"\n      enum:\n        - \"BQ\"\n\n    Dataset:\n      type: \"object\"\n      oneOf:\n        - $ref: \"#/components/schemas/BigQueryDataset\"\n      discriminator:\n        propertyName: \"type\"\n        mapping:\n          BQ: \"#/components/schemas/BigQueryDataset\"\n\n    GenericDataset:\n      type: \"object\"\n      required:\n        - \"type\"\n      properties:\n        type:\n          <<: *DatasetType\n\n    BigQueryDataset:\n      allOf:\n        - $ref: \"#/components/schemas/GenericDataset\"\n        - type: object\n          required:\n            - bq_config\n          properties:\n            type:\n              <<: *DatasetType\n              default: \"BQ\"\n            bq_config:\n              $ref: \"#/components/schemas/BigQueryDatasetConfig\"\n\n    BigQueryDatasetConfig:\n      properties:\n        table:\n          type: \"string\"\n          pattern: '^([a-z][a-z0-9-]+\\.\\w+([_]?\\w)+\\.\\w+([_]?\\w)+)?$'\n        features:\n          type: \"array\"\n          nullable: true\n          items:\n            type: \"string\"\n        query:\n          type: \"string\"\n        options:\n          type: \"object\"\n          nullable: true\n          additionalProperties:\n            type: \"string\"\n\n    EnsemblingJobPredictionSource:\n      type: \"object\"\n      allOf:\n        - $ref: \"#/components/schemas/EnsemblingJobSource\"\n        - type: \"object\"\n          properties:\n            columns:\n              type: \"array\"\n              nullable: true\n              items:\n                type: \"string\"\n\n    EnsemblingJobEnsemblerSpecResult:\n      type: \"object\"\n      required:\n        - column_name\n        - type\n      properties:\n        type:\n          $ref: \"#/components/schemas/EnsemblingJobResultType\"\n        item_type:\n          $ref: \"#/components/schemas/EnsemblingJobResultType\"\n        column_name:\n          type: \"string\"\n\n    EnsemblingJobEnsemblerSpec:\n      type: \"object\"\n      required:\n        - uri\n        - result\n      properties:\n        uri:\n          type: \"string\"\n          format: \"uri\"\n          default: \"\"\n        result:\n          $ref: \"#/components/schemas/EnsemblingJobEnsemblerSpecResult\"\n\n    EnsemblingJobResultType:\n      type: \"string\"\n      enum:\n        - DOUBLE\n        - FLOAT\n        - INTEGER\n        - LONG\n        - STRING\n        - ARRAY\n\n    SinkType: &SinkType\n      type: \"string\"\n      enum:\n        - CONSOLE\n        - BQ\n\n    EnsemblingJobSink:\n      type: \"object\"\n      oneOf:\n        - $ref: \"#/components/schemas/BigQuerySink\"\n      discriminator:\n        propertyName: \"type\"\n        mapping:\n          BQ: \"#/components/schemas/BigQuerySink\"\n\n    GenericSink:\n      type: \"object\"\n      required:\n        - type\n        - save_mode\n      properties:\n        type:\n          <<: *SinkType\n        columns:\n          type: \"array\"\n          nullable: true\n          items:\n            type: \"string\"\n        save_mode:\n          $ref: \"#/components/schemas/SaveMode\"\n\n    BigQuerySink:\n      allOf:\n        - $ref: \"#/components/schemas/GenericSink\"\n        - type: object\n          required:\n            - bq_config\n          properties:\n            type:\n              <<: *SinkType\n              default: \"BQ\"\n            bq_config:\n              $ref: \"#/components/schemas/BigQuerySinkConfig\"\n\n    BigQuerySinkConfig:\n      type: \"object\"\n      required:\n        - table\n        - staging_bucket\n      properties:\n        table:\n          type: string\n        staging_bucket:\n          type: string\n        options:\n          type: object\n          nullable: true\n          additionalProperties:\n            type: string\n\n    SaveMode:\n      type: \"string\"\n      enum:\n        - ERRORIFEXISTS\n        - OVERWRITE\n        - APPEND\n        - IGNORE\n\n    EnsemblerInfraConfig:\n      type: \"object\"\n      properties:\n        artifact_uri:\n          type: string\n        ensembler_name:\n          type: string\n        service_account_name:\n          type: string\n          x-go-custom-tag: validate:\"required\"\n        resources:\n          $ref: \"#/components/schemas/EnsemblingResources\"\n        run_id:\n          type: string\n          readOnly: true\n        env:\n          type: array\n          items:\n            $ref: \"common.yaml#/components/schemas/EnvVar\"\n\n    EnsemblingResources:\n      type: \"object\"\n      nullable: true\n      properties:\n        driver_cpu_request:\n          type: string\n        driver_memory_request:\n          type: string\n        executor_replica:\n          type: integer\n        executor_cpu_request:\n          type: string\n        executor_memory_request:\n          type: string\n\n    EnsemblerJobStatus:\n      type: \"string\"\n      enum:\n        - pending\n        - building\n        - running\n        - terminating\n        - terminated\n        - completed\n        - failed\n        - failed_submission\n        - failed_building\n\n    EnsemblingJobPaginatedResults:\n      allOf:\n        - type: object\n          properties:\n            paging:\n              $ref: \"common.yaml#/components/schemas/pagination.Paging\"\n        - type: object\n          properties:\n            results:\n              type: array\n              items:\n                $ref: \"#/components/schemas/EnsemblingJob\"\n",
			"canonicalURL": "/github.com/gojek/turing@1af7d9a5519ec6632f1150e53132bd1bb8d62084/-/blob/api/api/specs/jobs.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/gojek/turing/blob/1af7d9a5519ec6632f1150e53132bd1bb8d62084/api/api/specs/jobs.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:84: schemas: \"EnsemblerInfraConfig\": parse schema: property \"env\": at 1:1863: parse schema: item: at 1:1872: parse schema: resolve \"common.yaml#/components/schemas/EnvVar\": external \"common.yaml\": file: local file reference is not allowed"
}