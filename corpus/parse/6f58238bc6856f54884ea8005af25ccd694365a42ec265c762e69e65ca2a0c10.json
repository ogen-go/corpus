{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/gojek/turing"
		},
		"file": {
			"name": "experiment-engines.yaml",
			"size": 0,
			"path": "api/api/specs/experiment-engines.yaml",
			"byteSize": 8371,
			"content": "openapi: 3.0.3\ninfo:\n  title: Endpoints and schemas of Turing Experiment Engines\n  version: 0.0.1\n\n.tags: \u0026tags\n  - \"Experiments\"\n\npaths:\n  \"/experiment-engines\":\n    get:\n      tags: *tags\n      summary: \"List the available experiment engines\"\n      responses:\n        200:\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/ExperimentEngine\"\n        500:\n          description: \"Error querying experiment engines\"\n\n  \"/experiment-engines/{engine}/clients\":\n    get:\n      tags: *tags\n      summary: \"List the clients configured on the given experiment engine\"\n      parameters:\n        - in: \"path\"\n          name: \"engine\"\n          description: \"name of the experiment engine\"\n          schema:\n            type: \"string\"\n          required: true\n      responses:\n        200:\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/ExperimentClient\"\n        400:\n          description: \"Invalid engine name\"\n        500:\n          description: \"Error querying experiment engine clients\"\n\n  \"/experiment-engines/{engine}/experiments\":\n    get:\n      tags: *tags\n      summary: \"List the experiments configured on the given experiment engine\"\n      parameters:\n        - in: \"path\"\n          name: \"engine\"\n          description: \"name of the experiment engine\"\n          schema:\n            type: \"string\"\n          required: true\n        - in: \"query\"\n          name: \"client_id\"\n          description: \"internal (unique) id of the client to filter experiments by\"\n          schema:\n            type: \"string\"\n      responses:\n        200:\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/Experiment\"\n        400:\n          description: \"Invalid engine name\"\n        500:\n          description: \"Error querying experiments for the given experiment engine\"\n\n  \"/experiment-engines/{engine}/variables\":\n    get:\n      tags: *tags\n      summary: \"List the variables configured for the given client and/or experiment(s)\"\n      parameters:\n        - in: \"path\"\n          name: \"engine\"\n          description: \"name of the experiment engine\"\n          schema:\n            type: \"string\"\n          required: true\n        - in: \"query\"\n          name: \"client_id\"\n          description: \"internal (unique) id of the client.\"\n          schema:\n            type: \"string\"\n        - in: \"query\"\n          name: \"experiment_id\"\n          description: \"comma-separated internal (unique) ids of the experiments.\"\n          schema:\n            type: \"string\"\n      responses:\n        200:\n          description: \"OK\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ExperimentVariables\"\n        400:\n          description: \"Invalid engine name, client_id or experiment_id(s)\"\n        500:\n          description: \"Error querying variables for the given client / experiment(s)\"\n\ncomponents:\n  schemas:\n    ExperimentEngine:\n      type: object\n      oneOf:\n        - $ref: \"#/components/schemas/StandardExperimentEngine\"\n        - $ref: \"#/components/schemas/CustomExperimentEngine\"\n      discriminator:\n        propertyName: type\n        mapping:\n          standard: \"#/components/schemas/StandardExperimentEngine\"\n          custom: \"#/components/schemas/CustomExperimentEngine\"\n\n    GenericExperimentEngine:\n      type: \"object\"\n      required:\n        - name\n        - type\n      properties:\n        name:\n          type: \"string\"\n        display_name:\n          type: \"string\"\n          description: \"Optional display name to be used in the UI\"\n        type:\n          $ref: \"#/components/schemas/ExperimentManagerType\"\n\n    StandardExperimentEngine:\n      allOf:\n        - $ref: '#/components/schemas/GenericExperimentEngine'\n        - type: \"object\"\n          properties:\n            standard_experiment_manager_config:\n              type: \"object\"\n              nullable: true\n              properties:\n                client_selection_enabled:\n                  type: \"boolean\"\n                experiment_selection_enabled:\n                  type: \"boolean\"\n\n    CustomExperimentEngine:\n      allOf:\n        - $ref: '#/components/schemas/GenericExperimentEngine'\n        - type: \"object\"\n          properties:\n            custom_experiment_manager_config:\n              type: \"object\"\n              nullable: true\n              properties:\n                remote_ui:\n                  type: \"object\"\n                  properties:\n                    name:\n                      type: \"string\"\n                    url:\n                      type: \"string\"\n                experiment_config_schema:\n                  type: \"string\"\n\n    ExperimentClient:\n      type: \"object\"\n      required:\n        - id\n        - username\n      properties:\n        id:\n          type: \"string\"\n        username:\n          type: \"string\"\n        passkey:\n          type: \"string\"\n\n    Experiment:\n      type: \"object\"\n      required:\n        - id\n        - name\n        - client_id\n      properties:\n        id:\n          type: \"string\"\n        name:\n          type: \"string\"\n        client_id:\n          type: \"string\"\n        variants:\n          type: \"array\"\n          description: \"List of variants in the experiment\"\n          items:\n            type: \"object\"\n            properties:\n              name:\n                type: \"string\"\n                example: control\n\n    ExperimentVariable:\n      type: \"object\"\n      properties:\n        name:\n          type: \"string\"\n        required:\n          type: \"boolean\"\n        type:\n          type: \"string\"\n          enum:\n            - \"unsupported\"\n            - \"unit\"\n            - \"filter\"\n\n    ExperimentVariableConfig:\n      type: \"object\"\n      properties:\n        name:\n          type: \"string\"\n        required:\n          type: \"boolean\"\n        field:\n          type: \"string\"\n        field_source:\n          $ref: \"common.yaml#/components/schemas/FieldSource\"\n\n    ExperimentVariables:\n      type: \"object\"\n      properties:\n        client_variables:\n          description: \"list of variables defined for the client\"\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/ExperimentVariable\"\n        experiment_variables:\n          description: \"map of experiment id to its variables\"\n          type: \"object\"\n          properties:\n            default:\n              type: \"array\"\n              items:\n                $ref: \"#/components/schemas/ExperimentVariable\"\n          additionalProperties:\n            type: \"array\"\n            items:\n              $ref: \"#/components/schemas/ExperimentVariable\"\n        config:\n          type: array\n          items:\n            $ref: \"#/components/schemas/ExperimentVariableConfig\"\n\n    ExperimentConfigRequest:\n      type: \"object\"\n      properties:\n        client:\n          $ref: \"#/components/schemas/ExperimentClient\"\n        experiments:\n          type: array\n          items:\n            $ref: \"#/components/schemas/Experiment\"\n        variables:\n          $ref: \"#/components/schemas/ExperimentVariables\"\n\n    StandardExperimentConfig:\n      type: \"object\"\n      properties:\n        client:\n          $ref: \"#/components/schemas/ExperimentClient\"\n        experiments:\n          type: array\n          items:\n            $ref: \"#/components/schemas/Experiment\"\n        variables:\n          $ref: \"#/components/schemas/ExperimentVariables\"\n\n    CustomExperimentConfig:\n      type: \"object\"\n      not:\n        $ref: \"#/components/schemas/StandardExperimentConfig\"\n\n    ExperimentConfig:\n      type: \"object\"\n      required:\n        - type\n      properties:\n        type:\n          $ref: \"#/components/schemas/ExperimentEngineType\"\n        config:\n          type: \"object\"\n      additionalProperties:\n        type: \"object\"\n        readOnly: true\n        nullable: true\n\n    # Enums\n    ExperimentEngineType:\n      type: \"string\"\n      default: \"nop\"\n\n    ExperimentManagerType:\n      type: \"string\"\n      enum:\n        - \"standard\"\n        - \"custom\"\n"
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"StandardExperimentConfig\": parse schema: property \"variables\": parse schema: resolve \"#/components/schemas/ExperimentVariables\": parse schema: property \"config\": parse schema: item: parse schema: resolve \"#/components/schemas/ExperimentVariableConfig\": parse schema: property \"field_source\": parse schema: resolve \"common.yaml#/components/schemas/FieldSource\": external \"common.yaml\": file: local file reference is not allowed"
}