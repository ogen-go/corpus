{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/oxidecomputer/third-party-api-clients"
		},
		"file": {
			"name": "tripactions.yaml",
			"size": 0,
			"path": "specs/tripactions/tripactions.yaml",
			"byteSize": 11728,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: \"1\"\n  title: Booking Data API\n  description: \u003cp\u003eWelcome to the TripActions Booking Data API reference documentation.\u003c/p\u003e\n    \u003cp\u003eYou can use this API to retrieve your booking data from TripActions.\u003c/p\u003e\n    \u003cp\u003eTo access the API, your company admin needs to supply you with a client id and a secret key. They can generate this in the TripActions Admin Dashboard, in the Integrations section of the Settings page.\u003cp\u003e\n    \u003c/br\u003e\n\n    \u003cp\u003eTo generate a token make a request to the token API with your credentials:\u003c/p\u003e\n    \u003ccode\u003e\n    curl --request POST --url 'https://api.tripactions.com/ta-auth/oauth/token' \\\u003c/br\u003e\n    --header 'content-type:application/x-www-form-urlencoded' \\\u003c/br\u003e\n    --data grant_type=client_credentials \\\u003c/br\u003e\n    --data client_id=YOURCLIENTIDHERE \\\u003c/br\u003e\n    --data client_secret=YOURSECRETHERE\n    \u003c/code\u003e\n\n    \u003cp\u003eOnce the token was generated you can call the Booking Data API:\u003c/p\u003e\n    \u003ccode\u003e\n    curl --request GET --url https://api.tripactions.com/v1/bookings\\?createdFrom\\=1609459200\\\u0026createdTo\\=1623229202\\\u0026page\\=0\\\u0026size\\=10 --header 'Authorization:Bearer YOURTOKENHERE'\n    \u003c/code\u003e\npaths:\n  /v1/bookings:\n    get:\n      tags:\n        - Booking Data\n      summary: Your company's bookings\n      security:\n        - OAuth2: []\n      description: 'Return booking rows filtered by the parameters you select.'\n      operationId: getBookingReport\n      parameters:\n        - in: query\n          name: createdFrom\n          schema:\n            type: long\n          required: true\n          description: Filter based on booking created date in epoch seconds\n        - in: query\n          name: createdTo\n          schema:\n            type: long\n          required: true\n          description: Filter based on booking created date in epoch seconds\n        - in: query\n          name: startDateFrom\n          schema:\n            type: long\n          required: false\n          description: Filter based on travel start date in epoch seconds\n        - in: query\n          name: startDateTo\n          schema:\n            type: long\n          required: false\n          description: Filter based on travel end date in epoch seconds\n        - in: query\n          name: bookingStatus\n          schema:\n            $ref: '#/components/schemas/BookingStatus'\n          required: false\n          description: Filter based on booking status\n        - in: query\n          name: page\n          schema:\n            type: integer\n            default: 0\n            minimum: 0\n          description: Page cursor for use in pagination\n        - in: query\n          name: size\n          schema:\n            type: integer\n            default: 10\n            minimum: 1\n            maximum: 100\n          description: Number of records returned per page\n        - in: query\n          name: bookingType\n          schema:\n            $ref: '#/components/schemas/BookingType'\n          required: false\n          description: Filter based on Booking type\n          example: HOTEL, FLIGHT, CAR, RAIL, TRANSPORTATION, BLACK_CAR\n      responses:\n        '200':\n          description: 'Successful operation'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/BookingReportResponse'\n        '400':\n          description: Bad Request\ncomponents:\n  securitySchemes:\n    OAuth2:\n      type: oauth2\n      flows:\n        clientCredentials:\n          tokenUrl: https://app.tripactions.com/ta-auth/oauth/token\n          scopes:\n            bookings:read: Grants read access\n  schemas:\n    TravelerType:\n      type: string\n      enum:\n        - PASSENGER\n        - GUEST\n    BookingStatus:\n      type: string\n      enum:\n        - CANCELED\n        - VOIDED\n        - CONFIRMED\n        - TICKETED\n        - ACCEPTED\n    BookingType:\n      type: string\n      enum:\n        - HOTEL\n        - FLIGHT\n        - CAR\n        - RAIL\n        - TRANSPORTATION\n        - BLACK_CAR\n    PaymentSchedule:\n      type: string\n      enum:\n        - NOW\n        - LATER\n        - PARTIAL\n        - UNKNOWN\n    PassengerStatus:\n      type: string\n      enum:\n        - ENABLED\n        - DISABLED\n    Location:\n      properties:\n        country:\n          type: string\n        state:\n          type: string\n        city:\n          type: string\n        airportCode:\n          type: string\n          description: 'Nearest airport code to this location'\n    Segment:\n      properties:\n        startTimestamp:\n          type: long\n        endTimestamp:\n          type: long\n        departure:\n          $ref: '#/components/schemas/Location'\n        arrival:\n          $ref: '#/components/schemas/Location'\n        providerCode:\n          type: string\n        providerName:\n          type: string\n        flightNumber:\n          type: string\n        airlineAlliance:\n          type: string\n        hotelChain:\n          type: string\n    Person:\n      properties:\n        uuid:\n          type: string\n        name:\n          type: string\n        email:\n          type: string\n        employeedId:\n          type: string\n        managerUuid:\n          type: string\n        managerName:\n          type: string\n        managerEmail:\n          type: string\n        department:\n          type: string\n        costCenter:\n          type: string\n        region:\n          type: string\n        subsidiary:\n          type: string\n        billableEntity:\n          type: string\n    Passenger:\n      properties:\n        travelerType:\n          $ref: '#/components/schemas/TravelerType'\n        status:\n          $ref: '#/components/schemas/PassengerStatus'\n        person:\n          $ref: '#/components/schemas/Person'\n    Property:\n      properties:\n        name:\n          type: string\n        value:\n          type: string\n    BookingReportResponse:\n      properties:\n        data:\n          type: array\n          items:\n            $ref: '#/components/schemas/BookingReport'\n        page:\n          $ref: '#/components/schemas/Page'\n    Page:\n      properties:\n        totalPages:\n          type: integer\n          example: 2\n        currentPage:\n          type: integer\n          example: 1\n        pageSize:\n          type: integer\n          example: 10\n        totalElements:\n          type: integer\n          example: 20\n    Cnr:\n      properties:\n        publishedPrice:\n          type: number\n          example: 110\n        cnrCodes:\n          type: array\n          items:\n            type: string\n    BookingReport:\n      properties:\n        uuid:\n          type: string\n        created:\n          type: string\n          format: date-time\n          description: \"Time at which the object was created.\"\n          example: \"2021-02-03T11:25:30.00Z\"\n        lastModified:\n          type: string\n          format: date-time\n          description: \"Time at which the object was last modified.\"\n          example: \"2021-02-03T11:25:30.00Z\"\n        pcc:\n          type: string\n        bookingType:\n          $ref: '#/components/schemas/BookingType'\n        flight:\n          type: string\n        bookingId:\n          type: string\n          description: \"Booking PNR.\"\n        vendor:\n          type: string\n        preferredVendor:\n          type: string\n        corporateDiscountUsed:\n          type: string\n        cabin:\n          type: string\n        bookingStatus:\n          type: string\n        cancelledAt:\n          type: string\n          format: date-time\n          description: \"Time at which the booking was cancelled.\"\n          example: \"2021-02-03T11:25:30.00Z\"\n        cancellationReason:\n          type: string\n        leadTimeInDays:\n          type: integer\n        startDate:\n          type: string\n          format: date\n          description: \"Local date when the booking starts, e.g. checkin date for hotel, date of depart for flight\"\n        endDate:\n          type: string\n          format: date\n        bookingDuration:\n          type: integer\n          description: \"Duration in days\"\n        passengers:\n          type: array\n          items:\n            $ref: '#/components/schemas/Passenger'\n        segments:\n          type: array\n          items:\n            $ref: '#/components/schemas/Segment'\n        booker:\n          $ref: '#/components/schemas/Person'\n        tripUuids:\n          type: array\n          items:\n            type: string\n        currency:\n          type: string\n        currencyExhangeRateFromUsd:\n          type: number\n        optimalPrice:\n          type: number\n        paymentSchedule:\n          $ref: '#/components/schemas/PaymentSchedule'\n        basePrice:\n          type: number\n        unitaryPrice:\n          type: number\n        saving:\n          type: number\n        savingMissed:\n          type: number\n        tax:\n          type: number\n        resortFee:\n          type: number\n        tripFee:\n          type: number\n        bookingFee:\n          type: number\n        vipFee:\n          type: number\n        seatsFee:\n          type: number\n        extrasFees:\n          type: number\n        airlineCreditCardSurcharge:\n          type: number\n        grandTotal:\n          type: number\n        usdGrandTotal:\n          type: number\n        vat:\n          type: number\n        exchangeAmount:\n          type: number\n        exchangeFee:\n          type: number\n        netCharge:\n          type: number\n        gst:\n          type: number\n        hst:\n          type: number\n        qst:\n          type: number\n        travelSpend:\n          type: number\n        paymentMethod:\n          type: string\n        nameOnCreditCard:\n          type: string\n        paymentMethodUsed:\n          type: string\n        paymentCreditCardTypeName:\n          type: string\n        companyPaymentMethod:\n          type: string\n        statementDescription:\n          type: string\n        expensed:\n          type: boolean\n        bookingMethod:\n          type: string\n        outOfPolicy:\n          type: boolean\n        outOfPolicyDescription:\n          type: string\n        outOfPolicyViolations:\n          type: string\n        outOfPolicyViolationTypes:\n          type: array\n          items:\n            type: string\n        tripBucksEarned:\n          type: number\n        tripBucksEarnedUsd:\n          type: number\n        origin:\n          $ref: '#/components/schemas/Location'\n        destination:\n          $ref: '#/components/schemas/Location'\n        tripLength:\n          type: string\n        tripDescription:\n          type: string\n        approverReason:\n          type: string\n        approverEmail:\n          type: string\n        approvalChangedAt:\n          type: instant\n          example: \"2021-02-03T11:25:30.00Z\"\n        etickets:\n          type: array\n          items:\n            type: string\n        invoice:\n          type: string\n        pdf:\n          type: string\n        inventory:\n          type: string\n        flightMiles:\n          type: double\n          example: 60\n        trainMiles:\n          type: double\n          example: 35\n        carbonEmissions:\n          type: double\n          example: 87\n        carbonOffsetCost:\n          type: double\n          example: 13.67\n        fareClass:\n          type: string\n        purpose:\n          type: string\n        companyOffice:\n            type: string\n        tripName:\n          type: string\n        projects:\n          type: string\n        billToClient:\n          type: string\n        reason:\n          type: string\n        cnr:\n          $ref: '#/components/schemas/Cnr'\n        confirmationNumber:\n          description: Carrier id/Airline confirmation number\n        seats:\n          type: array\n          items:\n            type: string\n        customFields:\n          type: array\n          items:\n            $ref: '#/components/schemas/Property'\n",
			"canonicalURL": "/github.com/oxidecomputer/third-party-api-clients@41bf2874e274e806723ab6ff57a8db9116f25ce2/-/blob/specs/tripactions/tripactions.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/oxidecomputer/third-party-api-clients/blob/41bf2874e274e806723ab6ff57a8db9116f25ce2/specs/tripactions/tripactions.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"BookingReportResponse\": parse schema: property \"data\": parse schema: item: parse schema: resolve \"#/components/schemas/BookingReport\": parse schema: property \"approvalChangedAt\": parse schema: unexpected schema type: \"instant\""
}