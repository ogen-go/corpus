{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/folio-org/mod-search"
		},
		"file": {
			"name": "mod-search.yaml",
			"size": 0,
			"path": "src/main/resources/swagger.api/mod-search.yaml",
			"byteSize": 21790,
			"content": "openapi: 3.0.0\ninfo:\n  title: Search API\n  version: v1\n  description: Search API\n\nservers:\n  - url: https://falcon.ci.folio.org/search/\n\npaths:\n  /instances:\n    get:\n      operationId: searchInstances\n      description: Get a list of instances for CQL query\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/limit-param'\n        - $ref: '#/components/parameters/offset-param'\n        - $ref: '#/components/parameters/expand-all-param'\n      responses:\n        '200':\n          description: 'Instance search result'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/instanceSearchResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /instances/ids:\n    get:\n      operationId: getInstanceIds\n      description: Get a list of instance ids for CQL query\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/content-type-header'\n      responses:\n        '200':\n          description: 'Instance ids as json stream'\n          content:\n            application/json:\n              example: examples/InstanceIdsResult.sample\n            application/text:\n              example: examples/IdsTextResult.sample\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /holdings/ids:\n    get:\n      operationId: getHoldingIds\n      description: Get a list of holding ids linked to instances found by the CQL query\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/content-type-header'\n      responses:\n        '200':\n          description: 'Instance ids as json stream'\n          content:\n            application/json:\n              example: examples/HoldingIdsResult.sample\n            application/text:\n              example: examples/IdsTextResult.sample\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /{recordType}/facets:\n    get:\n      operationId: getFacets\n      description: Provides list of facets for the record type\n      parameters:\n        - name: recordType\n          required: true\n          in: path\n          schema:\n            \"$ref\": \"#/components/schemas/RecordType\"\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/facet-param'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n      responses:\n        '200':\n          description: 'Facet search result'\n          content:\n            application/json:\n              example: examples/facetResult.sample\n              schema:\n                $ref: '#/components/schemas/facetResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /authorities:\n    get:\n      operationId: searchAuthorities\n      description: Get a list of authorities for CQL query\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/limit-param'\n        - $ref: '#/components/parameters/offset-param'\n        - $ref: '#/components/parameters/expand-all-param'\n      responses:\n        '200':\n          description: 'Authorities search result'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/authoritySearchResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /resources/jobs/{jobId}:\n    get:\n      operationId: getIdsJob\n      description: Get a job for the stream of resource ids.\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/job-stream-id'\n      responses:\n        '200':\n          description: 'Job for the stream of resource ids'\n          content:\n            application/json:\n              example: examples/streamIdsJobResponse.sample\n              schema:\n                $ref: schemas/resourceIdsJob.json\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /resources/jobs:\n    post:\n      operationId: submitIdsJob\n      description: Creates a job for the stream of resource ids.\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n      requestBody:\n        content:\n          application/json:\n            example: examples/streamIdsJobRequest.sample\n            schema:\n              $ref: schemas/resourceIdsJob.json\n      responses:\n        '200':\n          description: 'Job for the stream of resource ids'\n          content:\n            application/json:\n              example: examples/streamIdsJobResponse.sample\n              schema:\n                $ref: schemas/resourceIdsJob.json\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /resources/ids/{jobId}:\n    get:\n      operationId: getResourceIds\n      description: Get a list of resource ids by job id\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/job-stream-id'\n      responses:\n        '200':\n          description: 'Resources ids as a json stream'\n          content:\n            application/json:\n              example: examples/AuthorityIdsResult.sample\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /browse/call-numbers/instances:\n    get:\n      operationId: browseInstancesByCallNumber\n      description: Provides list of instances for browsing by call number\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/browse-limit-param'\n        - $ref: '#/components/parameters/expand-all-param'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/highlight-match'\n        - $ref: '#/components/parameters/preceding-records-count'\n      responses:\n        '200':\n          description: 'Search result for browsing by call number'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/callNumberBrowseResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /browse/subjects/instances:\n    get:\n      operationId: browseInstancesBySubject\n      description: Provides list of instances for browsing by subject\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/limit-param'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/highlight-match'\n        - $ref: '#/components/parameters/preceding-records-count'\n      responses:\n        '200':\n          description: 'Search result for browsing by call number'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/subjectBrowseResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /browse/contributors/instances:\n    get:\n      operationId: browseInstancesByContributor\n      description: Provides list of instances for browsing by contributor\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/limit-param'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/highlight-match'\n        - $ref: '#/components/parameters/preceding-records-count'\n      responses:\n        '200':\n          description: 'Search result for browsing by contributor'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/contributorBrowseResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /browse/authorities:\n    get:\n      operationId: browseAuthorities\n      description: Provides list of authorities by headingRef\n      parameters:\n        - $ref: '#/components/parameters/cql-query'\n        - $ref: '#/components/parameters/limit-param'\n        - $ref: '#/components/parameters/expand-all-param'\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n        - $ref: '#/components/parameters/highlight-match'\n        - $ref: '#/components/parameters/preceding-records-count'\n      responses:\n        '200':\n          description: 'Search result for browsing by authorities'\n          content:\n            application/json:\n              example: examples/searchResult.sample\n              schema:\n                $ref: '#/components/schemas/authorityBrowseResult'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /index/indices:\n    post:\n      operationId: createIndices\n      description: Creates indices for passed resource name and tenant id in request header.\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n      requestBody:\n        content:\n          application/json:\n            example: examples/indexRequestBody.sample\n            schema:\n              $ref: schemas/request/createIndexRequest.json\n      responses:\n        '200':\n          description: Response with created indices and status (error message will be present if operation failed)\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/folioCreateIndexResponse'\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /index/mappings:\n    post:\n      operationId: updateMappings\n      description: Creates mappings for passed resource name and tenant id in request header.\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: schemas/request/updateMappingsRequest.json\n      responses:\n        '200':\n          description: Response with created indices and status (error message will be present if operation failed)\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/folioIndexOperationResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /index/records:\n    post:\n      operationId: indexRecords\n      description: Indexes the records into elasticsearch.\n      requestBody:\n        content:\n          application/json:\n            example: examples/indexRecordRequestBody.sample\n            schema:\n              $ref: '#/components/schemas/indexRecordRequest'\n      responses:\n        '200':\n          description: Response with created indices and status (error message will be present if operation failed)\n          content:\n            application/json:\n              example: examples/indexRecordResponse.sample\n              schema:\n                $ref: '#/components/schemas/folioIndexOperationResponse'\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /index/inventory/reindex:\n    post:\n      operationId: reindexInventoryRecords\n      description: Initiates reindex for the inventory records\n      requestBody:\n        content:\n          application/json:\n            example: examples/reindexRequest.sample\n            schema:\n              $ref: schemas/request/reindexRequest.json\n      parameters:\n        - $ref: '#/components/parameters/x-okapi-tenant-header'\n      responses:\n        '200':\n          description: Reindex operation has been started\n          content:\n            application/json:\n              schema:\n                $ref: schemas/reindexJob.json\n        '500':\n          $ref: '#/components/responses/internalServerErrorResponse'\n\n  /config/languages:\n    post:\n      operationId: createLanguageConfig\n      description: Save languages that will be used for analyzers\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: schemas/languageConfig.json\n      responses:\n        '200':\n          description: Language support has been added.\n          content:\n            application/json:\n              schema:\n                $ref: schemas/languageConfig.json\n        '422':\n          $ref: '#/components/responses/unprocessableEntityResponse'\n    get:\n      operationId: getAllLanguageConfigs\n      description: Get all supported languages\n      responses:\n        '200':\n          description: All supported languages\n          content:\n            application/json:\n              schema:\n                $ref: schemas/languageConfigs.json\n\n  /config/languages/{code}:\n    put:\n      operationId: updateLanguageConfig\n      description: Update language config settings\n      parameters:\n        - $ref: '#/components/parameters/language-code'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: schemas/languageConfig.json\n      responses:\n        '200':\n          description: Language support has been added.\n          content:\n            application/json:\n              schema:\n                $ref: schemas/languageConfig.json\n        '422':\n          $ref: '#/components/responses/unprocessableEntityResponse'\n    delete:\n      operationId: deleteLanguageConfig\n      description: Delete all supported languages\n      parameters:\n        - $ref: '#/components/parameters/language-code'\n      responses:\n        '204':\n          description: Language support has been removed\n        '404':\n          description: No language support is found\n\n  /config/features:\n    post:\n      operationId: saveFeatureConfiguration\n      description: Save feature configuration (enables or disables pre-defined optional search options)\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: schemas/featureConfig.json\n      responses:\n        '200':\n          description: Language support has been added.\n          content:\n            application/json:\n              schema:\n                $ref: schemas/featureConfig.json\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '422':\n          $ref: '#/components/responses/unprocessableEntityResponse'\n    get:\n      operationId: getAllFeatures\n      description: Get all feature configurations per tenant\n      responses:\n        '200':\n          description: All feature configurations\n          content:\n            application/json:\n              schema:\n                $ref: schemas/featureConfigs.json\n\n  /config/features/{featureId}:\n    put:\n      operationId: updateFeatureConfiguration\n      description: Update feature configuration settings\n      parameters:\n        - $ref: '#/components/parameters/feature-id'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: schemas/featureConfig.json\n      responses:\n        '200':\n          description: Feature configuration has been added.\n          content:\n            application/json:\n              schema:\n                $ref: schemas/featureConfig.json\n        '400':\n          $ref: '#/components/responses/badRequestResponse'\n        '422':\n          $ref: '#/components/responses/unprocessableEntityResponse'\n    delete:\n      operationId: deleteFeatureConfigurationById\n      description: Delete feature configuration by id\n      parameters:\n        - $ref: '#/components/parameters/feature-id'\n      responses:\n        '204':\n          description: Feature configuration has been removed\n        '404':\n          description: No feature configuration is found by id\n\ncomponents:\n  schemas:\n    instance:\n      $ref: schemas/instance.json\n    item:\n      $ref: schemas/item.json\n    folioCreateIndexResponse:\n      $ref: schemas/folioCreateIndexResponse.json\n    folioIndexOperationResponse:\n      $ref: schemas/folioIndexOperationResponse.json\n    resourceEvent:\n      $ref: schemas/resourceEvent.json\n    indexRecordRequest:\n      type: array\n      items:\n        $ref: '#/components/schemas/resourceEvent'\n    instanceSearchResult:\n      $ref: schemas/response/instanceSearchResult.json\n    authoritySearchResult:\n      $ref: schemas/response/authoritySearchResult.json\n    callNumberBrowseResult:\n      $ref: schemas/response/callNumberBrowseResult.json\n    subjectBrowseResult:\n      $ref: schemas/response/subjectBrowseResult.json\n    contributorBrowseResult:\n      $ref: schemas/response/instanceContributorBrowseResult.json\n    authorityBrowseResult:\n      $ref: schemas/response/authorityBrowseResult.json\n    facetResult:\n      $ref: schemas/response/facetResult.json\n    resourceIds:\n      $ref: schemas/response/resourceIds.json\n    errorResponse:\n      $ref: schemas/errors.json\n    reindexRequest:\n      $ref: schemas/request/reindexRequest.json\n    RecordType:\n      enum: [ \"instances\", \"authorities\", \"contributors\" ]\n      type: string\n\n  responses:\n    unprocessableEntityResponse:\n      description: Validation error for the request.\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/errorResponse'\n    badRequestResponse:\n      description: Validation errors\n      content:\n        application/json:\n          example: examples/validationErrorResponse.sample\n          schema:\n            $ref: \"#/components/schemas/errorResponse\"\n    internalServerErrorResponse:\n      description: When unhandled exception occurred during code execution, e.g. NullPointerException\n      content:\n        application/json:\n          example: examples/unknownError.sample\n\n  parameters:\n    limit-param:\n      in: query\n      name: limit\n      description: Limit the number of elements returned in the response.\n      schema:\n        type: integer\n        minimum: 0\n        maximum: 500\n        default: 100\n    browse-limit-param:\n      in: query\n      name: limit\n      description: Limit the number of elements returned in the browse response.\n      schema:\n        type: integer\n        minimum: 0\n        maximum: 100\n        default: 100\n    offset-param:\n      in: query\n      name: offset\n      description: Skip over a number of elements by specifying an offset value for the query.\n      schema:\n        type: integer\n        minimum: 0\n        maximum: 9999\n        default: 0\n    cql-query:\n      name: query\n      in: query\n      required: true\n      description: A CQL query string with search conditions.\n      schema:\n        type: string\n    expand-all-param:\n      in: query\n      name: expandAll\n      description: Whether to return only basic properties or entire instance.\n      schema:\n        type: boolean\n        default: false\n    facet-param:\n      in: query\n      name: facet\n      description: List of facet names.\n      required: true\n      schema:\n        type: array\n        items:\n          type: string\n    language-code:\n      name: code\n      in: path\n      required: true\n      description: Language code\n      schema:\n        type: string\n        pattern: '[a-zA-Z]{3}'\n    feature-id:\n      name: featureId\n      in: path\n      required: true\n      description: Feature id (name)\n      schema:\n        type: string\n        enum:\n          - search.all.fields\n          - browse.cn.intermediate.values\n    x-okapi-tenant-header:\n      name: x-okapi-tenant\n      in: header\n      description: X-Okapi-Tenant header value\n      required: true\n      schema:\n        type: string\n    content-type-header:\n      name: Content-Type\n      in: header\n      description: Content-Type header value\n      required: false\n      schema:\n        type: string\n    preceding-records-count:\n      in: query\n      name: precedingRecordsCount\n      description: Number of preceding records for browsing around and around-including options\n      required: false\n      schema:\n        type: integer\n        minimum: 1\n        maximum: 100\n    highlight-match:\n      in: query\n      name: highlightMatch\n      description: Whether to highlight matched resource by query input or not.\n      required: false\n      schema:\n        type: boolean\n        default: true\n    job-stream-id:\n      in: path\n      name: jobId\n      description: UUID of the job to get\n      required: true\n      schema:\n        type: string\n"
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"callNumberBrowseResult\": parse schema: resolve \"schemas/response/callNumberBrowseResult.json\": external \"schemas/response/callNumberBrowseResult.json\": file: local file reference is not allowed"
}