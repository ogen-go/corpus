{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/devtron-labs/devtron"
		},
		"file": {
			"name": "kube-capacity.yaml",
			"size": 0,
			"path": "specs/kube-capacity.yaml",
			"byteSize": 9979,
			"content": "openapi: \"3.0.0\"\ninfo:\n  title: Kube capacity\n  version: \"1.0\"\npaths:\n  /orchestrator/k8s/capacity/cluster/list:\n    get:\n      description: get list of clusters\n      operationId: GetClusterList\n      responses:\n        '200':\n          description: Successfully return list of cluster\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/ClusterCapacityDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n  /orchestrator/k8s/capacity/cluster/{clusterId}:\n    get:\n      description: get cluster detail\n      operationId: GetClusterDetail\n      parameters:\n        - name: clusterId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return detail of cluster\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ClusterCapacityDetailDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n  /orchestrator/k8s/capacity/node/list:\n    get:\n      description: get node list\n      operationId: GetNodeList\n      parameters:\n        - name: clusterId\n          in: query\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return list of node\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/NodeCapacityDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n  /orchestrator/k8s/capacity/node:\n    get:\n      description: get node detail\n      operationId: GetNodeDetail\n      parameters:\n        - name: clusterId\n          in: query\n          required: true\n          schema:\n            type: integer\n        - name: name\n          in: query\n          required: true\n          schema:\n            type: string\n            description: name of node\n      responses:\n        '200':\n          description: Successfully return node detail\n          content:\n            application/json:\n              schema:\n                  $ref: '#/components/schemas/NodeCapacityDetailDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n    put:\n      description: update node manifest\n      operationId: UpdateNodeManifest\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/NodeManifestUpdateDto'\n      responses:\n        '200':\n          description: Successfully return updated node manifest\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/NodeManifestUpdateResponse'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\ncomponents:\n  schemas:\n    ClusterCapacityDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        nodeCount:\n          type: integer\n        nodeErrors:\n          type: array\n          items:\n            type: string\n        nodeK8sVersions:\n          type: array\n          items:\n            type: string\n        errorInNodeListing:\n          type: boolean\n        cpu:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        memory:\n          $ref: '#/components/schemas/ResourceDetailObject'\n    ClusterCapacityDetailDto:\n      type: object\n      properties:\n        cpu:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        memory:\n          $ref: '#/components/schemas/ResourceDetailObject'\n    NodeCapacityDto:\n      type: object\n      properties:\n        name:\n          type: string\n        status:\n          type: string\n        roles:\n          type: array\n          items:\n            type: string\n        errors:\n          type: array\n          items:\n            $ref: '#/components/schemas/NodeError'\n        k8sVersion:\n          type: string\n        podCount:\n          type: integer\n        taintCount:\n          type: integer\n        cpu:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        memory:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        age:\n          type: string\n        labels:\n          type: array\n          items:\n            $ref: '#/components/schemas/LabelTaintObject'\n    NodeCapacityDetailObject:\n      type: object\n      properties:\n        name:\n          type: string\n        roles:\n          type: array\n          items:\n            type: string\n        k8sVersion:\n          type: string\n        unschedulable:\n          type: boolean\n        createdAt:\n          type: string\n        internalIp:\n          type: string\n        externalIp:\n          type: string\n        resources:\n          type: array\n          items:\n            $ref: '#/components/schemas/ResourceDetailObject'\n        labels:\n          type: array\n          items:\n            $ref: '#/components/schemas/LabelTaintObject'\n        annotations:\n          type: array\n          items:\n            $ref: '#/components/schemas/LabelTaintObject'\n        taints:\n          type: array\n          items:\n            $ref: '#/components/schemas/LabelTaintObject'\n        conditions:\n          type: array\n          items:\n            $ref: '#/components/schemas/NodeConditionObject'\n        errors:\n          type: array\n          items:\n            $ref: '#/components/schemas/NodeError'\n        pods:\n          type: array\n          items:\n            $ref: '#/components/schemas/PodCapacityDto'\n        manifest:\n          type: string\n        version:\n          type: string\n        kind:\n          type: string\n    NodeError:\n      type: object\n      description: map of conditionType(key) and error(value)\n    PodCapacityDto:\n      type: object\n      properties:\n        name:\n          type: string\n        namespace:\n          type: string\n        cpu:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        memory:\n          $ref: '#/components/schemas/ResourceDetailObject'\n        age:\n          type: string\n    NodeManifestUpdateDto:\n      type: object\n      properties:\n        clusterId:\n          type: integer\n        name:\n          type: string\n        manifestPatch:\n          type: string\n        version:\n          type: string\n        kind:\n          type: string\n    NodeManifestUpdateResponse:\n      type: object\n      properties:\n        manifest:\n          type: string\n    ResourceDetailObject:\n      type: object\n      properties:\n        name:\n          type: string\n        capacity:\n          type: string\n        allocatable:\n          type: string\n        usage:\n          type: string\n        request:\n          type: string\n        limit:\n          type: string\n        usagePercentage:\n          type: string\n        requestPercentage:\n          type: string\n        limitPercentage:\n          type: string\n    LabelTaintObject:\n      type: object\n      properties:\n        key:\n          type: string\n        value:\n          type: string\n        effect:\n          type: string\n    NodeConditionObject:\n      type: object\n      properties:\n        type:\n          type: string\n        haveIssue:\n          type: boolean\n        reason:\n          type: string\n        message:\n          type: string\n",
			"canonicalURL": "/github.com/devtron-labs/devtron@b9b6f8bf114f7385c450c5c752cd83ccc16b85d0/-/blob/specs/kube-capacity.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/devtron-labs/devtron/blob/b9b6f8bf114f7385c450c5c752cd83ccc16b85d0/specs/kube-capacity.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/orchestrator/k8s/capacity/cluster/list\": get: operation \"GetClusterList\": responses: 403: content: application/json: schema: parse schema: at 1:3995: find schema: resolve: can't find value for \"components/schemas/Error\""
}