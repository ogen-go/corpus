{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/wso2/docs-is"
		},
		"file": {
			"name": "totp.yaml",
			"size": 0,
			"path": "en/docs/apis/restapis/totp.yaml",
			"byteSize": 6274,
			"content": "openapi: 3.0.1\ninfo:\n  title: WSO2 Identity Server - TOTP API Definition\n  description: |\n    This is the RESTful API for a user to manage his/her TOTP QR URLs/secrets in WSO2 Identity Server. Going forward this will be the API for user portal as well as external parties.\n  contact:\n    name: WSO2\n    url: http://wso2.com/products/identity-server/\n    email: architecture@wso2.com\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0.html\n  version: v1\nservers:\n- url: https://localhost:9443/t/{tenant-domain}/api/users/v1\nsecurity:\n- OAuth2: []\n- BasicAuth: []\ntags:\n- name: me\n  description: Operations for the authenticated user.\npaths:\n  /me/totp:\n    get:\n      tags:\n      - me\n      summary: Retrieve the QR Code URL of the authenticated user.\n      description: |\n        This API is used to retrieve the QR code URL of the authenticated user.\n\n\n        \u003cb\u003ePermission required:\u003c/b\u003e\n            * none\n        \u003cb\u003eScope required:\u003c/b\u003e\n            * internal_login\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TOTPResponse'\n        401:\n          description: Unauthorized\n          content: {}\n        403:\n          description: Resource Forbidden\n          content: {}\n        500:\n          description: Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n    post:\n      tags:\n      - me\n      summary: |\n        Refresh, validate the QR code URL\n      description: |\n        This API is used to perform following actions.\n        * \u003cb\u003eINIT\u003c/b\u003e- Generate TOTP QR code URL for the authenticated user\n        * \u003cb\u003eREFRESH\u003c/b\u003e - Refresh TOTP secret key of the authenticated user\n        * \u003cb\u003eVALIDATE\u003c/b\u003e - Validate the user entered verification code\n\n        \u003cb\u003ePermission required:\u003c/b\u003e\n            * none\n        \u003cb\u003eScope required:\u003c/b\u003e\n            * internal_login\n      requestBody:\n        description: Actions supported by the API. Actions can be INIT, VALIDATE or\n          REFRESH\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UserRequest'\n        required: true\n      responses:\n        200:\n          description: TOTP secret successfully refreshed\n          content: {}\n        201:\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TOTPResponse'\n        400:\n          description: Bad Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Unauthorized\n          content: {}\n        403:\n          description: Resource Forbidden\n          content: {}\n        409:\n          description: Conflict\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        500:\n          description: Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      x-codegen-request-body-name: request\n    delete:\n      tags:\n      - me\n      summary: Resets TOTP credentials of the authenticated user.\n      description: |\n        This API is used to delete the TOTP credentials of the authenticated user.\n\n        \u003cb\u003ePermission required:\u003c/b\u003e\u003cbr\u003e * none\u003cbr\u003e \u003cb\u003eScope required:\u003c/b\u003e\u003cbr\u003e * internal_login\n      responses:\n        200:\n          description: Credentials deleted successfully\n          content: {}\n        401:\n          description: Unauthorized\n          content: {}\n        403:\n          description: Resource Forbidden\n          content: {}\n        500:\n          description: Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n  /me/totp/secret:\n    get:\n      tags:\n      - me\n      summary: Retrieve the TOTP secret of the authenticated user.\n      description: |\n        This API is used to retrieve the TOTP secret of the authenticated user.\n\n        \u003cb\u003ePermission required:\u003c/b\u003e\u003cbr\u003e * none\u003cbr\u003e \u003cb\u003eScope required:\u003c/b\u003e\u003cbr\u003e * internal_login\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TOTPSecretResponse'\n        401:\n          description: Unauthorized\n          content: {}\n        403:\n          description: Resource Forbidden\n          content: {}\n        500:\n          description: Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\ncomponents:\n  schemas:\n    Error:\n      required:\n      - code\n      - message\n      type: object\n      properties:\n        code:\n          type: string\n          example: some_error_code\n        message:\n          type: string\n          example: Some Error Message\n        description:\n          type: string\n          example: Some Error Description\n        traceId:\n          type: string\n          example: Some Correlation for Error Instance\n    UserRequest:\n      required:\n      - action\n      type: object\n      properties:\n        action:\n          type: string\n          example: INIT, REFRESH, VALIDATE\n          enum:\n          - INIT\n          - REFRESH\n          - VALIDATE\n        verificationCode:\n          type: integer\n    TOTPResponse:\n      type: object\n      properties:\n        qrCodeUrl:\n          type: string\n          description: QR Code URL for the authenticated user\n        isValid:\n          type: boolean\n          description: Secret key of the authenticated user\n    TOTPSecretResponse:\n      type: object\n      properties:\n        secret:\n          type: string\n          description: Refreshed TOTP secret key of the authenticated user\n  securitySchemes:\n    BasicAuth:\n      type: http\n      scheme: basic\n    OAuth2:\n      type: oauth2\n      flows:\n        authorizationCode:\n          authorizationUrl: https://localhost:9443/oauth2/authorize\n          tokenUrl: https://localhost:9443/oauth2/token\n          scopes: {}\n",
			"canonicalURL": "/github.com/wso2/docs-is@0e310f5094151a87c47238ec3172ae9c0a5e7b1f/-/blob/en/docs/apis/restapis/totp.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/wso2/docs-is/blob/0e310f5094151a87c47238ec3172ae9c0a5e7b1f/en/docs/apis/restapis/totp.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse servers: at en/docs/apis/restapis/totp.yaml:15:8: path parameter not specified: \"tenant-domain\""
}