{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/bangumi/server"
		},
		"file": {
			"name": "private.yaml",
			"size": 0,
			"path": "openapi/private.yaml",
			"byteSize": 3825,
			"content": "openapi: 3.0.2\ninfo:\n  title: \"Bangumi Private API\"\n  version: \"\"\n  description: \"`next.bgm.tv` 域名不支持跨域，\"\nservers:\n  - url: https://next.bgm.tv\n    description: Production server\npaths:\n  \"/p/login\":\n    post:\n      tags:\n        - Auth\n      summary: 登录\n      operationId: login\n      description: |\n        `h-captcha-response` 是 [hCaptcha 的验证码](https://docs.hcaptcha.com/#add-the-hcaptcha-widget-to-your-webpage)\n\n        site key 是 `4874acee-9c6e-4e47-99ad-e2ea1606961f`\n      requestBody:\n        content:\n          application/json:\n            schema:\n              required:\n                - email\n                - password\n                - h-captcha-response\n              properties:\n                email:\n                  type: string\n                password:\n                  type: string\n                h-captcha-response:\n                  type: string\n      responses:\n        \"200\":\n          description: \"账号密码正确，设置 Cookies\"\n          headers:\n            Set-Cookie:\n              description: 设置 cookies session\n              schema:\n                type: string\n                example: sessionID=abcde12345; Path=/; HttpOnly\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/User\"\n\n        \"400\":\n          description: 请求错误或者验证码错误\n          content:\n            application/json:\n              example:\n                \"title\": \"Bad Request\"\n                \"details\":\n                  - \"Email为必填字段\"\n                  - \"Password为必填字段\"\n                  - \"HCaptchaResponse为必填字段\"\n                \"description\": \"can't validate request body\"\n              schema:\n                title: ErrorDetail\n                required:\n                  - title\n                  - description\n                  - detail\n                type: object\n                properties:\n                  title:\n                    title: Title\n                    type: string\n                  description:\n                    title: Description\n                    type: string\n                  detail:\n                    title: Detail\n                    type: array\n                    items:\n                      type: string\n\n        \"401\":\n          description: 账号或密码错误\n          content:\n            application/json:\n              schema:\n                title: ErrorDetail\n                required:\n                  - title\n                  - description\n                  - detail\n                type: object\n                properties:\n                  title:\n                    title: Title\n                    type: string\n                  description:\n                    title: Description\n                    type: string\n                  detail:\n                    title: Detail\n                    type: object\n                    properties:\n                      \"remain\":\n                        type: integer\n                        description: 剩余可用登录次数。\n\n        \"422\":\n          description: \"无法以 JSON 格式解析请求\"\n\n        \"502\":\n          description: hCaptcha HTTP 请求失败\n\n  \"/p/logout\":\n    post:\n      tags:\n        - Auth\n      summary: 登出\n      operationId: logout\n      security:\n        - CookiesSession: []\n      responses:\n        \"204\":\n          description: \"正常登出\"\n\n        \"401\":\n          description: 用户未登录或者 session 已失效\n\ncomponents:\n  schemas:\n    User:\n      $ref: \"./components/user.yaml\"\n    Avatar:\n      $ref: \"./components/avatar.yaml\"\n    ErrorDetail:\n      $ref: \"./components/error_detail.yaml\"\n  securitySchemes:\n    CookiesSession:\n      name: sessionID\n      type: apiKey\n      in: cookie\n"
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"Avatar\": parse schema: resolve \"./components/avatar.yaml\": find schema: external base \"./components/avatar.yaml\" is not supported"
}