{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/teamdigitale/api-openapi-samples"
		},
		"file": {
			"name": "defibrillatori-example.yaml",
			"size": 0,
			"path": "openapi-v3/defibrillatori-example.yaml",
			"byteSize": 10767,
			"content": "openapi: 3.0.2\ninfo:\n  version: \"0.0.1\"\n  title: Defibrillatori\n  x-summary: Individua i defibrillatori sul territorio\n  description: |\n    ## Defibrillatori\n\n    Questa API permette a tutti di elencare\n    e localizzare i defibrillatori presenti in un'area.\n    Inoltre permette al personale autorizzato di gestire\n    le informazioni in elenco.\n\n    E' utile perché...\n  termsOfService: 'https://tos.example.it'\n  contact:\n    email: roberto@teamdigitale.governo.it\n    name: Dipartimento Trasformazione Digitale\n    url: 'https://innovazione.gov.it'\ntags:\n-  name: publish\n   description: \u003e-\n    Pubblica le informazioni sui defibrillatori\n-  name: manage\n   description: \u003e-\n    Permetti agli enti di gestire i defibrillatori\n-  name: monitor\n   description: \u003e-\n    Monitoraggio dello stato dell'API.\nservers:\n- url: https://api.example/defibrillatori/v0\n  description: production\n- url: /defibrillatori/v0\n  description: development\n  x-sandbox: true\ncomponents:\n  schemas:\n    Problem:\n      $ref: \"https://teamdigitale.github.io/openapi/master/definitions.yaml#/components/schemas/Problem\"\n    DefibrillatoreId:\n      type: string\n      format: uuid\n      maxLength: 36\n      minLength: 36\n      pattern: '[a-z0-9-]{36}'\n      description: \u003e-\n        L'identificativo univoco del defibrillatore.\n      example: 7411c337-2f9a-4f6b-911d-d1b814ea4c57\n    Defibrillatore:\n      type: object\n      additionalProperties: false\n      required: [id, status, gestore]\n      properties:\n        id:\n          $ref: \"#/components/schemas/DefibrillatoreId\"\n        status:\n          type: string\n          enum: [attivo, non-attivo]\n          example: attivo\n        gestore:\n          type: string\n          maxLength: 32\n          pattern: '[a-zA-Z0-9\\-_]+'\n          description: |-\n            codice IPA dell'ente che gestisce il defibrillatore.\n            Gli utenti autenticati devono essere riferibili all'ente.\n          example: \"C_E472\"\n    GeoJSONFeature:\n      type: object\n      additionalProperties: false\n      required:\n        - type\n        - geometry\n      properties:  \u0026GeoJSONFeatureProperties\n        type:\n          type: string\n          enum: [Feature]\n        geometry:\n          type: object\n          required: [type, coordinates]\n          additionalProperties: false\n          properties:\n            type:\n              type: string\n              enum: [Point]\n            coordinates:\n              type: array\n              maxItems: 2\n              minItems: 2\n              items:\n                type: number\n                format: double\n                minimum: -180\n                maximum: 180\n    DefibrillatoreGeo:\n      description: |-\n        Questo schema usa la sintassi YAML per comporre\n        sintatticamente le proprietà di un oggetto senza\n        usare meccanismi di ereditarietà.\n      type: object\n      additionalProperties: false\n      required:\n      - type\n      - geometry\n      - properties\n      properties:\n        \u003c\u003c: *GeoJSONFeatureProperties\n        properties:\n          $ref: '#/components/schemas/Defibrillatore'\n      example:\n        type: Feature\n        geometry:\n          type: Point\n          coordinates: [ 40.123, 14.123]\n        properties:\n          id: 7411c337-2f9a-4f6b-911d-d1b814ea4c57\n          status: attivo\n          gestore: C_E472\n    DefibrillatoriGeo:\n      type: object\n      description: Un oggetto GeoJSon FeatureCollection\n      additionalProperties: false\n      required:\n      - type\n      - features\n      properties:\n        type:\n          type: string\n          enum: [FeatureCollection]\n          example: FeatureCollection\n        features:\n          type: array\n          maxItems: 1000\n          minItems: 0\n          items:\n            $ref: \"#/components/schemas/DefibrillatoreGeo\"\n    AreaAmministrativa:\n      type: string\n      minLength: 2\n      maxLength: 6\n      pattern: '[0-9]{2,6}'\n      description: |-\n        Codice Istat dell'area amministrativa:\n        * 2 caratteri per regioni\n        * 3 caratteri per province\n        * 6 caratteri per comuni\n      example: '059001'\n    Latitude:\n      $ref: https://teamdigitale.github.io/openapi/master/definitions.yaml#/components/schemas/Latitude\n    Longitude:\n      $ref: https://teamdigitale.github.io/openapi/master/definitions.yaml#/components/schemas/Longitude\n  parameters:\n    AreaAmministrativa:\n      name: codice_istat\n      in: query\n      description: Identificativo dell'area amministrativa da interrogare.\n      schema:\n        $ref: \"#/components/schemas/AreaAmministrativa\"\n    Latitudine:\n      name: lat\n      in: query\n      description: Latitudine dell'area da interrogare.\n      schema:\n        $ref: \"#/components/schemas/Latitude\"\n    Longitudine:\n      name: lon\n      in: query\n      description: Longitudine dell'area da interrogare.\n      schema:\n        $ref: \"#/components/schemas/Longitude\"\n    Radius:\n      name: radius\n      in: query\n      description: Raggio di ricerca in metri.\n      schema:\n        type: integer\n        format: int32\n        minimum: 0\n        default: 500\n        maximum: 2000\n        example: 500\n    DefibrillatoreId:\n      name: id\n      in: path\n      description: L'identificativo univoco del defibrillatore.\n      schema:\n        $ref: \"#/components/schemas/DefibrillatoreId\"\n      required: true\n  securitySchemes:\n    OAuthToken:\n      type: oauth2\n      description: \u003e-\n        A bearer token in the format of a JWS and conformato\n        to the specifications included in [RFC8725](https://tools.ietf.org/html/RFC8725).\n\n      flows:\n        clientCredentials:\n          tokenUrl: https://as.example/token\n          scopes:\n            \"operatore\": Gestisci i defibrillatori.\n            \"sistema-IoT\": Cambia lo stato di un defibrillatore.\n  responses:\n    default:\n      $ref: https://teamdigitale.github.io/openapi/master/definitions.yaml#/components/responses/default\n\npaths:\n  /status:\n    get:\n      summary: Get status\n      operationId: mostra_status\n      tags:\n      - monitor\n      - publish\n      security:\n        - {}\n      description: Returns OK if the service works.\n      responses:\n        \"200\":\n          description: The API works\n          content:\n            application/problem+json:\n              schema:\n                $ref: \"#/components/schemas/Problem\"\n        default:\n          $ref: \"#/components/responses/default\"\n  /defibrillatori:\n    get:\n      summary: Elenca defibrillatori\n      operationId: lista_defibrillatori\n      security:\n        - {}\n      tags:\n      - publish\n      description: |-\n        Elenca i defibrillatori presenti in un'area definita alternativamente\n        dai parametri:\n         * codice_istat\n         * lat, long, radius\n      parameters:\n      - $ref: \"#/components/parameters/AreaAmministrativa\"\n      - $ref: \"#/components/parameters/Latitudine\"\n      - $ref: \"#/components/parameters/Longitudine\"\n      - $ref: \"#/components/parameters/Radius\"\n      responses:\n        \"200\":\n          description: Elenco dei defibrillatori\n          content:\n            application/geo+json:\n              schema:\n                $ref: \"#/components/schemas/DefibrillatoriGeo\"\n        default:\n          $ref: \"#/components/responses/default\"\n    post:\n      summary: Aggiungi defibrillatore\n      operationId: crea_defibrillatore\n      tags:\n      - manage\n      security:\n        - OAuthToken: [operatore]\n      description: |-\n        Aggiungi un defibrillatore.\n      requestBody:\n        required: true\n        content:\n          application/geo+json:\n            schema:\n              $ref: \"#/components/schemas/DefibrillatoreGeo\"\n      responses:\n        \"201\":\n          description: Il defibrillatore è stato creato.\n          headers:\n            Cache-Control:\n              description: no-store\n              schema:\n                type: string\n                enum: [no-store]\n            Location:\n              description: L'URL del nuovo defibrillatore.\n              schema:\n                type: string\n                format: url\n                maxLength: 4096\n          content:\n            application/geo+json:\n              schema:\n                $ref: \"#/components/schemas/DefibrillatoreGeo\"\n        default:\n          $ref: \"#/components/responses/default\"\n  /defibrillatori/{id}:\n    parameters:\n    - $ref: \"#/components/parameters/DefibrillatoreId\"\n    get:\n      summary: Elenca un defibrillatore\n      operationId: mostra_defibrillatore\n      tags:\n      - publish\n      - manage\n      security:\n        - {}\n      description: |-\n        Elenca un defibrillatore specifico\n      responses:\n        \"200\":\n          description: \u003e-\n            Defibrillatore recuperato correttamente e\n            ritornato integralmente nel content.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DefibrillatoreGeo\"\n        default:\n          $ref: \"#/components/responses/default\"\n    patch:\n      summary: Aggiorna un defibrillatore\n      operationId: modifica_defibrillatore\n      tags:\n      - manage\n      security:\n        - OAuthToken: [operatore, sistema-IoT]\n      description: |-\n        Aggiorna un defibrillatore specifico con i dati forniti\n        * da un operatore (utente autenticato) dell'ente che gestisce il\n          defibrillatore;\n        * da un automa che può aggiornare il solo stato del defibrillatore.\n      requestBody:\n        description: |-\n          I campi del defibrillatore da modificare.\n          Un utente di tipo \"automa\" può modificare solo il campo \"stato\".\n        required: true\n        content:\n          application/merge-patch+json:\n            schema:\n              $ref: \"#/components/schemas/DefibrillatoreGeo\"\n      responses:\n        \"200\":\n          description: |-\n            Defibrillatore aggiornato correttamente\n            viene ritornato integralmente nel content.\n          content:\n            application/geo+json:\n              schema:\n                $ref: \"#/components/schemas/DefibrillatoreGeo\"\n        \"403\":\n          description: |- \n            Non si hanno i permessi per modificare l'oggetto indicato.\n            E' gestito da un'altro ente.\n          content:\n            application/problem+json:\n              schema:\n                $ref: \"#/components/schemas/Problem\"\n        default:\n          $ref: \"#/components/responses/default\"\n    delete:\n      summary: Elimina un defibrillatore.\n      operationId: elimina_defibrillatore\n      description: Elimina un defibrillatore.\n      security:\n        - OAuthToken: [operatore]\n      tags:\n      - manage\n      responses:\n        \"204\":\n          description: \"Eliminato con successo.\"\n        default:\n          $ref: \"#/components/responses/default\"\n",
			"canonicalURL": "/github.com/teamdigitale/api-openapi-samples@e4aa25ab76f46b78fcf93268cddbbd44c4df1711/-/blob/openapi-v3/defibrillatori-example.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/teamdigitale/api-openapi-samples/blob/e4aa25ab76f46b78fcf93268cddbbd44c4df1711/openapi-v3/defibrillatori-example.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:3595: schemas: \"Latitude\": parse schema: resolve \"https://teamdigitale.github.io/openapi/master/definitions.yaml#/components/schemas/Latitude\": external \"https://teamdigitale.github.io/openapi/master/definitions.yaml\": get: https: do: Get \"https://teamdigitale.github.io/openapi/master/definitions.yaml\": host \"teamdigitale.github.io\" is not allowed"
}