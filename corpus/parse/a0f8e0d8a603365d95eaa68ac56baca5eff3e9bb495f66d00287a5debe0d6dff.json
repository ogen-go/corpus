{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/os2datascanner/os2datascanner"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "src/os2datascanner/server/openapi.yaml",
			"byteSize": 12595,
			"content": "openapi: 3.0.0\ninfo:\n    title: OS2datascanner scan API\n    description: \u003e\n        An interface to the OS2datascanner scan pipeline.\n    contact:\n        name: Magenta ApS\n        url: https://www.magenta.dk/\n        email: info@magenta.dk\n    license:\n        name: Mozilla Public License, v. 2.0\n        url: https://mozilla.org/MPL/2.0/\n    version: 1.2.0\ncomponents:\n    securitySchemes:\n        bpsk:\n            type: http\n            scheme: bearer\n            bearerFormat: pre-shared key\n    schemas:\n        and-rule:\n            type: object\n            description: \u003e\n                Searches according to a number of other Rules, only producing a\n                match if all of them do.\n\n                \u003cp\u003eNote that this Rule implements short-circuiting: as soon as\n                it is possible to conclude that no match will be returned,\n                execution will stop.\n            required: [\"components\"]\n            properties:\n                components:\n                    type: array\n                    items:\n                        $ref: \"#/components/schemas/rule\"\n        or-rule:\n            type: object\n            description: \u003e\n                Searches according to a number of other Rules, only producing a\n                match if one of them does.\n\n                \u003cp\u003eNote that this Rule implements short-circuiting: as soon as\n                it is possible to conclude that a match will be returned,\n                execution will stop.\n            required: [\"components\"]\n            properties:\n                components:\n                    type: array\n                    items:\n                        $ref: \"#/components/schemas/rule\"\n        not-rule:\n            type: object\n            description: \u003e\n                Inverts the behaviour of a Rule, producing a match if and only\n                if it does not.\n            required: [\"rule\"]\n            properties:\n                rule:\n                    $ref: \"#/components/schemas/rule\"\n        regex-rule:\n            type: object\n            description: \u003e\n                Searches according to a regular expression.\n            required: [\"type\", \"expression\"]\n            properties:\n                type:\n                    type: string\n                    enum: [\"regex\"]\n                expression:\n                    type: string\n                    description: \u003e\n                        The regular expression to search for.\n                    example: \"[Tt]est\"\n        cpr-rule:\n            type: object\n            description: \u003e\n                Searches for a Danish civil registration number (a \"CPR\n                number\").\n\n                \u003cp\u003eCPR numbers are unique personal identifiers and are often\n                found adjacent to other personal information.\n            required: [\"type\"]\n            properties:\n                type:\n                    type: string\n                    enum: [\"cpr\"]\n                modulus_11:\n                    type: boolean\n                    description: \u003e\n                        Whether or not to filter out CPR number candidates that\n                        have an invalid check digit.\n\n                        \u003cp\u003e(Note that this flag takes into account the dates\n                        for which the check digit is not necessarily valid.)\n                    default: True\n                ignore_irrelevant:\n                    type: boolean\n                    description: \u003e\n                        Whether or not to filter out CPR number candidates\n                        based on structural and statistical tests.\n                    default: True\n                examine_context:\n                    type: boolean\n                    description:\n                        Whether or not to examine the context around CPR number\n                        candidates to filter out false positives.\n                    default: True\n        rule:\n            description:\n                A Rule describes a search criterion.\n\n                \u003cp\u003eCertain special Rules can be used to combine other Rules\n                together into arbitrary boolean expressions.\n\n                \u003cp\u003eThis document describes only a limited subset of\n                OS2datascanner's Rules. See the OS2datascanner code for more\n                information.\n            oneOf:\n                - $ref: \"#/components/schemas/regex-rule\"\n                - $ref: \"#/components/schemas/cpr-rule\"\n\n                - $ref: \"#/components/schemas/and-rule\"\n                - $ref: \"#/components/schemas/or-rule\"\n                - $ref: \"#/components/schemas/not-rule\"\n        data-source:\n            type: object\n            description: \u003e\n                A \"data\" Source is a direct representation of a single file to\n                scan.\n\n                \u003cp\u003eThis Source corresponds roughly to a data URL. See RFC 2397\n                for more information.\n            required: [\"type\", \"content\", \"mime\"]\n            properties:\n                type:\n                    type: string\n                    enum: [\"data\"]\n                content:\n                    type: string\n                    description: \u003e\n                        The base64-encoded content of this file.\n                    pattern: \"^[A-Za-z0-9+/=]+$\"\n                    example: \"VGhpcyBpcyBvbmx5IGEgdGVzdA==\"\n                mime:\n                    type: string\n                    description: \u003e\n                        The MIME type of this file.\n                    example: \"text/plain\"\n                name:\n                    type: string\n                    description: \u003e\n                        The name of this file.\n                    default: \"file\"\n                    example: \"test.txt\"\n        web-source:\n            type: object\n            description: \u003e\n                A \"web\" Source represents a website and all of the pages,\n                objects and images reachable from it.\n\n                \u003cp\u003eThis Source corresponds to a HTTP or HTTPS URL.\n            required: [\"type\", \"url\"]\n            properties:\n                type:\n                    type: string\n                    enum: [\"web\"]\n                url:\n                    type: string\n                    description: \u003e\n                        The URL of the website. (Supported URL schemes include\n                        \"http\" and \"https\".)\n                    example: \"https://www.example.com/\"\n                sitemap:\n                    type: string\n                    description:\n                        The URL of the sitemap file for the website, if one\n                        should be used. (Supported URL schemes include \"http\",\n                        \"https\" and \"file\".)\n                    default: null\n        source:\n            description: \u003e\n                A Source is a data source that OS2datascanner can explore in\n                order to find matches. Sources are roughly equivalent to URLs.\n\n                \u003cp\u003eYour system administrator may have restricted the set of\n                Sources available to the API host. Contact your system\n                administrator for more information.\n\n                \u003cp\u003eThis document describes only a limited subset of\n                OS2datascanner's Sources. See the OS2datascanner code for more\n                information.\n            oneOf:\n                - $ref: \"#/components/schemas/data-source\"\n                - $ref: \"#/components/schemas/web-source\"\n        configuration:\n            type: object\n            description: \u003e\n                The configuration dictionary contains settings that adjust\n                OS2datascanner's scanning behaviour and strategies.\n            properties:\n                skip_mime_types:\n                    type: array\n                    description: \u003e\n                        A list of the MIME types for which text conversions\n                        should not be performed.\n\n                        \u003cp\u003eThis is chiefly used to switch off\n                        computationally-expensive OCR conversions.\n                    default: []\n                    items:\n                        type: string\n                        description:\n                            A MIME type. (The last character can be the\n                            wildcard \"*\"; for example, \"image/*\".)\npaths:\n    /dummy/1:\n        post:\n            operationId: dummy-1\n            summary: Does nothing\n            description: \u003e\n                This operation returns a positive response. This may be useful,\n                for example, for testing that the API server has been started\n                successfully and that authentication has succeeded.\n            responses:\n                \"200\":\n                    description: a dummy success object\n                    content:\n                        application/jsonl:\n                            example: \u003e\n                                {\"status\": \"ok\"}\n    /scan/1:\n        post:\n            operationId: scan-1\n            summary: Runs a scan and yields the results\n            description: \u003e\n                This operation causes the OS2datascanner scan pipeline to\n                search a given Source according to a given Rule.\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            type: object\n                            required: [\"source\", \"rule\"]\n                            properties:\n                                rule:\n                                    $ref: \"#/components/schemas/rule\"\n                                source:\n                                    $ref: \"#/components/schemas/source\"\n                                configuration:\n                                    $ref: \"#/components/schema/configuration\"\n            responses:\n                \"200\":\n                    description: a number of pipeline output messages\n                    content:\n                        application/jsonl:\n                            example: \u003e\n                                {\"scan_spec\": {\"scan_tag\": \"395c1473-0868-443b-bff4-ff058a52a81e\", \"source\": {\"type\": \"data\", \"content\": \"VGhpcyBpcyBvbmx5IGEgdGVzdA==\", \"mime\": \"text/plain\"}, \"rule\": {\"type\": \"regex\", \"sensitivity\": null, \"name\": null, \"expression\": \"[Tt]est\"}, \"configuration\": {}, \"progress\": null}, \"handle\": {\"type\": \"data\", \"source\": {\"type\": \"data\", \"content\": None, \"mime\": \"text/plain\", \"name\": \"test.txt\"}, \"path\": \"test.txt\"}, \"matched\": true, \"matches\": [{\"rule\": {\"type\": \"regex\", \"sensitivity\": null, \"name\": null, \"expression\": \"[Tt]est\"}, \"matches\": [{\"offset\": 15, \"match\": \"test\"}]}], \"origin\": \"os2ds_matches\"}\n                                {\"scan_tag\": \"395c1473-0868-443b-bff4-ff058a52a81e\", \"handle\": {\"type\": \"data\", \"source\": {\"type\": \"data\", \"content\": None, \"mime\": \"text/plain\", \"name\": \"test.txt\"}, \"path\": \"test.txt\"}, \"metadata\": {}, \"origin\": \"os2ds_metadata\"}\n    /parse-url/1:\n        post:\n            operationId: parse-url-1\n            summary: Converts a URL to a Source\n            description: \u003e\n                This operation requests that OS2datascanner convert a URL to a\n                JSON representation of a Source, for use with the /scan/1\n                endpoint.\n\n                \u003cp\u003eThis operation supports all of the URLs that the scanner\n                engine does, but the settings of the API host may prevent you\n                from actually scanning the returned Source. Contact your system\n                administrator for more information.\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            type: object\n                            required: [\"url\"]\n                            properties:\n                                url:\n                                    type: string\n                                    description: \u003e\n                                        A URL recognised by the OS2datascanner\n                                        model.\n                                    example:\n                                        https://www.example.com/\n            responses:\n                \"200\":\n                    description: an OS2datascanner Source\n                    content:\n                        application/jsonl:\n                            example: \u003e\n                                {\"status\": \"ok\", \"source\": {\"type\": \"web\", \"url\": \"https://www.example.com\", \"sitemap\": \"\", \"exclude\": []}\nsecurity:\n    -\n        bpsk: []\n",
			"canonicalURL": "/github.com/os2datascanner/os2datascanner@6ca6e45b1cd2753c51417ee893b2363e5768ce18/-/blob/src/os2datascanner/server/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/os2datascanner/os2datascanner/blob/6ca6e45b1cd2753c51417ee893b2363e5768ce18/src/os2datascanner/server/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"web-source\": resolve \"#/components/schemas/web-source\": property \"sitemap\": at src/os2datascanner/server/openapi.yaml:179:30: parse default: unexpected default \"null\" value"
}