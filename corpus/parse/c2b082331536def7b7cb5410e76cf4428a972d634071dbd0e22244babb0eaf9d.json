{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/FLECS-Technologies/flecs-public"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "daemon/api/openapi.yaml",
			"byteSize": 14614,
			"content": "openapi: 3.1.0\ninfo:\n  title: FLECS Daemon API\n  version: 2.0.0\n  license:\n    name: Apache 2.0\n    url: https://www.apache.org/licenses/LICENSE-2.0.html\n\ncomponents:\n  schemas:\n    additionalInfo:\n      type: object\n      description: Additional info\n      properties:\n        additionalInfo:\n          type: string\n    app:\n      type: object\n      description: App name\n      properties:\n        app:\n          type: string\n          example: \"tech.flecs.app\"\n    conffiles:\n      type: object\n      description: Bind-mounted configuration files of an instance\n      properties:\n        conffiles:\n          type: array\n          items:\n            type: object\n            properties:\n              container:\n                type: string\n                example: \"/etc/conf.d/configuration.cfg\"\n              host:\n                type: string\n                example: \"/var/lib/flecs/instances/0123abcd/conf/configuration.cfg\"\n    hostname:\n      type: object\n      description: Hostname of an instance\n      properties:\n        hostname:\n          type: string\n          example: flecs-0123abcd\n    instanceId:\n      type: object\n      description: Instance ID\n      properties:\n        instanceId:\n          type: string\n          example: \"87654fed\"\n    instanceName:\n      type: object\n      description: Instance name\n      properties:\n        instanceName:\n          type: string\n          example: \"Smart home\"\n    ipAddress:\n      type: object\n      description: IP address of an instance\n      properties:\n        ipAddress:\n          type: string\n          example: \"172.21.0.2\"\n    job:\n      type: object\n      description: Job metadata for accepted requests\n      properties:\n        job:\n          type: object\n          properties:\n            id:\n              type: string\n              example: \"17\"\n    licenseKey:\n      type: object\n      description: License key for App installation\n      properties:\n        licenseKey:\n          type: string\n          example: \"538E-A5E8-84A3-D798\"\n    mounts:\n      type: object\n      description: Bind mounts of an instance\n      properties:\n        mounts:\n          type: array\n          items:\n            type: object\n            properties:\n              container:\n                type: string\n                example: \"/path/to/dir\"\n              host:\n                type: string\n                example: \"/path/to/host/dir\"\n    ports:\n      type: object\n      description: Allocated network ports of an instance\n      properties:\n        ports:\n          type: array\n          items:\n            type: object\n            properties:\n              container:\n                type: string\n                example: \"8080\"\n              host:\n                type: string\n                example: \"18080\"\n    version:\n      type: object\n      description: App version\n      properties:\n        version:\n          type: string\n          example: \"v4.0.6\"\n    volumes:\n      type: object\n      description: Automatic volumes of an instance\n      properties:\n        volumes:\n          type: array\n          items:\n            type: object\n            properties:\n              name:\n                type: string\n                example: \"var\"\n              path:\n                type: string\n                example: \"/var/app\"\n\n    installed_app:\n      type: object\n      description: Installed App metadata\n      allOf:\n        - $ref: \"#/components/schemas/app\"\n        - type: object\n          properties:\n            versions:\n              type: array\n              items:\n                $ref: \"#/components/schemas/app_versions\"\n            instances:\n              type: array\n              items:\n                $ref: \"#/components/schemas/app_instances\"\n    app_versions:\n      type: object\n      description: App versions\n      allOf:\n        - type: object\n          properties:\n            desired:\n              type: string\n              example: \"installed\"\n            installedSize:\n              type: integer\n              example: 10485760\n            status:\n              type: string\n              example: \"installed\" # todo: refine possible values\n        - $ref: \"#/components/schemas/version\"\n    app_instances:\n      type: object\n      description: App instances\n      allOf:\n        - type: object\n          properties:\n            desired:\n              type: string\n              example: \"running\"\n        - $ref: \"#/components/schemas/instanceId\"\n        - $ref: \"#/components/schemas/instanceName\"\n        - type: object\n          properties:\n            status:\n              type: string\n              example: \"running\" # todo: refine possible values\n        - $ref: \"#/components/schemas/version\"\n\n  responses:\n    response_202:\n      description: Accepted\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/job\"\n    response_400:\n      description: Malformed request\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              additionalInfo:\n                type: string\n                example: \"Details what is wrong\"\n    response_401:\n      description: Unauthorized\n    response_403:\n      description: Forbidden\n    response_500:\n      description: Internal server error\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              additionalInfo:\n                type: string\n                example: \"Explanation what went wrong\"\n\ntags:\n  - name: \"Apps\"\n    x-displayName: \"Apps\"\n    description: Install, manage and uninstall Apps\n  - name: \"Instances\"\n    x-displayName: \"Instances\"\n    description: Create, manage and delete Instances\n  - name: \"flunder\"\n    x-displayName: \"Service Mesh\"\n    description: |\n      FLECS Service Mesh a.k.a flunder (\u003cb\u003eFL\u003c/b\u003eecs \u003cb\u003eUN\u003c/b\u003eified \u003cb\u003eD\u003c/b\u003eata \u003cb\u003eE\u003c/b\u003exchange and \u003cb\u003eR\u003c/b\u003eetention)\n  - name: \"System\"\n    x-displayName: \"System\"\n\npaths:\n  /app/install:\n    post:\n      tags: [\"Apps\"]\n      summary: Install an App from the FLECS marketplace\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              allOf:\n                - $ref: \"#/components/schemas/app\"\n                - $ref: \"#/components/schemas/licenseKey\"\n                - $ref: \"#/components/schemas/version\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /app/sideload:\n    post:\n      tags: [\"Apps\"]\n      summary: Sideload an App from its manifest\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                manifest:\n                  type: string\n                licenseKey:\n                  type: string\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /app/list:\n    get:\n      tags: [\"Apps\"]\n      summary: List installed apps and their instances\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                allOf:\n                  - $ref: \"#/components/schemas/additionalInfo\"\n                  - type: object\n                    properties:\n                      appList:\n                        type: array\n                        items:\n                          $ref: \"#/components/schemas/installed_app\"\n\n  /app/{app}/uninstall:\n    delete:\n      tags: [\"Apps\"]\n      summary: Uninstall an App\n      parameters:\n        - name: app\n          in: path\n          schema:\n            type: string\n            description: App to uninstall\n          required: true\n        - name: version\n          in: query\n          schema:\n            type: string\n            description: App version to uninstall\n          required: true\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /instance/create:\n    post:\n      tags: [\"Instances\"]\n      summary: Create new instance of an installed App\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              allOf:\n                - $ref: \"#/components/schemas/app\"\n                - $ref: \"#/components/schemas/instanceName\"\n                - $ref: \"#/components/schemas/version\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /instance/{id}/delete:\n    delete:\n      tags: [\"Instances\"]\n      summary: Delete an App instance\n      parameters:\n        - name: id\n          in: path\n          schema:\n            type: string\n            description: Instance id to delete\n          required: true\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /instance/{id}/details:\n    get:\n      tags: [\"Instances\"]\n      summary: Obtain details of an App instance\n      parameters:\n        - name: id\n          in: path\n          schema:\n            type: string\n            description: Instance id to delete\n          required: true\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                allOf:\n                  - $ref: \"#/components/schemas/additionalInfo\"\n                  - $ref: \"#/components/schemas/app\"\n                  - $ref: \"#/components/schemas/conffiles\"\n                  - $ref: \"#/components/schemas/hostname\"\n                  - $ref: \"#/components/schemas/instanceId\"\n                  - $ref: \"#/components/schemas/ipAddress\"\n                  - $ref: \"#/components/schemas/mounts\"\n                  - $ref: \"#/components/schemas/ports\"\n                  - $ref: \"#/components/schemas/version\"\n                  - $ref: \"#/components/schemas/volumes\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n\n  /instance/{id}/start:\n    post:\n      tags: [\"Instances\"]\n      summary: Start an App instance\n      parameters:\n        - name: id\n          in: path\n          schema:\n            type: string\n            description: Instance id to delete\n          required: true\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /instance/{id}/stop:\n    post:\n      tags: [\"Instances\"]\n      summary: Stop an App instance\n      parameters:\n        - name: id\n          in: path\n          schema:\n            type: string\n            description: Instance id to delete\n          required: true\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/response_202\"\n        \"400\":\n          $ref: \"#/components/responses/response_400\"\n        \"500\":\n          $ref: \"#/components/responses/response_500\"\n\n  /flunder/browse:\n    get:\n      tags: [\"flunder\"]\n      summary: Retrieve stored flunder topics alongside their values\n      parameters:\n        - name: q\n          in: query\n          schema:\n            type: string\n            example: \"/flecs/**\"\n          required: false\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: array\n                    items:\n                      type: object\n                      properties:\n                        topic:\n                          type: string\n                          example: \"/flecs/app1/heater0/temperature\"\n                        value:\n                          type: string\n                          example: \"23\"\n                        encoding:\n                          type: string\n                          example: \"application/integer+s8\"\n                        timestamp:\n                          type: string\n                          example:\n\n  /flunder/{topic}:\n    get:\n      tags: [\"flunder\"]\n      summary: Retrieve value of a stored flunder topic\n      parameters:\n        - name: topic\n          in: path\n          schema:\n            type: string\n            example: \"/flecs/app1/heater0/temperature\"\n          required: true\n    put:\n      tags: [\"flunder\"]\n      summary: Publish a topic to flunder\n      parameters:\n        - name: topic\n          in: path\n          schema:\n            type: string\n            example: \"/flecs/app1/heater0/temperature\"\n          required: true\n        - name: value\n          in: query\n          schema:\n            type: string\n            example: \"23\"\n        - name: type\n          in: query\n          schema:\n            type: string\n            example: \"bool\"\n    delete:\n      tags: [\"flunder\"]\n      summary: Delete a stored flunder topic\n      parameters:\n        - name: topic\n          in: path\n          schema:\n            type: string\n            example: \"/flecs/app1/heater0/temperature\"\n          required: true\n\n  /system/ping:\n    get:\n      tags: [\"System\"]\n      summary: Check daemon availability and connectivity\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  additionalInfo:\n                    type: string\n                    example: \"OK\"\n\n  /system/version:\n    get:\n      tags: [\"System\"]\n      summary: Get FLECS core and API version\n      responses:\n        \"200\":\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  api:\n                    type: string\n                    example: \"2.0.0\"\n                  core:\n                    type: string\n                    example: \"v2.0.0-???\"\n",
			"canonicalURL": "/github.com/FLECS-Technologies/flecs-public@62887d963dde8444ddbdc125ed797348ae8ca87b/-/blob/daemon/api/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/FLECS-Technologies/flecs-public/blob/62887d963dde8444ddbdc125ed797348ae8ca87b/daemon/api/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/flunder/{topic}\": get: at daemon/api/openapi.yaml:469:7: responses: no responses"
}