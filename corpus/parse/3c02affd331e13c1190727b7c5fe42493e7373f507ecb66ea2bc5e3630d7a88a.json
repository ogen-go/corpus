{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/PaystackOSS/openapi"
		},
		"file": {
			"name": "membership.yaml",
			"size": 0,
			"path": "dist/membership.yaml",
			"byteSize": 21004,
			"content": "openapi: 3.0.1\ninfo:\n  title: Create a membership app\n  description: |-\n    The OpenAPI specification for creating a membership application using the [Paystack API](https://paystack.com/docs/api/).\n    ### Prerequisites\n    1. Sign up on [Paystack](https://paystack.com/signup) to get your secret API key\n    2. Set your API key as an environment variable on [Postman](https://learning.postman.com/docs/sending-requests/variables/)\n\n    When using the [Subscriptions API](https://paystack.com/docs/payments/subscriptions), Paystack automatically charges the customer at the due time. This saves you the need to run scheduled tasks for every customer.\n\n    While with the [Charge Authorization API](https://paystack.com/docs/payments/recurring-charges), you send Paystack the charge details at the due time.\n  version: 1.0.0\nservers:\n  - url: 'https://api.paystack.co'\n    description: Base API endpoint\npaths:\n  /plan:\n    post:\n      tags:\n        - Plan\n      summary: Create Plan\n      operationId: plan_create\n      requestBody:\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/paths/~1plan/post/requestBody/content/application~1json/schema'\n          application/json:\n            schema:\n              type: object\n              required:\n                - name\n                - amount\n                - interval\n              properties:\n                name:\n                  description: Name of plan\n                  type: string\n                  example: My monthly membership\n                amount:\n                  description: 'Amount should be in kobo if currency is NGN, pesewas, if currency is GHS, and cents, if currency is ZAR'\n                  type: integer\n                  example: 20000\n                interval:\n                  description: 'Interval in words. Valid intervals are daily, weekly, monthly,biannually, annually'\n                  type: string\n                  example: monthly\n                description:\n                  description: A description for this plan\n                  type: string\n                  example: Monthly membership payment plan\n                send_invoices:\n                  description: Set to false if you don't want invoices to be sent to your customers\n                  type: boolean\n                send_sms:\n                  description: Set to false if you don't want text messages to be sent to your customers\n                  type: boolean\n                currency:\n                  description: 'Currency in which amount is set. Allowed values are NGN, GHS, ZAR or USD'\n                  type: string\n                  example: NGN\n                invoice_limit:\n                  description: |-\n                    Number of invoices to raise during subscription to this plan. \n                    Can be overridden by specifying an invoice_limit while subscribing.\n                  type: integer\n                  example: 0\n      responses:\n        '201':\n          description: Create Plan\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/responses/Ok/content/application~1json/schema'\n              examples:\n                Create Plan:\n                  value:\n                    status: true\n                    message: Plan created\n                    data:\n                      name: My monthly membership\n                      interval: monthly\n                      amount: 20000\n                      description: Monthly membership payment plan\n                      integration: 463433\n                      domain: test\n                      currency: NGN\n                      plan_code: PLN_y4y1wkydoptw6zv\n                      invoice_limit: 0\n                      send_invoices: true\n                      send_sms: true\n                      hosted_page: false\n                      migrate: false\n                      is_archived: false\n                      id: 393872\n                      createdAt: '2022-09-22T02:15:06.702Z'\n                      updatedAt: '2022-09-22T02:15:06.702Z'\n        '401':\n          description: Unauthorized operation\n          content:\n            application/json:\n              examples:\n                No-Authorization-Header:\n                  value:\n                    status: false\n                    message: No Authorization Header was found\n                Bad-Authorization-Header:\n                  value:\n                    status: false\n                    message: 'Format is Authorization Bearer [secret key]'\n                Invalid-Key:\n                  value:\n                    status: false\n                    message: Invalid key\n              schema:\n                type: object\n                properties:\n                  status:\n                    type: boolean\n                  message:\n                    type: string\n        default:\n          description: Server error\n  /subscription:\n    post:\n      tags:\n        - Subscription\n      summary: Create Subscription\n      operationId: subscription_create\n      requestBody:\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/paths/~1subscription/post/requestBody/content/application~1json/schema'\n          application/json:\n            schema:\n              type: object\n              required:\n                - customer\n                - plan\n              properties:\n                customer:\n                  description: Customer's email address or customer code\n                  type: string\n                  example: person@example.com\n                plan:\n                  description: Plan code that the customer should subscribe to\n                  type: string\n                  example: PLN_y4y1wkydoptw6zv\n                authorization:\n                  description: |-\n                    If customer has multiple authorizations, you can set the desired authorization you wish to use for this subscription here. \n                    If this is not supplied, the customer's most recent authorization would be used\n                  type: string\n                  example: AUTH_Codaad23\n                start_date:\n                  description: 'Set the date for the first debit. (ISO 8601 format) e.g. 2017-05-16T00:30:13+01:00'\n                  type: string\n                  format: date-time\n      responses:\n        '200':\n          description: Create Subscription\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/responses/Ok/content/application~1json/schema'\n              examples:\n                Create Subscription:\n                  value:\n                    status: true\n                    message: Subscription successfully created\n                    data:\n                      customer: 89363925\n                      plan: 393873\n                      integration: 463433\n                      domain: test\n                      start: 1663817490\n                      status: active\n                      quantity: 1\n                      amount: 20000\n                      authorization: 374536802\n                      invoice_limit: 0\n                      split_code: null\n                      subscription_code: SUB_k0alurkz6l2d3nz\n                      email_token: txyhn3zjzcr9xlo\n                      id: 456933\n                      cancelledAt: null\n                      createdAt: '2022-09-22T03:31:30.886Z'\n                      updatedAt: '2022-09-22T03:31:30.886Z'\n                      cron_expression: 31 3 22 * *\n                      next_payment_date: '2022-10-22T03:31:00.000Z'\n        '401':\n          $ref: '#/paths/~1plan/post/responses/401'\n        default:\n          description: Server error\n  /transaction/initialize:\n    post:\n      tags:\n        - Transaction\n      summary: Initialize Transaction\n      operationId: transaction_initialize\n      description: Create a new transaction\n      requestBody:\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/paths/~1transaction~1initialize/post/requestBody/content/application~1json/schema'\n          application/json:\n            schema:\n              type: object\n              required:\n                - email\n                - amount\n              properties:\n                email:\n                  description: Customer's email address\n                  type: string\n                  example: person@email.com\n                amount:\n                  description: 'Amount should be in kobo if currency is NGN, pesewas, if currency is GHS, and cents, if currency is ZAR'\n                  type: integer\n                  example: 10247\n                currency:\n                  description: The transaction currency\n                  type: string\n                  enum:\n                    - NGN\n                    - GHS\n                    - ZAR\n                    - USD\n                reference:\n                  description: 'Unique transaction reference. Only -, ., = and alphanumeric characters allowed.'\n                  type: string\n                  example: 123.uniq=ref-\n                callback_url:\n                  description: Fully qualified url. Use this to override the callback url provided on the dashboard for this transaction\n                  type: string\n                  example: 'https://example.com/'\n                plan:\n                  description: |-\n                    If transaction is to create a subscription to a predefined plan, provide plan code here. \n                    This would invalidate the value provided in amount\n                  type: string\n                  example: PLN_123wede\n                invoice_limit:\n                  description: Number of times to charge customer during subscription to plan\n                  type: integer\n                  example: 10\n                metadata:\n                  description: Stringified JSON object of custom data\n                  type: object\n                  example:\n                    metadata:\n                      cart_id: 398\n                      custom_fields:\n                        - display_name: Invoice ID\n                          variable_name: Invoice ID\n                          value: 209\n                        - display_name: Cart Items\n                          variable_name: cart_items\n                          value: '3 bananas, 12 mangoes'\n                channels:\n                  description: An array of payment channels to control what channels you want to make available to the user to make a payment with\n                  type: array\n                  enum:\n                    - card\n                    - bank\n                    - ussd\n                    - qr\n                    - eft\n                    - mobile_money\n                    - bank_transfer\n                split_code:\n                  description: The split code of the transaction split\n                  type: string\n                  example: SPL_123AbZ\n                subaccount:\n                  description: The code for the subaccount that owns the payment\n                  type: string\n                  example: ACCT_23abcdefgh\n                transaction_charge:\n                  description: |-\n                    A flat fee to charge the subaccount for a transaction. \n                    This overrides the split percentage set when the subaccount was created\n                  type: integer\n                  example: 12300\n                bearer:\n                  description: The bearer of the transaction charge\n                  type: string\n                  enum:\n                    - account\n                    - subaccount\n      responses:\n        '200':\n          description: Request successful\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/responses/Ok/content/application~1json/schema'\n              examples:\n                Initiailize Transaction:\n                  value:\n                    status: true\n                    message: Authorization URL created\n                    data:\n                      authorization_url: 'https://checkout.paystack.com/spnajmit2hgi2c1'\n                      access_code: spandaoende\n                      reference: ad123ada\n        '401':\n          $ref: '#/paths/~1plan/post/responses/401'\n        default:\n          description: Server error\n  /transaction/charge_authorization:\n    post:\n      tags:\n        - Transaction\n      summary: Charge Authorization\n      operationId: transaction_chargeAuthorization\n      requestBody:\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/paths/~1transaction~1charge_authorization/post/requestBody/content/application~1json/schema'\n          application/json:\n            schema:\n              type: object\n              required:\n                - email\n                - amount\n                - authorization_code\n              properties:\n                email:\n                  description: Customer's email address used during the first transaction\n                  type: string\n                  example: person@email.com\n                amount:\n                  description: 'Amount should be in kobo if currency is NGN, pesewas, if currency is GHS, and cents, if currency is ZAR'\n                  type: integer\n                  example: 10247\n                authorization_code:\n                  description: Valid authorization code to charge\n                  type: string\n                  example: AUTH_CODE\n                reference:\n                  description: 'Unique transaction reference. Only -, ., = and alphanumeric characters allowed.'\n                  type: string\n                  example: 123.uniq=ref-2\n                currency:\n                  description: The transaction currency\n                  type: string\n                  enum:\n                    - NGN\n                    - GHS\n                    - ZAR\n                    - USD\n                metadata:\n                  description: Stringified JSON object of custom data\n                  type: object\n                  example:\n                    cart_id: 398\n                    custom_fields:\n                      - display_name: Invoice ID\n                        variable_name: Invoice ID\n                        value: 209\n                      - display_name: Cart Items\n                        variable_name: cart_items\n                        value: '3 bananas, 12 mangoes'\n                split_code:\n                  description: The split code of the transaction split\n                  type: string\n                  example: SPL_123AbZ\n                subaccount:\n                  description: The code for the subaccount that owns the payment\n                  type: string\n                  example: ACCT_23abcdefgh\n                transaction_charge:\n                  description: |-\n                    A flat fee to charge the subaccount for a transaction. \n                    This overrides the split percentage set when the subaccount was created\n                  type: integer\n                  example: 12300\n                bearer:\n                  description: The bearer of the transaction charge\n                  type: string\n                  enum:\n                    - account\n                    - subaccount\n                queue:\n                  description: 'If you are making a scheduled charge call, it is a good idea to queue them so the processing system does not get overloaded causing transaction processing errors.'\n                  type: boolean\n      responses:\n        '200':\n          description: Request successful\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/responses/Ok/content/application~1json/schema'\n              examples:\n                Charge Authorization:\n                  value:\n                    status: true\n                    message: Charge attempted\n                    data:\n                      amount: 500000\n                      currency: NGN\n                      reference: 123.uniq=ref-2\n                      metadata: 'cart_id:398, custom_fields:[{}]'\n                      split_code: SPL_123AbZ\n                      subaccount: ACCT_23abcdefgh\n        '401':\n          $ref: '#/paths/~1plan/post/responses/401'\n        default:\n          description: Server error\ncomponents:\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n  schemas:\n    Customer:\n      allOf:\n        - type: object\n          required:\n            - email\n          properties:\n            email:\n              description: Customer's email address\n              type: string\n        - type: object\n          properties:\n            first_name:\n              description: Customer's first name\n              type: string\n              example: Some\n            last_name:\n              description: Customer's last name\n              type: string\n              example: Body\n            phone:\n              description: Customer's phone number\n              type: string\n              example: '+2348123456789'\n            metadata:\n              description: Stringified JSON object of custom data\n              type: string\n        - type: object\n          required:\n            - authorization_code\n          properties:\n            authorization_code:\n              description: Customer's authorization code to be deactivated\n              type: string\n        - type: object\n          required:\n            - customer\n          properties:\n            customer:\n              description: 'Customer''s code, or email address'\n              type: string\n            risk_action:\n              description: |\n                One of the possible risk actions [ default, allow, deny ]. allow to whitelist. \n                deny to blacklist. Customers start with a default risk action.\n              type: string\n              enum:\n                - default\n                - allow\n                - deny\n        - type: object\n          required:\n            - type\n            - country\n            - bvn\n            - bank_code\n            - account_number\n          properties:\n            type:\n              description: Predefined types of identification.\n              type: string\n              enum:\n                - bvn\n                - bank_account\n            country:\n              description: Two-letter country code of identification issuer\n              type: string\n              example: NG\n            bvn:\n              description: Customer's Bank Verification Number\n              type: integer\n              example: 0123456789\n            bank_code:\n              description: 'You can get the list of bank codes by calling the List Banks endpoint (https://api.paystack.co/bank).'\n              type: string\n              example: '007'\n            account_number:\n              description: Customer's bank account number.\n              type: string\n              example: '0111111111'\n            first_name:\n              description: Customer's first name\n              type: string\n              example: Uchenna\n            last_name:\n              description: Customer's last name\n              type: string\n              example: Okoro\n    Error:\n      type: object\n      properties:\n        status:\n          type: boolean\n        message:\n          type: string\n    Response:\n      type: object\n      properties:\n        status:\n          type: boolean\n        message:\n          type: string\n        data:\n          type: object\n  responses:\n    Ok:\n      description: Successful operation\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              status:\n                type: boolean\n              message:\n                type: string\n              data:\n                type: object\n    Created:\n      description: Resource created\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Response'\n    NotFound:\n      description: Entity not found\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\n          example:\n            status: false\n            message: Entity not found\n    Unauthorized:\n      description: Unauthorized operation\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\n          example:\n            status: false\n            message: Invalid key\n    GeneralError:\n      description: General Error\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\nsecurity:\n  - bearerAuth: []\n",
			"canonicalURL": "/github.com/PaystackOSS/openapi@e65c07ce33d6900becd5f8dc3b935e7536ce486f/-/blob/dist/membership.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/PaystackOSS/openapi/blob/e65c07ce33d6900becd5f8dc3b935e7536ce486f/dist/membership.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/transaction/initialize\": post: operation \"transaction_initialize\": requestBody: parse content: application/x-www-form-urlencoded: schema: parse schema: $ref: resolve \"#/paths/~1transaction~1initialize/post/requestBody/content/application~1json/schema\": property \"channels\": at dist/membership.yaml:267:21: parse enum values: parse value \"\\\"card\\\"\": expected type \"array\", got \"string\""
}