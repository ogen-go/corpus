{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/dcsaorg/DCSA-OpenAPI"
		},
		"file": {
			"name": "event_hub.yaml",
			"size": 0,
			"path": "event_hub/v1/event_hub.yaml",
			"byteSize": 17764,
			"content": "openapi: 3.0.3\ninfo:\n  version: 1.0.0\n  title: DCSA Event Hub\n  description: |\n    Managing and sending all DCSA defined events and subscriptions.\n    \n    This API implements the following Event types:\n    - Shipment Events (used by \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_EBL'\u003eElectronic Bill of Lading (EBL)\u003c/a\u003e and \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_TNT'\u003eTrack \u0026amp; Trace (TNT)\u003c/a\u003e)\n    - Equipment Events (used by \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_TNT'\u003eTrack \u0026amp; Trace (TNT)\u003c/a\u003e)\n    - Transport Events (used by \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_OVS'\u003eOperational Vessel Schedules (OVS)\u003c/a\u003e and \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_TNT'\u003eTrack \u0026amp; Trace (TNT)\u003c/a\u003e)\n    - Operations Events (used by \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_OVS'\u003eOperational Vessel Schedules (OVS)\u003c/a\u003e)\n    \n    This API is an aggregation of:\n    - \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DOCUMENTATION_EVENT_HUB'\u003eDocumentation Event Hub\u003c/a\u003e (event and subscription handling for Shipment events used by Electronic Bill of Lading)\n    - \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/OVS_EVENT_HUB'\u003eOVS Event Hub\u003c/a\u003e (event and subscription handling for Transport- and Operation-Events used by Operational Vessel Schedules)\n    - \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_TNT'\u003eT\u0026amp;T\u003c/a\u003e (event and subscription handling for Shipment-, Transport- and Equipment-Events)\ntags:\n  - name: Events\n    description: Event operations\n  - name: Subscriptions\n    description: Subscription operations\npaths:\n  /events:\n    get:\n      tags:\n        - Events\n      summary: Find events.\n      description: Returns all events filtered by the parameters.\n      parameters:\n        # OBS: Be aware that changing the parameters requires a manual change in other APIs\n\n        # The eventType parameter is needed when more than one Event type can be returned\n        - in: query\n          name: eventType\n          description: 'The type of event(s) to filter by. Default value is all event types if no value(s) is selected. It is possible to select any combination of values by comma separating values'\n          required: false\n          schema:\n            $ref: '#/components/schemas/eventTypes'\n\n        # Chunk with Shipment related event parameters\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/shipmentEventType'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/carrierBookingReference'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/bookingReference'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/transportDocumentID'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/transportDocumentTypeCode'\n\n        # Chunk with Transport related event parameters\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/transportEventType'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/scheduleID'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/transportCallID'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/vesselIMONumber'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/carrierVoyageNumber'\n\n        # Chunk with Equipment related event parameters\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/equipmentEventType'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/equipmentReference'\n\n        # Chunk with Operations related event parameters\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/operationsEventType'\n        \n        # Chunk with base event parameters\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/eventCreatedDateTime'\n        \n        # Chunk with collection parameters needed to be included in all APIs\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/parameters/limit'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/parameters/cursor'\n      responses:\n        '200':\n          description: Successful operation\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n            Current-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Current-Page'\n            Next-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Next-Page'\n            Prev-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Prev-Page'\n            Last-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Last-Page'\n            First-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/First-Page'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/events'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n  /events/{eventID}:\n    get:\n      tags:\n        - Events\n      summary: Find events by eventID.\n      description: Returns event with the specified eventID.\n      parameters:\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/eventID'\n      responses:\n        '200':\n          description: Successful operation\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/shipmentEvent'\n                  - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/transportEvent'\n                  - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/equipmentEvent'\n                  - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/operationsEvent'\n                discriminator:\n                  propertyName: eventType\n                #Couldn't use $ref in this example. Should be updated manually if shipmentEvent changes\n                example:\n                  eventID: '84db923d-2a19-4eb0-beb5-446c1ec57d34'\n                  eventType: 'SHIPMENT'\n                  eventCreatedDateTime: '2019-11-12T07:41:00+08:30'\n                  eventSubtype: 'ISSU'\n                  documentID: '84db923d-2a19-4eb0-beb5-446c1ec57d34'\n                  shipmentInformationType: \"TRD\"\n                  reason: 'All good'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n\n  /event-subscriptions:\n    get:\n      tags:\n      - Subscriptions\n      summary: Receive a list of your active subscriptions\n      parameters:\n        - in: query\n          name: eventType\n          description: 'The type of event(s) to filter by. Default value is all event types if no value(s) is selected. It is possible to select any combination of values by comma separating values'\n          required: false\n          schema:\n            $ref: '#/components/schemas/eventTypes'\n      responses:\n        '200':\n          description: Returns a list of subscriptions\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n            Current-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Current-Page'\n            Next-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Next-Page'\n            Prev-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Prev-Page'\n            Last-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/Last-Page'\n            First-Page:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/First-Page'\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/subscription'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n    post:\n      tags:\n      - Subscriptions\n      summary: Create a subscription\n      requestBody:\n        description: 'Parameters used to configure the subscription. It is possible to only receive cirtain types of events by adding filter values to the subscription.'\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/subscriptionBody'\n      responses:\n        '201':\n          description: Subscription created\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/subscription'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n      callbacks:\n        event:\n          '{$request.body.callbackUrl}':\n            post:   # Method\n              parameters:\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/signatureHeader'\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/subscriptionIDHeader'\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/notificationSignature'\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/apiVersion'\n              requestBody: # Contents of the callback message\n                required: true\n                content:\n                  application/json:\n                    schema:\n                      $ref: '#/components/schemas/events'\n              responses:   # Expected responses to the callback message\n                '200':\n                  description: 'Your server returns this code if it accepts the callback'\n  /event-subscriptions/{subscriptionID}:\n    get:\n      tags:\n      - Subscriptions\n      summary: Find a subscription by subscription ID\n      parameters:\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/subscriptionID'\n      responses:\n        '200':\n          description: Subscription returned\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/subscription'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n    delete:\n      tags:\n      - Subscriptions\n      summary: Stop a subscription, using the subscription ID\n      parameters:\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/subscriptionID'\n      responses:\n        '204':\n          description: Subscription stopped\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n    put:\n      tags:\n      - Subscriptions\n      summary: Alter a subscription\n      parameters:\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/parameters/subscriptionID'\n      requestBody:\n        description: Parameters used to configure the subscription\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/subscription'\n      responses:\n        '200':\n          description: Subscription updated\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/subscription'\n        default:\n          description: Unexpected error\n          headers:\n            API-Version:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.0#/components/headers/API-Version'\n          content:\n            application/json:\n              schema:\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\n\n\ncomponents:\n\n  ##############################\n  # All events and subscriptions\n  ##############################\n\n  schemas:\n\n    events:\n      type: array\n      items:\n        anyOf:\n          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/shipmentEvent'\n          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/transportEvent'\n          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/equipmentEvent'\n          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/operationsEvent'\n\n    eventTypes:\n      description: 'A comma separated list of event types. Default is all events.'\n      example: [EQUIPMENT,SHIPMENT,TRANSPORT]\n      default: [EQUIPMENT,SHIPMENT,TRANSPORT,OPERATIONS]\n      type: array\n      items:\n        type: string\n        \n        enum:\n          - EQUIPMENT\n          - SHIPMENT\n          - TRANSPORT\n          - OPERATIONS\n        # $ref: '#/components/schemas/eventType'\n\n    subscriptionBody:\n      type: object\n      allOf:\n        - type: object\n          properties:\n            callbackUrl:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/callbackUrl'\n        - type: object\n          properties:\n            eventType:\n              $ref: '#/components/schemas/eventTypes'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/shipmentSubscriptionBody'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/transportSubscriptionBody'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/equipmentSubscriptionBody'\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/operationsSubscriptionBody'\n      required:\n        - callbackUrl\n\n    subscription:\n      type: object\n      allOf:\n        - type: object\n          properties:\n            subscriptionID:\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/subscriptionID'\n        - $ref: '#/components/schemas/subscriptionBody'"
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"subscriptionBody\": parse schema: allOf: [0]: parse schema: property \"callbackUrl\": parse schema: resolve \"https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0#/components/schemas/callbackUrl\": find schema: external base \"https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.0\" is not supported"
}