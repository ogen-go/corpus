{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/p2pquake/epsp-specifications"
		},
		"file": {
			"name": "json-api-v2.yaml",
			"size": 0,
			"path": "json-api-v2.yaml",
			"byteSize": 24805,
			"content": "openapi: \"3.0.2\"\ninfo:\n  title: \"P2P地震情報 API仕様書\"\n  version: \"2.1.1\"\n  description: |\n    - 二次利用については [二次利用できます · P2P地震情報](https://www.p2pquake.net/secondary_use/) をご確認ください。\n    - 以下のレート制限があります。超えるとレスポンスが遅くなったり拒否 (HTTP ステータスコード 429) される場合があります。\n      - /history: 60 リクエスト/分 (IP アドレス毎)\n      - /jma: 10 リクエスト/分 (IP アドレス毎)\nservers:\n  - url: https://api.p2pquake.net/v2\npaths:\n  /history:\n    get:\n      tags:\n        - P2P地震情報 API\n      summary: P2P地震情報 JSON API (v2)\n      description: |\n        P2P地震情報の各種情報を返却します。  \n        `offset` パラメタは利用可能ですが、 1 週間以上古い情報は取得できない場合があります。\n      responses:\n        200:\n          description: 各種情報を返却します。\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  anyOf:\n                    - $ref: \"#/components/schemas/JMAQuake\"\n                    - $ref: \"#/components/schemas/JMATsunami\"\n                    - $ref: \"#/components/schemas/Areapeers\"\n                    - $ref: \"#/components/schemas/EEWDetection\"\n                    - $ref: \"#/components/schemas/Userquake\"\n                    - $ref: \"#/components/schemas/UserquakeEvaluation\"\n        400:\n          description: パラメタに誤りがあります\n    parameters:\n      - $ref: \"#/components/parameters/codes\"\n      - $ref: \"#/components/parameters/limit\"\n      - $ref: \"#/components/parameters/offset\"\n  /ws:\n    get:\n      tags:\n        - P2P地震情報 API\n      summary: P2P地震情報 WebSocket API\n      description: |\n        P2P地震情報の各種情報をリアルタイムに配信します。 WebSocket プロトコルでの接続が必要です。\n        - テキストフレーム (opcode: 1) で JSON オブジェクトを配信します。 1 フレーム毎にスキーマで指定したいずれかの情報が含まれています。\n        - 同一の情報を複数回配信する可能性があります。 `id` を用いて重複を取り除くことを推奨します。\n        - 情報は P2P地震情報 JSON API (v2) と全く同じものです。過去の情報の取得には JSON API をご利用ください。\n      responses:\n        101:\n          description: WebSocket 接続に切り替わります。\n          content:\n            application/json:\n              schema:\n                anyOf:\n                  - $ref: \"#/components/schemas/JMAQuake\"\n                  - $ref: \"#/components/schemas/JMATsunami\"\n                  - $ref: \"#/components/schemas/Areapeers\"\n                  - $ref: \"#/components/schemas/EEWDetection\"\n                  - $ref: \"#/components/schemas/Userquake\"\n                  - $ref: \"#/components/schemas/UserquakeEvaluation\"\n  /jma/quake:\n    get:\n      tags:\n        - 気象庁 地震情報・津波予報 JSON API\n      summary: 地震情報リスト\n      description: |\n        地震情報を返却します。デフォルトは新しい順に最大10件です。\n        データは2015年1月10日から提供しています。\n\n        過去データの履歴表示・検索に最適化しています。P2P地震情報 API (`/history` や `/ws`) と比べて約 60 秒の遅延があります。\n      responses:\n        200:\n          description: 地震情報リスト\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/JMAQuakes\"\n        400:\n          description: パラメタに誤りがあります\n    parameters:\n      - $ref: \"#/components/parameters/limit\"\n      - $ref: \"#/components/parameters/offset\"\n      - $ref: \"#/components/parameters/order\"\n      - $ref: \"#/components/parameters/sinceDate\"\n      - $ref: \"#/components/parameters/untilDate\"\n      - $ref: \"#/components/parameters/quakeType\"\n      - $ref: \"#/components/parameters/minMagnitude\"\n      - $ref: \"#/components/parameters/maxMagnitude\"\n      - $ref: \"#/components/parameters/minScale\"\n      - $ref: \"#/components/parameters/maxScale\"\n      - $ref: \"#/components/parameters/prefecture\"\n  /jma/quake/{id}:\n    get:\n      tags:\n        - 気象庁 地震情報・津波予報 JSON API\n      summary: 地震情報\n      responses:\n        200:\n          description: 指定したIDの地震情報を返却します。\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/JMAQuake\"\n        400:\n          description: IDの形式が間違っています\n        404:\n          description: 指定IDの情報が見つかりません\n    parameters:\n      - $ref: \"#/components/parameters/id\"\n  /jma/tsunami:\n    get:\n      tags:\n        - 気象庁 地震情報・津波予報 JSON API\n      summary: 津波予報リスト\n      description: |\n        津波予報を返却します。デフォルトは新しい順に最大10件です。\n        データは2016年11月22日から提供しています。\n\n        過去データの履歴表示・検索に最適化しています。P2P地震情報 API (`/history` や `/ws`) と比べて約 60 秒の遅延があります。\n      responses:\n        200:\n          description: 津波予報リスト\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/JMATsunamis\"\n        400:\n          description: パラメタに誤りがあります\n    parameters:\n      - $ref: \"#/components/parameters/limit\"\n      - $ref: \"#/components/parameters/offset\"\n      - $ref: \"#/components/parameters/order\"\n      - $ref: \"#/components/parameters/sinceDate\"\n      - $ref: \"#/components/parameters/untilDate\"\n  /jma/tsunami/{id}:\n    get:\n      tags:\n        - 気象庁 地震情報・津波予報 JSON API\n      summary: 津波予報\n      responses:\n        200:\n          description: 指定したIDの津波予報を返却します。\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/JMATsunami\"\n        400:\n          description: IDの形式が間違っています\n        404:\n          description: 指定IDの情報が見つかりません\n    parameters:\n      - $ref: \"#/components/parameters/id\"\ncomponents:\n  parameters:\n    offset:\n      name: offset\n      in: query\n      required: false\n      description: 読み飛ばす件数 (0以上、デフォルトは0)。例えば、 limit=100&offset=200 とすると、201件目から100件を返却します。\n      schema:\n        type: integer\n        format: int32\n        minimum: 0\n    limit:\n      name: limit\n      in: query\n      required: false\n      description: 返却件数 (1〜100、デフォルトは10)\n      schema:\n        type: integer\n        format: int32\n        minimum: 1\n        maximum: 100\n    codes:\n      name: codes\n      in: query\n      required: false\n      description: 取得したい情報の情報コード (デフォルトはすべて)。値は551(地震情報)、552(津波予報)、554(緊急地震速報 発表検出)、555(各地域ピア数)、561(地震感知情報)、9611(地震感知情報 解析結果)です。\n      schema:\n        type: array\n        items:\n          type: integer\n          format: int32\n    quakeType:\n      name: quake_type\n      in: query\n      required: false\n      description: 地震情報の種類。値はScalePrompt(震度速報)、Destination(震源に関する情報)、ScaleAndDestination(震度・震源に関する情報)、DetailScale(各地の震度に関する情報)、Foreign(遠地地震に関する情報)、Other(その他の情報)です。\n      schema:\n        type: string\n        enum:\n          - ScalePrompt\n          - Destination\n          - ScaleAndDestination\n          - DetailScale\n          - Foreign\n          - Other\n    minScale:\n      name: min_scale\n      in: query\n      required: false\n      description: 最大震度の下限。値は10(震度1)、20(震度2)、30(震度3)、40(震度4)、45(震度5弱)、50(震度5強)、55(震度6弱)、60(震度6強)、70(震度7)です。\n      schema:\n        type: integer\n        format: int32\n        enum:\n          - 10\n          - 20\n          - 30\n          - 40\n          - 45\n          - 50\n          - 55\n          - 60\n          - 70\n    maxScale:\n      name: max_scale\n      in: query\n      required: false\n      description: 最大震度の上限。値は10(震度1)、20(震度2)、30(震度3)、40(震度4)、45(震度5弱)、50(震度5強)、55(震度6弱)、60(震度6強)、70(震度7)です。\n      schema:\n        type: integer\n        format: int32\n        enum:\n          - 10\n          - 20\n          - 30\n          - 40\n          - 45\n          - 50\n          - 55\n          - 60\n          - 70\n    prefecture:\n      name: prefectures[]\n      in: query\n      required: false\n      description: 各都道府県の最低震度。 \"兵庫県,10\" のように指定します。\n      schema:\n        type: array\n        items:\n          type: object\n    minMagnitude:\n      name: min_magnitude\n      in: query\n      required: false\n      description: マグニチュード下限\n      schema:\n        type: number\n    maxMagnitude:\n      name: max_magnitude\n      in: query\n      required: false\n      description: マグニチュード上限\n      schema:\n        type: number\n    sinceDate:\n      name: since_date\n      in: query\n      required: false\n      description: 指定日かそれ以降 (yyyyMMdd形式)\n      schema:\n        type: string\n        pattern: \\d{8}\n    untilDate:\n      name: until_date\n      in: query\n      required: false\n      description: 指定日かそれ以前 (yyyyMMdd形式)\n      schema:\n        type: string\n        pattern: \\d{8}\n    order:\n      name: order\n      in: query\n      description: 並び順。1は昇順（古い順）、-1は降順（新しい順）です。デフォルトは降順。\n      schema:\n        type: integer\n        format: int32\n        enum:\n          - 1\n          - -1\n    id:\n      name: id\n      in: path\n      required: true\n      description: ID\n      schema:\n        type: string\n  schemas:\n    BasicData:\n      type: object\n      required:\n        - id\n        - code\n        - time\n      properties:\n        id:\n          type: string\n          description: 情報を一意に識別するID\n        code:\n          type: integer\n          format: int32\n        time:\n          type: string\n          description: 受信日時。形式は `2006/01/02 15:04:05.999` です。\n      example:\n        id: 5ee1ad7e02add676dd5a67a0\n        time: 2020/06/11 13:05:18.249\n    JMAQuake:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: 地震情報\n          required:\n            - issue\n            - earthquake\n          properties:\n            code:\n              description: 情報コード。常に551です。\n            issue:\n              type: object\n              description: 発表元の情報\n              required:\n                - time\n                - type\n              properties:\n                source:\n                  type: string\n                  description: 発表元\n                time:\n                  type: string\n                  description: 発表日時\n                type:\n                  type: string\n                  description: 発表種類\n                  enum:\n                    - ScalePrompt(震度速報)\n                    - Destination(震源に関する情報)\n                    - ScaleAndDestination(震度・震源に関する情報)\n                    - DetailScale(各地の震度に関する情報)\n                    - Foreign(遠地地震に関する情報)\n                    - Other(その他の情報)\n                correct:\n                  type: string\n                  description: 訂正の有無\n                  enum:\n                    - None(なし)\n                    - Unknown(不明)\n                    - ScaleOnly(震度)\n                    - DestinationOnly(震源)\n                    - ScaleAndDestination(震度・震源)\n            earthquake:\n              type: object\n              required:\n                - time\n              properties:\n                time:\n                  type: string\n                  description: 発生日時\n                hypocenter:\n                  type: object\n                  description: 震源情報\n                  properties:\n                    name:\n                      type: string\n                      description: 名称\n                    latitude:\n                      type: number\n                      description: 緯度。震源情報が存在しない場合は-200となります。\n                    longitude:\n                      type: number\n                      description: 経度。震源情報が存在しない場合は-200となります。\n                    depth:\n                      type: integer\n                      format: int32\n                      description: 深さ(km)。「ごく浅い」は0、震源情報が存在しない場合は-1となります。\n                    magnitude:\n                      type: number\n                      description: マグニチュード。震源情報が存在しない場合は-1となります。\n                maxScale:\n                  type: integer\n                  format: int32\n                  description: 最大震度。震度情報が存在しない場合は-1となります。\n                  enum:\n                    - -1(震度情報なし)\n                    - 10(震度1)\n                    - 20(震度2)\n                    - 30(震度3)\n                    - 40(震度4)\n                    - 45(震度5弱)\n                    - 50(震度5強)\n                    - 55(震度6弱)\n                    - 60(震度6強)\n                    - 70(震度7)\n                domesticTsunami:\n                  type: string\n                  description: 国内への津波の有無\n                  enum:\n                    - None(なし)\n                    - Unknown(不明)\n                    - Checking(調査中)\n                    - NonEffective(若干の海面変動が予想されるが、被害の心配なし)\n                    - Watch(津波注意報)\n                    - Warning(津波予報(種類不明))\n                foreignTsunami:\n                  type: string\n                  description: 海外での津波の有無\n                  enum:\n                    - None(なし)\n                    - Unknown(不明)\n                    - Checking(調査中)\n                    - NonEffectiveNearby(震源の近傍で小さな津波の可能性があるが、被害の心配なし)\n                    - WarningNearby(震源の近傍で津波の可能性がある)\n                    - WarningPacific(太平洋で津波の可能性がある)\n                    - WarningPacificWide(太平洋の広域で津波の可能性がある)\n                    - WarningIndian(インド洋で津波の可能性がある)\n                    - WarningIndianWide(インド洋の広域で津波の可能性がある)\n                    - Potential(一般にこの規模では津波の可能性がある)\n            points:\n              type: array\n              description: 震度観測点の情報\n              items:\n                type: object\n                required:\n                  - pref\n                  - addr\n                  - isArea\n                  - scale\n                properties:\n                  pref:\n                    type: string\n                    description: 都道府県\n                  addr:\n                    type: string\n                    description: 震度観測点名称（震度速報の場合は [気象庁 | 緊急地震速報や震度情報で用いる区域の名称](http://www.data.jma.go.jp/svd/eqev/data/joho/shindo-name.html) に記載のある区域名）\n                  isArea:\n                    type: boolean\n                    description: 区域名かどうか\n                  scale:\n                    type: number\n                    description: 震度\n                    enum:\n                      - 10(震度1)\n                      - 20(震度2)\n                      - 30(震度3)\n                      - 40(震度4)\n                      - 45(震度5弱)\n                      - 46(震度5弱以上と推定されるが震度情報を入手していない)\n                      - 50(震度5強)\n                      - 55(震度6弱)\n                      - 60(震度6強)\n                      - 70(震度7)\n          example:\n            id: 5ee1681202add671a1e1ae39\n            code: 551\n            time: 2019/08/26 21:04:06.958\n            issue:\n              source: 気象庁\n              time: 2019/08/26 20:57:00\n              correct: None\n              type: DetailScale\n            earthquake:\n              domesticTsunami: None\n              foreignTsunami: Unknown\n              hypocenter:\n                depth: 50\n                latitude: 24.4\n                longitude: 125.2\n                magnitude: 4.0\n                name: 宮古島近海\n              maxScale: 10\n              time: 2019/08/26 20:53:00\n            points:\n              - addr: 宮古島市城辺福北\n                isArea: false\n                pref: 沖縄県\n                scale: 10\n              - addr: 宮古島市伊良部長浜\n                isArea: false\n                pref: 沖縄県\n                scale: 10\n    JMAQuakes:\n      type: array\n      items:\n        $ref: \"#/components/schemas/JMAQuake\"\n    JMATsunami:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: 津波予報\n          required:\n            - cancelled\n            - issue\n          properties:\n            code:\n              description: 情報コード。常に552です。\n            cancelled:\n              type: boolean\n              description: 津波予報が解除されたかどうか。trueの場合、areasは空配列です。\n            issue:\n              type: object\n              description: 発表元の情報\n              required:\n                - source\n                - time\n                - type\n              properties:\n                source:\n                  type: string\n                  description: 発表元\n                time:\n                  type: string\n                  description: 発表日時\n                type:\n                  type: string\n                  description: 発表種類。現在は Focus (津波予報) のみです。\n            areas:\n              type: array\n              description: 津波予報の詳細\n              items:\n                type: object\n                properties:\n                  grade:\n                    type: string\n                    description: 津波予報の種類\n                    enum:\n                      - MajorWarning (大津波警報)\n                      - Warning (津波警報)\n                      - Watch (津波注意報)\n                      - Unknown (不明)\n                  immediate:\n                    type: boolean\n                    description: 直ちに津波が来襲すると予想されているかどうか\n                  name:\n                    type: string\n                    description: 津波予報区名。[気象庁｜津波予報区について](http://www.data.jma.go.jp/svd/eqev/data/joho/t-yohokuinfo.html)を参照。\n          example:\n            code: 552\n            cancelled: false\n            issue:\n              source: 気象庁\n              time: \"2019/06/18 22:24:00\"\n              type: \"Focus\"\n            areas:\n              - grade: Warning\n                immediate: true\n                name: 福島県\n              - grade: Watch\n                immediate: false\n                name: 青森県太平洋沿岸\n    JMATsunamis:\n      type: array\n      items:\n        $ref: \"#/components/schemas/JMATsunami\"\n    Userquake:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: 地震感知情報\n          required:\n            - area\n          properties:\n            code:\n              description: 情報コード。常に561です。\n            area:\n              type: integer\n              format: int32\n              description: \"地域コード（コード一覧は [GitHub: epsp-specifications/epsp-area.csv · p2pquake/epsp-specifications](https://github.com/p2pquake/epsp-specifications/blob/master/epsp-area.csv) 参照）\"\n      example:\n        code: 561\n        area: 250\n    Areapeers:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: P2P地震情報ネットワークに接続しているピアの地域分布です。\n          required:\n            - areas\n          properties:\n            code:\n              description: 情報コード。常に555です。\n            areas:\n              type: array\n              description: ピアの地域分布\n              items:\n                type: object\n                required:\n                  - id\n                  - peer\n                properties:\n                  id:\n                    type: integer\n                    format: int32\n                    description: \"地域コード（コード一覧は [GitHub: epsp-specifications/epsp-area.csv · p2pquake/epsp-specifications](https://github.com/p2pquake/epsp-specifications/blob/master/epsp-area.csv) 参照）\"\n                  peer:\n                    type: integer\n                    format: int32\n                    description: ピア数\n    EEWDetection:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: 緊急地震速報の発表検出です。\n          required:\n            - type\n          properties:\n            code:\n              description: 情報コード。常に554です。\n            type:\n              type: string\n              description: 検出種類\n              enum:\n                - \"Full (チャイム＋音声)\"\n                - \"Chime (チャイム (未実装))\"\n    UserquakeEvaluation:\n      allOf:\n        - $ref: \"#/components/schemas/BasicData\"\n        - type: object\n          description: 地震感知情報の評価結果です。\n          required:\n            - count\n            - confidence\n          properties:\n            code:\n              description: 情報コード。常に9611です。\n            count:\n              type: integer\n              format: int32\n              description: 件数\n            confidence:\n              type: number\n              description: |\n                P2P地震情報 Beta3 における信頼度（0～1）  \n                0: 非表示、0.97015: レベル1、0.96774: レベル2、0.97024: レベル3、0.98052: レベル4。  \n                値は適合率 (precision) です。\n            started_at:\n              type: string\n              description: |\n                開始日時。地震感知情報のイベントを一意に識別するキーとなります。\n                形式は `2006/01/02 15:04:05.999` です。\n            updated_at:\n              type: string\n              description: 更新日時。形式は `2006/01/02 15:04:05.999` です。\n            time:\n              type: string\n              description: 評価日時。形式は `2006/01/02 15:04:05.999` です。\n            area_confidences:\n              type: object\n              description: 地域ごとの信頼度情報\n              additionalProperties:\n                type: object\n                description: キーは地域コードです。\n                properties:\n                  confidence:\n                    type: number\n                    description: |\n                      信頼度（0～1）\n                      P2P地震情報 Beta3 においては、 0未満: F、0.0以上0.2未満: E、0.2以上0.4未満: D、0.4以上0.6未満: C、0.6以上0.8未満: B、0.8以上: A です。\n                  count:\n                    type: integer\n                    format: int32\n                    description: 件数\n                  display:\n                    type: string\n                    description: P2P地震情報 Beta3 における信頼度表示\n",
			"canonicalURL": "/github.com/p2pquake/epsp-specifications@033ce15d6a86938345e365b68c21ded845477a0b/-/blob/json-api-v2.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/p2pquake/epsp-specifications/blob/033ce15d6a86938345e365b68c21ded845477a0b/json-api-v2.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:15: schemas: \"JMAQuake\": parse schema: allOf: [1]: at 1:4747: parse schema: property \"earthquake\": at 1:5437: parse schema: property \"maxScale\": at 1:7037: parse enum values: parse value \"\\\"-1(震度情報なし)\\\"\": expected type \"integer\", got \"string\""
}