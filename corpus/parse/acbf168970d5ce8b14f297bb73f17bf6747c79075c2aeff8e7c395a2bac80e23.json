{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Mirantis/kqueen"
		},
		"file": {
			"name": "api3_0.yml",
			"size": 0,
			"path": "kqueen/blueprints/api/api3_0.yml",
			"byteSize": 43561,
			"content": "openapi: \"3.0.0\"\n\ninfo:\n  version: \"0.8\"\n  title: \"Kubernetes Queen API\"\n  description: \"A simple API to interact with Kubernetes clusters\"\n\nservers:\n  - url: \"http://localhost:5000/api/v1\"\n    description: \"Development server\"\n\ncomponents:\n  securitySchemes:\n    JWT:\n      type: \"http\"\n      scheme: \"bearer\"\n      bearerFormat: \"JWT\"\n  schemas:\n    # HTTP status responses\n    statusUnauthorized:\n      type: \"object\"\n      properties:\n        description:\n          type: \"string\"\n          description: \"Error description\"\n          example: \"Invalid credentials\"\n        error:\n          type: \"string\"\n          description: \"HTTP error\"\n          example: \"Bad Request\"\n        status_code:\n          type: \"integer\"\n          description: \"HTTP error code\"\n          example: 401\n    # Policy model\n    PolicyRuleValue:\n      type: \"string\"\n      enum:\n        - \"ALL\"\n        - \"ADMIN_OR_OWNER\"\n        - \"IS_ADMIN\"\n        - \"IS_OWNER\"\n        - \"IS_SUPERADMIN\"\n    Policy:\n      type: \"object\"\n      properties:\n        cluster:create:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        cluster:delete:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        cluster:get:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        cluster:list:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        cluster:update:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        organization:create:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        organization:delete:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        organization:get:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        organization:list:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        organization:update:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        provisioner:create:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        provisioner:delete:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        provisioner:get:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        provisioner:list:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        provisioner:update:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        user:create:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        user:delete:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        user:get:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        user:list:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n        user:update:\n          $ref: \"#/components/schemas/PolicyRuleValue\"\n    # Database objects\n    Organization:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        namespace:\n          type: \"string\"\n        policy:\n          $ref: \"#/components/schemas/Policy\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n      required:\n        - \"name\"\n        - \"namespace\"\n        - \"created_at\"\n    getUser:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        username:\n          type: \"string\"\n        email:\n          type: \"string\"\n          format: \"email\"\n        password:\n          type: \"string\"\n          format: \"password\"\n        organization:\n          $ref: \"#/components/schemas/Organization\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        role:\n          type: \"string\"\n          enum:\n            - \"superadmin\"\n            - \"admin\"\n            - \"member\"\n        active:\n          type: \"boolean\"\n    postUser:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        username:\n          type: \"string\"\n        email:\n          type: \"string\"\n        password:\n          type: \"string\"\n        organization:\n          type: \"string\"\n          description: \"Reference to the related Organization\"\n          example: \"Organization:\u003cuuid\u003e\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        role:\n          type: \"string\"\n          enum:\n            - \"superadmin\"\n            - \"admin\"\n            - \"member\"\n        active:\n          type: \"boolean\"\n      required:\n        - \"username\"\n        - \"email\"\n        - \"password\"\n        - \"organization\"\n        - \"created_at\"\n        - \"role\"\n        - \"active\"\n    clusterState:\n      type: \"string\"\n      enum:\n        - \"OK\"\n        - \"Error\"\n        - \"Deploying\"\n        - \"Destroying\"\n        - \"Unknown\"\n    getCluster:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        provisioner:\n          $ref: \"#/components/schemas/getProvisioner\"\n        state:\n          $ref: \"#/components/schemas/clusterState\"\n        kubeconfig:\n          type: \"object\"\n        metadata:\n          type: \"object\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          $ref: \"#/components/schemas/getUser\"\n    GCECluster:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        provisioner:\n          type: \"string\"\n          description: \"Reference to the related Provisioner\"\n          example: \"Provisioner:\u003cuuid\u003e\"\n        state:\n          $ref: \"#/components/schemas/clusterState\"\n        metadata:\n          description: \"GCE-specific parameters required for a cluster creation\"\n          type: \"object\"\n          properties:\n            zone:\n              type: \"string\"\n              enum:\n                - \"us-central1-a\"\n                - \"us-west1-a\"\n                - \"us-east1-b\"\n                - \"us-east4-a\"\n                - \"northamerica-northeast1-a\"\n                - \"southamerica-east1-a\"\n                - \"europe-west1-b\"\n                - \"europe-west2-a\"\n                - \"europe-west3-a\"\n                - \"europe-west4-b\"\n                - \"asia-northeast1-a\"\n                - \"asia-east1-a\"\n                - \"asia-southeast1-a\"\n                - \"australia-southeast1-a\"\n            node_count:\n              type: \"integer\"\n            machine_type:\n              type: \"string\"\n              enum:\n                - \"n1-standard-1\"\n                - \"n1-standard-2\"\n                - \"n1-standard-4\"\n                - \"n1-standard-8\"\n                - \"n1-standard-16\"\n                - \"n1-standard-32\"\n                - \"n1-standard-64\"\n            network_range:\n              type: \"string\"\n              description: \"CIDR block representing network range.\n                            Note that subnets in the same GCP network must have unique IP ranges\"\n              example: \"10.0.0.0/14\"\n            network_policy:\n              type: \"string\"\n              description: \"Policy for a network can be configured with one of the existent providers\"\n              object:\n                properties:\n                  provider:\n                    type: \"string\"\n                    enum:\n                      - \"PROVIDER_UNSPECIFIED\"\n                      - \"CALICO\"\n                  enabled:\n                    type: \"boolean\"\n                requred:\n                  - \"provider\"\n                  - \"enabled\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"provisioner\"\n        - \"owner\"\n        - \"metadata\"\n    AzureCluster:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        provisioner:\n          type: \"string\"\n          description: \"Reference to the related Provisioner\"\n          example: \"Provisioner:\u003cuuid\u003e\"\n        state:\n          $ref: \"#/components/schemas/clusterState\"\n        kubeconfig:\n          description: \"Kubeconfig file in JSON format\"\n          type: \"object\"\n        metadata:\n          description: \"Azure-specific parameters required for a cluster creation\"\n          type: \"object\"\n          properties:\n            location:\n              type: \"string\"\n              enum:\n                - \"eastus\"\n                - \"centralus\"\n                - \"westeurope\"\n            ssh_key:\n              type: \"string\"\n            node_count:\n              type: \"integer\"\n            vm_size:\n              type: \"string\"\n              enum:\n                - \"Standard_D1_v2\"\n                - \"Standard_D2_v2\"\n                - \"Standard_D3_v2\"\n                - \"Standard_D4_v2\"\n                - \"Standard_D5_v2\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"provisioner\"\n        - \"owner\"\n        - \"metadata\"\n    ManualCluster:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        provisioner:\n          type: \"string\"\n          description: \"Reference to the related Provisioner\"\n          example: \"Provisioner:\u003cuuid\u003e\"\n        state:\n          $ref: \"#/components/schemas/clusterState\"\n        kubeconfig:\n          description: \"Kubeconfig file in JSON format\"\n          type: \"object\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"provisioner\"\n        - \"owner\"\n        - \"kubeconfig\"\n    JenkinsCluster:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        provisioner:\n          type: \"string\"\n          description: \"Reference to the related Provisioner\"\n          example: \"Provisioner:\u003cuuid\u003e\"\n        state:\n          $ref: \"#/components/schemas/clusterState\"\n        kubeconfig:\n          description: \"Kubeconfig file in JSON format\"\n          type: \"object\"\n        metadata:\n          description: \"Jenkins-specific parameters required for a cluster creation\"\n          type: \"object\"\n          properties:\n            override_parameters:\n              type: \"object\"\n              description: \"key-value pairs, which override the parameters of the Jenkins job specified in the config\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"provisioner\"\n        - \"owner\"\n    getProvisioner:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        engine:\n          type: \"string\"\n        state:\n          $ref: \"#/components/schemas/provisionerState\"\n        parameters:\n          description: \"Engine-specific parameters\"\n          type: \"object\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          $ref: \"#/components/schemas/getUser\"\n    GCEProvisioner:\n      type: \"object\"\n      description: \"Set up with UI: http://kqueen.readthedocs.io/en/latest/kqueen.html#provision-a-kubernetes-cluster-using-google-kubernetes-engine\n                    Set up with CLI: http://kqueen.readthedocs.io/en/latest/kqueen.html#google-cloud-cli-operations-with-kqueen\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        engine:\n          type: \"string\"\n          enum:\n            - \"kqueen.engines.GceEngine\"\n        state:\n          $ref: \"#/components/schemas/provisionerState\"\n        parameters:\n          description: \"GCE-specific parameters\"\n          type: \"object\"\n          properties:\n            service_account_info:\n              description: \"Google cloud account credentials file in Json format\n                            https://cloud.google.com/video-intelligence/docs/common/auth\"\n              type: \"object\"\n              properties:\n                auth_provider_x509_cert_url:\n                  type: \"string\"\n                auth_uri:\n                  type: \"string\"\n                client_email:\n                  type: \"string\"\n                client_id:\n                  type: \"string\"\n                client_x509_cert_url:\n                  type: \"string\"\n                private_key:\n                  type: \"string\"\n                private_key_id:\n                  type: \"string\"\n                project_id:\n                  type: \"string\"\n                token_uri:\n                  type: \"string\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"engine\"\n        - \"owner\"\n    AzureProvisioner:\n      type: \"object\"\n      description: \"Set up with UI: http://kqueen.readthedocs.io/en/latest/kqueen.html#provision-a-kubernetes-cluster-using-azure-kubernetes-service\n                    Set up with CLI: http://kqueen.readthedocs.io/en/latest/kqueen.html#azure-cli-operations-with-kqueen\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        engine:\n          type: \"string\"\n          enum:\n            - \"kqueen.engines.AksEngine\"\n        state:\n          $ref: \"#/components/schemas/provisionerState\"\n        parameters:\n          description: \"Azure-specific parameters\"\n          type: \"object\"\n          properties:\n            client_id:\n              type: \"string\"\n              description: \"Application ID\"\n            secret:\n              type: \"string\"\n            tenant:\n              type: \"string\"\n              description: \"Directory ID\"\n            subscription_id:\n              type: \"string\"\n            resource_group_name:\n              type: \"string\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"engine\"\n        - \"owner\"\n    JenkinsProvisioner:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        engine:\n          type: \"string\"\n          enum:\n            - \"kqueen.engines.JenkinsEngine\"\n        state:\n          $ref: \"#/components/schemas/provisionerState\"\n        parameters:\n          description: \"JenkinsEngine-specific parameters\"\n          type: \"object\"\n          properties:\n            username:\n              type: \"string\"\n              description: \"Jenkins username for the Jenkins server\n                            provided in the config file\"\n            password:\n              type: \"string\"\n              description: \"Jenkins password for the Jenkins server\n                            provided in the config file\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"engine\"\n        - \"owner\"\n    ManualProvisioner:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n          format: \"uuid\"\n        name:\n          type: \"string\"\n        engine:\n          type: \"string\"\n          enum:\n            - \"kqueen.engines.ManualEngine\"\n        state:\n          $ref: \"#/components/schemas/provisionerState\"\n        created_at:\n          type: \"string\"\n          format: \"date-time\"\n        owner:\n          type: \"string\"\n          description: \"Reference to the related User\"\n          example: \"User:\u003cuuid\u003e\"\n      required:\n        - \"name\"\n        - \"engine\"\n        - \"owner\"\n    provisionerState:\n      type: \"string\"\n      enum:\n        - \"OK\"\n        - \"Error\"\n        - \"Not Reachable\"\n    Engine:\n      type: \"object\"\n      properties:\n        name:\n          type: \"string\"\n        verbose_name:\n          type: \"string\"\n        parameters:\n          type: \"object\"\n          properties:\n            provisioner:\n              type: \"object\"\n              description: \"Engine specific parameters required to create Provisioner\"\n            cluster:\n              type: \"object\"\n              description: \"Engine specific parameters required to create Cluster\"\n    # Kubernetes resources\n    Addon:\n      type: \"object\"\n      properties:\n        name:\n          type: \"string\"\n          example: \"Monocular\"\n        link:\n          type: \"string\"\n          format: \"url\"\n          example: \"http://monocular-load-balancer-or-ingress-url\"\n        icon:\n          type: \"string\"\n          format: \"url\"\n          example: \"https://www.modarmory.com/wp-content/uploads/2014/05/night-vision-monocular-icon.png\"\n    nodePod:\n      description: \"List of one-key dictionaries where key is name of Node and value is number of pods on the Node.\"\n      type: \"object\"\n      additionalProperties:\n        type: \"integer\"\n    clusterStatus:\n      type: \"object\"\n      properties:\n        addons:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/Addon\"\n        deployments:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.apps.v1.DeploymentList\"\n        nodes:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.core.v1.NodeList\"\n        nodes_pods:\n          type: \"array\"\n          items:\n            $ref: \"#/components/schemas/nodePod\"\n        persistent_volume_claims:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.core.v1.PersistentVolumeClaimList\"\n        persistent_volumes:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.core.v1.PersistentVolumeList\"\n        pods:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.core.v1.PodList\"\n        replica_sets:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.apps.v1.ReplicaSetList\"\n        services:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.api.core.v1.ServiceList\"\n        version:\n          $ref: \"https://raw.githubusercontent.com/kubernetes/kubernetes/master/api/openapi-spec/swagger.json#/definitions/io.k8s.apimachinery.pkg.version.Info\"\n    getAuthConfig:\n      type: \"object\"\n      auth_method_name:\n        type: \"object\"\n        properties:\n          engine:\n            type: \"string\"\n            description: \"Name of the authentication class\"\n          name:\n            type: \"string\"\n            description: \"Verbose name of the authentication method\"\n          ui_parameters:\n            type: \"object\"\n            description: \"Auth-method specific parameters\"\n          parameters:\n            type: \"object\"\n            description: \"Authentication class initialization parameters\"\n\n  responses:\n    Unauthorized:\n      description: \"Authorization information is missing or invalid.\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/statusUnauthorized\"\n\nsecurity:\n  - JWT: []\n\npaths:\n  # auth\n  /auth:\n    post:\n      summary: \"Authentication URL which returns JWT tokens\"\n      tags:\n       - \"Authentication\"\n      security: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                username:\n                  type: \"string\"\n                  example: \"admin\"\n                password:\n                  type: \"string\"\n                  example: \"default\"\n      responses:\n        \"200\":\n          description: \"Successful authentication\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  access_token:\n                    type: \"string\"\n                    description: \"JWT token\"\n        \"400\":\n          description: \"Bad request\"\n          content:\n            text/html:\n              schema:\n                type: \"html\"\n                example: \"\u003chtml\u003e\u003cbody\u003e\u003ctitle\u003e400 Bad Request\u003c/title\u003e\u003ch1\u003eBad Request\u003c/h1\u003e\u003cp\u003eFailed to decode JSON object: Expecting ',' delimiter: line 1 column 48 (char 47)\u003c/p\u003e\u003c/body\u003e\u003c/html\u003e\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  # organizations\n  /organizations:\n    get:\n      summary: \"List all Organizations\"\n      tags:\n        - \"Organizations\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/Organization\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n    post:\n      summary: \"Create new Organization\"\n      tags:\n        - \"Organizations\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Organization\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Organization\"\n        \"400\":\n          description: \"Request body is not valid JSON.\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  /organizations/{id}:\n    get:\n      summary: \"Get information about target Organization\"\n      tags:\n        - \"Organizations\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Organization\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Organization not found\"\n    patch:\n      summary: \"Update data of target Organization\"\n      tags:\n        - \"Organizations\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Organization\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Organization\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Organization not found\"\n    delete:\n      summary: \"Delete target Organization\"\n      tags:\n        - \"Organizations\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  id:\n                    type: \"string\"\n                    format: \"uuid\"\n                  state:\n                    type: \"string\"\n                    example: \"deleted\"\n        \"400\":\n          description: \"Invalid ID supplied\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Organization not found\"\n        \"500\":\n          description: \"Could not delete Organization\"\n  /organizations/{id}/policy:\n    get:\n      summary: \"Get information about target Organization security policies\"\n      tags:\n        - \"Organizations\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Policy\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Organization not found\"\n  # users\n  /users:\n    get:\n      summary: \"List all Users\"\n      tags:\n        - \"Users\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/getUser\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n    post:\n      summary: \"Create new User\"\n      tags:\n        - \"Users\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/postUser\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getUser\"\n        \"400\":\n          description: \"Request body is not valid JSON.\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  /users/{id}:\n    get:\n      summary: \"Get information about target User\"\n      tags:\n        - \"Users\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getUser\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or User not found\"\n    patch:\n      summary: \"Update data of target User\"\n      tags:\n        - \"Users\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/postUser\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getUser\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or User not found\"\n    delete:\n      summary: \"Delete target User\"\n      tags:\n        - \"Users\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  id:\n                    type: \"string\"\n                    format: \"uuid\"\n                  state:\n                    type: \"string\"\n                    example: \"deleted\"\n        \"400\":\n          description: \"Invalid ID supplied\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"User not found\"\n        \"500\":\n          description: \"Could not delete User\"\n  /users/{id}/updatepw:\n    patch:\n      summary: \"Update password of target User\"\n      tags:\n        - \"Users\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              properties:\n                password:\n                  type: \"string\"\n                  format: \"password\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getUser\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or User not found\"\n  # clusters\n  /clusters:\n    get:\n      summary: \"List all Clusters\"\n      tags:\n        - \"Clusters\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/getCluster\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n    post:\n      summary: \"Create new Cluster\"\n      tags:\n        - \"Clusters\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: \"#/components/schemas/GCECluster\"\n                - $ref: \"#/components/schemas/AzureCluster\"\n                - $ref: \"#/components/schemas/ManualCluster\"\n                - $ref: \"#/components/schemas/JenkinsCluster\"\n              example:\n                GCECluster:\n                  application/json:\n                    {\n                      \"name\": \"ExampleGCE\",\n                      \"owner\": \"User:09587e34-812d-4efc-af17-fbfd7315674c\",\n                      \"provisioner\": \"Provisioner:be834dc3-6377-4989-a36d-d789697dfacf\",\n                      \"metadata\": {\n                        \"node_count\": \"1\",\n                        \"zone\": \"asia-east1-a\",\n                        \"machine_type\": \"n1-standard-1\",\n                        \"network_range\": \"10.0.0.0/14\"\n                      }\n                    }\n                AzureCluster:\n                  application/json:\n                    {\n                    \"name\": \"ExampleAzure\",\n                    \"owner\": \"User:09587e34-812d-4efc-af17-fbfd7315674c\",\n                    \"provisioner\": \"Provisioner:e377f656-21a5-4313-9906-7763971c07a2\",\n                    \"metadata\": {\n                      \"location\": \"eastus\",\n                      \"ssh_key\": \"ssh-rsa ...\",\n                      \"node_count\": 1,\n                      \"vm_size\": \"Standard_D1_v2\"\n                    }\n                  }\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getCluster\"\n        \"400\":\n          description: \"Request body is not valid JSON.\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  /clusters/{id}:\n    get:\n      summary: \"Get information about target Cluster\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getCluster\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n    patch:\n      summary: \"Update data of target Cluster\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: \"#/components/schemas/GCECluster\"\n                - $ref: \"#/components/schemas/AzureCluster\"\n                - $ref: \"#/components/schemas/ManualCluster\"\n                - $ref: \"#/components/schemas/JenkinsCluster\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getCluster\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n    delete:\n      summary: \"Delete target Cluster\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  id:\n                    type: \"string\"\n                    format: \"uuid\"\n                  state:\n                    type: \"string\"\n                    example: \"deleted\"\n        \"400\":\n          description: \"Invalid ID supplied\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Cluster not found\"\n        \"500\":\n          description: \"Could not delete Cluster\"\n  /clusters/{id}/status:\n    get:\n      summary: \"Get information about target Cluster directly from KubeAPI\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/clusterStatus\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n  /clusters/{id}/kubeconfig:\n    get:\n      summary: \"Get Kubeconfig from target Cluster\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n  /clusters/{id}/topology-data:\n    get:\n      summary: \"Get topology data for target Cluster for visualization purposes\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n  /clusters/{id}/progress:\n    get:\n      summary: \"Get deployment progress of target Cluster\"\n      tags:\n        - \"Clusters\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  response:\n                    type: \"integer\"\n                    enum:\n                      - 200\n                      - 500\n                      - 501\n                  progress:\n                    type: \"integer\"\n                    description: \"Percentage of progress: 1 - 100\"\n                  result:\n                    $ref: \"#/components/schemas/clusterState\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Cluster not found\"\n  # provisioners\n  /provisioners:\n    get:\n      summary: \"List all Provisioners\"\n      tags:\n        - \"Provisioners\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/getProvisioner\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n    post:\n      summary: \"Create new Provisioner\"\n      tags:\n        - \"Provisioners\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: \"#/components/schemas/GCEProvisioner\"\n                - $ref: \"#/components/schemas/AzureProvisioner\"\n                - $ref: \"#/components/schemas/ManualProvisioner\"\n                - $ref: \"#/components/schemas/JenkinsProvisioner\"\n              example:\n                GCEProvisioner:\n                  application/json:\n                    {\n                      \"engine\": \"kqueen.engines.GceEngine\",\n                      \"name\": \"TestGCE\",\n                      \"owner\": \"User:f3f17c72-09b3-49d4-9619-2880c84826ef\",\n                      \"parameters\": {\n                         \"service_account_info\": {\n                           \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n                           \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n                           \"client_email\": \"97547965373-compute@developer.gserviceaccount.com\",\n                           \"client_id\": \"101913034534212144781\",\n                           \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/97547965373-compute%40developer.gserviceaccount.com\",\n                           \"private_key\": \"-----BEGIN PRIVATE KEY--...-----END PRIVATE KEY-----\",\n                           \"private_key_id\": \"b93950d543e8964995afabfe14561a77414a9d37\",\n                           \"project_id\": \"awesome-beaker-197214\",\n                           \"token_uri\": \"https://accounts.google.com/o/oauth2/token\",\n                           \"type\": \"service_account\"\n                         }\n                      }\n                    }\n                AzureProvisioner:\n                  application/json:\n                    {\n                      \"engine\": \"kqueen.engines.AksEngine\",\n                      \"name\": \"AzurePostman5\",\n                      \"owner\": \"User:09587e34-812d-4efc-af17-fbfd7315674c\",\n                      \"parameters\": {\n                         \"client_id\": \"48544b51-4c89-44c0-ba6d-2b80d21e032b\",\n                         \"secret\": \"my_password\",\n                         \"tenant\": \"70475187-fdde-4a8e-b088-7dda69aabb8d\",\n                         \"subscription_id\": \"8c8b0653-693e-4e9c-b8f4-6c99847d6152\",\n                         \"resource_group_name\": \"kqueen-demo-rg\"\n                      }\n                    }\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getProvisioner\"\n        \"400\":\n          description: \"Request body is not valid JSON.\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  /provisioners/{id}:\n    get:\n      summary: \"Get information about target Provisioner\"\n      tags:\n        - \"Provisioners\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getProvisioner\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Provisioner not found\"\n    patch:\n      summary: \"Update data of target Provisioner\"\n      tags:\n        - \"Provisioners\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              oneOf:\n                - $ref: \"#/components/schemas/GCEProvisioner\"\n                - $ref: \"#/components/schemas/AzureProvisioner\"\n                - $ref: \"#/components/schemas/ManualProvisioner\"\n                - $ref: \"#/components/schemas/JenkinsProvisioner\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/getProvisioner\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Invalid ID or Provisioner not found\"\n    delete:\n      summary: \"Delete target Provisioner\"\n      tags:\n        - \"Provisioners\"\n      parameters:\n        - name: \"id\"\n          in: \"path\"\n          required: true\n          type: \"string\"\n          format: \"uuid\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  id:\n                    type: \"string\"\n                    format: \"uuid\"\n                  state:\n                    type: \"string\"\n                    example: \"deleted\"\n        \"400\":\n          description: \"Invalid ID supplied\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"404\":\n          description: \"Provisioner not found\"\n        \"500\":\n          description: \"Could not delete Provisioner\"\n  /provisioners/engines:\n    get:\n      summary: \"List all available engines for Provisioners\"\n      tags:\n        - \"Provisioners\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                items:\n                  $ref: \"#/components/schemas/Engine\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n  /configurations/auth:\n    get:\n      summary: \"Get information about auth classes configuration\"\n      tags:\n        - \"Auth\"\n      responses:\n        \"200\":\n          description: \"Successful operation\"\n          content:\n            application/json:\n              schema:\n                type: \"array\"\n                $ref: \"#/components/schemas/getUser\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n",
			"canonicalURL": "/github.com/Mirantis/kqueen@8841c069bb5a53ae18affc0222356956220bbd47/-/blob/kqueen/blueprints/api/api3_0.yml",
			"externalURLs": [
				{
					"url": "https://github.com/Mirantis/kqueen/blob/8841c069bb5a53ae18affc0222356956220bbd47/kqueen/blueprints/api/api3_0.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/auth\": post: responses: 400: content: text/html: schema: parse schema: at 1:15270: unexpected schema type: \"html\""
}