{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Property-Data-Trust-Framework/api"
		},
		"file": {
			"name": "pdtf-api-1.2.0.yaml",
			"size": 0,
			"path": "pdtf-api-1.2.0.yaml",
			"byteSize": 6547,
			"content": "openapi: 3.0.3\ninfo:\n  title: Property Data Trust Framework API\n  version: 1.2.0\n  license:\n    name: MIT\n    url: https://opensource.org/licenses/MIT\n  description: This API defines how participants in the UK Property Data Trust Framework can securely share property data, together with the verifiable provenance of that data. The API is built around a variation of OpenID Connect Verified Claims schema.\nservers:\n  - url: http://api.pdtf-example.com\n    description: Example PDTF data source\ntags:\n  - name: transactions\n    description: Transactions API\npaths:\n  /transactions:\n    post:\n      tags:\n        - transactions\n      summary: Create a transaction\n      operationId: addTransactionClaims\n      responses:\n        \"201\":\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/transaction-response\"\n          headers:\n            location:\n              schema:\n                type: string\n                format: uri\n              description: URI containing transaction identifier\n        \"400\":\n          description: Bad Request - the supplied claims contain one or more validation errors\n        \"401\":\n          description: Unauthorized\n      description: Create a transaction\n  /transactions/search:\n    get:\n      parameters:\n        - $ref: \"#/components/parameters/uprn\"\n        - $ref: \"#/components/parameters/transactionStatus\"\n      summary: Get transactionIds by UPRN and status\n      tags:\n        - transactions\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                description: List of minified transaction objects containing 'transactionId, uprn and status, createdAt, updatedAt'\n                $ref: https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-transaction-search-results.json\n      operationId: getTransactions\n  /transactions/{id}:\n    get:\n      parameters:\n        - $ref: \"#/components/parameters/transactionIdInPathParameter\"\n      summary: Get latest state of verified claims on the transaction\n      tags:\n        - transactions\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: string\n                description: JSON representation of transaction information\n            text/html:\n              schema:\n                type: string\n                description: HTML renedered transaction information\n      operationId: getCurrentTransactionState\n      description: Retrieve a JSON or HTML representation of the state of the transaction data when all claims to date are applied.\n  /transactions/{id}/claims:\n    post:\n      parameters:\n        - $ref: \"#/components/parameters/transactionIdInPathParameter\"\n      summary: Add verified claims on a transaction\n      tags:\n        - transactions\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-verified-claims.json\n        \"404\":\n          description: No claims are available for this property\n      description: Get a list of claims for a given transaction ID\n      operationId: postVerifiedClaimsByTransactionId\n    get:\n      parameters:\n        - $ref: \"#/components/parameters/transactionIdInPathParameter\"\n      summary: Get a list of claims for a given transaction ID\n      tags:\n        - transactions\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-verified-claims.json\n        \"404\":\n          description: No verified claims are available for this property\n      description: Get a list of claims for a given transaction ID\n      operationId: getVerifiedClaimsByTransactionId\n  /transactions/{id}/subscribe:\n    parameters:\n      - $ref: \"#/components/parameters/transactionIdInPathParameter\"\n    post:\n      summary: Create a new webhook subscription for this transaction\n      tags:\n        - transactions\n      operationId: transactionwebhookSubscribe\n      responses:\n        \"201\":\n          description: Created\n        \"400\":\n          description: Bad Request\n        \"401\":\n          description: Unauthorized\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                callbackUrl:\n                  type: string\n                  format: uri\n      callbacks:\n        newClaims:\n          \"{$request.body#/callbackUrl}\":\n            post:\n              requestBody:\n                required: true\n                content:\n                  application/json:\n                    schema:\n                      $ref: https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-verified-claims.json\n              responses:\n                \"200\":\n                  description: Please send a 200 response to acknowledge the callback and prevent retries\n    delete:\n      summary: Delete webhook\n      tags:\n        - transactions\n      operationId: transactionwebhookUnsubscribe\n      responses:\n        \"200\":\n          description: OK\n      description: Delete webhook for this UPRN for the current authenticated user, if any\ncomponents:\n  parameters:\n    transactionIdInPathParameter:\n      required: true\n      name: id\n      in: path\n      schema:\n        type: string\n        format: uuid\n      description: Unique identifier for the transaction\n    uprn:\n      name: uprn\n      in: query\n      schema:\n        type: string\n      description: Unique Property Reference Number\n    transactionStatus:\n      name: status\n      in: query\n      schema:\n        type: string\n        enum: [active, completed, cancelled]\n      description: Transaction status\n  schemas:\n    transaction-response:\n      type: object\n      description: Transaction response\n      properties:\n        $schema: \n          type: \"string\"\n          example: \"https://homebuyingandsellinggroup.co.uk/schemas/pdtf-transaction.json\"\n        transactionId:\n          title: \"UUID for the transaction\"\n          type: \"string\"\n          format: \"uuid\"",
			"canonicalURL": "/github.com/Property-Data-Trust-Framework/api@6e47f96cb00ad457614bfe91972e98dbd84c97c8/-/blob/pdtf-api-1.2.0.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/Property-Data-Trust-Framework/api/blob/6e47f96cb00ad457614bfe91972e98dbd84c97c8/pdtf-api-1.2.0.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/transactions/search\": get: operation \"getTransactions\": responses: 200: content: application/json: schema: parse schema: at pdtf-api-1.2.0.yaml:56:23: $ref: resolve \"https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-transaction-search-results.json\": get \"https://raw.githubusercontent.com/Property-Data-Trust-Framework/schemas/master/src/schemas/pdtf-transaction-search-results.json\": https: bad HTTP code 404 (Not Found)"
}