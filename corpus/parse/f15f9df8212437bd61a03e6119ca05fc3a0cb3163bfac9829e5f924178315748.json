{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/DFE-Digital/apply-for-teacher-training"
		},
		"file": {
			"name": "draft.yml",
			"size": 0,
			"path": "config/vendor_api/draft.yml",
			"byteSize": 24204,
			"content": "---\nopenapi: 3.0.0\ninfo:\n  version: v1.1\n  title: Apply API\n  contact:\n    name: DfE\n    email: becomingateacher@digital.education.gov.uk\n  description: |\n    API for DfE’s Apply for teacher training service.\n    Endpoints with the `/applications` prefix are considered stable.\n    Experimental endpoints prefixed with `/test-data` may change or be removed.\nservers:\n- description: Sandbox (test environment for vendors)\n  url: https://sandbox.apply-for-teacher-training.service.gov.uk/api/v1.1\n- description: Production\n  url: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1\npaths:\n  \"/applications\":\n    get:\n      tags:\n      - Application management\n      summary: Get many applications\n      description: |\n        This endpoint can be used to retrieve applications for the authenticating\n        provider. Applications are returned with the most recently updated ones first.\n\n        Use the `since` parameter to limit the number of results. This is intended\n        to make it possible to check for new or updated applications regularly.\n      parameters:\n      - name: since\n        description: Include only applications changed or created on or since a date\n          and time. Times should be in ISO 8601 format.\n        in: query\n        required: true\n        example: 2019-12-13T12:00:00Z\n        schema:\n          type: string\n          format: date-time\n      - name: page\n        description: Page number\n        in: query\n        required: false\n        example: 1\n        schema:\n          type: integer\n      - name: per_page\n        description: Number of records to return per page (e.g. 50)\n        in: query\n        required: false\n        example: 100\n        schema:\n          type: integer\n      responses:\n        '200':\n          description: An array of applications\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/MultipleApplicationsResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '422':\n          \"$ref\": \"#/components/responses/ParameterMissing\"\n  \"/applications/{application_id}\":\n    get:\n      tags:\n      - Application management\n      summary: Get a single application\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/defer-offer\":\n    post:\n      tags:\n      - Application management\n      summary: Defer an offer\n      description: |\n        Defers an offer to the next cycle.\n\n        This will transition the application to the [offer\\_deferred state](/api-docs/lifecycle#offer_deferred).\n        The fields `offer_deferred_at`, `status_before_deferral` and `deferred_to_recruitment_cycle_year` will be populated.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - meta\n              properties:\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/confirm-deferred-offer\":\n    post:\n      tags:\n      - Application management\n      summary: Confirm a deferred offer\n      description: |\n        Confirms a deferred offer from the previous cycle to the current one.\n        This call only succeeds if the same course, location and study_mode combination\n        is available in the current recruitment cycle, otherwise it will return a 422.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - data\n                - meta\n              properties:\n                data:\n                  \"$ref\": \"#/components/schemas/ConfirmDeferredOffer\"\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/withdraw\":\n    post:\n      tags:\n      - Application management\n      summary: Withdraw an application\n      description: |\n        Withdraws an application or declines an offer at the candidate’s request.\n\n        This will transition the application to the [withdrawn state](/api-docs/lifecycle#withdrawn) or the [declined state](/api-docs/lifecycle#declined).\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - meta\n              properties:\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/interviews/create\":\n    post:\n      tags:\n      - Interview management\n      summary: Create interview\n      description: |\n        Creates a new interview for this application.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      requestBody:\n        description: Interview details\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - data\n                - meta\n              properties:\n                data:\n                  \"$ref\": \"#/components/schemas/CreateInterview\"\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/interviews/{interview_id}/update\":\n    post:\n      tags:\n      - Interview management\n      summary: Update interview\n      description: |\n        Updates an existing interview for this application.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      - \"$ref\": \"#/components/parameters/interview_id\"\n      requestBody:\n        description: Interview details\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - meta\n                - data\n              properties:\n                data:\n                  \"$ref\": \"#/components/schemas/UpdateInterview\"\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/interviews/{interview_id}/cancel\":\n    post:\n      tags:\n      - Interview management\n      summary: Cancel interview\n      description: |\n        Cancels an existing interview for this application.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      - \"$ref\": \"#/components/parameters/interview_id\"\n      requestBody:\n        description: Interview details\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - data\n                - meta\n              properties:\n                data:\n                  \"$ref\": \"#/components/schemas/CancelInterview\"\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\n  \"/applications/{application_id}/notes/create\":\n    post:\n      tags:\n      - Note management\n      summary: Create note\n      description: |\n        Creates a new note for this application.\n        The `updated_at` timestamp will be set to the time of the API call.\n        Its author details will be read from the attribution part of MetaData.\n      parameters:\n      - \"$ref\": \"#/components/parameters/application_id\"\n      requestBody:\n        description: Note details\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - meta\n                - data\n              properties:\n                data:\n                  \"$ref\": \"#/components/schemas/CreateNote\"\n                meta:\n                  \"$ref\": \"#/components/schemas/MetaData\"\n      responses:\n        '200':\n          description: An application\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SingleApplicationResponse\"\n        '401':\n          \"$ref\": \"#/components/responses/Unauthorized\"\n        '404':\n          \"$ref\": \"#/components/responses/NotFound\"\n        '422':\n          \"$ref\": \"#/components/responses/UnprocessableEntity\"\ncomponents:\n  responses:\n    PageParameterInvalidResponse:\n      description: Returned when the parameter was invalid\n      content:\n        application/json:\n          schema:\n            \"$ref\": \"#/components/schemas/PageParameterInvalidResponse\"\n    PerPageParameterInvalidResponse:\n      description: Returned when the parameter was invalid\n      content:\n        application/json:\n          schema:\n            \"$ref\": \"#/components/schemas/PerPageParameterInvalidResponse\"\n  schemas:\n    MultipleApplicationsResponse:\n      type: object\n      required:\n      - data\n      - links\n      - meta\n      properties:\n        data:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Application\"\n        links:\n          \"$ref\": \"#/components/schemas/Links\"\n        meta:\n          \"$ref\": \"#/components/schemas/ResponseMetaMultiple\"\n    SingleApplicationResponse:\n      type: object\n      required:\n      - data\n      - meta\n      properties:\n        data:\n          \"$ref\": \"#/components/schemas/Application\"\n        meta:\n          \"$ref\": \"#/components/schemas/ResponseMetaSingle\"\n    ApplicationAttributes:\n      type: object\n      additionalProperties: false\n      required:\n      - application_url\n      - support_reference\n      - candidate\n      - phase\n      - contact_details\n      - course\n      - offer\n      - notes\n      - personal_statement\n      - interview_preferences\n      - qualifications\n      - references\n      - rejection\n      - status\n      - withdrawn_or_declined_for_candidate\n      - submitted_at\n      - updated_at\n      - reject_by_default_at\n      - recruited_at\n      - withdrawal\n      - further_information\n      - work_experience\n      - safeguarding_issues_status\n      - safeguarding_issues_details_url\n      properties:\n        interviews:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Interview\"\n        notes:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Note\"\n        withdrawn_or_declined_for_candidate:\n          type: boolean\n          nullable: true\n          description: Was application withdrawn or offer declined at candidate’s request\n          example: true\n    CreateInterview:\n      type: object\n      additionalProperties: false\n      required:\n      - provider_code\n      - date_and_time\n      - location\n      properties:\n        provider_code:\n          type: string\n          description: The provider’s code. This must correspond to either the training or the ratifying provider for the application and the course applied to.\n          example: 2FR\n          maxLength: 3\n        date_and_time:\n          type: string\n          format: date-time\n          description: Date and time of the interview\n          example: 2019-09-18T15:33:49.216Z\n        location:\n          type: string\n          description: |\n            A string describing where or how the interview will take place.\n          example: 'Zoom call'\n          maxLength: 10240\n        additional_details:\n          type: string\n          description: |\n            Optional string for additional notes.\n          example: 'Candidate requires a parking space'\n          maxLength: 10240\n    UpdateInterview:\n      type: object\n      additionalProperties: false\n      properties:\n        provider_code:\n          type: string\n          description: The provider’s code. This must correspond to either the training or the ratifying provider for the application and the course applied to.\n          example: 2FR\n          maxLength: 3\n        date_and_time:\n          type: string\n          format: date-time\n          description: Date and time of the interview\n          example: 2019-09-18T15:33:49.216Z\n        location:\n          type: string\n          description: |\n            An optional string describing where or how the interview will take place.\n          example: 'Zoom call'\n          maxLength: 10240\n        additional_details:\n          type: string\n          description: |\n            Optional string for additional notes.\n          example: 'Candidate requires a parking space'\n          maxLength: 10240\n    CancelInterview:\n      type: object\n      additionalProperties: false\n      required:\n      - reason\n      properties:\n        reason:\n          type: string\n          description: The reason for the cancellation. If none are yet provided for an application rejected by default, the value `Not entered` is returned\n          maxLength: 2000\n          example: The candidate has accepted an alternative offer\n    Interview:\n      type: object\n      additionalProperties: false\n      required:\n      - id\n      - provider_code\n      - date_and_time\n      - location\n      - created_at\n      - updated_at\n      properties:\n        id:\n          type: string\n          description: |\n            The unique ID of this interview. Automatically generated by our service.\n          maxLength: 18\n          example: 11fc0d3b2f\n        provider_code:\n          type: string\n          description: The provider’s code. This must correspond to either the training or the ratifying provider for the application and the course applied to.\n          example: 2FR\n          maxLength: 3\n        date_and_time:\n          type: string\n          format: date-time\n          description: Date and time of the interview\n          example: 2019-09-18T15:33:49.216Z\n        location:\n          type: string\n          description: |\n            An optional string describing where or how the interview will take place.\n          example: 'Zoom call'\n          maxLength: 10240\n        additional_details:\n          type: string\n          nullable: true\n          description: |\n            Optional string for additional notes.\n          example: 'Candidate requires a parking space'\n          maxLength: 10240\n        cancelled_at:\n          type: string\n          nullable: true\n          format: date-time\n          description: Date and time of cancellation, if cancelled.\n          example: 2019-09-18T16:33:49.216Z\n        cancellation_reason:\n          type: string\n          nullable: true\n          description: The reason for the cancellation. If none are yet provided for an application rejected by default, the value `Not entered` is returned\n          example: 'Candidate has accepted an alternative offer'\n          maxLength: 2000\n        created_at:\n          type: string\n          format: date-time\n          description: Date and time the original interview was created\n          example: 2019-09-18T16:33:49.216Z\n        updated_at:\n          type: string\n          format: date-time\n          description: Date and time the interview was updated\n          example: 2019-09-18T16:33:49.216Z\n    CreateNote:\n      type: object\n      additionalProperties: false\n      required:\n      - message\n      properties:\n        message:\n          type: string\n          description: The content of the note\n          example: 'This candidate can only interview remotely'\n          maxLength: 500\n    Note:\n      type: object\n      additionalProperties: false\n      required:\n      - id\n      - message\n      - created_at\n      - updated_at\n      - author\n      properties:\n        id:\n          type: string\n          description: |\n            The unique ID of this note. Automatically generated by our service.\n          example: 123456\n          maxLength: 18\n        message:\n          type: string\n          description: The content of the note\n          example: 'This candidate can only interview remotely'\n          maxLength: 500\n        created_at:\n          type: string\n          format: date-time\n          description: Date and time the original note was created\n          example: 2019-09-18T15:33:49.216Z\n        updated_at:\n          type: string\n          format: date-time\n          description: Date and time the note was updated\n          example: 2019-09-18T15:33:49.216Z\n        author:\n          type: string\n          description: Author’s name\n          example: John Smith\n          maxLength: 100\n    Offer:\n      type: object\n      additionalProperties: false\n      required:\n      - conditions\n      - course\n      - status_before_deferral\n      - offer_made_at\n      - offer_accepted_at\n      - offer_declined_at\n      - offer_deferred_at\n      properties:\n        status_before_deferral:\n          type: string\n          nullable: true\n          description: Application status before the deferral (pending_conditions or recruited)\n          enum:\n          - pending_conditions\n          - recruited\n          maxLength: 30\n          example: pending_conditions\n        deferred_to_recruitment_cycle_year:\n          type: integer\n          nullable: true\n          description: The recruitment cycle year a deferred application can be confirmed\n          example: 2020\n        offer_deferred_at:\n          type: string\n          format: date-time\n          nullable: true\n          description: When this application was deferred\n          example: 2019-06-10T23:59:59Z\n    ConfirmDeferredOffer:\n      type: object\n      additionalProperties: false\n      required:\n      - conditions_met\n      properties:\n        conditions_met:\n          type: boolean\n          description: Determines the status of the confirmed deferred application (recruited vs. pending_conditions)\n          example: true\n    Links:\n      type: object\n      description: Links to navigate through the paginated results\n      additionalProperties: false\n      required:\n      - first\n      - last\n      - prev\n      - self\n      - next\n      properties:\n        first:\n          type: string\n          description: The first page of the results\n          example: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1/applications?since=2021-10-20T12:00:00Z\u0026page=1\n        last:\n          type: string\n          description: The last page of the results\n          example: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1/applications?since=2021-10-20T12:00:00Z\u0026page=20\n        prev:\n          type: string\n          description: The previous page of the results\n          example: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1/applications?since=2021-10-20T12:00:00Z\u0026page=1\n        self:\n          type: string\n          description: The current page of the results\n          example: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1/applications?since=2021-10-20T12:00:00Z\u0026page=2\n        next:\n          type: string\n          description: The next page of the results\n          example: https://www.apply-for-teacher-training.service.gov.uk/api/v1.1/applications?since=2021-10-20T12:00:00Z\u0026page=3\n    ResponseMetaMultiple:\n      type: object\n      description: API version and count metadata in multiple application responses\n      additionalProperties: false\n      required:\n      - api_version\n      - timestamp\n      - total_count\n      properties:\n        api_version:\n          type: string\n          description: API version that produced this response\n          example: 'v1.1'\n        timestamp:\n          type: string\n          format: date-time\n          description: When this response was generated\n          example: 2021-12-01T11:03:12Z\n        total_count:\n          type: integer\n          description: Total number of changed applications for this `since` value\n          example: 1000\n    ResponseMetaSingle:\n      type: object\n      description: API version and count metadata in single application responses\n      additionalProperties: false\n      required:\n      - api_version\n      - timestamp\n      properties:\n        api_version:\n          type: string\n          description: API version that produced this response\n          example: 'v1.1'\n        timestamp:\n          type: string\n          format: date-time\n          description: When this response was generated\n          example: 2021-12-01T11:03:12Z\n    PageParameterInvalidResponse:\n      type: object\n      required:\n      - errors\n      properties:\n        errors:\n          type: array\n          minItems: 1\n          description: Error objects describing the problem\n          items:\n            \"$ref\": \"#/components/schemas/Error\"\n          example:\n          - error: PageParameterInvalid\n            message: \"expected 'page' parameter to be between 1 and 1, got 2\"\n    PerPageParameterInvalidResponse:\n      type: object\n      required:\n      - errors\n      properties:\n        errors:\n          type: array\n          minItems: 1\n          description: Error objects describing the problem\n          items:\n            \"$ref\": \"#/components/schemas/Error\"\n          example:\n          - error: PerPageParamterInvalid\n            message: \"the 'per_page' parameter cannot exceed 100 results per page\"\n  parameters:\n    interview_id:\n      name: interview_id\n      in: path\n      required: true\n      description: The unique ID of this interview\n      schema:\n        type: string\n",
			"canonicalURL": "/github.com/DFE-Digital/apply-for-teacher-training@5ea59f3fc227a859cf9552a0d2b08674a8b1cce3/-/blob/config/vendor_api/draft.yml",
			"externalURLs": [
				{
					"url": "https://github.com/DFE-Digital/apply-for-teacher-training/blob/5ea59f3fc227a859cf9552a0d2b08674a8b1cce3/config/vendor_api/draft.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"PageParameterInvalidResponse\": parse schema: property \"errors\": parse schema: parse schema: at 1:8116: find schema: resolve: can't find value for \"components/schemas/Error\""
}