{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/NaturalHistoryMuseum/ckanext-versioned-datastore"
		},
		"file": {
			"name": "v1.0.0.yml",
			"size": 0,
			"path": "ckanext/versioned_datastore/theme/public/querySchemas/v1.0.0/v1.0.0.yml",
			"byteSize": 4073,
			"content": "openapi: 3.0.0\ninfo:\n  title: Data Portal Datastore Multisearch API\n  description: API for querying the Data Portal datastore\n  version: v1.0.0\nservers:\n  - url: https://data.nhm.ac.uk/api/3/action\npaths:\n  /datastore_multisearch:\n    post:\n      summary: Search for records across all or a selection of resources in one query\n      requestBody:\n        required: false\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                resource_ids:\n                  type: array\n                  items:\n                    type: string\n                  description: \u003e\n                    The resource ids to search. If this value is missing or an empty array then all\n                    resources are queried. Only resources available to the searching user are\n                    queried.\n                query:\n                  type: object\n                  description: The query to run.\n                  $ref: 'v1.0.0.json'\n                size:\n                  type: integer\n                  minimum: 0\n                  maximum: 1000\n                  description: The number of records to return in each result set.\n                after:\n                  type: array\n                  description: \u003e\n                    Provides pagination. By passing a previous result set's `after` value, the next\n                    page's results can be found. If not provided then the first page is retrieved.\n                version:\n                  type: integer\n                  minimum: 0\n                  description: \u003e\n                    The version to search at, if not provided the current version of the data is\n                    searched. This value should be a time represented as the number of milliseconds\n                    (not seconds!) since UNIX epoch.\n                query_version:\n                  type: string\n                  enum: ['v1.0.0']\n                  description: \u003e\n                    The version of the query schema in use by the value in the query parameter. If\n                    this value isn't provided then the latest version is used.\n                top_resources:\n                  type: boolean\n                  default: false\n                  description: \u003e\n                    If this value is set to `true` then the result set will contain a\n                    `top_resources` value which will list the resources with the most records found\n                    by the query. The top 10 resources and how many records were found in each are\n                    returned.\n            examples:\n              simple_and:\n                summary: A simple and search with two terms\n                value:\n                  $ref: 'examples/3.json'\n      responses:\n        '409':\n          description: Validation error response\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  error:\n                    type: object\n        '200':\n          description: A JSON object containing the records found\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  result:\n                    type: object\n                    properties:\n                      records:\n                        type: array\n                        items:\n                          type: object\n                          properties:\n                            resource:\n                              type: string\n                            data:\n                              type: object\n                      total:\n                        type: integer\n                      resources:\n                        type: array\n                        items:\n                          type: object\n                      after:\n                        type: array\n",
			"canonicalURL": "/github.com/NaturalHistoryMuseum/ckanext-versioned-datastore@13589fd99975d6ed771670d8827d80416fef530e/-/blob/ckanext/versioned_datastore/theme/public/querySchemas/v1.0.0/v1.0.0.yml",
			"externalURLs": [
				{
					"url": "https://github.com/NaturalHistoryMuseum/ckanext-versioned-datastore/blob/13589fd99975d6ed771670d8827d80416fef530e/ckanext/versioned_datastore/theme/public/querySchemas/v1.0.0/v1.0.0.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/datastore_multisearch\": post: requestBody: parse content: application/json: schema: parse schema: property \"query\": parse schema: at 1:596: external \"v1.0.0.json\": get: file: local file reference is not allowed"
}