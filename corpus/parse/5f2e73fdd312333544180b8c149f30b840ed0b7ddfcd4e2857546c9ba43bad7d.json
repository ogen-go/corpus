{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/eclipse/kapua"
		},
		"file": {
			"name": "authentication.yaml",
			"size": 0,
			"path": "rest-api/resources/src/main/resources/openapi/authentication/authentication.yaml",
			"byteSize": 5199,
			"content": "openapi: 3.0.2\n\ninfo:\n  title: Eclipse Kapua REST API - Authentication\n  version: '1.0'\n  contact:\n    name: Eclipse Kapua Dev Team\n    url: https://eclipse.org/kapua\n    email: kapua-dev@eclipse.org\n  license:\n    name: Eclipse Public License 2.0\n    url: https://www.eclipse.org/legal/epl-2.0\n\npaths: { }\n\ncomponents:\n  schemas:\n    accessToken:\n      allOf:\n        - $ref: '../openapi.yaml#/components/schemas/kapuaUpdatableEntity'\n        - type: object\n          properties:\n            userId:\n              $ref: '../openapi.yaml#/components/schemas/kapuaId'\n            tokenId:\n              $ref: '#/components/schemas/jwt'\n            expiresOn:\n              type: string\n              format: 'date-time'\n            invalidatedOn:\n              type: string\n              format: 'date-time'\n            refreshToken:\n              type: string\n              format: uuid\n            refreshExpiresOn:\n              type: string\n              format: 'date-time'\n            trustKey:\n              type: string\n              description: A long-lived key to be used within an authentication with MFA from a trusted machine\n              pattern: '^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$'\n    loginInfo:\n      type: object\n      properties:\n        accessPermission:\n          type: array\n          items:\n            $ref: '../accessInfo/accessInfo.yaml#/components/schemas/accessPermission'\n        accessToken:\n          $ref: '#/components/schemas/accessToken'\n        rolePermissions:\n          type: array\n          items:\n            $ref: '../role/role.yaml#/components/schemas/rolePermission'\n      example:\n        type: loginInfo\n        accessPermission:\n          - id: Jfzafs5eUuw\n            scopeId: AQ\n            createdOn: '2019-11-15T14:43:11.451Z'\n            createdBy: AQ\n            accessInfoId: IKfvOdNER6M\n            permission:\n              domain: datastore\n              action: read\n              targetScopeId: AQ\n              forwardable: false\n        accessToken:\n          id: RSP1npB7wZ4\n          scopeId: AQ\n          createdOn: '2019-11-15T14:43:27.547Z'\n          createdBy: UlM9TGpJJ-g\n          modifiedOn: '2019-11-15T14:43:27.547Z'\n          modifiedBy: UlM9TGpJJ-g\n          optlock: 1\n          tokenId: eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwczovL3d3dy5lY2xpcHNlLm9yZy9rYXB1YSIsImlhdCI6MTU3MzgyOTAwNywiZXhwIjoxNTczODMwODA3LCJzdWIiOiJVbE05VEdwSkotZyIsInNJZCI6IkFRIn0.LgVFKAl1Ftd3g81MhtUglee5JjCqd-gGjilj1UAkDbKs4Xwgo1j9V-CBVPF4aop3r0x80U9YaVthYoPEikG2v4QaRHl7UGeikWOHk4g0lpeFCZvS_Kcag6VgbfYKKXd2C2ivtQE3enjZIUEz2UTEXz3KrcizuvgO4SP_PEz5hGkjqfbV2l1IM--_E8LQRBQoD7ixpGajaUlcrNlLsJcNgy8hRgyNp_Bqbyosd4oBttC4oDIyVA9Wmgq8aXUwFl7SZ42Kd4RIUUlMg-aAIAzWXVMQ2kCY1jYy7eNUmLszWdmPjMZsKbFcB5asXXYiHvZ_zy0x9AHFRnFte721ESjG3NLlvx8UKOWLFBkmlbvgPLd5fhlzTzim57ddpTjJpRsTM123VSwKL6Ul3ZZKiADrBVi4By-C4BhIkS9hVfa-HzfWlQKUOJvpa7PuUuRT1XzxxSTwIjgE4XuNdxHRqJpJPg0XtAuN67KXhmXjeQUaDi05GvpV3VyhtO6_GjjoLRd934N2hBdgS6FLIYkxBVMNSyqzjg9QO_A6Yzul5JK8T6H-f7ZhlYsx3trkWw0I9jetQguPveChFY0xbeTHSW0PwyNpyXKBzIUQhwCH2zoI9LxUy7TV7yn5wN3IW5MocnOXtKG49BTIbslT4eccoTWhtFQafGu8OF0TN-QyMf0eGTQ\n          userId: UlM9TGpJJ-g\n          expiresOn: '2019-11-15T15:13:27.506Z'\n          refreshToken: e8a53e18-0c6b-4f3c-9929-409069a9c66e\n          refreshExpiresOn: '2019-11-15T19:43:27.506Z'\n        rolePermission:\n          - id: a716DxmV9TI\n            scopeId: AQ\n            createdOn: '2019-11-15T14:42:28.859Z'\n            createdBy: AQ\n            roleId: OgkB8tR0kF4\n            permission:\n              domain: device\n              action: read\n              targetScopeId: AQ\n              forwardable: false\n          - id: O0X0yIQo6NU\n            scopeId: AQ\n            createdOn: '2019-11-15T14:42:04.153Z'\n            createdBy: AQ\n            roleId: EUkieLf-Y8M\n            permission:\n              domain: user\n              targetScopeId: AQ\n              forwardable: false\n    usernamePasswordCredentials:\n      allOf:\n      - type: object\n        properties:\n          user:\n            $ref: '#/components/schemas/username'\n          password:\n            $ref: '#/components/schemas/password'\n          authenticationCode:\n            $ref: '#/components/schemas/authenticationCode'\n          trustKey:\n            $ref: '#/components/schemas/trustKey'\n          trustMe:\n            type: boolean\n            description: Whether to generate a TrustKey or not.\n    username:\n      type: string\n      description: the username of the user\n      pattern: '^[a-zA-Z0-9\\_\\-]{3,}$'\n    password:\n      type: string\n      description: the password of the user\n      pattern: '^.*(?=.{12,})(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!\\\"\\#$%\u0026''()*+,\\-./:;\u003c=\u003e?@\\[\\]\\\\^_`{|}~]).*$'\n    authenticationCode:\n      type: string\n      description: The MFA authentication code\n      pattern: '^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$'\n    trustKey:\n      type: string\n      description: A long-lived key to be used within an authentication with MFA from a trusted machine\n      pattern: '^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$'\n    jwt:\n      type: string\n      pattern: '^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$'\n",
			"canonicalURL": "/github.com/eclipse/kapua@f07cd53ecb271c305963937965745e7f9a903c7d/-/blob/rest-api/resources/src/main/resources/openapi/authentication/authentication.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/eclipse/kapua/blob/f07cd53ecb271c305963937965745e7f9a903c7d/rest-api/resources/src/main/resources/openapi/authentication/authentication.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"accessToken\": parse schema: allOf: [0]: parse schema: resolve \"../openapi.yaml#/components/schemas/kapuaUpdatableEntity\": external \"../openapi.yaml\": file: local file reference is not allowed"
}