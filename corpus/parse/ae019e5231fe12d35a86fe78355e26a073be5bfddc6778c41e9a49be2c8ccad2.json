{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/dcsaorg/DCSA-OpenAPI"
		},
		"file": {
			"name": "ovs_event_hub.yaml",
			"size": 0,
			"path": "ovs_event_hub/v2/ovs_event_hub.yaml",
			"byteSize": 20876,
			"content": "openapi: 3.0.3\r\ninfo:\r\n  version: 2.0.0\r\n  title: DCSA Operational Vessel Schedules (OVS) Event Hub\r\n  description: |\r\n    Managing and sending Transport- and Operations- Events and subscriptions for OVS. It is recomended (but not required) that implementors of the \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/DCSA_OVS'\u003eOperational Vessel Schedules (OVS) API\u003c/a\u003e also implements this API.\r\n    \r\n#    This API is a subset of \u003ca href='https://app.swaggerhub.com/apis/dcsaorg/EVENT_HUB'\u003eDCSA Event Hub\u003c/a\u003e which can send and manage all DCSA defined Events.\r\ntags:\r\n  - name: Events\r\n    description: Event operations\r\n  - name: Subscriptions\r\n    description: Subscription operations\r\n  - name: Secret\r\n    description: Update secret\r\npaths:\r\n  /v2/events:\r\n    get:\r\n      tags:\r\n        - Events\r\n      summary: Find Transport and Operations events.\r\n      description: |\r\n        Returns Transport and Operations events filtered by the queryParameters.\r\n        \r\n        \u003cb\u003eNB\u003c/b\u003e\u0026#58; It is possible to combine queryParameters. When combining queryParameters be aware that it is also possible to make combinations that are mutual contradicting.\r\n        \r\n        Example\u0026#58; \u003ci\u003etransportEventTypeCode=ARRI and operationsEventTypeCode=DEPA\u003c/i\u003e\r\n        \r\n        Since there is no event that can be a TransportEvent \u003cu\u003eand\u003c/u\u003e an OperationsEvent at the same time \u003cb\u003ethis will return an empty list\u003cb\u003e!\r\n      parameters:\r\n        - name: eventType\r\n          in: query\r\n          description: |\r\n            The type of event(s) to filter by. Possible values are\r\n            \r\n            - TRANSPORT (Transport events)\r\n            - OPERATIONS (Operations events)\r\n            \r\n            It is possible to select multiple values by comma (,) separating them. For multiple values the OR-operator is used. For example eventType=TRANSPORT,OPERATIONS matches both Transport- and Operations-events.\r\n            \r\n            Default value is all event types.\r\n          required: false\r\n          style: form\r\n          explode: false\r\n          schema:\r\n            type: array\r\n            items:\r\n              type: string\r\n              enum:\r\n                - TRANSPORT\r\n                - OPERATIONS\r\n\r\n        # Chunk with Transport related event parameters\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/transportEventTypeCode'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/transportCallID'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/vesselIMONumber'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/carrierVoyageNumber'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/carrierServiceCode'\r\n\r\n        # Chunk with Operations related event parameters\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/operationsEventTypeCode'\r\n\r\n        # Chunk with base event parameters\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/eventCreatedDateTime'\r\n        # Removed for now as this is now yet approved by SMEs\r\n        # Specialized version of eventClassifierCode containing REQ (Requested) as enum value\r\n        # - in: query\r\n        #   name: eventClassifierCode\r\n        #   explode: false\r\n        #   style: form\r\n        #   description: |\r\n        #     Unique identifier for equipmentEventTypeCode.\r\n        #     - ACT (Actual)\r\n        #     - PLN (Planned)\r\n        #     - EST (Estimated)\r\n        #     - REQ (Requested)\r\n    \r\n        #     It is possible to select multiple values by comma (,) separating them. For multiple values the OR-operator is used. For example \u003ci\u003eeventClassifierCode=EST,ACT\u003c/i\u003e matches \u003cb\u003eboth\u003c/b\u003e Estimated (EST) and Actual (ACT) events.\r\n            \r\n        #     Default is all eventClassifierCodes.\r\n            \r\n        #     Be aware that not all events support REQ (Requested).\r\n        #   example: EST,ACT\r\n        #   schema:\r\n        #     type: array\r\n        #     items:\r\n        #       type: string\r\n        #       description: |\r\n        #         Code for the event classifier. Values can vary depending on eventType\r\n        #         - PLN (Planned)\r\n        #         - ACT (Actual)\r\n        #         - REQ (Requested)\r\n        #         - EST (Estimated)\r\n        #       enum:\r\n        #         - PLN\r\n        #         - ACT\r\n        #         - REQ\r\n        #         - EST\r\n        #       example: ACT\r\n\r\n        # Chunk with Global related event parameters\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/limit'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/cursor'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      responses:\r\n        '200':\r\n          description: Successful operation\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n            Current-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Current-Page'\r\n            Next-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Next-Page'\r\n            Prev-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Prev-Page'\r\n            Last-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Last-Page'\r\n            First-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/First-Page'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  anyOf:\r\n                    - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/operationsEvent'\r\n                    - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/operationsTransportEvent'\r\n              example: [{\r\n                \"eventID\": \"84db923d-2a19-4eb0-beb5-446c1ec57d34\",\r\n                \"eventCreatedDateTime\": \"2021-01-09T14:12:56+01:00\",\r\n                \"eventType\": \"TRANSPORT\",\r\n                \"eventClassifierCode\": \"ACT\",\r\n                \"eventDateTime\": \"2019-11-12T07:41:00+08:30\",\r\n                \"transportEventTypeCode\": \"ARRI\",\r\n                \"delayReasonCode\": \"WEA\",\r\n                \"changeRemark\": \"Bad weather\",\r\n                \"transportCall\": {\r\n                  \"transportCallID\": \"123e4567-e89b-12d3-a456-426614174000\",\r\n                  \"carrierServiceCode\": \"FE1\",\r\n                  \"carrierVoyageNumber\": \"2103S\",\r\n                  \"transportCallSequenceNumber\": \"2103S\",\r\n                  \"UNLocationCode\": \"USNYC\",\r\n                  \"facilityCode\": \"ADT\",\r\n                  \"facilityCodeListProvider\": \"SMDG\",\r\n                  \"facilityTypeCode\": \"POTE\",\r\n                  \"otherFacility\": \"Depot location or address\",\r\n                  \"modeOfTransport\": \"VESSEL\",\r\n                  \"vessel\": {\r\n                    \"vesselIMONumber\": 9321483,\r\n                    \"vesselName\": \"King of the Seas\"\r\n                  }\r\n                }\r\n              }]\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n\r\n\r\n  /v2/event-subscriptions:\r\n    get:\r\n      tags:\r\n      - Subscriptions\r\n      summary: Receive a list of your active subscriptions\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/limit'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/cursor'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      responses:\r\n        '200':\r\n          description: Returns a list of subscriptions\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n            Current-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Current-Page'\r\n            Next-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Next-Page'\r\n            Prev-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Prev-Page'\r\n            Last-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/Last-Page'\r\n            First-Page:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/First-Page'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                type: array\r\n                items:\r\n                  $ref: '#/components/schemas/subscription'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n    post:\r\n      tags:\r\n      - Subscriptions\r\n      summary: Create a subscription\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      requestBody:\r\n        description: |\r\n          Parameters used to configure the subscription. It is possible to only receive cirtain types of events by adding filter values to the subscription.\r\n          \r\n          All values in the subscription body except\u0026#58; \u003ci\u003ecallback, secret and subscriptionID\u003c/i\u003e will be used as filters. All filters specified must be filfilled in order to match an Event. A logical \u003cb\u003eAND\u003c/b\u003e is used between filters. So\r\n          \r\n          \u003ci\u003etransportEventTypeCode=ARRI\u003cb\u003e\u0026\u003c/b\u003eeventType=TRANSPORT\u003c/i\u003e\r\n          \r\n          means that the events matched must both be Arrived (transportEventTypeCode=ARRI) \u003cb\u003eand\u003c/b\u003e be a TransportEvent (eventType=TRANSPORT)\r\n          \r\n          Filters that are specified as lists use logical \u003cb\u003eOR\u003c/b\u003e between list values. So\r\n          \r\n          \u003ci\u003eeventType=[OPERATIONS,TRANSPORT]\u003c/i\u003e\r\n          \r\n          means that \u003cb\u003eboth\u003c/b\u003e Operations- \u003cb\u003eand\u003c/b\u003e Transport-events will be matched by this subscription.\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/subscriptionBodyWithSecret'\r\n      responses:\r\n        '201':\r\n          description: Subscription created\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/subscription'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n      callbacks:\r\n        event:\r\n          '{$request.body.callbackUrl}':\r\n            post:   # Method\r\n              parameters:\r\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/subscriptionIDHeader'\r\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/notificationSignature'\r\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/apiVersion'\r\n              requestBody: # Contents of the callback message\r\n                required: true\r\n                content:\r\n                  application/json:\r\n                    schema:\r\n                      type: array\r\n                      items:\r\n                        anyOf:\r\n                          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/operationsEvent'\r\n                          - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/operationsTransportEvent'\r\n              responses:   # Expected responses to the callback message\r\n                '200':\r\n                  description: 'Your server returns this code if it accepts the callback'\r\n  /v2/event-subscriptions/{subscriptionID}:\r\n    get:\r\n      tags:\r\n      - Subscriptions\r\n      summary: Find a subscription by subscription ID\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/subscriptionID'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      responses:\r\n        '200':\r\n          description: Subscription returned\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/subscription'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n    delete:\r\n      tags:\r\n      - Subscriptions\r\n      summary: Stop a subscription, using the subscription ID\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/subscriptionID'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      responses:\r\n        '204':\r\n          description: Subscription stopped\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n    put:\r\n      tags:\r\n      - Subscriptions\r\n      summary: Alter a subscription\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/subscriptionID'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      requestBody:\r\n        description: Parameters used to configure the subscription\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: '#/components/schemas/subscription'\r\n      responses:\r\n        '200':\r\n          description: Subscription updated\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: '#/components/schemas/subscription'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n\r\n  /event-subscriptions/{subscriptionID}/secret:\r\n    put:\r\n      tags:\r\n      - Secret\r\n      summary: Resets the Secret on an existing subscription.\r\n      parameters:\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/parameters/subscriptionID'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/parameters/Api-Version-Major'\r\n      requestBody:\r\n        description: Parameters used to configure the subscription\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              allOf:\r\n                - type: object\r\n                  properties:\r\n                    secret:\r\n                      $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/secret'\r\n      responses:\r\n        '204':\r\n          description: Secret updated\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n        default:\r\n          description: Unexpected error\r\n          headers:\r\n            API-Version:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/DCSA_DOMAIN/1.0.2#/components/headers/API-Version'\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: 'https://api.swaggerhub.com/domains/dcsaorg/ERROR_DOMAIN/1.0.0#/components/schemas/error'\r\n\r\n\r\ncomponents:\r\n\r\n  ##############################\r\n  # All events and subscriptions\r\n  ##############################\r\n\r\n  schemas:\r\n    eventTypes:\r\n      type: array\r\n      description: |\r\n        List of eventType to filter by. If multiple values are selected - the OR-operator will be used.\r\n        \r\n        Possible values are\r\n        - TRANSPORT (Transport events)\r\n        - OPERATIONS (Operations events)\r\n        \r\n        Default is none as it will not filter on eventType if not specified.\r\n      example: [TRANSPORT,OPERATIONS]\r\n      items:\r\n        type: string\r\n        enum:\r\n        - TRANSPORT\r\n        - OPERATIONS\r\n    subscriptionBody:\r\n      type: object\r\n      allOf:\r\n        - type: object\r\n          properties:\r\n            callbackUrl:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.1#/components/schemas/callbackUrl'\r\n        - type: object\r\n          properties:\r\n            eventType:\r\n              $ref: '#/components/schemas/eventTypes'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/transportSubscriptionBody'\r\n        - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/operationsSubscriptionBody'\r\n      required:\r\n        - callbackUrl\r\n\r\n    subscriptionBodyWithSecret:\r\n      type: object\r\n      allOf:\r\n        - $ref: '#/components/schemas/subscriptionBody'\r\n        - type: object\r\n          properties:\r\n            secret:\r\n              allOf:\r\n                - $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.1.0#/components/schemas/secret'\r\n                - description: |\r\n                    A shared secret shared between the Publisher and the Subscriber. It is used to compute the contents of the Notification-Signature header.\r\n                    \r\n                    \u003cb\u003e\u003cu\u003eOnly\u003c/u\u003e\u003c/b\u003e valid in POST calls - anywhere else must be omitted!\r\n      required:\r\n        - secret\r\n\r\n    subscription:\r\n      type: object\r\n      allOf:\r\n        - type: object\r\n          properties:\r\n            subscriptionID:\r\n              $ref: 'https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.1#/components/schemas/subscriptionID'\r\n        - $ref: '#/components/schemas/subscriptionBody'"
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"subscriptionBody\": parse schema: allOf: [0]: parse schema: property \"callbackUrl\": parse schema: resolve \"https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.1#/components/schemas/callbackUrl\": find schema: external base \"https://api.swaggerhub.com/domains/dcsaorg/EVENT_DOMAIN/1.0.1\" is not supported"
}