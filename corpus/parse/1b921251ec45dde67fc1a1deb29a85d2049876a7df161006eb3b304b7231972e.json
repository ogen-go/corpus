{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/bangumi/server"
		},
		"file": {
			"name": "v0.yaml",
			"size": 0,
			"path": "openapi/v0.yaml",
			"byteSize": 70258,
			"content": "openapi: 3.0.2\ninfo:\n  title: \"\"\n  version: \"\"\n\ntags:\n  - name: \"条目\"\n  - name: \"章节\"\n  - name: \"角色\"\n  - name: \"人物\"\n  - name: \"用户\"\n  - name: \"收藏\"\n  - name: \"编辑历史\"\n  - name: \"目录\"\n\npaths:\n  \"/v0/search/subjects\":\n    post:\n      tags:\n        - 条目\n      summary: 条目搜索\n      operationId: searchSubjects\n      description: |\n        ## 实验性 API， 本 schema 和实际的 API 行为都可能随时发生改动\n\n        目前支持的筛选条件包括:\n        - `type`: 条目类型，参照 `SubjectType` enum， `或`。\n        - `tag`: 标签，可以多次出现。`且` 关系。\n        - `airdate`: 播出日期/发售日期。`且` 关系。\n        - `rating`: 用于搜索指定评分的条目。`且` 关系。\n        - `rank`: 用于搜索指定排名的条目。`且` 关系。\n        - `nsfw`: 使用 `include` 包含NSFW搜索结果。默认排除搜索NSFW条目。无权限情况下忽略此选项，不会返回NSFW条目。\n\n        不同筛选条件之间为 `且`\n\n        计划支持:\n        - 标记人数\n        - 评分人数\n      #        - 两人/多人合作作品\n      parameters:\n        - name: limit\n          in: query\n          description: 分页参数\n          required: false\n          schema:\n            type: integer\n        - name: offset\n          in: query\n          description: 分页参数\n          required: false\n          schema:\n            type: integer\n      requestBody:\n        content:\n          \"application/json\":\n            schema:\n              type: object\n              required:\n                - keyword\n              properties:\n                keyword:\n                  type: string\n                sort:\n                  enum:\n                    - \"match\"\n                    - \"heat\"\n                    - \"rank\"\n                    - \"score\"\n                  default: match\n                  type: string\n                  example: rank\n                  description: |\n                    排序规则\n\n                    - `match` meilisearch 的默认排序，按照匹配程度\n                    - `heat` 收藏人数\n                    - `rank` 排名由高到低\n                    - `score` 评分\n                filter:\n                  type: object\n                  description: 不同条件之间是 `且` 的关系\n                  properties:\n                    type:\n                      type: array\n                      items:\n                        $ref: \"#/components/schemas/SubjectType\"\n                      description: 条目类型，参照 `SubjectType` enum，多值之间为 `或` 的关系。\n                    tag:\n                      type: array\n                      items:\n                        type: string\n                      example:\n                        - 童年\n                        - 原创\n                      description: 标签，可以多次出现。多值之间为 `且` 关系。\n                    air_date:\n                      type: array\n                      items:\n                        type: string\n                      example:\n                        - \"\u003e=2020-07-01\"\n                        - \"\u003c2020-10-01\"\n                      description: 播出日期/发售日期，日期必需为 `YYYY-MM-DD` 格式。多值之间为 `且` 关系。\n                    rating:\n                      type: array\n                      items:\n                        type: string\n                      example:\n                        - \"\u003e=6\"\n                        - \"\u003c8\"\n                      description: 用于搜索指定评分的条目，多值之间为 `且` 关系。\n                    rank:\n                      type: array\n                      items:\n                        type: string\n                      example:\n                        - \"\u003e10\"\n                        - \"\u003c=18\"\n                      description: 用于搜索指定排名的条目，多值之间为 `且` 关系。\n                    nsfw:\n                      type: boolean\n                      description: |\n                        无权限的用户会直接忽略此字段，不会返回R18条目。\n\n                        默认或者 `null` 会返回包含 R18 的所有搜索结果。\n\n                        `true` 只会返回 R18 条目。\n\n                        `false` 只会返回非 R18 条目。\n\n      responses:\n        200:\n          description: 返回搜索结果\n          content:\n            application/json:\n              schema:\n                description: 用户信息\n                type: object\n                properties:\n                  total:\n                    description: 搜索结果数量\n                    type: integer\n                    example: 100\n                  limit:\n                    description: 当前分页参数\n                    type: integer\n                    example: 100\n                  offset:\n                    description: 当前分页参数\n                    type: integer\n                    example: 100\n                  data:\n                    type: array\n                    items:\n                      type: object\n                      required:\n                        - score\n                        - id\n                        - rank\n                        - tags\n                        - name\n                        - name_cn\n                        - image\n                        - date\n                        - summary\n                      properties:\n                        id:\n                          description: 条目ID\n                          type: integer\n                          example: 8\n                        type:\n                          $ref: \"#/components/schemas/SubjectType\"\n                        \"date\":\n                          \"type\": \"string\"\n                          description: 上映/开播/连载开始日期，可能为空字符串\n                        \"image\":\n                          \"type\": \"string\"\n                          format: url\n                          description: 封面\n                        summary:\n                          type: string\n                          description: 条目描述\n                        \"name\":\n                          \"type\": \"string\"\n                          description: 条目原名\n                        \"name_cn\":\n                          \"type\": \"string\"\n                          description: 条目中文名\n                        \"tags\":\n                          $ref: \"#/components/schemas/SubjectTags\"\n                        \"score\":\n                          description: 评分\n                          \"type\": \"number\"\n                        \"rank\":\n                          description: 排名\n                          \"type\": \"integer\"\n\n  \"/v0/subjects/{subject_id}\":\n    get:\n      tags:\n        - 条目\n      summary: 获取条目\n      description: cache with 300s\n      operationId: getSubjectById\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Subject\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/subjects/{subject_id}/image\":\n    get:\n      tags:\n        - 条目\n      summary: Get Subject Image\n      operationId: getSubjectImageById\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n        - required: true\n          description: 枚举值 {small|grid|large|medium|common}\n          schema:\n            title: Image Type\n            type: string\n          name: type\n          in: query\n      responses:\n        \"302\":\n          description: Successful Response\n          headers:\n            Location:\n              schema:\n                type: string\n              description: |-\n                图片链接\n                无图时返回默认图片 https://lain.bgm.tv/img/no_icon_subject.png\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/subjects/{subject_id}/persons\":\n    get:\n      tags:\n        - 条目\n      summary: Get Subject Persons\n      operationId: getRelatedPersonsBySubjectId\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/RelatedPerson\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/subjects/{subject_id}/characters\":\n    get:\n      tags:\n        - 条目\n      summary: Get Subject Characters\n      operationId: getRelatedCharactersBySubjectId\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/RelatedCharacter\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/subjects/{subject_id}/subjects\":\n    get:\n      tags:\n        - 条目\n      summary: Get Subject Relations\n      operationId: getRelatedSubjectsBySubjectId\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/v0_subject_relation\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/episodes\":\n    get:\n      tags:\n        - 章节\n      summary: Get Episodes\n      operationId: getEpisodes\n      parameters:\n        - $ref: \"#/components/parameters/query_subject_id\"\n        - description: 参照章节的`type`\n          required: false\n          schema:\n            allOf:\n              - \"$ref\": \"#/components/schemas/EpType\"\n            description: 参照章节的`type`\n            type: integer\n          name: type\n          in: query\n        - required: false\n          description: \"分页参数\"\n          schema:\n            title: Limit\n            maximum: 200\n            minimum: 1\n            type: integer\n            default: 100\n          name: limit\n          in: query\n        - required: false\n          description: \"分页参数\"\n          schema:\n            title: Offset\n            minimum: 0\n            type: integer\n            default: 0\n          name: offset\n          in: query\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_Episode\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/episodes/{episode_id}\":\n    get:\n      tags:\n        - 章节\n      summary: Get Episode\n      operationId: getEpisodeById\n      parameters:\n        - $ref: \"#/components/parameters/path_episode_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/EpisodeDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/characters/{character_id}\":\n    get:\n      tags:\n        - 角色\n      summary: Get Character Detail\n      description: cache with 60s\n      operationId: getCharacterById\n      parameters:\n        - $ref: \"#/components/parameters/path_character_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/CharacterDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/characters/{character_id}/image\":\n    get:\n      tags:\n        - 角色\n      summary: Get Character Image\n      operationId: getCharacterImageById\n      parameters:\n        - $ref: \"#/components/parameters/path_character_id\"\n        - required: true\n          description: 枚举值 {small|grid|large|medium}\n          schema:\n            title: Image Type\n            type: string\n          name: type\n          in: query\n      responses:\n        \"302\":\n          description: Successful Response\n          headers:\n            Location:\n              schema:\n                type: string\n              description: |-\n                图片链接\n                无图时返回默认图片 https://lain.bgm.tv/img/no_icon_subject.png\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/characters/{character_id}/subjects\":\n    get:\n      tags:\n        - 角色\n      summary: get character related subjects\n      operationId: getRelatedSubjectsByCharacterId\n      parameters:\n        - $ref: \"#/components/parameters/path_character_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/v0_RelatedSubject\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/characters/{character_id}/persons\":\n    get:\n      tags:\n        - 角色\n      summary: get character related persons\n      operationId: getRelatedPersonsByCharacterId\n      parameters:\n        - $ref: \"#/components/parameters/path_character_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/CharacterPerson\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/persons/{person_id}\":\n    get:\n      tags:\n        - 人物\n      summary: Get Person\n      description: cache with 60s\n      operationId: getPersonById\n      parameters:\n        - $ref: \"#/components/parameters/path_person_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/PersonDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/persons/{person_id}/image\":\n    get:\n      tags:\n        - 角色\n      summary: Get Person Image\n      operationId: getPersonImageById\n      parameters:\n        - $ref: \"#/components/parameters/path_person_id\"\n        - required: true\n          description: 枚举值 {small|grid|large|medium}\n          schema:\n            title: Image Type\n            type: string\n          name: type\n          in: query\n      responses:\n        \"302\":\n          description: Successful Response\n          headers:\n            Location:\n              schema:\n                type: string\n              description: |-\n                图片链接\n                无图时返回默认图片 https://lain.bgm.tv/img/no_icon_subject.png\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/persons/{person_id}/subjects\":\n    get:\n      tags:\n        - 人物\n      summary: get person related subjects\n      operationId: getRelatedSubjectsByPersonId\n      parameters:\n        - $ref: \"#/components/parameters/path_person_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/v0_RelatedSubject\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/persons/{person_id}/characters\":\n    get:\n      tags:\n        - 人物\n      summary: get person related characters\n      operationId: getRelatedCharactersByPersonId\n      parameters:\n        - $ref: \"#/components/parameters/path_person_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  \"$ref\": \"#/components/schemas/PersonCharacter\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n\n  \"/v0/users/{username}\":\n    get:\n      tags:\n        - 用户\n      summary: Get User by name\n      description: 获取用户信息\n      operationId: getUserByName\n      parameters:\n        - $ref: \"#/components/parameters/path_username\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/User\"\n\n        \"400\":\n          description: username 太长\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n\n        \"404\":\n          description: 对应用户不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/users/{username}/avatar\":\n    get:\n      tags:\n        - 用户\n      summary: Get User Avatar by name\n      description: 获取用户头像，302 重定向至头像地址，设置了 username 之后无法使用 UID 查询。\n      operationId: getUserAvatarByName\n      parameters:\n        - $ref: \"#/components/parameters/path_username\"\n        - required: true\n          description: 枚举值 {small|large|medium}\n          schema:\n            title: Avatar Type\n            type: string\n          name: type\n          in: query\n      responses:\n        \"302\":\n          description: Successful Response\n          headers:\n            Location:\n              schema:\n                type: string\n              description: |-\n                用户头像链接\n                无头像时返回默认头像 https://lain.bgm.tv/pic/user/m/icon.jpg\n\n        \"400\":\n          description: username 太长\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n\n        \"404\":\n          description: 对应用户不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/me\":\n    get:\n      tags:\n        - 用户\n      summary: Get User\n      description: 返回当前 Access Token 对应的用户信息\n      operationId: getMyself\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/User\"\n        \"403\":\n          description: unauthorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - HTTPBearer: []\n\n  \"/v0/users/{username}/collections\":\n    get:\n      tags:\n        - 收藏\n      summary: 获取用户收藏\n      description: 获取对应用户的收藏，查看私有收藏需要access token。\n      operationId: getUserCollectionsByUsername\n      parameters:\n        - $ref: \"#/components/parameters/path_username\"\n        - description: |-\n            条目类型，默认为全部\n\n            具体含义见 [SubjectType](#model-SubjectType)\n          required: false\n          schema:\n            \"$ref\": \"#/components/schemas/SubjectType\"\n          name: subject_type\n          in: query\n        - description: |-\n            收藏类型，默认为全部\n\n            具体含义见 [CollectionType](#model-CollectionType)\n          required: false\n          schema:\n            allOf:\n              - \"$ref\": \"#/components/schemas/SubjectCollectionType\"\n            type: integer\n          name: type\n          in: query\n        - $ref: \"#/components/parameters/default_query_limit\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_UserCollection\"\n        \"404\":\n          description: 用户不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n\n  \"/v0/users/{username}/collections/{subject_id}\":\n    get:\n      tags:\n        - 收藏\n      summary: 获取用户单个收藏\n      description: 获取对应用户的收藏，查看私有收藏需要access token。\n      operationId: getUserCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_username\"\n        - $ref: \"#/components/parameters/path_subject_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/UserSubjectCollection\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 用户不存在或者条目未收藏，或者条目为私有收藏\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/users/-/collections/{subject_id}\":\n    patch:\n      tags:\n        - 收藏\n      summary: 修改用户单个收藏\n      description: |\n        修改条目收藏状态，暂时不会生成时间线。\n\n        由于直接修改剧集条目的完成度可能会引起意料之外效果，只能用于修改书籍类条目的完成度。\n\n        PATCH 方法的所有请求体字段均可选\n      operationId: patchUserCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              # SubjectEpisodeCollectionPatch\n              type: object\n              description: 所有的字段均可选\n              properties:\n                type:\n                  description: 修改条目收藏类型\n                  allOf:\n                    - $ref: \"#/components/schemas/SubjectCollectionType\"\n\n                rate:\n                  description: 评分，`0` 表示删除评分\n                  type: integer\n                  maximum: 10\n                  minimum: 0\n                  exclusiveMaximum: false\n                  exclusiveMinimum: false\n\n                ep_status:\n                  description: \"只能用于修改书籍条目进度\"\n                  type: integer\n                  minimum: 0\n                  exclusiveMinimum: false\n\n                vol_status:\n                  description: \"只能用于修改书籍条目进度\"\n                  type: integer\n                  minimum: 0\n                  exclusiveMinimum: false\n\n                comment:\n                  description: \"评价\"\n                  type: string\n\n                private:\n                  description: \"仅自己可见\"\n                  type: boolean\n\n                tags:\n                  title: 标签\n                  description: 不传或者 `null` 都会被忽略，传 `[]` 则会删除所有 tag。\n                  type: array\n                  items:\n                    type: string\n                    description: 不能包含空格\n\n      responses:\n        \"204\":\n          description: Successful Response\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"401\":\n          description: Unauthorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 用户不存在或者条目未收藏\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n\n  \"/v0/users/-/collections/{subject_id}/episodes\":\n    get:\n      tags:\n        - 收藏\n      summary: 章节收藏信息\n      operationId: getUserSubjectEpisodeCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n        - required: false\n          schema:\n            title: Limit\n            maximum: 1000\n            minimum: 1\n            type: integer\n            default: 100\n          name: limit\n          description: 分页参数\n          in: query\n        - required: false\n          schema:\n            \"$ref\": \"#/components/schemas/EpType\"\n          in: query\n          name: episode_type\n          description: 章节类型，不传则不按照章节进行筛选\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                allOf:\n                  - $ref: \"#/components/schemas/Page\"\n                  - type: object\n                    properties:\n                      data:\n                        type: array\n                        items:\n                          $ref: \"#/components/schemas/UserEpisodeCollection\"\n\n        \"400\":\n          description: Bad Request\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"401\":\n          description: not authorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 条目不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - HTTPBearer: []\n    patch:\n      tags:\n        - 收藏\n      summary: 章节收藏信息\n      description: |\n        同时会重新计算条目的完成度\n\n        暂时不能生成时间线\n      operationId: patchUserSubjectEpisodeCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_subject_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - episode_id\n                - type\n              properties:\n                episode_id:\n                  type: array\n                  items:\n                    type: integer\n                  example: [1, 2, 8]\n                type:\n                  $ref: \"#/components/schemas/EpisodeCollectionType\"\n      responses:\n        \"204\":\n          description: Successful Response\n        \"400\":\n          description: Bad Request\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"401\":\n          description: not authorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 条目不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - HTTPBearer: []\n\n  \"/v0/users/-/collections/-/episodes/{episode_id}\":\n    get:\n      tags:\n        - 收藏\n      summary: 章节收藏信息\n      operationId: getUserEpisodeCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_episode_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/UserEpisodeCollection\"\n        \"400\":\n          description: episode ID not valid\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"401\":\n          description: not authorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 条目或者章节不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - HTTPBearer: []\n    put:\n      tags:\n        - 收藏\n      summary: 更新章节收藏信息\n      operationId: putUserEpisodeCollection\n      parameters:\n        - $ref: \"#/components/parameters/path_episode_id\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                type:\n                  $ref: \"#/components/schemas/EpisodeCollectionType\"\n              required:\n                - type\n      responses:\n        \"204\":\n          description: Successful Response\n        \"400\":\n          description: episode ID not valid or subject not collected\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"401\":\n          description: not authorized\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"404\":\n          description: 条目或者章节不存在\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - HTTPBearer: []\n\n  \"/v0/revisions/persons\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Person Revisions\n      operationId: getPersonRevisions\n      parameters:\n        - required: true\n          schema:\n            title: Person ID\n            minimum: 1\n            type: integer\n          name: person_id\n          description: 角色 ID\n          in: query\n        - $ref: \"#/components/parameters/default_query_limit\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_Revision\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/persons/{revision_id}\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Person Revision\n      operationId: getPersonRevisionByRevisionId\n      parameters:\n        - required: true\n          schema:\n            title: Revision ID\n            minimum: 1\n            type: integer\n          name: revision_id\n          description: 历史版本 ID\n          in: path\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/PersonRevision\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/characters\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Character Revisions\n      operationId: getCharacterRevisions\n      parameters:\n        - required: true\n          schema:\n            title: Character ID\n            minimum: 1\n            type: integer\n          name: character_id\n          description: 角色 ID\n          in: query\n        - $ref: \"#/components/parameters/default_query_limit\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_Revision\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/characters/{revision_id}\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Character Revision\n      operationId: getCharacterRevisionByRevisionId\n      parameters:\n        - $ref: \"#/components/parameters/path_revision_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/CharacterRevision\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/subjects\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Subject Revisions\n      operationId: getSubjectRevisions\n      parameters:\n        - required: true\n          schema:\n            title: Subject ID\n            minimum: 1\n            type: integer\n          name: subject_id\n          description: 条目 ID\n          in: query\n        - $ref: \"#/components/parameters/default_query_limit\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_Revision\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/subjects/{revision_id}\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Subject Revision\n      operationId: getSubjectRevisionByRevisionId\n      parameters:\n        - $ref: \"#/components/parameters/path_revision_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/SubjectRevision\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/episodes\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Episode Revisions\n      operationId: getEpisodeRevisions\n      parameters:\n        - required: true\n          schema:\n            title: Episode ID\n            minimum: 1\n            type: integer\n          name: episode_id\n          description: 章节 ID\n          in: query\n        - required: false\n          schema:\n            title: Limit\n            maximum: 1000\n            minimum: 1\n            type: integer\n            default: 100\n          name: limit\n          description: 分页参数\n          in: query\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_Revision\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/revisions/episodes/{revision_id}\":\n    get:\n      tags:\n        - 编辑历史\n      summary: Get Episode Revision\n      operationId: getEpisodeRevisionByRevisionId\n      parameters:\n        - $ref: \"#/components/parameters/path_revision_id\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/DetailedRevision\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n  \"/v0/indices/{index_id}\":\n    get:\n      tags:\n        - 目录\n      summary: Get Index By ID\n      operationId: getIndexById\n      parameters:\n        - required: true\n          schema:\n            title: Index ID\n            minimum: 1\n            type: integer\n          name: index_id\n          description: 目录 ID\n          in: path\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Index\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\n  \"/v0/indices/{index_id}/subjects\":\n    get:\n      tags:\n        - 目录\n      summary: Get Index Subjects\n      operationId: getIndexSubjectsByIndexId\n      parameters:\n        - required: true\n          description: \"条目 ID\"\n          schema:\n            title: Index ID\n            minimum: 1\n            type: integer\n          name: index_id\n          in: path\n        - required: false\n          description: \"条目类型\"\n          schema:\n            \"$ref\": \"#/components/schemas/SubjectType\"\n          name: type\n          in: query\n        - $ref: \"#/components/parameters/default_query_limit\"\n        - $ref: \"#/components/parameters/default_query_offset\"\n      responses:\n        \"200\":\n          description: Successful Response\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/Paged_IndexSubject\"\n        \"404\":\n          description: Not Found\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n        \"400\":\n          description: Validation Error\n          content:\n            application/json:\n              schema:\n                \"$ref\": \"#/components/schemas/ErrorDetail\"\n      security:\n        - OptionalHTTPBearer: []\ncomponents:\n  parameters:\n    path_subject_id:\n      required: true\n      name: subject_id\n      description: 条目 ID\n      schema:\n        $ref: \"#/components/schemas/SubjectID\"\n      in: path\n\n    path_username:\n      required: true\n      schema:\n        type: string\n      description: 设置了用户名之后无法使用 UID。\n      name: username\n      in: path\n\n    path_episode_id:\n      required: true\n      schema:\n        title: Episode ID\n        minimum: 1\n        description: 剧集 ID\n        type: integer\n      name: episode_id\n      description: 章节 ID\n      in: path\n\n    path_character_id:\n      required: true\n      description: 角色 ID\n      schema:\n        title: Character ID\n        minimum: 1\n        type: integer\n      name: character_id\n      in: path\n\n    path_person_id:\n      required: true\n      schema:\n        title: Person ID\n        minimum: 1\n        type: integer\n      name: person_id\n      description: 人物 ID\n      in: path\n\n    query_subject_id:\n      required: true\n      name: subject_id\n      description: 条目 ID\n      schema:\n        $ref: \"#/components/schemas/SubjectID\"\n      in: query\n\n    default_query_limit:\n      required: false\n      schema:\n        title: Limit\n        maximum: 50\n        minimum: 1\n        type: integer\n        default: 30\n      name: limit\n      description: 分页参数\n      in: query\n\n    default_query_offset:\n      required: false\n      schema:\n        title: Offset\n        minimum: 0\n        type: integer\n        default: 0\n      description: 分页参数\n      name: offset\n      in: query\n\n    path_revision_id:\n      required: true\n      schema:\n        title: Revision ID\n        minimum: 1\n        type: integer\n      name: revision_id\n      description: \"版本 ID\"\n      in: path\n\n  schemas:\n    SubjectID:\n      title: Subject ID\n      minimum: 1\n      description: 条目 ID\n      type: integer\n    User:\n      $ref: \"./components/user.yaml\"\n    Avatar:\n      $ref: \"./components/avatar.yaml\"\n    UserGroup:\n      $ref: \"./components/user_group.yaml\"\n    BloodType:\n      title: BloodType\n      enum:\n        - 1\n        - 2\n        - 3\n        - 4\n      type: integer\n      description: Blood type of a person. A, B, AB, O\n      x-ms-enum:\n        name: BloodType\n        modelAsString: false\n        values:\n          - A\n          - B\n          - AB\n          - O\n      x-enum-varnames:\n        - A\n        - B\n        - AB\n        - O\n    CharacterDetail:\n      title: CharacterDetail\n      required:\n        - id\n        - name\n        - type\n        - summary\n        - locked\n        - stat\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/CharacterType\"\n          description: 角色，机体，舰船，组织...\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        summary:\n          title: Summary\n          type: string\n        locked:\n          title: Locked\n          type: boolean\n        infobox:\n          title: Infobox\n          type: array\n          items:\n            type: object\n          description: |-\n            server parsed infobox, a map from key to string or tuple\n            null if server infobox is not valid\n        gender:\n          title: Gender\n          type: string\n          description: parsed from wiki, maybe null\n        blood_type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/BloodType\"\n          description: parsed from wiki, maybe null, `1, 2, 3, 4` for `A, B, AB, O`\n        birth_year:\n          title: Birth Year\n          type: integer\n          description: parsed from wiki, maybe `null`\n        birth_mon:\n          title: Birth Mon\n          type: integer\n          description: parsed from wiki, maybe `null`\n        birth_day:\n          title: Birth Day\n          type: integer\n          description: parsed from wiki, maybe `null`\n        stat:\n          \"$ref\": \"#/components/schemas/Stat\"\n    CharacterPerson:\n      title: CharacterPerson\n      required:\n        - id\n        - name\n        - type\n        - subject_id\n        - subject_name\n        - subject_name_cn\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/CharacterType\"\n          description: 角色，机体，舰船，组织...\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        subject_id:\n          title: Subject ID\n          type: integer\n        subject_name:\n          title: Subject Name\n          type: string\n        subject_name_cn:\n          title: Subject Name Cn\n          type: string\n    CharacterType:\n      title: CharacterType\n      enum:\n        - 1\n        - 2\n        - 3\n        - 4\n      type: integer\n      description: type of a character 角色，机体，舰船，组织...\n      x-ms-enum:\n        name: CharacterType\n        modelAsString: false\n        values:\n          - Character\n          - Mechanic\n          - Ship\n          - Organization\n      x-enum-varnames:\n        - Character\n        - Mechanic\n        - Ship\n        - Organization\n    SubjectCollectionType:\n      $ref: \"./components/subject_collection_type.yaml\"\n    EpisodeCollectionType:\n      $ref: \"./components/episode_collection_type.yaml\"\n    Creator:\n      $ref: \"./components/creator.yaml\"\n    DetailedRevision:\n      title: DetailedRevision\n      required:\n        - id\n        - type\n        - summary\n        - created_at\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n        creator:\n          \"$ref\": \"#/components/schemas/Creator\"\n        summary:\n          title: Summary\n          type: string\n        created_at:\n          title: Created At\n          type: string\n          format: date-time\n        data:\n          title: Data\n          type: string\n          description: 编辑修改内容\n    PersonRevision:\n      title: PersonRevision\n      allOf:\n        - \"$ref\": \"#/components/schemas/Revision\"\n        - type: object\n          properties:\n            data:\n              title: Data\n              type: object\n              additionalProperties:\n                \"$ref\": \"#/components/schemas/PersonRevisionDataItem\"\n    PersonRevisionDataItem:\n      title: PersonRevisionDataItem\n      required:\n        - prsn_infobox\n        - prsn_summary\n        - profession\n        - extra\n        - prsn_name\n      type: object\n      properties:\n        prsn_infobox:\n          title: Person Infobox\n          type: string\n        prsn_summary:\n          title: Person Summary\n          type: string\n        profession:\n          \"$ref\": \"#/components/schemas/PersonRevisionProfession\"\n        extra:\n          \"$ref\": \"#/components/schemas/RevisionExtra\"\n        prsn_name:\n          title: Person Name\n          type: string\n    PersonRevisionProfession:\n      title: PersonRevisionProfession\n      type: object\n      properties:\n        producer:\n          title: Producer\n          type: string\n        mangaka:\n          title: Mangaka\n          type: string\n        artist:\n          title: Artist\n          type: string\n        seiyu:\n          title: Seiyu\n          type: string\n        writer:\n          title: Writer\n          type: string\n        illustrator:\n          title: Illustrator\n          type: string\n        actor:\n          title: Actor\n          type: string\n    RevisionExtra:\n      title: RevisionExtra\n      type: object\n      properties:\n        img:\n          title: Image\n          type: string\n    SubjectRevision:\n      title: SubjectRevision\n      allOf:\n        - \"$ref\": \"#/components/schemas/Revision\"\n        - type: object\n          properties:\n            data:\n              \"$ref\": \"#/components/schemas/SubjectRevisionData\"\n    SubjectRevisionData:\n      title: SubjectRevisionData\n      required:\n        - field_eps\n        - field_infobox\n        - field_summary\n        - name\n        - name_cn\n        - platform\n        - subject_id\n        - type\n        - type_id\n        - vote_field\n      type: object\n      properties:\n        field_eps:\n          title: Field EPs\n          type: integer\n        field_infobox:\n          title: Field Infobox\n          type: string\n        field_summary:\n          title: Field Summary\n          type: string\n        name:\n          title: Name\n          type: string\n        name_cn:\n          title: Name CN\n          type: string\n        platform:\n          title: Platform\n          type: integer\n        subject_id:\n          title: Subject ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n        type_id:\n          title: Type ID\n          type: integer\n        vote_field:\n          title: Vote Field\n          type: string\n    CharacterRevision:\n      title: CharacterRevision\n      allOf:\n        - \"$ref\": \"#/components/schemas/Revision\"\n        - type: object\n          properties:\n            data:\n              title: Data\n              additionalProperties:\n                \"$ref\": \"#/components/schemas/CharacterRevisionDataItem\"\n    CharacterRevisionDataItem:\n      title: CharacterRevisionDataItem\n      required:\n        - infobox\n        - summary\n        - name\n        - extra\n      type: object\n      properties:\n        infobox:\n          title: Character Infobox\n          type: string\n        summary:\n          title: Character Summary\n          type: string\n        name:\n          title: Character Name\n          type: string\n        extra:\n          \"$ref\": \"#/components/schemas/RevisionExtra\"\n    EpType:\n      title: EpType\n      enum:\n        - 0\n        - 1\n        - 2\n        - 3\n        - 4\n        - 5\n        - 6\n      type: integer\n      description: |-\n        本篇 = 0\n        特别篇 = 1\n        OP = 2\n        ED = 3\n        预告/宣传/广告 = 4\n        MAD = 5\n        其他 = 6\n      x-ms-enum:\n        name: EpType\n        modelAsString: false\n        values:\n          - MainStory\n          - SP\n          - OP\n          - ED\n          - PV\n          - MAD\n          - Other\n      x-enum-varnames:\n        - MainStory\n        - SP\n        - OP\n        - ED\n        - PV\n        - MAD\n        - Other\n    Episode:\n      $ref: \"./components/episode.yaml\"\n    EpisodeDetail:\n      title: EpisodeDetail\n      required:\n        - id\n        - type\n        - name\n        - name_cn\n        - sort\n        - airdate\n        - comment\n        - duration\n        - desc\n        - disc\n        - subject_id\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n          description: \"`0` 本篇，`1` SP，`2` OP，`3` ED\"\n        name:\n          title: Name\n          type: string\n        name_cn:\n          title: Name Cn\n          type: string\n        sort:\n          title: Sort\n          type: number\n          description: 同类条目的排序和集数\n        ep:\n          title: Ep\n          type: number\n          description: 条目内的集数, 从`1`开始。非本篇剧集的此字段无意义\n        airdate:\n          title: Airdate\n          type: string\n        comment:\n          title: Comment\n          type: integer\n        duration:\n          title: Duration\n          type: string\n        desc:\n          title: Desc\n          type: string\n          description: 简介\n        disc:\n          title: Disc\n          type: integer\n          description: 音乐曲目的碟片数\n        subject_id:\n          title: Subject ID\n          type: integer\n    ErrorDetail:\n      $ref: \"./components/error_detail.yaml\"\n    Images:\n      $ref: \"./components/subject_image.yaml\"\n    Index:\n      title: Index\n      required:\n        - id\n        - title\n        - desc\n        - stat\n        - created_at\n        - creator\n        - ban\n        - nsfw\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        title:\n          title: Title\n          type: string\n        desc:\n          title: Desc\n          type: string\n        total:\n          title: Total\n          type: integer\n          description: 收录条目总数\n          default: 0\n        stat:\n          title: Stat\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/Stat\"\n          description: 目录评论及收藏数\n        created_at:\n          title: Created At\n          type: string\n          format: date-time\n        creator:\n          \"$ref\": \"#/components/schemas/Creator\"\n        ban:\n          title: Ban\n          type: boolean\n        nsfw:\n          title: 目录是否包括 nsfw 条目\n          type: boolean\n    IndexSubject:\n      title: IndexSubject\n      required:\n        - id\n        - type\n        - name\n        - comment\n        - added_at\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n        name:\n          title: Name\n          type: string\n        images:\n          \"$ref\": \"#/components/schemas/Images\"\n        infobox:\n          \"$ref\": \"#/components/schemas/WikiV0\"\n        date:\n          title: Date\n          type: string\n        comment:\n          title: Comment\n          type: string\n        added_at:\n          title: Added At\n          type: string\n          format: date-time\n      description: 同名字段意义同\u003ca href=\"#model-Subject\"\u003eSubject\u003c/a\u003e\n    WikiV0:\n      $ref: \"./components/wiki_v0.yaml\"\n\n    Page:\n      $ref: \"./components/page.yaml\"\n\n    Paged_Episode:\n      title: Paged[Episode]\n      type: object\n      properties:\n        total:\n          title: Total\n          type: integer\n          default: 0\n        limit:\n          title: Limit\n          type: integer\n          default: 0\n        offset:\n          title: Offset\n          type: integer\n          default: 0\n        data:\n          title: Data\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Episode\"\n          default: []\n    Paged_IndexSubject:\n      title: Paged[IndexSubject]\n      type: object\n      properties:\n        total:\n          title: Total\n          type: integer\n          default: 0\n        limit:\n          title: Limit\n          type: integer\n          default: 0\n        offset:\n          title: Offset\n          type: integer\n          default: 0\n        data:\n          title: Data\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/IndexSubject\"\n          default: []\n    Paged_Revision:\n      title: Paged[Revision]\n      type: object\n      properties:\n        total:\n          title: Total\n          type: integer\n          default: 0\n        limit:\n          title: Limit\n          type: integer\n          default: 0\n        offset:\n          title: Offset\n          type: integer\n          default: 0\n        data:\n          title: Data\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Revision\"\n          default: []\n    Paged_UserCollection:\n      title: Paged[UserCollection]\n      type: object\n      properties:\n        total:\n          title: Total\n          type: integer\n          default: 0\n        limit:\n          title: Limit\n          type: integer\n          default: 0\n        offset:\n          title: Offset\n          type: integer\n          default: 0\n        data:\n          title: Data\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/UserSubjectCollection\"\n          default: []\n    Person:\n      title: Person\n      required:\n        - id\n        - name\n        - type\n        - career\n        - short_summary\n        - locked\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonType\"\n          description: \"`1`, `2`, `3` 表示 `个人`, `公司`, `组合`\"\n        career:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/PersonCareer\"\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        short_summary:\n          title: Short Summary\n          type: string\n        locked:\n          title: Locked\n          type: boolean\n    PersonCareer:\n      title: PersonCareer\n      enum:\n        - producer\n        - mangaka\n        - artist\n        - seiyu\n        - writer\n        - illustrator\n        - actor\n      type: string\n      description: An enumeration.\n    PersonCharacter:\n      title: PersonCharacter\n      required:\n        - id\n        - name\n        - type\n        - subject_id\n        - subject_name\n        - subject_name_cn\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/CharacterType\"\n          description: 角色，机体，舰船，组织...\n        images:\n          title: Images\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        subject_id:\n          title: Subject ID\n          type: integer\n        subject_name:\n          title: Subject Name\n          type: string\n        subject_name_cn:\n          title: Subject Name Cn\n          type: string\n    PersonDetail:\n      title: PersonDetail\n      required:\n        - id\n        - name\n        - type\n        - career\n        - summary\n        - locked\n        - last_modified\n        - stat\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonType\"\n          description: \"`1`, `2`, `3` 表示 `个人`, `公司`, `组合`\"\n        career:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/PersonCareer\"\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        summary:\n          title: Summary\n          type: string\n        locked:\n          title: Locked\n          type: boolean\n        last_modified:\n          title: Last Modified\n          type: string\n          description: currently it's latest user comment time, it will be replaced\n            by wiki modified date in the future\n          format: date-time\n        infobox:\n          title: Infobox\n          type: array\n          items:\n            type: object\n          description: |-\n            server parsed infobox, a map from key to string or tuple\n            null if server infobox is not valid\n        gender:\n          title: Gender\n          type: string\n          description: parsed from wiki, maybe null\n        blood_type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/BloodType\"\n          description: parsed from wiki, maybe null, `1, 2, 3, 4` for `A, B, AB, O`\n        birth_year:\n          title: Birth Year\n          type: integer\n          description: parsed from wiki, maybe `null`\n        birth_mon:\n          title: Birth Mon\n          type: integer\n          description: parsed from wiki, maybe `null`\n        birth_day:\n          title: Birth Day\n          type: integer\n          description: parsed from wiki, maybe `null`\n        stat:\n          \"$ref\": \"#/components/schemas/Stat\"\n    PersonImages:\n      title: PersonImages\n      required:\n        - large\n        - medium\n        - small\n        - grid\n      type: object\n      properties:\n        large:\n          title: Large\n          type: string\n        medium:\n          title: Medium\n          type: string\n        small:\n          title: Small\n          type: string\n        grid:\n          title: Grid\n          type: string\n    PersonType:\n      title: PersonType\n      enum:\n        - 1\n        - 2\n        - 3\n      type: integer\n      description: \"`1`, `2`, `3` 表示 `个人`, `公司`, `组合`\"\n      x-ms-enum:\n        name: PersonType\n        modelAsString: false\n        values:\n          - Individual\n          - Corporation\n          - Association\n      x-enum-varnames:\n        - Individual\n        - Corporation\n        - Association\n    RelatedCharacter:\n      title: RelatedCharacter\n      required:\n        - id\n        - name\n        - type\n        - relation\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/CharacterType\"\n          description: 角色，机体，舰船，组织...\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        relation:\n          title: Relation\n          type: string\n        actors:\n          title: Actors\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/Person\"\n          description: 演员列表\n          default: []\n    RelatedPerson:\n      title: RelatedPerson\n      required:\n        - id\n        - name\n        - type\n        - career\n        - relation\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        name:\n          title: Name\n          type: string\n        type:\n          type: integer\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonType\"\n          description: \"`1`, `2`, `3` 表示 `个人`, `公司`, `组合`\"\n        career:\n          type: array\n          items:\n            \"$ref\": \"#/components/schemas/PersonCareer\"\n        images:\n          title: Images\n          type: object\n          allOf:\n            - \"$ref\": \"#/components/schemas/PersonImages\"\n          description: object with some size of images, this object maybe `null`\n        relation:\n          title: Relation\n          type: string\n    Revision:\n      title: Revision\n      required:\n        - id\n        - type\n        - summary\n        - created_at\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n        creator:\n          \"$ref\": \"#/components/schemas/Creator\"\n        summary:\n          title: Summary\n          type: string\n        created_at:\n          title: Created At\n          type: string\n          format: date-time\n    Stat:\n      title: Stat\n      required:\n        - comments\n        - collects\n      type: object\n      properties:\n        comments:\n          title: Comments\n          type: integer\n        collects:\n          title: Collects\n          type: integer\n    Subject:\n      $ref: \"./components/subject_v0.yaml\"\n    SlimSubject:\n      $ref: \"./components/subject_v0_slim.yaml\"\n    SubjectTags:\n      $ref: \"./components/subject_tags.yaml\"\n    SubjectType:\n      $ref: \"./components/subject_type.yaml\"\n    UserSubjectCollection:\n      $ref: \"./components/subject_collection.yaml\"\n    UserEpisodeCollection:\n      $ref: \"./components/get-user-episodes-collection.yaml\"\n    v0_RelatedSubject:\n      title: RelatedSubject\n      required:\n        - id\n        - staff\n        - name_cn\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        staff:\n          title: Staff\n          type: string\n        name:\n          title: Name\n          type: string\n        name_cn:\n          title: Name Cn\n          type: string\n        image:\n          title: Image\n          type: string\n    v0_subject_relation:\n      title: SubjectRelation\n      required:\n        - id\n        - type\n        - name\n        - name_cn\n        - relation\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        type:\n          title: Type\n          type: integer\n        name:\n          title: Name\n          type: string\n        name_cn:\n          title: Name Cn\n          type: string\n        images:\n          \"$ref\": \"#/components/schemas/Images\"\n        relation:\n          title: Relation\n          type: string\n  securitySchemes:\n    OptionalHTTPBearer:\n      type: http\n      description: 不强制要求用户认证，但是可能看不到某些敏感内容内容（如 NSFW 或者仅用户自己可见的收藏）\n      scheme: Bearer\n    HTTPBearer:\n      type: http\n      description: 需要使用 access token 进行认证\n      scheme: Bearer\n",
			"canonicalURL": "/github.com/bangumi/server@9628901c37ef9e25cced75faa87fbd32f299553a/-/blob/openapi/v0.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/bangumi/server/blob/9628901c37ef9e25cced75faa87fbd32f299553a/openapi/v0.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"Episode\": parse schema: at 1:5481: external \"./components/episode.yaml\": get: file: local file reference is not allowed"
}