{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/adorsys/xs2a"
		},
		"file": {
			"name": "psd2-confirmation-of-funds-consent-2.0-20190607.yaml",
			"size": 0,
			"path": "xs2a-impl/src/main/resources/static/psd2-confirmation-of-funds-consent-2.0-20190607.yaml",
			"byteSize": 138526,
			"content": "openapi: 3.0.1\ninfo:\n  title: NextGenPSD2 XS2A Framework\n  version: \"2.0 Mar 1st 2019\"\n  description: |\n    # Summary\n\n    ## General Remarks on Data Types\n\n    The Berlin Group definition of UTF-8 strings in context of the PSD2 API have to support at least the following characters\n\n    a b c d e f g h i j k l m n o p q r s t u v w x y z\n\n    A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n\n    0 1 2 3 4 5 6 7 8 9\n\n    / - ? : ( ) . , ' +\n\n    Space\n\n\n  license:\n    name: Creative Commons Attribution 4.0 International Public License\n    url: https://creativecommons.org/licenses/by/4.0/\n  #termsOfService: URL for Terms of Service of the API\n  contact:\n    name: The Berlin Group - A European Standards Initiative\n    url: https://www.berlin-group.org/\n    email: info@berlin-group.org\n\nexternalDocs:\n  description: |\n    Full Documentation of NextGenPSD2 Access to Account Interoperability Framework\n    (General Introduction Paper, Operational Rules, Implementation Guidelines^, Extended Services, ...)\n  url: https://www.berlin-group.org/nextgenpsd2-downloads\n\n#servers:\n#  - url: https://api.testbank.com/psd2\n#    description: PSD2 server\n#  - url: https://test-api.testbank.com/psd2\n#    description: Optional PSD2 test server\n\npaths:\n\n\n  /v2/consents/confirmation-of-funds:\n    post:\n      summary: Create consent\n      description: |\n        This method creates a confirmation of funds consent resource at the ASPSP regarding confirmation of funds access\n        to an account specified in this request.\n\n        **Side Effects**\n        In difference to the Establish Account Information Consent as defined in [XS2A-IG], there is no side effect by the\n        Establish Confirmation of Funds Consent Request\n\n      operationId: createConsentConfirmationOfFunds\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        #In this file only the basic security element to transport\n        # the bearer token of an an OAuth2 process, which has to\n        # be included inthe HTTP header ist described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommandes to adjust the security schemes according to\n        # your system enviroments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #path # NO PATH PARAMETER\n        #query # NO QUERY PARAMETER\n        #header\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #method specific header elements\n        - $ref: \"#/components/parameters/PSU-ID\"\n        - $ref: \"#/components/parameters/PSU-ID-Type\"\n        - $ref: \"#/components/parameters/PSU-Corporate-ID\"\n        - $ref: \"#/components/parameters/PSU-Corporate-ID-Type\"\n        - $ref: \"#/components/parameters/TPP-Redirect-Preferred\"\n        - $ref: \"#/components/parameters/TPP-Redirect-URI\"\n        - $ref: \"#/components/parameters/TPP-Nok-Redirect-URI\"\n        - $ref: \"#/components/parameters/TPP-Explicit-Authorisation-Preferred\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n\n      requestBody:\n        $ref: \"#/components/requestBodies/consentsConfirmationOfFunds\"\n\n      responses:\n        '201':\n          $ref: \"#/components/responses/CREATED_201_ConsentsConfirmationOfFunds\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\n  /v2/consents/confirmation-of-funds/{consentId}/status:\n\n    get:\n      summary: Get Consent Status\n      description: |\n        Can check the status of an account information consent resource.\n      operationId: getConsentConfirmationOfFundsStatus\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        #In this file only the basic security element to transport\n        # the bearer token of an an OAuth2 process, which has to\n        # be included inthe HTTP header ist described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommandes to adjust the security schemes according to\n        # your system enviroments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #path\n        - $ref: \"#/components/parameters/consentId_PATH\"\n          #query # NO QUERY PARAMETER\n          #header\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n      #NO REQUEST BODY\n\n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_ConsentConfirmationOfFundsStatus\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\n  /v2/consents/confirmation-of-funds/{consentId}:\n\n    get:\n      summary: Get Consent Content\n      description: |\n        Returns the content of an account information consent object.\n        This is returning the data for the TPP especially in cases, where the consent was directly managed between\n        ASPSP and PSU e.g. in a re-direct SCA Approach.\n      operationId: getConsentConfirmationOfFunds\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        #In this file only the basic security element to transport\n        # the bearer token of an an OAuth2 process, which has to\n        # be included inthe HTTP header ist described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommandes to adjust the security schemes according to\n        # your system enviroments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #path\n        - $ref: \"#/components/parameters/consentId_PATH\"\n          #query # NO QUERY PARAMETER\n          #header\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n      #NO REQUEST BODY\n\n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_ConsentConfirmationOfFundsContent\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n    delete:\n      summary: Delete Consent Content\n      description: |\n        Deletes a given consent.\n      operationId: deleteConsentConfirmationOfFunds\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        #In this file only the basic security element to transport\n        # the bearer token of an an OAuth2 process, which has to\n        # be included inthe HTTP header ist described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommandes to adjust the security schemes according to\n        # your system enviroments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #path\n        - $ref: \"#/components/parameters/consentId_PATH\"\n          #query # NO QUERY PARAMETER\n          #header\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n      #NO REQUEST BODY\n\n      responses:\n        '204':\n          $ref: \"#/components/responses/OK_204_ConsentConfirmationOfFundsDelete\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\n  /v2/consents/confirmation-of-funds/{consentId}/authorisations:\n\n    post:\n      summary: Start the authorisation process for a consent\n      description: |\n        Create an authorisation sub-resource and start the authorisation process of a consent.\n        The message might in addition transmit authentication and authorisation related data.\n\n        his method is iterated n times for a n times SCA authorisation in a\n        corporate context, each creating an own authorisation sub-endpoint for\n        the corresponding PSU authorising the consent.\n\n        The ASPSP might make the usage of this access method unnecessary,\n        since the related authorisation resource will be automatically created by\n        the ASPSP after the submission of the consent data with the first POST consents call.\n\n        The start authorisation process is a process which is needed for creating a new authorisation\n        or cancellation sub-resource.\n\n        This applies in the following scenarios:\n\n          * The ASPSP has indicated with an 'startAuthorisation' hyperlink in the preceding Payment\n            initiation response that an explicit start of the authorisation process is needed by the TPP.\n            The 'startAuthorisation' hyperlink can transport more information about data which needs to be\n            uploaded by using the extended forms:\n            * 'startAuthorisationWithPsuIdentfication',\n            * 'startAuthorisationWithPsuAuthentication'\n            * 'startAuthorisationWithEncryptedPsuAuthentication'\n            * 'startAuthorisationWithAuthentciationMethodSelection'\n          * The related payment initiation cannot yet be executed since a multilevel SCA is mandated.\n          * The ASPSP has indicated with an 'startAuthorisation' hyperlink in the preceding\n            payment cancellation response that an explicit start of the authorisation process is needed by the TPP.\n            The 'startAuthorisation' hyperlink can transport more information about data which needs to be uploaded\n            by using the extended forms as indicated above.\n          * The related payment cancellation request cannot be applied yet since a multilevel SCA is mandate for\n            executing the cancellation.\n          * The signing basket needs to be authorised yet.\n      operationId: startConsentAuthorisation\n      tags:\n        - Confirmation of Funds\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        # In this file only the basic security element to transport\n        # the bearer token of an OAuth2 process, which has to\n        # be included in the HTTP header is described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommended to adjust the security schemes according to\n        # your system environments and security policies.\n        #####################################################\n        - {}\n        -   BearerAuthOAuth: []\n      parameters:\n        #path\n        -   $ref: \"#/components/parameters/consentId_PATH\"\n              #query # NO QUERY PARAMETER\n          #header\n          #common header parameter\n        -   $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        -   $ref: \"#/components/parameters/Digest\"\n        -   $ref: \"#/components/parameters/Signature\"\n        -   $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #method specific header elements\n        -   $ref: \"#/components/parameters/PSU-ID\"\n        -   $ref: \"#/components/parameters/PSU-ID-Type\"\n        -   $ref: \"#/components/parameters/PSU-Corporate-ID\"\n        -   $ref: \"#/components/parameters/PSU-Corporate-ID-Type\"\n        -   $ref: \"#/components/parameters/TPP-Redirect-Preferred\"\n        -   $ref: \"#/components/parameters/TPP-Redirect-URI\"\n        -   $ref: \"#/components/parameters/TPP-Nok-Redirect-URI\"\n          #conditional for extended service lean Push\n        -   $ref: \"#/components/parameters/TPP-Notification-URI\"\n        -   $ref: \"#/components/parameters/TPP-Notification-Content-Preferred\"\n          #conditional elemention for AIS\n        -   $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        -   $ref: \"#/components/parameters/PSU-IP-Port\"\n        -   $ref: \"#/components/parameters/PSU-Accept\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Language\"\n        -   $ref: \"#/components/parameters/PSU-User-Agent\"\n        -   $ref: \"#/components/parameters/PSU-Http-Method\"\n        -   $ref: \"#/components/parameters/PSU-Device-ID\"\n        -   $ref: \"#/components/parameters/PSU-Geo-Location\"\n\n      requestBody:\n        content:\n          application/json:\n            schema:\n              oneOf: #Different Authorisation Bodies\n                - {}\n                -   $ref: \"#/components/schemas/updatePsuAuthentication\"\n                -   $ref: \"#/components/schemas/selectPsuAuthenticationMethod\"\n                -   $ref: \"#/components/schemas/transactionAuthorisation\"\n\n      responses:\n        '201':\n          $ref: \"#/components/responses/CREATED_201_StartScaProcess\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\n    get:\n      summary: Get consent authorisation sub-resources request\n      description: |\n        Return a list of all authorisation subresources IDs which have been created.\n\n        This function returns an array of hyperlinks to all generated authorisation sub-resources.\n      operationId: getConsentAuthorisation\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        # In this file only the basic security element to transport\n        # the bearer token of an OAuth2 process, which has to\n        # be included in the HTTP header is described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommended to adjust the security schemes according to\n        # your system environments and security policies.\n        #####################################################\n        - {}\n        -   BearerAuthOAuth: []\n\n      parameters:\n        #path\n        -   $ref: \"#/components/parameters/consentId_PATH\"\n              #query # NO QUERY PARAMETER\n          #header\n          #common header parameter\n        -   $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        -   $ref: \"#/components/parameters/Digest\"\n        -   $ref: \"#/components/parameters/Signature\"\n        -   $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #conditional elemention for AIS\n        -   $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        -   $ref: \"#/components/parameters/PSU-IP-Port\"\n        -   $ref: \"#/components/parameters/PSU-Accept\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        -   $ref: \"#/components/parameters/PSU-Accept-Language\"\n        -   $ref: \"#/components/parameters/PSU-User-Agent\"\n        -   $ref: \"#/components/parameters/PSU-Http-Method\"\n        -   $ref: \"#/components/parameters/PSU-Device-ID\"\n        -   $ref: \"#/components/parameters/PSU-Geo-Location\"\n      #NO REQUEST BODY\n\n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_Authorisations\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n  /v2/consents/confirmation-of-funds/{consentId}/authorisations/{authorisationId}:\n\n    get:\n      summary: Read the SCA status of the consent authorisation\n      description: |\n        This method returns the SCA status of a consent initiation's authorisation sub-resource.\n      operationId: getConsentScaStatus\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        # In this file only the basic security element to transport\n        # the bearer token of an OAuth2 process, which has to\n        # be included in the HTTP header is described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommended to adjust the security schemes according to\n        # your system environments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #path\n        - $ref: \"#/components/parameters/consentId_PATH\"\n        - $ref: \"#/components/parameters/authorisationId\"\n            #query # NO QUERY PARAMETER\n            #header\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n      #NO REQUEST BODY\n\n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_ScaStatus\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\n    put:\n      summary: Update PSU Data for consents\n      description: |\n        This method update PSU data on the consents  resource if needed.\n        It may authorise a consent within the Embedded SCA Approach where needed.\n\n        Independently from the SCA Approach it supports e.g. the selection of\n        the authentication method and a non-SCA PSU authentication.\n\n        This methods updates PSU data on the cancellation authorisation resource if needed.\n\n        There are several possible update PSU data requests in the context of a consent request if needed,\n        which depends on the SCA approach:\n\n        * Redirect SCA Approach:\n          A specific Update PSU data request is applicable for\n            * the selection of authentication methods, before choosing the actual SCA approach.\n        * Decoupled SCA Approach:\n          A specific update PSU data request is only applicable for\n          * adding the PSU identification, if not provided yet in the payment initiation request or the Account Information Consent Request, or if no OAuth2 access token is used, or\n          * the selection of authentication methods.\n        * Embedded SCA Approach:\n          The Update PSU data request might be used\n          * to add credentials as a first factor authentication data of the PSU and\n          * to select the authentication method and\n          * transaction authorisation.\n\n        The SCA Approach might depend on the chosen SCA method.\n        For that reason, the following possible update PSU data request can apply to all SCA approaches:\n\n        * Select an SCA method in case of several SCA methods are available for the customer.\n\n        There are the following request types on this access path:\n          * Update PSU identification\n          * Update PSU authentication\n          * Select PSU autorization method\n            WARNING: This method needs a reduced header,\n            therefore many optional elements are not present.\n            Maybe in a later version the access path will change.\n          * Transaction Authorisation\n            WARNING: This method needs a reduced header,\n            therefore many optional elements are not present.\n            Maybe in a later version the access path will change.\n      operationId: updateConsentsPsuData\n      tags:\n        - Confirmation of Funds\n\n      security:\n        #####################################################\n        # REMARKS ON SECURITY IN THIS OPENAPI FILE\n        # In this file only the basic security element to transport\n        # the bearer token of an OAuth2 process, which has to\n        # be included in the HTTP header is described.\n        #\n        # WARNING:\n        # If you want to use this file for a productive implementation,\n        # it is recommended to adjust the security schemes according to\n        # your system environments and security policies.\n        #####################################################\n        - {}\n        - BearerAuthOAuth: []\n\n      parameters:\n        #query # NO QUERY PARAMETER\n        #header\n        #path\n        - $ref: \"#/components/parameters/consentId_PATH\"\n        - $ref: \"#/components/parameters/authorisationId\"\n          #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n          #header to support the signature function\n        - $ref: \"#/components/parameters/Digest\"\n        - $ref: \"#/components/parameters/Signature\"\n        - $ref: \"#/components/parameters/TPP-Signature-Certificate\"\n        #method specific header elements # Not always allowed depending on the kind of update which is ask for\n        - $ref: \"#/components/parameters/PSU-ID\"\n        - $ref: \"#/components/parameters/PSU-ID-Type\"\n        - $ref: \"#/components/parameters/PSU-Corporate-ID\"\n        - $ref: \"#/components/parameters/PSU-Corporate-ID-Type\"\n          #conditional elemention for AIS\n        - $ref: \"#/components/parameters/PSU-IP-Address_conditionalForAis\"\n          #optional additional PSU Information in header\n        - $ref: \"#/components/parameters/PSU-IP-Port\"\n        - $ref: \"#/components/parameters/PSU-Accept\"\n        - $ref: \"#/components/parameters/PSU-Accept-Charset\"\n        - $ref: \"#/components/parameters/PSU-Accept-Encoding\"\n        - $ref: \"#/components/parameters/PSU-Accept-Language\"\n        - $ref: \"#/components/parameters/PSU-User-Agent\"\n        - $ref: \"#/components/parameters/PSU-Http-Method\"\n        - $ref: \"#/components/parameters/PSU-Device-ID\"\n        - $ref: \"#/components/parameters/PSU-Geo-Location\"\n\n      requestBody:\n        content:\n          application/json:\n            schema:\n              oneOf: #Different Authorisation Bodies\n                - {}\n                - $ref: \"#/components/schemas/updatePsuAuthentication\"\n                - $ref: \"#/components/schemas/selectPsuAuthenticationMethod\"\n                - $ref: \"#/components/schemas/transactionAuthorisation\"\n                - $ref: \"#/components/schemas/authorisationConfirmation\"\n            examples:\n              \"Update PSU identification/additional SCA process (Embedded Approach)\":\n                value: {}\n              \"Update PSU authentication (Embedded Approach)\":\n                $ref: \"#/components/examples/updatePsuAuthenticationExample_Embedded\"\n              \"Select PSU authentication method (Embedded Approach)\":\n                $ref: \"#/components/examples/selectPsuAuthenticationMethodExample_Embedded\"\n              \"Transaction authorisation (Embedded Approach)\":\n                $ref: \"#/components/examples/transactionAuthorisationExample_Embedded\"\n              \"Authorisation confirmation (Redirect Approach)\":\n                $ref: \"#/components/examples/authorisationConfirmationExample_Redirect\"\n\n      responses:\n        '200':\n          $ref: \"#/components/responses/OK_200_UpdatePsuData\"\n\n        '400':\n          $ref: \"#/components/responses/BAD_REQUEST_400_AIS\"\n        '401':\n          $ref: \"#/components/responses/UNAUTHORIZED_401_AIS\"\n        '403':\n          $ref: \"#/components/responses/FORBIDDEN_403_AIS\"\n        '404':\n          $ref: \"#/components/responses/NOT_FOUND_404_AIS\"\n        '405':\n          $ref: \"#/components/responses/METHOD_NOT_ALLOWED_405_AIS\"\n        '406':\n          $ref: \"#/components/responses/NOT_ACCEPTABLE_406_AIS\"\n        '408':\n          $ref: \"#/components/responses/REQUEST_TIMEOUT_408_AIS\"\n        '409':\n          $ref: \"#/components/responses/CONFLICT_409_AIS\"\n        '415':\n          $ref: \"#/components/responses/UNSUPPORTED_MEDIA_TYPE_415_AIS\"\n        '429':\n          $ref: \"#/components/responses/TOO_MANY_REQUESTS_429_AIS\"\n        '500':\n          $ref: \"#/components/responses/INTERNAL_SERVER_ERROR_500_AIS\"\n        '503':\n          $ref: \"#/components/responses/SERVICE_UNAVAILABLE_503_AIS\"\n\n\ncomponents:\n  #####################################################\n  # Predefined Components\n  #####################################################\n\n  securitySchemes:\n    #####################################################\n    # Predefined Security Schemes:\n    #\n    # In this file only the basic security element to transport\n    # the bearer token of an an OAuth2 process, which has to\n    # be included inthe HTTP header ist described.\n    #\n    # WARNING:\n    # If you want to use this file for a productive implementation,\n    # it is recommandes to adjust the security schemes according to\n    # your system enviroments and security policies.\n    #####################################################\n    BearerAuthOAuth:\n      description: |\n        Bearer Token.\n\n        Is contained only, if an OAuth2 based authentication was performed in a pre-step or\n        an OAuth2 based SCA was performed in an preceding AIS service in the same session.\n      type: http\n      scheme: bearer\n\n\n  schemas:\n    #####################################################\n    # Predefined Schemas\n    #####################################################\n\n\n    consentId:\n      description: |\n        ID of the corresponding consent object as returned by an Account Information Consent Request.\n      type: string\n\n    hrefType:\n      description: Link to a resource\n      type: object\n      properties:\n        href:\n          $ref: \"#/components/schemas/hrefEntry\"\n\n    hrefEntry:\n      description: Link to a resource\n      type: string\n      example: \"/v2/payments/sepa-credit-transfers/1234-wertiq-983\"\n\n    accountReference:\n      description: |\n        Reference to an account by either\n          * IBAN, of a payment accounts, or\n          * BBAN, for payment accounts if there is no IBAN, or\n          * the Primary Account Number (PAN) of a card, can be tokenised by the ASPSP due to PCI DSS requirements, or\n          * the Primary Account Number (PAN) of a card in a masked form, or\n          * an alias to access a payment account via a registered mobile phone number (MSISDN).\n      type: object\n      properties:\n        iban:\n          $ref: \"#/components/schemas/iban\"\n        bban:\n          $ref: \"#/components/schemas/bban\"\n        pan:\n          $ref: \"#/components/schemas/pan\"\n        maskedPan:\n          $ref: \"#/components/schemas/maskedPan\"\n        msisdn:\n          $ref: \"#/components/schemas/msisdn\"\n        currency:\n          $ref: \"#/components/schemas/currencyCode\"\n\n    iban:\n      type: string\n      description: IBAN of an account\n      pattern: \"[A-Z]{2,2}[0-9]{2,2}[a-zA-Z0-9]{1,30}\"\n      example: \"FR7612345987650123456789014\"\n\n    bban:\n      description: |\n        Basic Bank Account Number (BBAN) Identifier\n\n        This data element can be used in the body of the Consent Request\n          Message for retrieving Account access Consent from this Account. This\n          data elements is used for payment Accounts which have no IBAN.\n          ISO20022: Basic Bank Account Number (BBAN).\n\n          Identifier used nationally by financial institutions, i.e., in individual countries,\n          generally as part of a National Account Numbering Scheme(s),\n          which uniquely identifies the account of a customer.\n      type: string\n      pattern: \"[a-zA-Z0-9]{1,30}\"\n      example: \"BARC12345612345678\"\n\n    pan:\n      description: |\n        Primary Account Number according to ISO/IEC 7812.\n      type: string\n      maxLength: 35\n      #According to ISO the following should be valid.\n      #maxLength: 19\n      #minLength: 8\n      #pattern: \"[0-9]{8,19}\"\n      example: \"5409050000000000\"\n\n    maskedPan:\n      description: |\n        Masked Primary Account Number\n      type: string\n      maxLength: 35\n      example: \"123456xxxxxx1234\"\n\n    msisdn:\n      type: string\n      maxLength: 35\n      description: Mobile phone number.\n      example: \"+49 170 1234567\"\n\n    currencyCode:\n      description: |\n        ISO 4217 Alpha 3 currency code\n      type: string\n      pattern: \"[A-Z]{3}\"\n      example: \"EUR\"\n\n    consentStatus:\n      description: |\n        This is the overall lifecycle status of the consent.\n\n        Valid values are:\n          - 'received': The consent data have been received and are technically correct.\n            The data is not authorised yet.\n          - 'rejected': The consent data have been rejected e.g. since no successful authorisation has taken place.\n          - 'valid': The consent is accepted and valid for GET account data calls and others as specified in the consent object.\n          - 'revokedByPsu': The consent has been revoked by the PSU towards the ASPSP.\n          - 'expired': The consent expired.\n          - 'terminatedByTpp': The corresponding TPP has terminated the consent by applying the DELETE method to the consent resource.\n\n        The ASPSP might add further codes. These codes then shall be contained in the ASPSP's documentation of the XS2A interface\n        and has to be added to this API definition as well.\n      type: string\n      enum:\n        - \"received\"\n        - \"rejected\"\n        - \"valid\"\n        - \"revokedByPsu\"\n        - \"expired\"\n        - \"terminatedByTpp\"\n\n    scaMethods:\n      description: |\n        This data element might be contained, if SCA is required and if the PSU has a choice between different\n        authentication methods.\n\n        Depending on the risk management of the ASPSP this choice might be offered before or after the PSU\n        has been identified with the first relevant factor, or if an access token is transported.\n\n        If this data element is contained, then there is also an hyperlink of type 'startAuthorisationWithAuthenticationMethodSelection'\n        contained in the response body.\n\n        These methods shall be presented towards the PSU for selection by the TPP.\n\n      type: array\n      items:\n        $ref: \"#/components/schemas/authenticationObject\"\n\n    authenticationObject:\n      description: |\n        Authentication Object\n      type: object\n      required:\n        - authenticationType\n        - authenticationMethodId\n      properties:\n        authenticationType:\n          $ref: \"#/components/schemas/authenticationType\"\n        authenticationVersion:\n          description: |\n            Depending on the \"authenticationType\".\n            This version can be used by differentiating authentication tools used within performing OTP generation in the same authentication type.\n            This version can be referred to in the ASPSP?s documentation.\n          type: string\n        authenticationMethodId:\n          $ref: \"#/components/schemas/authenticationMethodId\"\n        name:\n          description: |\n            This is the name of the authentication method defined by the PSU in the Online Banking frontend of the ASPSP.\n            Alternatively this could be a description provided by the ASPSP like \"SMS OTP on phone +49160 xxxxx 28\".\n            This name shall be used by the TPP when presenting a list of authentication methods to the PSU, if available.\n          type: string\n          example: \"SMS OTP on phone +49160 xxxxx 28\"\n        explanation:\n          description: |\n            Detailed information about the SCA method for the PSU.\n          type: string\n          example: Detailed information about the SCA method for the PSU.\n\n    authenticationType:\n      description: |\n        Type of the authentication method.\n\n        More authentication types might be added during implementation projects and documented in the ASPSP documentation.\n\n          - 'SMS_OTP': An SCA method, where an OTP linked to the transaction to be authorised is sent to the PSU through a SMS channel.\n          - 'CHIP_OTP': An SCA method, where an OTP is generated by a chip card, e.g. an TOP derived from an EMV cryptogram.\n            To contact the card, the PSU normally needs a (handheld) device.\n            With this device, the PSU either reads the challenging data through a visual interface like flickering or\n            the PSU types in the challenge through the device key pad.\n            The device then derives an OTP from the challenge data and displays the OTP to the PSU.\n          - 'PHOTO_OTP': An SCA method, where the challenge is a QR code or similar encoded visual data\n            which can be read in by a consumer device or specific mobile app.\n            The device resp. the specific app than derives an OTP from the visual challenge data and displays\n            the OTP to the PSU.\n          - 'PUSH_OTP': An OTP is pushed to a dedicated authentication APP and displayed to the PSU.\n\n      type: string\n      enum:\n        - \"SMS_OTP\"\n        - \"CHIP_OTP\"\n        - \"PHOTO_OTP\"\n        - \"PUSH_OTP\"\n\n    authenticationMethodId:\n      description: |\n        An identification provided by the ASPSP for the later identification of the authentication method selection.\n      type: string\n      maxLength: 35\n      example: \"myAuthenticationID\"\n\n    chosenScaMethod:\n      # description: |\n      #  This data element is only contained in the response if the APSPS has chosen the Embedded SCA Approach,\n      #  if the PSU is already identified e.g. with the first relevant factor or alternatively an access token,\n      #  if SCA is required and if the authentication method is implicitly selected.\n      $ref: \"#/components/schemas/authenticationObject\"\n\n    challengeData:\n      description: |\n        It is contained in addition to the data element 'chosenScaMethod' if challenge data is needed for SCA.\n        In rare cases this attribute is also used in the context of the 'startAuthorisationWithPsuAuthentication' link.\n      type: object\n      properties:\n        image:\n          type: string\n          format: byte\n          description: |\n            PNG data (max. 512 kilobyte) to be displayed to the PSU,\n            Base64 encoding, cp. [RFC4648].\n            This attribute is used only, when PHOTO_OTP or CHIP_OTP\n            is the selected SCA method.\n        data:\n          type: string\n          description: String challenge data\n        imageLink:\n          type: string\n          format: url\n          description: A link where the ASPSP will provides the challenge image for the TPP.\n        otpMaxLength:\n          type: integer\n          description: The maximal length for the OTP to be typed in by the PSU.\n        otpFormat:\n          type: string\n          description: The format type of the OTP to be typed in. The admitted values are \"characters\" or \"integer\".\n          enum:\n            - \"characters\"\n            - \"integer\"\n        additionalInformation:\n          type: string\n          description: |\n            Additional explanation for the PSU to explain\n            e.g. fallback mechanism for the chosen SCA method.\n            The TPP is obliged to show this to the PSU.\n\n    _linksStartScaProcessSingleSca:\n      description: |\n        A list of hyperlinks to be recognised by the TPP.\n        Type of links admitted in this response (which might be extended by single ASPSPs as indicated in its XS2A documentation):\n\n        - 'scaRedirect':\n          In case of an SCA Redirect Approach, the ASPSP is transmitting the link to which to\n          redirect the PSU browser.\n        - 'scaOAuth':\n          In case of a SCA OAuth2 Approach, the ASPSP is transmitting the URI where the configuration of the Authorisation Server can be retrieved. The configuration follows the OAuth 2.0 Authorisation Server Metadata specification.\n        - 'startAuthorisation':\n          In case, where an explicit start of the transaction authorisation is needed, but no more data needs to be updated (no authentication method to be selected, no PSU identification nor PSU authentication data to be uploaded).\n        - 'startAuthorisationWithPsuIdentification':\n          The link to the authorisation end-point, where the authorisation sub-resource has to be generated while uploading the PSU identification data.\n        - 'startAuthorisationWithPsuAuthentication':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU authentication data needs to be uploaded.\n        - 'startAuthorisationWithEncryptedPsuAuthentication':\n          The link to the authorisation end-point, where the authorisation sub-resource has to be generated while uploading the encrypted PSU authentication data.\n        - 'startAuthorisationWithAuthentication MethodSelection':\n          The link to the authorisation end-point, where the authorisation sub-resource has to be generated while selecting the authentication method.\n          This link is contained under exactly the same conditions as the data element \"scaMethods\".\n        - 'startAuthorisationWithTransactionAuthorisation':\n          The link to the authorisation end-point, where the authorisation sub-resource has to be generated while authorising the transaction e.g. by uploading an OTP received by SMS.\n        - 'self':\n          The link to the Establish Account Information Consent resource created by this request.\n          This link can be used to retrieve the resource data.\n        - 'status':\n          The link to retrieve the transaction status of the payment initiation.\n        - 'scaStatus':\n          The link to retrieve the scaStatus of the corresponding authorisation sub-resource.\n\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaRedirect:\n          $ref: \"#/components/schemas/hrefType\"\n        scaOAuth:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisation:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithAuthenticationMethodSelection:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithTransactionAuthorisation:\n          $ref: \"#/components/schemas/hrefType\"\n        self:\n          $ref: \"#/components/schemas/hrefType\"\n        status:\n          $ref: \"#/components/schemas/hrefType\"\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n\n    _linksStartScaProcessMultilevelSca:\n      description: |\n        - 'startAuthorisation':\n          In case, where an explicit start of the transaction authorisation is needed,\n          but no more data needs to be updated (no authentication method to be selected,\n          no PSU identification nor PSU authentication data to be uploaded).\n        - 'startAuthorisationWithPsuIdentification':\n          The link to the authorisation end-point, where the authorisation sub-resource\n          has to be generated while uploading the PSU identification data.\n        - 'startAuthorisationWithPsuAuthentication':\n          The link to the authorisation end-point, where an authorisation sub-resource\n          has to be generated while uploading the PSU authentication data.\n        - 'startAuthorisationWithEncryptedPsuAuthentication':\n          The link to the authorisation end-point, where an authorisation sub-resource\n          has to be generated while uploading the encrypted PSU authentication data.\n        - 'self':\n          The link to the consent resource created by this request.\n          This link can be used to retrieve the resource data.\n        - 'status':\n          The link to retrieve the status of the consent.\n\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        startAuthorisation:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        self:\n          $ref: \"#/components/schemas/hrefType\"\n        status:\n          $ref: \"#/components/schemas/hrefType\"\n\n    psuMessageText:\n      description: Text to be displayed to the PSU\n      type: string\n      maxLength: 512\n\n    cardExpiryDate:\n      description: |\n        Expiry date of the card issued by the PIISP.\n      type: string\n      format: date\n      example: \"2018-07-01\"\n\n    cardNumber:\n      description: Card Number of the card issued by the PIISP. Should be delivered if available.\n      type: string\n      maxLength: 35\n\n    cardInformation:\n      description: Addtional explanation for the card product.\n      type: string\n      maxLength: 140\n\n    registrationInformation:\n      description: Addtional information about the registration process for the PSU, e. g. a reference to the TPP / PSU contract.\n      type: string\n      maxLength: 140\n\n    updatePsuAuthentication:\n      description: |\n        Content of the body of a Update PSU authentication request.\n\n        Password subfield is used.\n      type: object\n      required:\n        - psuData\n      properties:\n        psuData:\n          $ref: \"#/components/schemas/psuData\"\n\n    selectPsuAuthenticationMethod:\n      description: |\n        Content of the body of a Select PSU authentication method request.\n      type: object\n      required:\n        - authenticationMethodId\n      properties:\n        authenticationMethodId:\n          $ref: \"#/components/schemas/authenticationMethodId\"\n\n    transactionAuthorisation:\n      description: |\n        Content of the body of a transaction authorisation request.\n      type: object\n      required:\n        - scaAuthenticationData\n      properties:\n        scaAuthenticationData:\n          $ref: \"#/components/schemas/scaAuthenticationData\"\n\n    #####################################################\n    # Content of Request Bodies\n    #####################################################\n\n\n\n    #####################################################\n    # Content of Request Bodies - JSON\n    #####################################################\n\n    consentsConfirmationOfFunds:\n      description: |\n        Content of the body of a consent confirmation of funds request.\n      type: object\n      required:\n        - account\n      properties:\n        account:\n          $ref: \"#/components/schemas/accountReference\"\n        cardNumber:\n          $ref: \"#/components/schemas/cardNumber\"\n        cardExpiryDate:\n          $ref: \"#/components/schemas/cardExpiryDate\"\n        cardInformation:\n          $ref: \"#/components/schemas/cardInformation\"\n        registrationInformation:\n          $ref: \"#/components/schemas/registrationInformation\"\n\n\n\n      #####################################################\n      # Content of Request Bodies - XML\n      #####################################################\n\n      #####################################################\n      # Content of Request Bodies - Single Part\n      #####################################################\n\n\n\n    #####################################################\n    # Content of Response Bodies\n    #####################################################\n\n    ConsentsConfirmationOfFundsResponse:\n      description: Body of the JSON response for a Start single SCA authorisation request.\n      type: object\n      required:\n        - consentStatus\n        - consentId\n        - _links\n      properties:\n        consentStatus:\n          $ref: \"#/components/schemas/consentStatus\"\n        consentId:\n          $ref: \"#/components/schemas/consentId\"\n        scaMethods:\n          $ref: \"#/components/schemas/scaMethods\"\n        chosenScaMethod:\n          $ref: \"#/components/schemas/chosenScaMethod\"\n        challengeData:\n          $ref: \"#/components/schemas/challengeData\"\n        _links:\n          $ref: \"#/components/schemas/_linksStartScaProcessSingleSca\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        tppMessage:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessageGeneric\"\n          description: Messages to the TPP on operational issues.\n\n    ConsentsConfirmationOfFundsMultilevelSCAResponse:\n      description: Body of the JSON response for a Start Multilevel SCA authorisation request.\n      type: object\n      required:\n        - consentStatus\n        - consentId\n        - _links\n      properties:\n        consentStatus:\n          $ref: \"#/components/schemas/consentStatus\"\n        consentId:\n          $ref: \"#/components/schemas/consentId\"\n        _links:\n          $ref: \"#/components/schemas/_linksStartScaProcessMultilevelSca\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage2XX\"\n\n    ConsentConfirmationOfFundsStatusResponse:\n      description: Body of the JSON response.\n      type: object\n      required:\n        - consentStatus\n      properties:\n        consentStatus:\n          $ref: \"#/components/schemas/consentStatus\"\n\n    ConsentConfirmationOfFundsContentResponse:\n      description: Body of the JSON response for a confirmation of funds content request.\n      type: object\n      required:\n        - account\n        - consentStatus\n      properties:\n        account:\n          $ref: \"#/components/schemas/accountReference\"\n        cardNumber:\n          $ref: \"#/components/schemas/cardNumber\"\n        cardExpiryDate:\n          $ref: \"#/components/schemas/cardExpiryDate\"\n        cardInformation:\n          $ref: \"#/components/schemas/cardInformation\"\n        registrationInformation:\n          $ref: \"#/components/schemas/registrationInformation\"\n        consentStatus:\n          $ref: \"#/components/schemas/consentStatus\"\n\n\n    #####################################################\n    # _links\n    #####################################################\n\n    _linksAll:\n      description: |\n        A _link object with all availabel link types\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaRedirect:\n          $ref: \"#/components/schemas/hrefType\"\n        scaOAuth:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisation:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        updatePsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithProprietaryData:\n          $ref: \"#/components/schemas/hrefType\"\n        updateProprietaryData:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        updatePsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        updateEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithAuthenticationMethodSelection:\n          $ref: \"#/components/schemas/hrefType\"\n        selectAuthenticationMethod:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithTransactionAuthorisation:\n          $ref: \"#/components/schemas/hrefType\"\n        authoriseTransaction:\n          $ref: \"#/components/schemas/hrefType\"\n        self:\n          $ref: \"#/components/schemas/hrefType\"\n        status:\n          $ref: \"#/components/schemas/hrefType\"\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n        account:\n          $ref: \"#/components/schemas/hrefType\"\n        balances:\n          $ref: \"#/components/schemas/hrefType\"\n        transactions:\n          $ref: \"#/components/schemas/hrefType\"\n        transactionDetails:\n          $ref: \"#/components/schemas/hrefType\"\n        cardAccount:\n          $ref: \"#/components/schemas/hrefType\"\n        cardTransactions:\n          $ref: \"#/components/schemas/hrefType\"\n        first:\n          $ref: \"#/components/schemas/hrefType\"\n        next:\n          $ref: \"#/components/schemas/hrefType\"\n        previous:\n          $ref: \"#/components/schemas/hrefType\"\n        last:\n          $ref: \"#/components/schemas/hrefType\"\n        download:\n          $ref: \"#/components/schemas/hrefType\"\n\n\n\n\n\n    #####################################################\n    # Tpp-Messages to Communicate Error Information\n    #####################################################\n\n\n    #####################################################\n    # Generic Elements\n    #####################################################\n\n    tppMessageCategory:\n      description: Category of the TPP message category\n      type: string\n      enum:\n        - \"ERROR\"\n        - \"WARNING\"\n\n    MessageCode2XX:\n      description: Message codes for HTTP Error codes 2XX.\n      type: string\n      enum:\n        - \"WARNING\"\n\n    MessageCode400_AIS:\n      description: Message codes defined for AIS for HTTP Error code 400 (BAD_REQUEST).\n      type: string\n      enum:\n        - \"FORMAT_ERROR\"              #gen\n        - \"PARAMETER_NOT_CONSISTENT\"  #gen\n        - \"PARAMETER_NOT_SUPPORTED\"   #gen\n        - \"SERVICE_INVALID\"           #gen\n        - \"RESOURCE_UNKNOWN\"          #gen\n        - \"RESOURCE_EXPIRED\"          #gen\n        - \"RESOURCE_BLOCKED\"          #gen\n        - \"TIMESTAMP_INVALID\"         #gen\n        - \"PERIOD_INVALID\"            #gen\n        - \"SCA_METHOD_UNKNOWN\"        #gen\n        - \"CONSENT_UNKNOWN\"           #gen\n        - \"SESSIONS_NOT_SUPPORTED\"    #AIS\n\n    MessageCode401_AIS:\n      description: Message codes defined for AIS for HTTP Error code 401 (UNAUTHORIZED).\n      type: string\n      enum:\n        - \"CERTIFICATE_INVALID\"       #gen\n        - \"CERTIFICATE_EXPIRED\"       #gen\n        - \"CERTIFICATE_BLOCKED\"       #gen\n        - \"CERTIFICATE_REVOKE\"        #gen\n        - \"CERTIFICATE_MISSING\"       #gen\n        - \"SIGNATURE_INVALID\"         #gen\n        - \"SIGNATURE_MISSING\"         #gen\n        - \"CORPORATE_ID_INVALID\"      #gen\n        - \"PSU_CREDENTIALS_INVALID\"   #gen\n        - \"CONSENT_INVALID\"           #gen, AIS\n        - \"CONSENT_EXPIRED\"           #gen\n        - \"TOKEN_UNKNOWN\"             #gen\n        - \"TOKEN_INVALID\"             #gen\n        - \"TOKEN_EXPIRED\"             #gen\n\n    MessageCode403_AIS:\n      description: Message codes defined for AIS for HTTP Error code 403 (FORBIDDEN).\n      type: string\n      enum:\n        - \"CONSENT_UNKNOWN\"           #gen\n        - \"SERVICE_BLOCKED\"           #gen\n        - \"RESOURCE_UNKNOWN\"          #gen\n        - \"RESOURCE_EXPIRED\"          #gen\n\n    MessageCode404_AIS:\n      description: Message codes defined for AIS for HTTP Error code 404 (NOT FOUND).\n      type: string\n      enum:\n        - \"RESOURCE_UNKNOWN\"          #gens\n\n    MessageCode405_AIS:\n      description: Message codes defined for AIS for HTTP Error code 405 (METHOD NOT ALLOWED).\n      type: string\n      enum:\n        - \"SERVICE_INVALID\"           #gens\n\n    MessageCode406_AIS:\n      description: Message codes defined for AIS for HTTP Error code 406 (NOT ACCEPTABLE).\n      type: string\n      enum:\n        - \"REQUESTED_FORMATS_INVALID\"  #AIS\n\n\n    MessageCode409_AIS:\n      description: Message codes defined for AIS for HTTP Error code 409 (CONFLICT).\n      type: string\n      enum:\n        - \"STATUS_INVALID\"            #gen\n\n    MessageCode429_AIS:\n      description: Message codes for HTTP Error code 429 (TOO MANY REQUESTS).\n      type: string\n      enum:\n        - \"ACCESS_EXCEEDED\"           #AIS\n\n\n\n    #####################################################\n    # Next Gen propriatary Tpp-Messages\n    #####################################################\n\n\n    tppMessageText:\n      description: Additional explaining text to the TPP.\n      type: string\n      maxLength: 512\n\n\n    tppMessage2XX:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode2XX\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage400_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode400_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage401_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode401_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage403_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode403_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage404_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode404_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage405_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode405_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage406_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode406_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    tppMessage409_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode409_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n    tppMessage429_AIS:\n      type: object\n      required:\n        - category\n        - code\n      properties:\n        category:\n          $ref: \"#/components/schemas/tppMessageCategory\"\n        code:\n          $ref: \"#/components/schemas/MessageCode429_AIS\"\n        path:\n          type: string\n        text:\n          $ref: \"#/components/schemas/tppMessageText\"\n\n\n    #####################################################\n    # RFC7807 Messages\n    #####################################################\n\n    tppErrorTitle:\n      description: |\n        Short human readable description of error type.\n        Could be in local language.\n        To be provided by ASPSPs.\n      type: string\n      maxLength: 70\n\n    tppErrorDetail:\n      description: |\n        Detailed human readable text specific to this instance of the error.\n        XPath might be used to point to the issue generating the error in addition.\n        Remark for Future: In future, a dedicated field might be introduced for the XPath.\n      type: string\n      maxLength: 512\n\n\n\n\n    #####################################################\n    # RFC7807 Messages\n    #####################################################\n\n\n\n    Error400_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 400 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode400_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode400_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error401_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 401 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode401_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode401_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error403_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 403 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode403_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode403_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error404_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 404 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode404_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode404_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error405_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 405 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode405_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode405_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error406_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 406 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode406_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode406_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error409_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 409 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode409_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: This is a data element to support the declaration of additional errors in the context of [RFC7807].\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode409_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error429_AIS:\n      description: |\n        Standardised definition of reporting error information according to [RFC7807]\n        in case of a HTTP error code 429 for AIS.\n      type: object\n      required:\n        - type\n        - code\n      properties:\n        type:\n          description: |\n            A URI reference [RFC3986] that identifies the problem type.\n            Remark For Future: These URI will be provided by NextGenPSD2 in future.\n          type: string\n          format: uri\n          maxLength: 70\n        title:\n          description: |\n            Short human readable description of error type.\n            Could be in local language.\n            To be provided by ASPSPs.\n          type: string\n          maxLength: 70\n        detail:\n          description: |\n            Detailed human readable text specific to this instance of the error.\n            XPath might be used to point to the issue generating the error in addition.\n            Remark for Future: In future, a dedicated field might be introduced for the XPath.\n          type: string\n          maxLength: 512\n        code:\n          $ref: \"#/components/schemas/MessageCode429_AIS\"\n        additionalErrors:\n          description: |\n            Array of Error Information Blocks.\n\n            Might be used if more than one error is to be communicated\n          type: array\n          items: #ErrorInformation\n            description: |\n              This is a data element to support the declaration of additional errors in the context of [RFC7807]\n              in case of a HTTP error code 429 for.\n            type: object\n            required:\n              - code\n            properties:\n              title:\n                $ref: \"#/components/schemas/tppErrorTitle\"\n              detail:\n                $ref: \"#/components/schemas/tppErrorDetail\"\n              code:\n                $ref: \"#/components/schemas/MessageCode429_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n        #example:\n        #$ref: \"#/components/examples/RFC7807_ErrorInfoBody\"\n\n\n    Error400_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 400.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage400_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error401_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 401.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage401_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error403_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 403.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage403_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error404_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 404.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage404_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error405_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 401.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage405_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error406_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 406.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage406_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n\n\n    Error409_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 409.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage409_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n      example:\n        [{\n           \"category\": \"ERROR\",\n           \"code\": \"STATUS_INVALID\",\n           \"text\": \"additional text information of the ASPSP up to 512 characters\"\n         }]\n\n\n    Error429_NG_AIS:\n      description: |\n        NextGenPSD2 specific definition of reporting error information in case of a HTTP error code 429.\n      type: object\n      properties:\n        tppMessages:\n          type: array\n          items:\n            $ref: \"#/components/schemas/tppMessage429_AIS\"\n        _links:\n          $ref: \"#/components/schemas/_linksAll\"\n      example:\n        [{\n           \"category\": \"ERROR\",\n           \"code\": \"ACCESS_EXCEEDED\",\n           \"text\": \"additional text information of the ASPSP up to 512 characters\"\n         }]\n\n    authorisationId:\n      description: Resource identification of the related SCA.\n      type: string\n      example: \"123auth456\"\n\n    authorisationConfirmation:\n      description: |\n        Content of the body of an authorisation confirmation request\n      type: object\n      required: # conditional, empty body is covered in the definition of request body for Update PSU data\n        - confirmationCode\n      properties:\n        confirmationCode:\n          description: Confirmation Code as retrieved by the TPP from the redirect based SCA process.\n          type: string\n\n\n      #####################################################\n      # Content of Request Bodies - XML\n      #####################################################\n\n      #####################################################\n      # Content of Request Bodies - Single Part\n      #####################################################\n\n    psuData:\n      description: PSU data for update PSU authentication.\n      type: object\n      minProperties: 1\n      properties:\n        password:\n          description: Password.\n          type: string\n        encryptedPassword:\n          description: Encrypted password.\n          type: string\n        additionalPassword:\n          description: Additional password in plaintext.\n          type: string\n        additionalEncryptedPassword:\n          description: Additional encrypted password.\n          type: string\n\n    scaAuthenticationData:\n      description: |\n        SCA authentication data, depending on the chosen authentication method.\n        If the data is binary, then it is base64 encoded.\n      type: string\n\n    startScaprocessResponse:\n      description: Body of the JSON response for a Start SCA authorisation request.\n      type: object\n      required:\n        - scaStatus\n        - authorisationId\n        - _links\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        authorisationId:\n          $ref: \"#/components/schemas/authorisationId\"\n        scaMethods:\n          $ref: \"#/components/schemas/scaMethods\"\n        chosenScaMethod:\n          $ref: \"#/components/schemas/chosenScaMethod\"\n        challengeData:\n          $ref: \"#/components/schemas/challengeData\"\n        _links:\n          $ref: \"#/components/schemas/_linksStartScaProcess\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n\n    scaStatus:\n      description: |\n        This data element is containing information about the status of the SCA method applied.\n\n        The following codes are defined for this data type.\n\n          * 'received':\n            An authorisation or cancellation-authorisation resource has been created successfully.\n          * 'psuIdentified':\n            The PSU related to the authorisation or cancellation-authorisation resource has been identified.\n          * 'psuAuthenticated':\n            The PSU related to the authorisation or cancellation-authorisation resource has been identified and authenticated e.g. by a password or by an access token.\n          * 'scaMethodSelected':\n            The PSU/TPP has selected the related SCA routine.\n            If the SCA method is chosen implicitly since only one SCA method is available,\n            then this is the first status to be reported instead of 'received'.\n          * 'unconfirmed':\n            SCA is technically successfully finalised by the PSU, but the authorisation resource needs a confirmation command by the TPP yet.\n          * 'started':\n            The addressed SCA routine has been started.\n          * 'finalised':\n            The SCA routine has been finalised successfully (including a potential confirmation command).\n            This is a final status of the authorisation resource.\n          * 'failed':\n            The SCA routine failed.\n            This is a final status of the authorisation resource.\n          * 'exempted':\n            SCA was exempted for the related transaction, the related authorisation is successful.\n            This is a final status of the authorisation resource.\n      type: string\n      enum:\n        - \"received\"\n        - \"psuIdentified\"\n        - \"psuAuthenticated\"\n        - \"scaMethodSelected\"\n        - \"started\"\n        - \"unconfirmed\"\n        - \"finalised\"\n        - \"failed\"\n        - \"exempted\"\n\n      example: \"psuAuthenticated\"\n\n    _linksStartScaProcess:\n      description: |\n        A list of hyperlinks to be recognised by the TPP. The actual hyperlinks used in the\n        response depend on the dynamical decisions of the ASPSP when processing the request.\n\n        **Remark:** All links can be relative or full links, to be decided by the ASPSP.\n\n        Type of links admitted in this response, (further links might be added for ASPSP defined\n        extensions):\n\n        - 'scaRedirect':\n          In case of an SCA Redirect Approach, the ASPSP is transmitting the link to which to\n          redirect the PSU browser.\n        - 'scaOAuth':\n          In case of a SCA OAuth2 Approach, the ASPSP is transmitting the URI where the configuration of the Authorisation Server can be retrieved. The configuration follows the OAuth 2.0 Authorisation Server Metadata specification.\n        * 'confirmation':\n          Might be added by the ASPSP if either the \"scaRedirect\" or \"scaOAuth\" hyperlink is returned\n          in the same response message.\n          This hyperlink defines the URL to the resource which needs to be updated with\n            * a confirmation code as retrieved after the plain redirect authentication process with the ASPSP authentication server or\n            * an access token as retrieved by submitting an authorization code after the integrated OAuth based authentication process with the ASPSP authentication server.\n        - 'updatePsuIdentification':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU identification data needs to be uploaded.\n        - 'startAuthorisationWithPsuAuthentication':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU authentication data needs to be uploaded.\n        - 'startAuthorisationWithEncryptedPsuAuthentication':\n            Same as startAuthorisactionWithPsuAuthentication where the authentication data need to be encrypted on\n            application layer in uploading.\n        - 'selectAuthenticationMethod':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where the selected authentication method needs to be uploaded.\n          This link is contained under exactly the same conditions as the data element 'scaMethods'.\n        - 'authoriseTransaction':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where the authorisation data has to be uploaded, e.g. the TOP received by SMS.\n        - 'scaStatus':\n          The link to retrieve the scaStatus of the corresponding authorisation sub-resource.\n\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaRedirect:\n          $ref: \"#/components/schemas/hrefType\"\n        scaOAuth:\n          $ref: \"#/components/schemas/hrefType\"\n        confirmation:\n          $ref: \"#/components/schemas/hrefType\"\n        updatePsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        startAuthorisationWithEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        selectAuthenticationMethod:\n          $ref: \"#/components/schemas/hrefType\"\n        authoriseTransaction:\n          $ref: \"#/components/schemas/hrefType\"\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n\n    authorisationsList:\n      description: An array of all authorisationIds.\n      type: array\n      items:\n        $ref: \"#/components/schemas/authorisationId\"\n\n    authorisations:\n      description: An array of all authorisationIds.\n      type: object\n      required:\n        - authorisationIds\n      properties:\n        authorisationIds:\n          $ref: \"#/components/schemas/authorisationsList\"\n\n    scaStatusResponse:\n      description: Body of the JSON response with SCA Status.\n      type: object\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        trustedBeneficiaryFlag:\n          $ref: \"#/components/schemas/trustedBeneficiaryFlag\"\n\n    trustedBeneficiaryFlag:\n      description: |\n        Additional Service: Trusted Benificiaries\n        Within this data element, the ASPSP might optionally communicate towards the TPP whether the creditor was part of the related trusted beneficiary list.\n        This attribute is only contained in case of a final scaStatus.\n      type: boolean\n      example: false\n\n    updatePsuIdenticationResponse:\n      description: Body of the JSON response for a successful update PSU identification request.\n      type: object\n      required:\n        - _links\n        - scaStatus\n      properties:\n        transactionFees:\n          # description: Might be used by the ASPSP to transport the total transaction fee relevant for the underlying payments. This field includes the entry of the currencyConversionFees if applicable.\n          $ref: \"#/components/schemas/amount\"\n        currencyConversionFees:\n          # description: Might be used by the ASPSP to transport specific currency conversion fees related to the initiated credit transfer.\n          $ref: \"#/components/schemas/amount\"\n        estimatedTotalAmount:\n          # description: The amount which is estimated to be debted from the debtor account.\n          $ref: \"#/components/schemas/amount\"\n        estimatedInterbankSettlementAmount:\n          # description: The estimated amount to be transferred to the payee.\n          $ref: \"#/components/schemas/amount\"\n        scaMethods:\n          $ref: \"#/components/schemas/scaMethods\"\n        _links:\n          $ref: \"#/components/schemas/_linksUpdatePsuIdentification\"\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n\n    updatePsuAuthenticationResponse:\n      description: Body of the JSON response for a successful update PSU authentication request.\n      type: object\n      required:\n        - scaStatus\n      properties:\n        transactionFees:\n          # description: Might be used by the ASPSP to transport the total transaction fee relevant for the underlying payments. This field includes the entry of the currencyConversionFees if applicable.\n          $ref: \"#/components/schemas/amount\"\n        currencyConversionFees:\n          # description: Might be used by the ASPSP to transport specific currency conversion fees related to the initiated credit transfer.\n          $ref: \"#/components/schemas/amount\"\n        estimatedTotalAmount:\n          # description: The amount which is estimated to be debted from the debtor account.\n          $ref: \"#/components/schemas/amount\"\n        estimatedInterbankSettlementAmount:\n          # description: The estimated amount to be transferred to the payee.\n          $ref: \"#/components/schemas/amount\"\n        chosenScaMethod:\n          $ref: \"#/components/schemas/chosenScaMethod\"\n        challengeData:\n          $ref: \"#/components/schemas/challengeData\"\n        scaMethods:\n          $ref: \"#/components/schemas/scaMethods\"\n        _links:\n          $ref: \"#/components/schemas/_linksUpdatePsuAuthentication\"\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n        authorisationId:\n          $ref: \"#/components/schemas/authorisationId\"\n\n    selectPsuAuthenticationMethodResponse:\n      description: Body of the JSON response for a successful select PSU authentication method request.\n      type: object\n      required:\n        - scaStatus\n      properties:\n        transactionFees:\n          # description: Might be used by the ASPSP to transport the total transaction fee relevant for the underlying payments. This field includes the entry of the currencyConversionFees if applicable.\n          $ref: \"#/components/schemas/amount\"\n        currencyConversionFees:\n          # description: Might be used by the ASPSP to transport specific currency conversion fees related to the initiated credit transfer.\n          $ref: \"#/components/schemas/amount\"\n        estimatedTotalAmount:\n          # description: The amount which is estimated to be debted from the debtor account.\n          $ref: \"#/components/schemas/amount\"\n        estimatedInterbankSettlementAmount:\n          # description: The estimated amount to be transferred to the payee.\n          $ref: \"#/components/schemas/amount\"\n        chosenScaMethod:\n          $ref: \"#/components/schemas/chosenScaMethod\"\n        challengeData:\n          $ref: \"#/components/schemas/challengeData\"\n        _links:\n          $ref: \"#/components/schemas/_linksSelectPsuAuthenticationMethod\"\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatus\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n\n    amount:\n      type: object\n      required:\n        - currency\n        - amount\n      properties:\n        currency:\n          $ref: \"#/components/schemas/currencyCode\"\n        amount:\n          $ref: \"#/components/schemas/amountValue\"\n      example:\n        {\n          \"currency\": \"EUR\",\n          \"amount\": \"123\"\n        }\n\n    amountValue:\n      description: |\n        The amount given with fractional digits, where fractions must be compliant to the currency definition.\n        Up to 14 significant figures. Negative amounts are signed by minus.\n        The decimal separator is a dot.\n\n        **Example:**\n        Valid representations for EUR with up to two decimals are:\n\n          * 1056\n          * 5768.2\n          * -1.50\n          * 5877.78\n      type: string\n      pattern: \"-?[0-9]{1,14}(\\\\.[0-9]{1,3})?\"\n      example: \"5877.78\"\n\n    _linksUpdatePsuIdentification:\n      description: |\n        A list of hyperlinks to be recognised by the TPP. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP when processing the request.\n\n        **Remark:** All links can be relative or full links, to be decided by the ASPSP.\n\n        Type of links admitted in this response, (further links might be added for ASPSP\n        defined extensions):\n\n        - 'scaStatus': The link to retrieve the scaStatus of the corresponding authorisation sub-resource.\n        - 'selectAuthenticationMethod': This is a link to a resource, where the TPP can select the applicable second factor authentication methods for the PSU, if there are several available authentication methods and if the PSU is already sufficiently authenticated.. If this link is contained, then there is also the data element \"scaMethods\" contained in the response body.\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n        selectAuthenticationMethod:\n          $ref: \"#/components/schemas/hrefType\"\n\n    _linksUpdatePsuAuthentication:\n      description: |\n        A list of hyperlinks to be recognised by the TPP. Might be contained, if several authentication methods\n        are available for the PSU.\n        Type of links admitted in this response:\n          * 'updateAdditionalPsuAuthentication':\n            The link to the payment initiation or account information resource,\n            which needs to be updated by an additional PSU password.\n            This link is only contained in rare cases,\n            where such additional passwords are needed for PSU authentications.\n          * 'updateAdditionalEncryptedPsuAuthentication':\n            The link to the payment initiation or account information resource,\n            which needs to be updated by an additional encrypted PSU password.\n            This link is only contained in rare cases, where such additional passwords are needed for PSU authentications.\n          * 'selectAuthenticationMethod':\n            This is a link to a resource, where the TPP can select the applicable second factor authentication\n            methods for the PSU, if there were several available authentication methods.\n            This link is only contained, if the PSU is already identified or authenticated with the first relevant\n            factor or alternatively an access token, if SCA is required and if the PSU has a choice between different\n            authentication methods.\n            If this link is contained, then there is also the data element 'scaMethods' contained in the response body.\n          * 'authoriseTransaction':\n            The link to the resource, where the \"Transaction authorisation request\" is sent to.\n            This is the link to the resource which will authorise the transaction by checking the SCA authentication\n            data within the Embedded SCA approach.\n          * 'scaStatus':\n            The link to retrieve the scaStatus of the corresponding authorisation sub-resource.\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        updateAdditionalPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        updateAdditionalEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        selectAuthenticationMethod:\n          $ref: \"#/components/schemas/hrefType\"\n        authoriseTransaction:\n          $ref: \"#/components/schemas/hrefType\"\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n\n    _linksSelectPsuAuthenticationMethod:\n      description: |\n        A list of hyperlinks to be recognised by the TPP. The actual hyperlinks used in\n        the response depend on the dynamical decisions of the ASPSP when processing the request.\n\n        **Remark:** All links can be relative or full links, to be decided by the ASPSP.\n\n        **Remark:** This method can be applied before or after PSU identification.\n        This leads to many possible hyperlink responses.\n        Type of links admitted in this response, (further links might be added for ASPSP defined\n        extensions):\n\n        - 'scaRedirect':\n          In case of an SCA Redirect Approach, the ASPSP is transmitting the link to which to\n          redirect the PSU browser.\n        - 'scaOAuth':\n          In case of a SCA OAuth2 Approach, the ASPSP is transmitting the URI where the\n          configuration of the Authorisation Server can be retrieved.\n          The configuration follows the OAuth 2.0 Authorisation Server Metadata specification.\n        * 'confirmation':\n          Might be added by the ASPSP if either the \"scaRedirect\" or \"scaOAuth\" hyperlink is returned\n          in the same response message.\n          This hyperlink defines the URL to the resource which needs to be updated with\n            * a confirmation code as retrieved after the plain redirect authentication process with the ASPSP authentication server or\n            * an access token as retrieved by submitting an authorization code after the integrated OAuth based authentication process with the ASPSP authentication server.\n        - 'updatePsuIdentification':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU identification data needs to be uploaded.\n        - 'updatePsuAuthentication':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU authentication data needs to be uploaded.\n          - 'updateEncryptedPsuAuthentication':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where PSU authentication encrypted data needs to be uploaded.\n        - 'updateAdditionalPsuAuthentication':\n            The link to the payment initiation or account information resource,\n            which needs to be updated by an additional PSU password.\n        - 'updateAdditionalEncryptedPsuAuthentication':\n            The link to the payment initiation or account information resource,\n            which needs to be updated by an additional encrypted PSU password.\n        - 'authoriseTransaction':\n          The link to the authorisation or cancellation authorisation sub-resource,\n          where the authorisation data has to be uploaded, e.g. the TOP received by SMS.\n        - 'scaStatus':\n          The link to retrieve the scaStatus of the corresponding authorisation sub-resource.\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaRedirect:\n          $ref: \"#/components/schemas/hrefType\"\n        scaOAuth:\n          $ref: \"#/components/schemas/hrefType\"\n        confirmation:\n          $ref: \"#/components/schemas/hrefType\"\n        updatePsuIdentification:\n          $ref: \"#/components/schemas/hrefType\"\n        updatePsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        updateAdditionalPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        updateAdditionalEncryptedPsuAuthentication:\n          $ref: \"#/components/schemas/hrefType\"\n        authoriseTransaction:\n          $ref: \"#/components/schemas/hrefType\"\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n\n    authorisationConfirmationResponse:\n      description: Body of the JSON response for an authorisation confirmation request.\n      type: object\n      required:\n        - scaStatus\n        - _links\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/scaStatusAuthorisationConfirmation\"\n        _links:\n          $ref: \"#/components/schemas/_linksAuthorisationConfirmation\"\n        psuMessage:\n          $ref: \"#/components/schemas/psuMessageText\"\n\n    scaStatusAuthorisationConfirmation:\n      description: |\n        This data element is containing information about the status of the SCA method in an authorisation confirmation response.\n\n        The following codes are defined for this data type.\n\n          * 'finalised': if the transaction authorisation and confirmation was successfule.\n          * 'failed': if the transaction authorisation or confirmation was not successful.\n      type: string\n      enum:\n        - \"finalised\"\n        - \"failed\"\n\n    _linksAuthorisationConfirmation:\n      description: |\n        A list of hyperlinks to be recognised by the TPP. The actual hyperlinks used in the response depend on the dynamical decisions of the ASPSP when processing the request.\n\n        **Remark:** All links can be relative or full links, to be decided by the ASPSP.\n\n        Type of links admitted in this response, (further links might be added for ASPSP\n        defined extensions):\n\n        - 'scaStatus': The link to retrieve the status of the corresponding transaction resource.\n      type: object\n      additionalProperties:\n        $ref: \"#/components/schemas/hrefType\"\n      properties:\n        scaStatus:\n          $ref: \"#/components/schemas/hrefType\"\n\n  parameters:\n    #####################################################\n    # Predefined Parameters\n    #####################################################\n\n    consentId_PATH:\n      name: consentId\n      in: path\n      description: |\n        ID of the corresponding consent object as returned by an Account Information Consent Request.\n      required: true\n      schema:\n        $ref: \"#/components/schemas/consentId\"\n\n\n    X-Request-ID:\n      name: X-Request-ID\n      in: header\n      description: ID of the request, unique to the call, as determined by the initiating party.\n      required: true\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n\n\n    Digest:\n      name: Digest\n      in: header\n      description: Is contained if and only if the \"Signature\" element is contained in the header of the request.\n      schema:\n        type: string\n      required: false # conditional\n      example: \"SHA-256=hl1/Eps8BEQW58FJhDApwJXjGY4nr1ArGDHIT25vq6A=\"\n\n\n    Signature:\n      name: Signature\n      in: header\n      description: |\n        A signature of the request by the TPP on application level. This might be mandated by ASPSP.\n      schema:\n        type: string\n      required: false # conditional\n      example: \u003e\n        keyId=\"SN=9FA1,CA=CN=D-TRUST%20CA%202-1%202015,O=D-Trust%20GmbH,C=DE\",algorithm=\"rsa-sha256\",\n        headers=\"Digest X-Request-ID PSU-ID TPP-Redirect-URI Date\",\n        signature=\"Base64(RSA-SHA256(signing string))\"\n\n\n    TPP-Signature-Certificate:\n      name: TPP-Signature-Certificate\n      in: header\n      description: |\n        The certificate used for signing the request, in base64 encoding.\n        Must be contained if a signature is contained.\n      schema:\n        type: string\n        format: byte\n      required: false # conditional\n\n\n    TPP-Redirect-Preferred:\n      name: TPP-Redirect-Preferred\n      in: header\n      description: |\n        If it equals \"true\", the TPP prefers a redirect over an embedded SCA approach.\n        If it equals \"false\", the TPP prefers not to be redirected for SCA. The ASPSP will then choose between the Embedded or the Decoupled\n        SCA approach, depending on the choice of the SCA procedure by the TPP/PSU.\n        If the parameter is not used, the ASPSP will choose the SCA approach to be applied depending on the SCA method chosen by the\n        TPP/PSU.\n      schema:\n        type: string\n        enum:\n          - \"true\"\n          - \"false\"\n        #type: boolean\n      required: false\n\n\n    TPP-Redirect-URI:\n      name: TPP-Redirect-URI\n      in: header\n      description: |\n        URI of the TPP, where the transaction flow shall be redirected to after a Redirect.\n\n        Mandated for the Redirect SCA Approach, specifically\n        when TPP-Redirect-Preferred equals \"true\".\n        It is recommended to always use this header field.\n\n        **Remark for Future:**\n        This field might be changed to mandatory in the next version of the specification.\n      schema:\n        type: string\n        format: uri\n      required: false # conditional\n\n\n    TPP-Nok-Redirect-URI:\n      name: TPP-Nok-Redirect-URI\n      in: header\n      description: |\n        If this URI is contained, the TPP is asking to redirect the transaction flow to this address instead of the TPP-Redirect-URI in case\n        of a negative result of the redirect SCA method. This might be ignored by the ASPSP.\n      schema:\n        type: string\n        format: uri\n      required: false\n\n\n    TPP-Explicit-Authorisation-Preferred:\n      name: TPP-Explicit-Authorisation-Preferred\n      in: header\n      description: |\n        If it equals \"true\", the TPP prefers to start the authorisation process separately,\n        e.g. because of the usage of a signing basket.\n        This preference might be ignored by the ASPSP, if a signing basket is not supported as functionality.\n\n        If it equals \"false\" or if the parameter is not used, there is no preference of the TPP.\n        This especially indicates that the TPP assumes a direct authorisation of the transaction in the next step,\n        without using a signing basket.\n      schema:\n        type: string\n        enum:\n          - \"true\"\n          - \"false\"\n        #type: boolean\n      required: false\n\n    PSU-ID:\n      name: PSU-ID\n      in: header\n      description: |\n        Client ID of the PSU in the ASPSP client interface. Might be mandated in the ASPSP's documentation.\n        Is not contained if an OAuth2 based authentication was performed in a pre-step or an OAuth2 based SCA was performed in an preceding\n        AIS service in the same session.\n      schema:\n        type: string\n      required: false\n      example: \"PSU-1234\"\n\n\n    PSU-ID-Type:\n      name: PSU-ID-Type\n      in: header\n      description: |\n        Type of the PSU-ID, needed in scenarios where PSUs have several PSU-IDs as access possibility.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Corporate-ID:\n      name: PSU-Corporate-ID\n      in: header\n      description: |\n        Might be mandated in the ASPSP's documentation. Only used in a corporate context.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Corporate-ID-Type:\n      name: PSU-Corporate-ID-Type\n      in: header\n      description: |\n        Might be mandated in the ASPSP's documentation. Only used in a corporate context.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-IP-Address_conditionalForAis:\n      name: PSU-IP-Address\n      in: header\n      description: |\n        The forwarded IP Address header field consists of the corresponding HTTP request\n        IP Address field between PSU and TPP.\n        It shall be contained if and only if this request was actively initiated by the PSU.\n      schema:\n        type: string\n        format: ipv4\n      required: false\n      example: 192.168.8.78\n\n    PSU-IP-Port:\n      name: PSU-IP-Port\n      in: header\n      description: |\n        The forwarded IP Port header field consists of the corresponding HTTP request IP Port field between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n      example: \"1234\"\n\n\n    PSU-Accept:\n      name: PSU-Accept\n      in: header\n      description: |\n        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Accept-Charset:\n      name: PSU-Accept-Charset\n      in: header\n      description: |\n        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Accept-Encoding:\n      name: PSU-Accept-Encoding\n      in: header\n      description: |\n        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Accept-Language:\n      name: PSU-Accept-Language\n      in: header\n      description: |\n        The forwarded IP Accept header fields consist of the corresponding HTTP request Accept header fields between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-User-Agent:\n      name: PSU-User-Agent\n      in: header\n      description: |\n        The forwarded Agent header field of the HTTP request between PSU and TPP, if available.\n      schema:\n        type: string\n      required: false\n\n\n    PSU-Http-Method:\n      name: PSU-Http-Method\n      in: header\n      description: |\n        HTTP method used at the PSU ? TPP interface, if available.\n        Valid values are:\n        * GET\n        * POST\n        * PUT\n        * PATCH\n        * DELETE\n      schema:\n        type: string\n        enum:\n          - \"GET\"\n          - \"POST\"\n          - \"PUT\"\n          - \"PATCH\"\n          - \"DELETE\"\n      required: false\n\n\n    PSU-Device-ID:\n      name: PSU-Device-ID\n      in: header\n      description: |\n        UUID (Universally Unique Identifier) for a device, which is used by the PSU, if available.\n        UUID identifies either a device or a device dependant application installation.\n        In case of an installation identification this ID need to be unaltered until removal from device.\n      schema:\n        type: string\n        format: uuid\n      required: false\n      example: \"99435c7e-ad88-49ec-a2ad-99ddcb1f5555\"\n\n    PSU-Geo-Location:\n      name: PSU-Geo-Location\n      in: header\n      description: |\n        The forwarded Geo Location of the corresponding http request between PSU and TPP if available.\n      schema:\n        type: string\n        pattern: 'GEO:-?[0-9]{1,2}\\.[0-9]{6};-?[0-9]{1,3}\\.[0-9]{6}'\n      required: false\n      example: GEO:52.506931;13.144558\n\n    TPP-Notification-URI:\n      name: TPP-Notification-URI\n      in: header\n      description: |\n        URI for the Endpoint of the TPP-API to which the status of the payment initiation should be sent.\n        This header field may by ignored by the ASPSP.\n\n        For security reasons, it shall be ensured that the TPP-Notification-URI as introduced above is secured by the TPP eIDAS QWAC used for identification of the TPP. The following applies:\n\n        URIs which are provided by TPPs in TPP-Notification-URI shall comply with the domain secured by the eIDAS QWAC certificate of the TPP in the field CN or SubjectAltName of the certificate. Please note that in case of example-TPP.com as certificate entry TPP- Notification-URI like www.example-TPP.com/xs2a-client/v2/ASPSPidentifcation/mytransaction- id/notifications or notifications.example-TPP.com/xs2a-client/v2/ASPSPidentifcation/mytransaction- id/notifications would be compliant.\n\n        Wildcard definitions shall be taken into account for compliance checks by the ASPSP.\n         ASPSPs may respond with ASPSP-Notification-Support set to false, if the provided URIs do not comply.\n      schema:\n        type: string\n      required: false\n\n    TPP-Notification-Content-Preferred:\n      name: TPP-Notification-Content-Preferred\n      in: header\n      description: |\n        The string has the form\n\n        status=X1, ..., Xn\n\n        where Xi is one of the constants SCA, PROCESS, LAST and where constants are not\n        repeated.\n        The usage of the constants supports the of following semantics:\n\n          SCA: A notification on every change of the scaStatus attribute for all related authorisation processes is preferred by the TPP.\n\n          PROCESS: A notification on all changes of consentStatus or transactionStatus attributes is preferred by the TPP.\n          LAST: Only a notification on the last consentStatus or transactionStatus as available in the XS2A interface is preferred by the TPP.\n\n        This header field may be ignored, if the ASPSP does not support resource notification services for the related TPP.\n      schema:\n        type: string\n      required: false\n\n    authorisationId:\n      name: authorisationId\n      in: path\n      description: Resource identification of the related SCA.\n      required: true\n      schema:\n        $ref: \"#/components/schemas/authorisationId\"\n\n  requestBodies:\n    #####################################################\n    # Reusable Request Bodies\n    #####################################################\n\n    consentsConfirmationOfFunds:\n      description: |\n        Requestbody for a consent confirmation of funds request.\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/consentsConfirmationOfFunds\"\n          examples:\n            \"Consent Request on Dedicated Accounts\":\n              $ref: \"#/components/examples/consentsExample_DedicatedAccounts\"\n            \"Consent on Account List of Available Accounts\":\n              $ref: \"#/components/examples/consentsExample_AccountList\"\n            \"Consent Request on Account List or without Indication of dedicated Accounts\":\n              $ref: \"#/components/examples/consentsExample_without_Accounts\"\n\n  headers:\n    #####################################################\n    # Reusable Response Header Elements\n    #####################################################\n\n    X-Request-ID:\n      description: ID of the request, unique to the call, as determined by the initiating party.\n      required: true\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n\n    ASPSP-SCA-Approach:\n      description: |\n        This data element must be contained, if the SCA Approach is already fixed.\n        Possible values are\n          * EMBEDDED\n          * DECOUPLED\n          * REDIRECT\n        The OAuth SCA approach will be subsumed by REDIRECT.\n      schema:\n        type: string\n        enum:\n          - \"EMBEDDED\"\n          - \"DECOUPLED\"\n          - \"REDIRECT\"\n        example: \"EMBEDDED\"\n      required: false\n\n    Location:\n      description: |\n        Location of the created resource.\n      schema:\n        type: string\n        format: url\n      required: false\n\n  responses:\n    #####################################################\n    # Reusabale Responses\n    #####################################################\n    #####################################################\n    # Positive Responses\n    #####################################################\n\n    CREATED_201_ConsentsConfirmationOfFunds:\n      description: Created\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n        ASPSP-SCA-Approach:\n          $ref: \"#/components/headers/ASPSP-SCA-Approach\"\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - $ref: \"#/components/schemas/ConsentsConfirmationOfFundsResponse\"\n              - $ref: \"#/components/schemas/ConsentsConfirmationOfFundsMultilevelSCAResponse\"\n\n\n    OK_200_ConsentConfirmationOfFundsStatus:\n      description: Get consent status\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/ConsentConfirmationOfFundsStatusResponse\"\n\n\n    OK_200_ConsentConfirmationOfFundsContent:\n      description: Get consent status\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/ConsentConfirmationOfFundsContentResponse\"\n\n    OK_204_ConsentConfirmationOfFundsDelete:\n      description: Deletes a given consent.\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n    #####################################################\n    # Negative Responses\n    #####################################################\n\n    BAD_REQUEST_400_AIS:\n      description: Bad Request\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error400_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error400_AIS\"\n\n\n    UNAUTHORIZED_401_AIS:\n      description: Unauthorized\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error401_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error401_AIS\"\n\n    FORBIDDEN_403_AIS:\n      description: Forbidden\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error403_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error403_AIS\"\n\n    NOT_FOUND_404_AIS:\n      description: Not found\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error404_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error404_AIS\"\n\n\n    METHOD_NOT_ALLOWED_405_AIS:\n      description: Method Not Allowed\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error405_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error405_AIS\"\n\n\n    NOT_ACCEPTABLE_406_AIS:\n      description: Not Acceptable\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error406_NG_AIS\"\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error406_AIS\"\n\n\n    REQUEST_TIMEOUT_408_AIS:\n      description: Request Timeout\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      #No Response body because there are no valid message codes for AIS in case of HTTP code 408\n\n\n    CONFLICT_409_AIS:\n      description: Conflict\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error409_NG_AIS\"\n\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/Error409_AIS\"\n\n\n    UNSUPPORTED_MEDIA_TYPE_415_AIS:\n      description: Unsupported Media Type\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      #No Response body because there are no valid message codes for AIS in case of HTTP code 415\n\n\n    TOO_MANY_REQUESTS_429_AIS:\n      description: Too Many Requests\n\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error429_NG_AIS\"\n        application/problem+json:\n\n          schema:\n            $ref: \"#/components/schemas/Error429_AIS\"\n\n\n    INTERNAL_SERVER_ERROR_500_AIS:\n      description: Internal Server Error\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      #No Response body because there are no valid message codes for AIS in case of HTTP code 500\n\n\n    SERVICE_UNAVAILABLE_503_AIS:\n      description: Service Unavailable\n      headers:\n        Location:\n          $ref: \"#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n      #No Response body because there are no valid message codes for AIS in case of HTTP code 503\n\n    CREATED_201_StartScaProcess:\n      description: Created\n\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n        ASPSP-SCA-Approach:\n          $ref: \"#/components/headers/ASPSP-SCA-Approach\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/startScaprocessResponse\"\n          examples:\n            \"Example 1: payments - Decoupled Approach\":\n              $ref: \"#/components/examples/startScaProcessResponseExample1\"\n\n    OK_200_Authorisations:\n      description: OK\n\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/authorisations\"\n          examples:\n            Example:\n              $ref: \"#/components/examples/authorisationListExample\"\n\n    OK_200_ScaStatus:\n      description: OK\n\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/scaStatusResponse\"\n\n    OK_200_UpdatePsuData:\n      description: OK\n\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/headers/X-Request-ID\"\n        ASPSP-SCA-Approach:\n          $ref: \"#/components/headers/ASPSP-SCA-Approach\"\n\n      content:\n        application/json:\n          schema:\n\n            oneOf: #Different Authorisation Bodies\n              - $ref: \"#/components/schemas/updatePsuIdenticationResponse\" #Update PSU identification\n              - $ref: \"#/components/schemas/updatePsuAuthenticationResponse\" #Update PSU authentication\n              - $ref: \"#/components/schemas/selectPsuAuthenticationMethodResponse\" #Select authentication method\n              - $ref: \"#/components/schemas/scaStatusResponse\" #Transaction Authorisation\n              - $ref: \"#/components/schemas/authorisationConfirmationResponse\" #Authorisation Confirmation\n          examples:\n            \"Update PSU identification - payment pnitiation (Decoupled Approach)\":\n              $ref: \"#/components/examples/updatePsuIdentificationResponseExample_Decoupled_payments\"\n            \"Update PSU authentication - payment pnitiation (Embedded Approach)\":\n              $ref: \"#/components/examples/updatePsuAuthenticationResponseExample_Embedded_payments\"\n            \"Select PSU authentication - payment initiation method (Embedded Approach)\":\n              $ref: \"#/components/examples/selectPsuAuthenticationMethodResponseExample_Embedded_payments\"\n            \"Transaction authorisation (Embedded Approach)\":\n              $ref: \"#/components/examples/transactionAuthorisationResponseExample\"\n            \"Authorisation confirmation\":\n              $ref: \"#/components/examples/authorisationConfirmationResponseExample\"\n\n  examples:\n    #####################################################\n    # Predefined Examples\n    #####################################################\n\n    consentsExample_DedicatedAccounts:\n      description: Consent request on dedicated accounts\n      value:\n        {\n          \"access\":\n            {\n              \"balances\": [\n              { \"iban\": \"DE40100100103307118608\" },\n              { \"iban\": \"DE02100100109307118603\",\n                \"currency\": \"USD\"\n              },\n              { \"iban\": \"DE67100100101306118605\" }\n              ],\n              \"transactions\": [\n              { \"iban\": \"DE40100100103307118608\" },\n              { \"maskedPan\": \"123456xxxxxx1234\" }\n              ]\n            },\n          \"recurringIndicator\": \"true\",\n          \"validUntil\": \"2017-11-01\",\n          \"frequencyPerDay\": \"4\"\n        }\n\n\n\n    consentsExample_AccountList:\n      description: Consent on Account List of Available Accounts\n      value:\n        {\"access\":\n           {\"availableAccounts\": \"allAccounts\"},\n         \"recurringIndicator\": \"false\",\n         \"validUntil\": \"2017-08-06\",\n         \"frequencyPerDay\": \"1\"\n        }\n\n\n    consentsExample_without_Accounts:\n      description: Consent request on account list or without indication of accounts\n      value:\n        {\"access\":\n           {\n             \"balances\": [],\n             \"transactions\": []\n           },\n         \"recurringIndicator\": \"true\",\n         \"validUntil\": \"2017-11-01\",\n         \"frequencyPerDay\": \"4\"\n        }\n\n    updatePsuAuthenticationExample_Embedded:\n      description: Update PSU authentication request body for the embedded approach.\n      value:\n        {\n          \"psuData\": {\"password\": \"start12\"}\n        }\n\n    selectPsuAuthenticationMethodExample_Embedded:\n      description: Select PSU authentication method request body for the embedded approach.\n      value:\n        {\n          authenticationMethodId: \"myAuthenticationID\"\n        }\n\n    transactionAuthorisationExample_Embedded:\n      description: Transaction authorisation request body for the embedded approach.\n      value:\n        {\n          \"scaAuthenticationData\": \"123456\"\n        }\n\n    authorisationConfirmationExample_Redirect:\n      description: Authorisation confirmation request body for the redirect approach.\n      value:\n        {\n          \"confirmationCode\": \"2256ffgh\"\n        }\n\n    startScaProcessResponseExample1:\n      value:\n        {\n          \"scaStatus\": \"received\",\n          \"authorisationId\": \"123auth456\",\n          \"psuMessage\": \"Please use your BankApp for transaction Authorisation.\",\n          \"_links\":\n            {\n              \"scaStatus\":  {\"href\":\"/v2/payments/qwer3456tzui7890/authorisations/123auth456\"}\n            }\n        }\n\n    authorisationListExample:\n      value:\n        {\n          \"authorisationIds\": [\"123auth456\"]\n        }\n\n    updatePsuIdentificationResponseExample_Decoupled_payments:\n      description: Response of an update PSU identification for a payment initiation request for the decoupled approach.\n      value:\n        {\n          \"scatransactionStatus\": \"psuIdentified\",\n          \"psuMessage\": \"Please use your BankApp for transaction Authorisation.\",\n          \"_links\":\n            {\n              \"scaStatus\":  {\"href\":\"/v2/payments/qwer3456tzui7890/authorisations/123auth456\"}\n            }\n        }\n\n    updatePsuAuthenticationResponseExample_Embedded_payments:\n      description: Response of an update PSU authentication for a consent request for the embedded approach.\n      value:\n        {\n          \"scaStatus\": \"psuAuthenticated\",\n          _links: {\n            \"authoriseTransaction\": {\"href\": \"/v2/payments/1234-wertiq-983/authorisations/123auth456\"}\n          }\n        }\n\n    selectPsuAuthenticationMethodResponseExample_Embedded_payments:\n      description: Response of a select PSU authentication method payment initiation request for the embedded approach.\n      value:\n        {\n          \"scaStatus\": \"scaMethodSelected\",\n          \"chosenScaMethod\": {\n            \"authenticationType\": \"SMS_OTP\",\n            \"authenticationMethodId\": \"myAuthenticationID\"},\n          \"challengeData\": {\n            \"otpMaxLength\": \"6\",\n            \"otpFormat\": \"integer\"},\n          \"_links\": {\n            \"authoriseTransaction\": {\"href\": \"/v2/payments/1234-wertiq-983/authorisations/123auth456\"}\n          }\n        }\n\n    transactionAuthorisationResponseExample:\n      description: Response of a transaction authorisation request for the embedded approach.\n      value:\n        {\n          \"scaStatus\": \"finalised\"\n        }\n\n    authorisationConfirmationResponseExample:\n      description: Response of an authorisation confirmation request.\n      value:\n        {\n          \"scaStatus\": \"finalised\",\n          \"_links\":{\n            \"status\":  {\"href\":\"/v2/payments/sepa-credit-transfers/qwer3456tzui7890/status\"}\n          }\n        }\n\nsecurity:\n  #####################################################\n  # Global security options\n  #####################################################\n  - {}\n\n\ntags:\n  #####################################################\n  # Predefined Tags to Group Methods\n  #####################################################\n\n  - name: Payment Initiation Service (PIS)\n    description: |\n      The Decription for Payment Initiation Service (PIS) offers the following services:\n        * Initiation and update of a payment request\n        * Status information of a payment\n  - name: Confirmation of Funds Service (PIIS)\n    description: |\n      Confirmation of Funds Service (PIIS) returns a confirmation of funds request at the ASPSP.\n  - name: Account Information Service (AIS)\n    description: |\n      The Account Information Service (AIS) offers the following services\n        * Transaction reports for a given account or card account including balances if applicable.\n        * Balances of a given account or card account ,\n        * A list of available accounts or card account ,\n        * Account details of a given account or card account or of the list of all accessible accounts or card account  relative to a granted consent\n  - name: Signing Baskets Service (SBS)\n    description: |\n      Signing basket methods are used for authorising several transactions and resp. or consents with one SCA operation.\n  - name: Common Services\n    description: |\n      Processes on starting authorisations, update PSU identification or PSU authentication data and explicit\n      authorisation of transactions by using SCA are very similar in PIS and AIS and signing baskets services.\n      The API calls supporting these processes are described in the following independently from the service/endpoint.\n      For reasons of clarity, the endpoints are defined always for the Payment Initiation Service, the Payment Cancellation,\n      the Account Information Service (Consents), and Signing Baskets separately.\n      These processes usually are used following a hyperlink of the ASPSP.\n"
		}
	},
	"Error": "parse: parse spec: paths: /v2/consents/confirmation-of-funds: post: operation \"createConsentConfirmationOfFunds\": responses: 201: resolve \"#/components/responses/CREATED_201_ConsentsConfirmationOfFunds\" reference: content: \"application/json\": schema: parse schema: oneOf: [0]: parse schema: resolve \"#/components/schemas/ConsentsConfirmationOfFundsResponse\": parse schema: tppMessage: parse schema: item: parse schema: resolve \"#/components/schemas/tppMessageGeneric\": find schema: resolve \"#/components/schemas/tppMessageGeneric\": can't find value for \"components/schemas/tppMessageGeneric\""
}