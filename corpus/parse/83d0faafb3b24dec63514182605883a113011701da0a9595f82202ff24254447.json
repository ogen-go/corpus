{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/OpenBanking-Brasil/areadesenvolvedor"
		},
		"file": {
			"name": "_payments_apis_part.yml",
			"size": 0,
			"path": "documentation/source/swagger/parts/_payments_apis_part.yml",
			"byteSize": 21129,
			"content": "openapi: \"3.0.0\"\ninfo:\n  title: API Payment Initiation - Open Banking Brasil\n  description: |\n    API de Iniciação de Pagamentos, responsável por viabilizar as operações de iniciação de pagamentos para o Open Banking Brasil.\n    Para cada uma das formas de pagamento previstas é necessário obter prévio consentimento do cliente através dos `endpoints` dedicados ao consentimento nesta API.\n\n    # Orientações\n    No diretório de participantes duas `Roles` estão relacionadas à presente API:\n    - `CONTA`, referente às instituições detentoras de conta participantes do Open Banking Brasil;\n    - `PAGTO`, referente às instituições iniciadoras de transação de pagamento de conta participantes do Open Banking Brasil.\n    Os tokens utilizados para consumo dos `endpoints` desta API devem possuir os `scopes` `openid` e `payments`.\n    Esta API não requer a implementação de `permissions` para sua utilização.\n    Todas as requisições e respostas devem ser assinadas seguindo o protocolo estabelecido na sessão \u003ca href=\"https://openbanking-brasil.github.io/areadesenvolvedor/#assinaturas\" target=\"_blank\"\u003eAssinaturas\u003c/a\u003e do guia de segurança.\n\n    ## Assinatura de payloads\n\n    No contexto da API Payment Initiation, os `payloads` de mensagem que trafegam tanto por parte da instituição iniciadora de transação de pagamento quanto por parte da instituição detentora\n    de conta devem estar assinados. Para o processo de assinatura destes `payloads` as instituições devem seguir as especificações de segurança publicadas no Portal do desenvolvedor:\n\n    - Certificados exigidos para assinatura de mensagens:\n    [Padrões de certificados digitais Open Banking Brasil](https://github.com/OpenBanking-Brasil/specs-seguranca/blob/main/open-banking-brasil-certificate-standards-1_ID1.md#certificado-de-assinatura-certificadoassinatura)\n\n    - Como assinar o payload JWS: [https://openbanking-brasil.github.io/areadesenvolvedor/#como-assinar-o-payload](https://openbanking-brasil.github.io/areadesenvolvedor/#como-assinar-o-payload)\n\n    ## Controle de acesso\n\n    O endpoint de consulta de pagamento GET /pix/payments/{​​​paymentId}​​​ deve suportar acesso a partir de access_token emitido por meio de um grant_type do tipo `client credentials`, como opção do uso do token vinculado ao consentimento (hybrid flow).\n\n    Para evitar vazamento de informação, a detentora deve validar que o pagamento consultado pertence ao ClientId que o criou e, caso haja divergências, retorne um erro HTTP 400.\n\n  version: 1.1.0-rc1.0\n  license:\n    name: Apache 2.0\n    url: \"https://www.apache.org/licenses/LICENSE-2.0\"\n  contact:\n    name: Governança do Open Banking Brasil – Especificações\n    email: gt-interfaces@openbankingbr.org\n    url: \"https://openbanking-brasil.github.io/areadesenvolvedor/\"\nservers:\n  - url: \"https://api.banco.com.br/open-banking/payments/v1\"\n    description: Servidor de Produção\n  - url: \"https://apih.banco.com.br/open-banking/payments/v1\"\n    description: Servidor de Homologação\ntags:\n  - name: Pagamentos\npaths:\n  /consents:\n    post:\n      tags:\n        - Pagamentos\n      summary: Criar consentimento para a iniciação de pagamento.\n      operationId: paymentsPostConsents\n      description: Método de criação do consentimento para a iniciação de pagamento.\n      parameters:\n        - $ref: \"#/components/parameters/Authorization\"\n        - $ref: \"#/components/parameters/xFapiAuthDate\"\n        - $ref: \"#/components/parameters/xFapiCustomerIpAddress\"\n        - $ref: \"#/components/parameters/xFapiInteractionId\"\n        - $ref: \"#/components/parameters/xCustomerUserAgent\"\n        - $ref: \"#/components/parameters/XIdempotencyKey\"\n      requestBody:\n        content:\n          application/jwt:\n            schema:\n              $ref: \"#/components/schemas/CreatePaymentConsent\"\n        description: Payload para criação do consentimento para iniciação do pagamento.\n        required: true\n      responses:\n        \"201\":\n          $ref: \"#/components/responses/201PaymentsConsentsConsentCreated\"\n        \"400\":\n          $ref: \"#/components/responses/BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/NotFound\"\n        \"405\":\n          $ref: \"#/components/responses/MethodNotAllowed\"\n        \"406\":\n          $ref: \"#/components/responses/NotAcceptable\"\n        \"415\":\n          $ref: \"#/components/responses/UnsupportedMediaType\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityConsents\"\n        \"429\":\n          $ref: \"#/components/responses/TooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/InternalServerError\"\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseError\"\n      security:\n        - OpenId:\n            - openid\n          OAuth2ClientCredentials:\n            - payments\n  /consents/{consentId}:\n    get:\n      tags:\n        - Pagamentos\n      summary: Consultar consentimento para iniciação de pagamento.\n      operationId: paymentsGetConsentsConsentId\n      description: Método para consulta do consentimento para a iniciação de pagamento.\n      parameters:\n        - $ref: \"#/components/parameters/consentId\"\n        - $ref: \"#/components/parameters/Authorization\"\n        - $ref: \"#/components/parameters/xFapiAuthDate\"\n        - $ref: \"#/components/parameters/xFapiCustomerIpAddress\"\n        - $ref: \"#/components/parameters/xFapiInteractionId\"\n        - $ref: \"#/components/parameters/xCustomerUserAgent\"\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200PaymentsConsentsConsentIdRead\"\n        \"400\":\n          $ref: \"#/components/responses/BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/NotFound\"\n        \"405\":\n          $ref: \"#/components/responses/MethodNotAllowed\"\n        \"406\":\n          $ref: \"#/components/responses/NotAcceptable\"\n        \"429\":\n          $ref: \"#/components/responses/TooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/InternalServerError\"\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseError\"\n      security:\n        - OAuth2ClientCredentials:\n            - payments\n    patch:\n      tags:\n        - Pagamentos\n      summary: Revogar consentimento de pagamento.\n      operationId: paymentsPatchPixPayments\n      description: Método para revogação do consentimento.\n      parameters:\n        - $ref: \"#/components/parameters/consentId\"\n        - $ref: \"#/components/parameters/Authorization\"\n        - $ref: \"#/components/parameters/xFapiAuthDate\"\n        - $ref: \"#/components/parameters/xFapiCustomerIpAddress\"\n        - $ref: \"#/components/parameters/xFapiInteractionId\"\n        - $ref: \"#/components/parameters/xCustomerUserAgent\"\n        - $ref: \"#/components/parameters/XIdempotencyKey\"\n      requestBody:\n        content:\n          application/jwt:\n            schema:\n              $ref: \"#/components/schemas/PatchPaymentsConsent\"\n        description: Payload para revogação do consentimento.\n        required: true\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200PatchPaymentsConsent\"\n        \"400\":\n          $ref: \"#/components/responses/BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/NotFound\"\n        \"405\":\n          $ref: \"#/components/responses/MethodNotAllowed\"\n        \"406\":\n          $ref: \"#/components/responses/NotAcceptable\"\n        \"415\":\n          $ref: \"#/components/responses/UnsupportedMediaType\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityPatchConsent\"\n        \"429\":\n          $ref: \"#/components/responses/TooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/InternalServerError\"\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseError\"\n      security:\n        - OAuth2AuthorizationCode:\n            - \"consent:consentId\"\n            - payments\n        - OAuth2ClientCredentials:\n            - payments\n  /pix/payments:\n    post:\n      tags:\n        - Pagamentos\n      summary: Criar iniciação de pagamento.\n      operationId: paymentsPostPixPayments\n      description: Método para criar uma iniciação de pagamento.\n      parameters:\n        - $ref: \"#/components/parameters/Authorization\"\n        - $ref: \"#/components/parameters/xFapiAuthDate\"\n        - $ref: \"#/components/parameters/xFapiCustomerIpAddress\"\n        - $ref: \"#/components/parameters/xFapiInteractionId\"\n        - $ref: \"#/components/parameters/xCustomerUserAgent\"\n        - $ref: \"#/components/parameters/XIdempotencyKey\"\n      requestBody:\n        content:\n          application/jwt:\n            schema:\n              $ref: \"#/components/schemas/CreatePixPayment\"\n        description: Payload para criação da iniciação do pagamento Pix.\n        required: true\n      responses:\n        \"201\":\n          $ref: \"#/components/responses/201PaymentsInitiationPixPaymentCreated\"\n        \"400\":\n          $ref: \"#/components/responses/BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/NotFound\"\n        \"405\":\n          $ref: \"#/components/responses/MethodNotAllowed\"\n        \"406\":\n          $ref: \"#/components/responses/NotAcceptable\"\n        \"415\":\n          $ref: \"#/components/responses/UnsupportedMediaType\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityPixPayments\"\n        \"429\":\n          $ref: \"#/components/responses/TooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/InternalServerError\"\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseError\"\n      security:\n        - OAuth2AuthorizationCode:\n            - \"consent:consentId\"\n            - payments\n  /pix/payments/{paymentId}:\n    get:\n      tags:\n        - Pagamentos\n      summary: Consultar iniciação de pagamento.\n      operationId: paymentsGetPixPaymentsPaymentId\n      description: Método para consultar uma iniciação de pagamento.\n      parameters:\n        - $ref: \"#/components/parameters/paymentId\"\n        - $ref: \"#/components/parameters/Authorization\"\n        - $ref: \"#/components/parameters/xFapiAuthDate\"\n        - $ref: \"#/components/parameters/xFapiCustomerIpAddress\"\n        - $ref: \"#/components/parameters/xFapiInteractionId\"\n        - $ref: \"#/components/parameters/xCustomerUserAgent\"\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200PaymentsInitiationPixPaymentIdRead\"\n        \"400\":\n          $ref: \"#/components/responses/BadRequest\"\n        \"401\":\n          $ref: \"#/components/responses/Unauthorized\"\n        \"403\":\n          $ref: \"#/components/responses/Forbidden\"\n        \"404\":\n          $ref: \"#/components/responses/NotFound\"\n        \"405\":\n          $ref: \"#/components/responses/MethodNotAllowed\"\n        \"406\":\n          $ref: \"#/components/responses/NotAcceptable\"\n        \"429\":\n          $ref: \"#/components/responses/TooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/InternalServerError\"\n        default:\n          description: Erro inesperado.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseError\"\n      security:\n        - OAuth2AuthorizationCode:\n            - payments\n        - OAuth2ClientCredentials:\n            - payments\ncomponents:\n  schemas:\n    422ResponseErrorCreateConsent:\n      $ref: ./schemas/payments_apis/422ResponseErrorCreateConsent.yaml\n    422ResponseErrorCreatePixPayment:\n      $ref: ./schemas/payments_apis/422ResponseErrorCreatePixPayment.yaml\n    BusinessEntity:\n      $ref: ./schemas/payments_apis/BusinessEntity.yaml\n    CreatePaymentConsent:\n      $ref: ./schemas/payments_apis/CreatePaymentConsent.yaml\n    CreatePixPayment:\n      $ref: ./schemas/payments_apis/CreatePixPayment.yaml\n    CreatePixPaymentData:\n      $ref: ./schemas/payments_apis/CreatePixPaymentData.yaml\n    CreditorAccount:\n      $ref: ./schemas/business_commons/CreditorAccount.yaml\n    DebtorAccount:\n      $ref: ./schemas/business_commons/DebtorAccount.yaml\n    Details:\n      $ref: ./schemas/payments_apis/PaymentDetails.yaml\n    EndToEndId:\n      $ref: ./schemas/business_commons/EndToEndId.yaml\n    EnumAccountPaymentsType:\n      $ref: ./schemas/enum/EnumAccountPaymentsType.yaml\n    EnumAuthorisationStatusType:\n      $ref: ./schemas/enum/EnumAuthorisationStatusType.yaml\n    EnumAuthorisationPatchStatusType:\n      $ref: ./schemas/enum/EnumAuthorisationPatchStatusType.yaml\n    EnumErrorsCreatePayment:\n      $ref: ./schemas/enum/EnumErrorsCreatePayment.yaml\n    EnumLocalInstrument:\n      $ref: ./schemas/enum/EnumLocalInstrument.yaml\n    EnumPaymentPersonType:\n      $ref: ./schemas/enum/EnumPaymentPersonType.yaml\n    EnumPaymentStatusType:\n      $ref: ./schemas/enum/EnumPaymentStatusType.yaml\n    EnumPaymentType:\n      $ref: ./schemas/enum/EnumPaymentType.yaml\n    EnumRejectionReasonType:\n      $ref: ./schemas/enum/EnumRejectionReasonType.yaml\n    Identification:\n      $ref: ./schemas/payments_apis/PaymentIdentification.yaml\n    LoggedUser:\n      $ref: ./schemas/payments_apis/LoggedUser.yaml\n    Meta:\n      $ref: ./schemas/Meta.yaml\n    PaymentConsent:\n      $ref: ./schemas/payments_apis/PaymentConsent.yaml\n    Schedule:\n      $ref: ./schemas/payments_apis/Schedule.yaml\n    Single:\n      $ref: ./schemas/payments_apis/Single.yaml\n    PaymentPix:\n      $ref: ./schemas/payments_apis/PaymentPix.yaml\n    ResponseError:\n      $ref: ./schemas/ResponseError.yaml\n    ResponsePaymentConsent:\n      $ref: ./schemas/payments_apis/ResponsePaymentConsent.yaml\n    ResponsePixPayment:\n      $ref: ./schemas/payments_apis/ResponsePixPayment.yaml\n    ResponsePixPaymentData:\n      $ref: ./schemas/payments_apis/ResponsePixPaymentData.yaml\n    XFapiInteractionId:\n      $ref: ./headers/XFapiInteractionId.yaml\n\n    PatchPaymentsConsent:\n      $ref: ./schemas/payments_apis/PatchPaymentsConsent.yaml\n    PatchPaymentsConsentData:\n      $ref: ./schemas/payments_apis/PatchPaymentsConsentData.yaml\n    Revocation:\n      $ref: ./schemas/payments_apis/Revocation.yaml\n    EnumRevokedBy:\n      $ref: ./schemas/payments_apis/EnumRevokedBy.yaml\n    Reason:\n      $ref: ./schemas/payments_apis/Reason.yaml\n    EnumRevocationReason:\n      $ref: ./schemas/enum/EnumRevocationReason.yaml\n    422ResponseErrorPatchConsent:\n      $ref: ./schemas/payments_apis/422ResponseErrorPatchConsent.yaml\n    EnumErrorsPatchConsent:\n      $ref: ./schemas/enum/EnumErrorsPatchConsent.yaml\n  parameters:\n    consentId:\n      $ref: ./parameters/ConsentId.yaml\n    paymentId:\n      $ref: ./parameters/PaymentId.yaml\n    Authorization:\n      $ref: ./parameters/Authorization.yaml\n    xCustomerUserAgent:\n      $ref: ./parameters/XCustomerUserAgent.yaml\n    xFapiAuthDate:\n      $ref: ./parameters/XFapiAuthDate.yaml\n    xFapiCustomerIpAddress:\n      $ref: ./parameters/XFapiCustomerIpAddress.yaml\n    xFapiInteractionId:\n      $ref: ./parameters/XFapiInteractionId.yaml\n    XIdempotencyKey:\n      $ref: ./parameters/XIdempotencyKey.yaml\n  securitySchemes:\n    OpenId:\n      type: openIdConnect\n      openIdConnectUrl: \"https://auth.mockbank.poc.raidiam.io/.well-known/openid-configuration\"\n    OAuth2ClientCredentials:\n      type: oauth2\n      description: Fluxo OAuth necessário para que a iniciadora possa iniciar pagamentos. Requer o processo de redirecionamento e autenticação do usuário.\n      flows:\n        clientCredentials:\n          tokenUrl: \"https://authserver.example/token\"\n          scopes:\n            payments: Escopo necessário para acesso à API Payment Initiation.\n    OAuth2AuthorizationCode:\n      type: oauth2\n      description: Fluxo OAuth necessário para que a iniciadora possa iniciar pagamentos. Requer o processo de redirecionamento e autenticação do usuário.\n      flows:\n        authorizationCode:\n          authorizationUrl: \"https://authserver.example/token\"\n          tokenUrl: \"https://authserver.example/token\"\n          scopes:\n            payments: Escopo necessário para acesso à API Payment Initiation.\n  responses:\n    BadRequest:\n      $ref: ./responses/payments_apis/BadRequest.yaml\n    Forbidden:\n      $ref: ./responses/payments_apis/Forbidden.yaml\n    InternalServerError:\n      $ref: ./responses/payments_apis/InternalServerError.yaml\n    MethodNotAllowed:\n      $ref: ./responses/payments_apis/MethodNotAllowed.yaml\n    NotAcceptable:\n      $ref: ./responses/payments_apis/NotAcceptable.yaml\n    NotFound:\n      $ref: ./responses/payments_apis/NotFound.yaml\n    TooManyRequests:\n      $ref: ./responses/payments_apis/TooManyRequests.yaml\n    UnprocessableEntityConsents:\n      $ref: ./schemas/payments_apis/UnprocessableEntityConsents.yaml\n    UnprocessableEntityPixPayments:\n      $ref: ./schemas/payments_apis/UnprocessableEntityPixPayments.yaml\n    Unauthorized:\n      $ref: ./responses/payments_apis/Unauthorized.yaml\n    UnsupportedMediaType:\n      $ref: ./responses/payments_apis/UnsupportedMediaType.yaml\n    UnprocessableEntityPatchConsent:\n      $ref: ./schemas/payments_apis/UnprocessableEntityPatchConsent.yaml\n    201PaymentsConsentsConsentCreated:\n      description: Consentimento de pagamento criado com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UUID RFC4122 usado como um ID de correlação. O transmissor deve usar o mesmo valor recebido na requisição para o cabeçalho de resposta recebido na requisição, caso não tenha sido fornecido, deve se usar um UUID RFC4122.\n          schema:\n            $ref: \"#/components/schemas/XFapiInteractionId\"\n      content:\n        application/jwt:\n          schema:\n            $ref: \"#/components/schemas/ResponsePaymentConsent\"\n    200PaymentsConsentsConsentIdRead:\n      description: Dados do consentimento de pagamento obtidos com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UUID RFC4122 usado como um ID de correlação. O transmissor deve usar o mesmo valor recebido na requisição para o cabeçalho de resposta recebido na requisição, caso não tenha sido fornecido, deve se usar um UUID RFC4122.\n          schema:\n            $ref: \"#/components/schemas/XFapiInteractionId\"\n      content:\n        application/jwt:\n          schema:\n            $ref: \"#/components/schemas/ResponsePaymentConsent\"\n    201PaymentsInitiationPixPaymentCreated:\n      description: Iniciação de pagamento Pix criada com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UUID RFC4122 usado como um ID de correlação. O transmissor deve usar o mesmo valor recebido na requisição para o cabeçalho de resposta recebido na requisição, caso não tenha sido fornecido, deve se usar um UUID RFC4122.\n          schema:\n            $ref: \"#/components/schemas/XFapiInteractionId\"\n      content:\n        application/jwt:\n          schema:\n            $ref: \"#/components/schemas/ResponsePixPayment\"\n    200PaymentsInitiationPixPaymentIdRead:\n      description: Dados de iniciação de pagamento Pix obtidos com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UUID RFC4122 usado como um ID de correlação. O transmissor deve usar o mesmo valor recebido na requisição para o cabeçalho de resposta recebido na requisição, caso não tenha sido fornecido, deve se usar um UUID RFC4122.\n          schema:\n            $ref: \"#/components/schemas/XFapiInteractionId\"\n      content:\n        application/jwt:\n          schema:\n            $ref: \"#/components/schemas/ResponsePixPayment\"\n    200PatchPaymentsConsent:\n      description: Revogação do Consentimento informado com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          description: |\n            Um UUID RFC4122 usado como um ID de correlação. O transmissor deve usar o mesmo valor recebido na requisição para o cabeçalho de resposta recebido na requisição, caso não tenha sido fornecido, deve se usar um UUID RFC4122.\n          schema:\n            $ref: \"#/components/schemas/XFapiInteractionId\"\n      content:\n        application/jwt:\n          schema:\n            $ref: \"#/components/schemas/ResponsePaymentConsent\"\n"
		}
	},
	"Error": "parse: parse spec: parse components: parameters: \"xFapiInteractionId\": resolve \"./parameters/XFapiInteractionId.yaml\" reference: invalid parameter reference: \"./parameters/XFapiInteractionId.yaml\""
}