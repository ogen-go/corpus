{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/vippsas/vipps-invoice-api"
		},
		"file": {
			"name": "issue-token.json",
			"size": 0,
			"path": "docs/2.0/issue-token.json",
			"byteSize": 18665,
			"content": "{\r\n  \"openapi\": \"3.0.1\",\r\n  \"info\": {\r\n    \"title\": \"Vipps eFaktura ISP API\",\r\n    \"description\": \"Vipps eFaktura ISP API version 2.0 issue token\",\r\n    \"version\": \"2.0.0\"\r\n  },\r\n  \"paths\": {\r\n    \"/v2/recipients/token/unique\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Issue-token\"\r\n        ],\r\n        \"summary\": \"Request an issue-token for a uniquely identifiable recipient\",\r\n        \"description\": \"Will give a short-lived token for a given recipient that can be used to issue invoices from the specified issuer.\",\r\n        \"operationId\": \"GetIssueTokenByUniqueId\",\r\n        \"parameters\": [\r\n          {\r\n            \"name\": \"Correlation-ID\",\r\n            \"in\": \"header\",\r\n            \"description\": \"Used to uniquely identify the HTTP request. This ID is used to correlate the HTTP request between a client and server.\",\r\n            \"schema\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"example\": \"a671cbb3-79e5-4146-b3f1-507a33d2e5ea\"\r\n          },\r\n          {\r\n            \"name\": \"Authorization\",\r\n            \"in\": \"header\",\r\n            \"description\": \"Authorization token is obtained from Access Token API: https://github.com/vippsas/vipps-accesstoken-api\",\r\n            \"required\": true,\r\n            \"schema\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"example\": \"VippsAccessToken eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkV4YW1wbGUiLCJpYXQiOjE1MTYyMzkwMjJ9.hzeK-fFKuavScl3weYW0YdBfVk8ebHMaDAFbNiKbWS0\"\r\n          }\r\n        ],\r\n        \"requestBody\": {\r\n          \"content\": {\r\n            \"application/json\": {\r\n              \"schema\": {\r\n                \"$ref\": \"#/components/schemas/GetIssueTokenByUniqueIdRequest\"\r\n              }\r\n            },\r\n            \"application/*+json\": {\r\n              \"schema\": {\r\n                \"$ref\": \"#/components/schemas/GetIssueTokenByUniqueIdRequest\"\r\n              }\r\n            }\r\n          },\r\n          \"required\": true\r\n        },\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"Recipient with an active consent found\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/GetIssueTokenByUniqueIdResponse\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/GetIssueTokenByUniqueIdResponse\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"404\": {\r\n            \"description\": \"No recipient with active consent found\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"400\": {\r\n            \"description\": \"Bad request. Likely a validation error.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ValidationProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ValidationProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"500\": {\r\n            \"description\": \"Internal server error.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"502\": {\r\n            \"description\": \"External service failed. Retry or try again later.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"403\": {\r\n            \"description\": \"Access to the operation is not allowed.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \"/v2/recipients/token/recipient-data\": {\r\n      \"post\": {\r\n        \"tags\": [\r\n          \"Issue-token\"\r\n        ],\r\n        \"summary\": \"Request an issue token using recipient data\",\r\n        \"description\": \"Will give a short-lived token for a given recipient that can be used to issue invoices from the specified organization.\\nAccepts identifiers like email, mobile phone, address, etc. and will give a recipient token if a unique recipient can be identified\",\r\n        \"operationId\": \"GetIssueTokenByRecipientData\",\r\n        \"parameters\": [\r\n          {\r\n            \"name\": \"Correlation-ID\",\r\n            \"in\": \"header\",\r\n            \"description\": \"Used to uniquely identify the HTTP request. This ID is used to correlate the HTTP request between a client and server.\",\r\n            \"schema\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"example\": \"a671cbb3-79e5-4146-b3f1-507a33d2e5ea\"\r\n          },\r\n          {\r\n            \"name\": \"Authorization\",\r\n            \"in\": \"header\",\r\n            \"description\": \"Authorization token is obtained from Access Token API: https://github.com/vippsas/vipps-accesstoken-api\",\r\n            \"required\": true,\r\n            \"schema\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"example\": \"VippsAccessToken eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkV4YW1wbGUiLCJpYXQiOjE1MTYyMzkwMjJ9.hzeK-fFKuavScl3weYW0YdBfVk8ebHMaDAFbNiKbWS0\"\r\n          }\r\n        ],\r\n        \"requestBody\": {\r\n          \"content\": {\r\n            \"application/json\": {\r\n              \"schema\": {\r\n                \"$ref\": \"#/components/schemas/GetIssueTokenByRecipientDataRequest\"\r\n              }\r\n            },\r\n            \"application/*+json\": {\r\n              \"schema\": {\r\n                \"$ref\": \"#/components/schemas/GetIssueTokenByRecipientDataRequest\"\r\n              }\r\n            }\r\n          },\r\n          \"required\": true\r\n        },\r\n        \"responses\": {\r\n          \"200\": {\r\n            \"description\": \"Unique recipient with an active consent found\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/GetIssueTokenByRecipientDataResponse\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/GetIssueTokenByRecipientDataResponse\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"404\": {\r\n            \"description\": \"No recipient with active consent found\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"409\": {\r\n            \"description\": \"Multiple users found, can not provide issue token\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"400\": {\r\n            \"description\": \"Bad request. Likely a validation error.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ValidationProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ValidationProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"500\": {\r\n            \"description\": \"Internal server error.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"502\": {\r\n            \"description\": \"External service failed. Retry or try again later.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"403\": {\r\n            \"description\": \"Access to the operation is not allowed.\",\r\n            \"content\": {\r\n              \"application/problem+json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              },\r\n              \"application/json\": {\r\n                \"schema\": {\r\n                  \"$ref\": \"#/components/schemas/ProblemDetails\"\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"components\": {\r\n    \"schemas\": {\r\n      \"RecipientIdentifierType\": {\r\n        \"enum\": [\r\n          \"NorwegianNIN\",\r\n          \"Agreement\"\r\n        ],\r\n        \"type\": \"string\",\r\n        \"description\": \"An identifier that is one of the following either a National Identification Number (NIN)\\r\\nor a Nets' agreement reference. See the documentation for details on format.\"\r\n      },\r\n      \"IssuerIdentifierType\": {\r\n        \"enum\": [\r\n          \"NorwegianOrganizationNumber\"\r\n        ],\r\n        \"type\": \"string\"\r\n      },\r\n      \"GetIssueTokenByUniqueIdRequest\": {\r\n        \"required\": [\r\n          \"issuerIdentifierType\",\r\n          \"issuerIdentifierValue\",\r\n          \"recipientIdentifierType\",\r\n          \"recipientIdentifierValue\"\r\n        ],\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"recipientIdentifierType\": {\r\n            \"$ref\": \"#/components/schemas/RecipientIdentifierType\"\r\n          },\r\n          \"recipientIdentifierValue\": {\r\n            \"minLength\": 1,\r\n            \"type\": \"string\",\r\n            \"description\": \"Validation rules vary by 'RecipientIdentifierType'. See documentation for details.\",\r\n            \"example\": \"23106029172\"\r\n          },\r\n          \"issuerIdentifierType\": {\r\n            \"$ref\": \"#/components/schemas/IssuerIdentifierType\"\r\n          },\r\n          \"issuerIdentifierValue\": {\r\n            \"minLength\": 1,\r\n            \"type\": \"string\",\r\n            \"description\": \"Validation rules vary by 'IssuerIdentifierType'. See documentation for details.\",\r\n            \"example\": \"918130047\"\r\n          }\r\n        },\r\n        \"additionalProperties\": false\r\n      },\r\n      \"GetIssueTokenByUniqueIdResponse\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"issueToken\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Token that can be used to act on behalf of the recipent.\",\r\n            \"nullable\": true,\r\n            \"example\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"\r\n          }\r\n        },\r\n        \"additionalProperties\": false\r\n      },\r\n      \"ProblemDetails\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"type\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"title\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"status\": {\r\n            \"type\": \"integer\",\r\n            \"format\": \"int32\",\r\n            \"nullable\": true\r\n          },\r\n          \"detail\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"instance\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          }\r\n        },\r\n        \"additionalProperties\": { }\r\n      },\r\n      \"ValidationProblemDetails\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"type\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"title\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"status\": {\r\n            \"type\": \"integer\",\r\n            \"format\": \"int32\",\r\n            \"nullable\": true\r\n          },\r\n          \"detail\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"instance\": {\r\n            \"type\": \"string\",\r\n            \"nullable\": true\r\n          },\r\n          \"errors\": {\r\n            \"type\": \"object\",\r\n            \"additionalProperties\": {\r\n              \"type\": \"array\",\r\n              \"items\": {\r\n                \"type\": \"string\"\r\n              }\r\n            },\r\n            \"nullable\": true,\r\n            \"readOnly\": true\r\n          }\r\n        },\r\n        \"additionalProperties\": { },\r\n        \"description\": \"WORK IN PROGRESS, MIGHT CHANGE LATER\",\r\n        \"default\": {\r\n          \"errors\": {\r\n            \"Msisdn\": [\r\n              \"The length of 'Msisdn' must be at least 10 characters. You entered 3 characters.\",\r\n              \"'Msisdn' is not in the correct format.\"\r\n            ]\r\n          },\r\n          \"type\": \"https://tools.ietf.org/html/rfc7231#section-6.5.1\",\r\n          \"title\": \"One or more validation errors occurred.\",\r\n          \"status\": 400,\r\n          \"detail\": \"...\",\r\n          \"instance\": \"...\"\r\n        },\r\n        \"example\": {\r\n          \"errors\": {\r\n            \"Msisdn\": [\r\n              \"The length of 'Msisdn' must be at least 10 characters. You entered 3 characters.\",\r\n              \"'Msisdn' is not in the correct format.\"\r\n            ]\r\n          },\r\n          \"type\": \"https://tools.ietf.org/html/rfc7231#section-6.5.1\",\r\n          \"title\": \"One or more validation errors occurred.\",\r\n          \"status\": 400,\r\n          \"detail\": \"...\",\r\n          \"instance\": \"...\"\r\n        }\r\n      },\r\n      \"GetIssueTokenByRecipientDataRequest\": {\r\n        \"required\": [\r\n          \"issuerIdentifierType\",\r\n          \"issuerIdentifierValue\"\r\n        ],\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"issuerIdentifierType\": {\r\n            \"$ref\": \"#/components/schemas/IssuerIdentifierType\"\r\n          },\r\n          \"issuerIdentifierValue\": {\r\n            \"minLength\": 1,\r\n            \"type\": \"string\",\r\n            \"description\": \"Validation rules vary by 'IssuerIdentifierType'. See documentation for details.\",\r\n            \"example\": \"918130047\"\r\n          },\r\n          \"msisdn\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Mobile phone number of the recipient in MSISDN format. (strong)\",\r\n            \"nullable\": true,\r\n            \"example\": \"4799912345\"\r\n          },\r\n          \"email\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Email address. (strong)\",\r\n            \"nullable\": true,\r\n            \"example\": \"ola@example.org\"\r\n          },\r\n          \"dateOfBirth\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Date of birth (yyyy-mm-dd)\",\r\n            \"nullable\": true,\r\n            \"example\": \"1986-03-24\"\r\n          },\r\n          \"addressLine1\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Address line 1\",\r\n            \"nullable\": true,\r\n            \"example\": \"Testgata 42A\"\r\n          },\r\n          \"addressLine2\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Address line 2\",\r\n            \"nullable\": true,\r\n            \"example\": \"\"\r\n          },\r\n          \"postCode\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Post code\",\r\n            \"nullable\": true,\r\n            \"example\": \"8500\"\r\n          },\r\n          \"city\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"City\",\r\n            \"nullable\": true,\r\n            \"example\": \"Narvik\"\r\n          },\r\n          \"countryCode\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Country code (Alpha 2 code from ISO-3166)\",\r\n            \"nullable\": true,\r\n            \"example\": \"NO\"\r\n          },\r\n          \"firstName\": {\r\n            \"maxLength\": 50,\r\n            \"minLength\": 1,\r\n            \"pattern\": \"^[\\\\w\\\\s\\\\p{P}\\\\.]*(?\u003c!\\\\*)$\",\r\n            \"type\": \"string\",\r\n            \"description\": \"First name (does not accept wildcard search with '*')\",\r\n            \"example\": \"Ola\"\r\n          },\r\n          \"lastName\": {\r\n            \"maxLength\": 50,\r\n            \"minLength\": 1,\r\n            \"pattern\": \"^[\\\\w\\\\s\\\\p{P}\\\\.]*(?\u003c!\\\\*)$\",\r\n            \"type\": \"string\",\r\n            \"description\": \"Last name (does not accept wildcard search with '*')\",\r\n            \"example\": \"Nordmann\"\r\n          }\r\n        },\r\n        \"additionalProperties\": false\r\n      },\r\n      \"GetIssueTokenByRecipientDataResponse\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"issueToken\": {\r\n            \"type\": \"string\",\r\n            \"description\": \"Token that can be used to act on behalf of the recipent.\",\r\n            \"nullable\": true,\r\n            \"readOnly\": true,\r\n            \"example\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"\r\n          }\r\n        },\r\n        \"additionalProperties\": false\r\n      }\r\n    }\r\n  }\r\n}"
		}
	},
	"Error": "parse: parse spec: paths: /v2/recipients/token/unique: post: operation \"GetIssueTokenByUniqueId\": responses: 400: content: \"application/problem+json\": schema: parse schema: resolve \"#/components/schemas/ValidationProblemDetails\": parse default: unexpected type: \"object\""
}