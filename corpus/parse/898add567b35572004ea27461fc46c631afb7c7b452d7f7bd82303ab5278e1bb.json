{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/pagopa/cstar-infrastructure"
		},
		"file": {
			"name": "openapi.wallet.yml",
			"size": 0,
			"path": "src/domains/idpay-app/api/idpay_wallet/openapi.wallet.yml",
			"byteSize": 20486,
			"content": "openapi: 3.0.1\ninfo:\n  title: IDPAY Wallet IO API v2\n  description: IDPAY Wallet IO\n  version: '2.0'\nservers:\n  - url: https://api-io.dev.cstar.pagopa.it/idpay/wallet\npaths:\n  /:\n    get:\n      tags:\n        - wallet\n      summary: Returns the list of active initiatives of a citizen\n      operationId: getWallet\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n      responses:\n        '200':\n          description: Ok\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/WalletDTO'\n              example:\n                initiativeList:\n                  - initiativeId: string\n                    initiativeName: string\n                    status: NOT_REFUNDABLE_ONLY_IBAN\n                    endDate: string\n                    amount: 0.01\n                    accrued: 0.01\n                    refunded: 0.01\n                    iban: string\n                    nInstr: 0\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n  '/{initiativeId}':\n    get:\n      tags:\n        - wallet\n      summary: Returns the detail of an active initiative of a citizen\n      operationId: getWalletDetail\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Ok\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/InitiativeDTO'\n              example:\n                initiativeId: string\n                initiativeName: string\n                status: NOT_REFUNDABLE_ONLY_IBAN\n                endDate: string\n                amount: 0.01\n                accrued: 0.01\n                refunded: 0.01\n                iban: string\n                nInstr: 0\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n  /{initiativeId}/iban:\n    put:\n      tags:\n        - wallet\n      summary: Association of an IBAN to an initiative\n      operationId: enrollIban\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: 'Unique identifier of the subscribed initiative, IBAN of the citizen'\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/IbanPutDTO'\n            example:\n              iban: string\n              description: string\n      responses:\n        '200':\n          description: Enrollment OK\n          content:\n            application/json: { }\n        '400':\n          description: Bad request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '403':\n          description: Forbidden\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n  /{initiativeId}/instruments/{idWallet}:\n    put:\n      tags:\n        - wallet\n      summary: Association of a payment instrument to an initiative\n      operationId: enrollInstrument\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n        - name: idWallet\n          in: path\n          description: A unique id that identifies a payment method\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Enrollment OK\n          content:\n            application/json: { }\n        '400':\n          description: Bad request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '403':\n          description: Forbidden\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n  /{initiativeId}/instruments:\n    get:\n      tags:\n        - wallet\n      summary: Returns the list of payment instruments associated to the initiative by the citizen\n      operationId: getInstrumentList\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Ok\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/InstrumentListDTO'\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n\n  /{initiativeId}/instruments/{instrumentId}:\n    delete:\n      tags:\n        - wallet\n      summary: Delete a payment instrument from an initiative\n      operationId: deleteInstrument\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n        - name: instrumentId\n          in: path\n          description: A unique id, internally detached, which identifies a payment method\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Delete OK\n          content:\n            application/json: { }\n        '400':\n          description: Bad request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '403':\n          description: Forbidden\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n\n  /{initiativeId}/unsubscribe:\n    delete:\n      tags:\n        - wallet\n      summary: Unsubscribe to an initiative\n      operationId: unsubscribe\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Unsubscribe OK\n          content:\n            application/json: { }\n        '400':\n          description: Bad request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '403':\n          description: Forbidden\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n\n  '/{initiativeId}/status':\n    get:\n      tags:\n        - wallet\n      summary: Returns the actual wallet status\n      operationId: getWalletStatus\n      parameters:\n        - name: Accept-Language\n          in: header\n          schema:\n            type: string\n            example: it-IT\n            default: it-IT\n          required: true\n        - name: initiativeId\n          in: path\n          description: The initiative ID\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Check successful\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/WalletStatusDTO'\n              example:\n                status: NOT_REFUNDABLE_ONLY_IBAN\n        '400':\n          description: Bad Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '401':\n          description: Authentication failed\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '404':\n          description: The requested ID was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '429':\n          description: Too many Request\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\n        '500':\n          description: Server ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorDTO'\n              example:\n                code: 0\n                message: string\ncomponents:\n  schemas:\n    IbanPutDTO:\n      title: IbanPutDTO\n      type: object\n      required:\n        - iban\n        - description\n      properties:\n        iban:\n          type: string\n          description: IBAN of the citizen\n        description:\n          type: string\n          description: further information about the iban\n    WalletStatusDTO:\n      title: WalletStatusDTO\n      type: object\n      required:\n        - status\n      properties:\n        status:\n          enum:\n            - NOT_REFUNDABLE_ONLY_IBAN\n            - NOT_REFUNDABLE_ONLY_INSTRUMENT\n            - REFUNDABLE\n            - NOT_REFUNDABLE\n            - UNSUBSCRIBED\n          type: string\n          description: actual status of the citizen wallet for an initiative\n    WalletDTO:\n      type: object\n      required:\n        - initiativeList\n      properties:\n        initiativeList:\n          type: array\n          items:\n            $ref: '#/components/schemas/InitiativeDTO'\n          description: The list of active initiatives of a citizen\n    InstrumentListDTO:\n      type: object\n      required:\n        - instrumentList\n      properties:\n        instrumentList:\n          type: array\n          items:\n            $ref: '#/components/schemas/InstrumentDTO'\n          description: The list of payment instruments associated to the initiative by the citizen\n    InstrumentDTO:\n      title: InstrumentDTO\n      type: object\n      required:\n        - instrumentId\n      properties:\n        idWallet:\n          type: string\n          description: Wallet's id provided by the Payment manager\n        instrumentId:\n          type: string\n          description: Payment instrument id\n        maskedPan:\n          type: string\n          description: Masked Pan\n        channel:\n          type: string\n        brandLogo:\n          type: string\n          description: Card's brand as mastercard, visa, ecc.\n        status:\n          enum:\n            - ACTIVE\n            - PENDING_ENROLLMENT_REQUEST\n            - PENDING_DEACTIVATION_REQUEST\n          type: string\n          description: The status of the instrument\n    InitiativeDTO:\n      type: object\n      required:\n        - initiativeId\n        - status\n        - endDate\n        - nInstr\n      properties:\n        initiativeId:\n          type: string\n        initiativeName:\n          type: string\n        status:\n          enum:\n            - NOT_REFUNDABLE_ONLY_IBAN\n            - NOT_REFUNDABLE_ONLY_INSTRUMENT\n            - REFUNDABLE\n            - NOT_REFUNDABLE\n            - UNSUBSCRIBED\n          type: string\n        endDate:\n          type: string\n          format: date\n        amount:\n          type: number\n        accrued:\n          type: number\n        refunded:\n          type: number\n        iban:\n          type: string\n        nInstr:\n          type: integer\n          format: int32\n    ErrorDTO:\n      type: object\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          format: int32\n        message:\n          type: string\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\nsecurity:\n  - bearerAuth: [ ]\ntags:\n  - name: wallet\n    description: ''\n",
			"canonicalURL": "/github.com/pagopa/cstar-infrastructure@e16722a445867264957f942dfc1736f21e8fbc40/-/blob/src/domains/idpay-app/api/idpay_wallet/openapi.wallet.yml",
			"externalURLs": [
				{
					"url": "https://github.com/pagopa/cstar-infrastructure/blob/e16722a445867264957f942dfc1736f21e8fbc40/src/domains/idpay-app/api/idpay_wallet/openapi.wallet.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: at src/domains/idpay-app/api/idpay_wallet/openapi.wallet.yml:378:3: duplicate path: \"/{initiativeId}/instruments/{instrumentId}\""
}