{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "npm/prisme.ai/broker"
		},
		"file": {
			"name": "events.yml",
			"size": 0,
			"path": "openapi/events.yml",
			"byteSize": 47733,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.0.0\n  title: Prisme.ai APIs\n  description: Prisme.ai APIs specifications\n  termsOfService: https://www.prisme.ai/mentions-legales\n  contact:\n    name: Prisme.ai Support Team\n    email: support@prisme.ai\n    url: https://www.prisme.ai\n  license:\n    name: Apache 2.0\n    url: https://www.apache.org/licenses/LICENSE-2.0.html\nservers:\n  - url: http://localhost:1337\n  - url: https://api.prisme.ai\nsecurity:\n  - ApiKeyAuth: []\n    BearerAuth: []\n\npaths:\n  ############################################# gateway\n  /v2/login:\n    post:\n      description: Username / Password authentication\n      operationId: credentialsAuth\n      tags:\n        - API Gateway\n      security:\n        - ApiKeyAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              required:\n                - username\n                - password\n              properties:\n                username:\n                  type: string\n                password:\n                  type: string\n\n      responses:\n        \"200\":\n          description: Success Response\n          headers:\n            X-Prismeai-Session-Token:\n              schema:\n                type: string\n              description: Created session token\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/login/anonymous:\n    post:\n      description: Anonymous authentication\n      operationId: anonymousAuth\n      tags:\n        - API Gateway\n      security:\n        - ApiKeyAuth: []\n      responses:\n        \"200\":\n          description: Success Response\n          headers:\n            X-Prismeai-Session-Token:\n              schema:\n                type: string\n              description: Created session token\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/me:\n    get:\n      description: Retrieve current authenticated user\n      operationId: getMyProfile\n      tags:\n        - API Gateway\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/contacts/{contactId}:\n    get:\n      description: Retrieve some public contact\n      operationId: getMyProfile\n      tags:\n        - API Gateway\n      parameters:\n        - name: \"contactId\"\n          in: \"path\"\n          description: \"Contact ID\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Contact\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n\n\n  /v2/signup:\n    post:\n      description: Signup\n      operationId: signup\n      tags:\n        - API Gateway\n      security:\n        - ApiKeyAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              required:\n                - username\n                - password\n                - firstName\n                - lastName\n              properties:\n                username:\n                  type: string\n                password:\n                  type: string\n                firstName:\n                  type: string\n                lastName:\n                  type: string\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  ############################################# prisme.ai-events\n  /v2/workspaces/{workspaceId}/events:\n    get:\n      description: Retrieve events filtered with any JSON path specified in GET parameters\n      operationId: eventsLongpolling\n      tags:\n        - \"Prisme.ai Events\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"ID of workspace to listen to\"\n          required: true\n          schema:\n            type: string\n        - name: \"somePayloadField.subField\"\n          in: \"query\"\n          description: \"Allows to filter on any field inside events payload\"\n          schema:\n            type: string\n        - name: \"filter\"\n          in: \"query\"\n          example: message,notification\n          description: \"Comma separated list of listened events \"\n          schema:\n            type: string\n        - name: \"fromDate\"\n          in: \"query\"\n          description: \"Retrieve events created after this ISO8601 formatted date\"\n          schema:\n            type: string\n        - name: \"longpolling\"\n          in: \"query\"\n          example: 30\n          description: \"Optional longpolling timeout. No longpolling by default\"\n          required: false\n          schema:\n            type: number\n        - name: \"page\"\n          in: \"query\"\n          description: \"Page number\"\n          schema:\n            type: number\n        - name: \"limit\"\n          in: \"query\"\n          description: \"Page size\"\n          required: false\n          schema:\n            type: number\n      responses: \u0026getEventsResponse\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  result:\n                    type: object\n                    properties:\n                      events:\n                        $ref: \"#/components/schemas/AllEventResponses\"\n\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n    post:\n      description: Emit a new event in this workspace\n      operationId: sendConversationEvent\n      tags:\n        - \"Prisme.ai Events\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              required:\n                - events\n              properties:\n                events:\n                  $ref: \"#/components/schemas/AllEventRequests\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AllEventResponses\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/workspaces/{workspaceId}/events/websocket:\n    get:\n      description: Retrieve events filtered with any JSON path specified in GET parameters\n      operationId: eventsWebsocket\n      tags:\n        - \"Prisme.ai Events\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"ID of workspace to listen to\"\n          required: true\n          schema:\n            type: string\n        - name: \"somePayloadField.subField\"\n          in: \"query\"\n          description: \"Allows to filter on any field inside events payload\"\n          schema:\n            type: string\n        - name: \"filter\"\n          in: \"query\"\n          example: message,notification\n          description: \"Comma separated list of listened events \"\n          schema:\n            type: string\n      responses: *getEventsResponse\n\n  ############################################# runtime\n  /v2/workspaces/{workspaceId}/webhooks/{automationId}:\n    post:\n      description: Trigger some workflow automation from HTTP. GET/POST/PUT/PATCH/DELETE methods can all be used\n      operationId: automationWebhookx\n      tags:\n        - \"Prisme.ai Runtime\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace ID\"\n          required: true\n          schema:\n            type: string\n        - name: \"automationId\"\n          in: \"path\"\n          description: \"Automation ID we will trigger\"\n          required: true\n          schema:\n            type: string\n      security:\n        - ApiKeyAuth: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              description: Entire body will be passed as a payload to the triggered workflow\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/User\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  ############################################# workspaces\n  ## workspaces\n  /v2/workspaces:\n    get:\n      description: Fetch my workspaces (those I own and shared ones)\n      operationId: getWorkspaces\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"page\"\n          in: \"query\"\n          description: \"Page number\"\n          schema:\n            type: number\n        - name: \"limit\"\n          in: \"query\"\n          description: \"Page size\"\n          required: false\n          schema:\n            type: number\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    id:\n                      type: string\n                    name:\n                      type: string\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n    post:\n      description: Create a new workspace\n      operationId: createWorkspace\n      tags:\n        - \"Prisme.ai Workspaces\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Workspace\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workspace\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/workspaces/{workspaceId}:\n    get:\n      description: Fetch a workspace\n      operationId: getWorkspace\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workspace\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    patch:\n      description: Update a workspace\n      operationId: updateWorkspace\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Workspace\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Workspace\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    delete:\n      description: Delete a workspace\n      operationId: deleteWorkspace\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - id\n                properties:\n                  id:\n                    type: string\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n\n  ## automations\n  /v2/workspaces/{workspaceId}/automations:\n    post:\n      description: Create a new automation\n      operationId: createAutomation\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Automation\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Automation\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/workspaces/{workspaceId}/automations/{automationId}:\n    get:\n      description: Fetch an automation\n      operationId: getAutomation\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"automationId\"\n          in: \"path\"\n          description: \"Automation id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Automation\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    patch:\n      description: Update an automation\n      operationId: updateAutomation\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"automationId\"\n          in: \"path\"\n          description: \"Automation id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Automation\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Automation\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    delete:\n      description: Delete an automation\n      operationId: deleteAutomation\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"automationId\"\n          in: \"path\"\n          description: \"Automation id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - id\n                properties:\n                  id:\n                    type: string\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  ## apps\n  /v2/apps:\n    get:\n      description: Search for an app inside the app store (or retrieve full app store)\n      operationId: searchApps\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"query\"\n          in: \"query\"\n          description: \"Search these keywords\"\n          schema:\n            type: string\n        - name: \"page\"\n          in: \"query\"\n          description: \"Page number\"\n          schema:\n            type: string\n        - name: \"limit\"\n          in: \"query\"\n          description: \"Page size\"\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/App\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    post:\n      description: Publish a new app\n      operationId: createApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/App\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/App\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/apps/{appId}:\n    get:\n      description: Fetch an app\n      operationId: getApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"appId\"\n          in: \"path\"\n          description: \"App id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/App\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    patch:\n      description: Update an app\n      operationId: updateApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"appId\"\n          in: \"path\"\n          description: \"App id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/App\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/App\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    delete:\n      description: Delete an app\n      operationId: deleteApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"appId\"\n          in: \"path\"\n          description: \"App id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - id\n                properties:\n                  id:\n                    type: string\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  ## installed apps\n  /v2/workspaces/{workspaceId}/apps:\n    post:\n      description: Install a new app\n      operationId: installApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/AppInstance\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AppInstance\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  /v2/workspaces/{workspaceId}/apps/{installedAppId}:\n    get:\n      description: Fetch an installed app\n      operationId: getInstalledApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"installedAppId\"\n          in: \"path\"\n          description: \"Installed app id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AppInstance\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    patch:\n      description: Configure an app\n      operationId: configureApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"installedAppId\"\n          in: \"path\"\n          description: \"Installed app id\"\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/AppInstance\"\n\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AppInstance\"\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n    delete:\n      description: Uninstall an app\n      operationId: uninstallApp\n      tags:\n        - \"Prisme.ai Workspaces\"\n      parameters:\n        - name: \"workspaceId\"\n          in: \"path\"\n          description: \"Workspace id\"\n          required: true\n          schema:\n            type: string\n        - name: \"installedAppId\"\n          in: \"path\"\n          description: \"Installed app id\"\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Success Response\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - id\n                properties:\n                  id:\n                    type: string\n        \"404\":\n          $ref: \"#/components/responses/ObjectNotFound\"\n        \"403\":\n          $ref: \"#/components/responses/BadPermissions\"\n        \"400\":\n          $ref: \"#/components/responses/BadParameters\"\n\n  ## End of APIs\n\ncomponents:\n  securitySchemes:\n    BearerAuth:\n      type: apiKey\n      in: header\n      name: X-Prismeai-Session-Token\n    ApiKeyAuth:\n      type: apiKey\n      in: header\n      name: X-Prismeai-API-Key\n\n  responses:\n    \"ObjectNotFound\":\n      description: Object not found\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/ObjectNotFoundError\"\n    \"BadParameters\":\n      description: \"Bad parameters\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/BadParametersError\"\n    \"BadPermissions\":\n      description: \"Bad parameters\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/BadPermissionsError\"\n\n  schemas:\n    AnyValue: {}\n    Object:\n      type: object\n      properties:\n        id:\n          type: string\n          description: Unique id\n\n    Contact:\n      allOf:\n        - required:\n            - role\n            - firstName\n          type: object\n          properties:\n            firstName:\n              type: string\n              description: Name\n            lastName:\n              type: string\n              description: Name\n            photo:\n              type: string\n              description: Profile picture URL\n\n        - $ref: \"#/components/schemas/Object\"\n\n    User:\n      allOf:\n        - type: object\n          properties:\n            email:\n              type: string\n              example: foo@prisme.ai\n            authData:\n              type: object\n              properties:\n                provider:\n                  type: string\n                  enum:\n                    - credentials\n                    - anonymous\n        - $ref: \"#/components/schemas/Contact\"\n\n    App:\n      allOf:\n      - type: object\n        required:\n          - name\n        properties:\n          name:\n            type: string\n          owner:\n            type: object\n            properties:\n              id:\n                type: string\n          constants:\n            type: object\n          config:\n            additionalProperties:\n              $ref: \"#/components/schemas/TypedArgument\"\n          automations:\n            additionalProperties:\n              $ref: \"#/components/schemas/Automation\"\n      - $ref: \"#/components/schemas/Object\"\n\n    AppInstance:\n      allOf:\n      - type: object\n        required:\n          - app\n          - name\n        properties:\n          app:\n            type: string\n            example: \"prismeaiMessenger\"\n            description: \"App unique name\"\n          name:\n            type: string\n          config:\n            type: object\n            example:\n              foo: \"bar\"\n            description: \"Inside the app, these config values will be accessible with $.Config.foo\"\n      - $ref: \"#/components/schemas/Object\"\n\n    Workspace:\n      type: object\n      additionalProperties: false\n      required:\n        - name\n      properties:\n        name:\n          type: string\n        owner:\n          type: object\n          properties:\n            id:\n              type: string\n        imports:\n          type: array\n          items:\n            $ref: \"#/components/schemas/AppInstance\"\n        constants:\n          type: object\n        automations:\n          additionalProperties:\n            $ref: \"#/components/schemas/Automation\"\n        id:\n          type: string\n\n    Trigger:\n      type: object\n      anyOf:\n        - required: [\"do\", \"events\"]\n        - required: [\"do\", \"dates\"]\n      properties:\n        events:\n          type: array\n          items:\n            type: string\n          example:\n            - prismeaiMessenger.event\n        dates:\n          type: array\n          items:\n            type: string\n          example:\n            - 2021-12-25T00:00\n            - \"* * 1 * *\"\n        endpoint:\n          oneOf:\n            - type: boolean\n              example: \"Set to true in order to activate HTTP endpoint. Slug will be trigger name by default\"\n            - type: string\n              example: \"Slug name\"\n        do:\n          type: string\n          description: \"Target workflow\"\n          example: \"MyWorkflow\"\n\n    LocalizedText:\n      oneOf:\n        - additionalProperties:\n            type: string\n          example:\n            fr: \"Bonjour\"\n            en: \"Hello\"\n        - type: string\n          example: Bonjour\n\n    TypedArgument:\n      type: object\n      properties:\n        type:\n          type: string\n          enum:\n            - string\n            - number\n        description:\n          $ref: \"#/components/schemas/LocalizedText\"\n\n    InstructionList:\n      type: array\n      items:\n        $ref: \"#/components/schemas/Instruction\"\n\n    Workflow:\n      type: object\n      required:\n        - do\n      properties:\n        description:\n          $ref: \"#/components/schemas/LocalizedText\"\n        arguments:\n          additionalProperties:\n            $ref: \"#/components/schemas/TypedArgument\"\n        do:\n          $ref: \"#/components/schemas/InstructionList\"\n        output:\n          description: \"Workflow result expression. Might be a variable reference, an object/array with variables inside ...\"\n          example: \"$result\"\n        private:\n          type: boolean\n          description: \"Set this to true if you don't want your workflow to be accessible outside of your app. Default is false.\"\n          example: false\n\n\n    Automation:\n      type: object\n      required:\n        - workflows\n      description: Full description at (TODO swagger url)\n      properties:\n        triggers:\n          additionalProperties:\n            $ref: \"#/components/schemas/Trigger\"\n        workflows:\n          additionalProperties:\n            $ref: \"#/components/schemas/Workflow\"\n        id:\n          type: string\n\n    ###############################################################################################################################################\n    ############################################################ Workflow Instructions ############################################################\n    Emit:\n      type: object\n      required:\n        - emit\n      maxProperties:  1\n      properties:\n        emit:\n          type: object\n          required:\n            - event\n          properties:\n            event:\n              type: string\n              example: \"prismeaiMessenger.message\"\n            payload:\n              type: object\n\n    Wait:\n      type: object\n      required:\n        - wait\n      maxProperties: 1\n      properties:\n        wait:\n          type: object\n          required:\n            - event\n          properties:\n            event:\n              type: string\n              example: \"prismeaiMessenger.message\"\n            filters:\n              type: object\n              description: \"Only match the next intent fulfilling these filters. Multiple filters will be joined with an 'AND' operator \"\n              example:\n                automationId: someId\n                someObjectField.someNestedField: 'foo'\n            output:\n              type: string\n              description: Will save the caught event inside this variable\n              example: nameOfResultVariable\n\n    VariableLifespan:\n      description: Rules defining when a variable should be automatically removed\n      properties:\n        messages:\n          type: number\n          description: Number of user messages sent before automatically removing this variable\n        seconds:\n          type: number\n          description: Number of seconds elapsed since this variable initialization, before automatically removing it\n\n    Set:\n      type: object\n      required:\n        - \"set\"\n      maxProperties: 1\n      properties:\n        set:\n          required:\n            - name\n            - value\n          properties:\n            name:\n              type: string\n              description: Variable name, might be \"foo\", \"session.sessionScopedFoo\", \"global.globalScopedFoo\", \"user.userScopedFoo\", ...\n            value:\n              $ref: \"#/components/schemas/AnyValue\"\n              description: variable value\n            lifespan:\n              $ref: \"#/components/schemas/VariableLifespan\"\n\n    Delete:\n      type: object\n      required:\n        - delete\n      maxProperties: 1\n      properties:\n        delete:\n          required:\n            - name\n          properties:\n            name:\n              type: string\n              description: Variable name to remove\n\n\n    If:\n      type: object\n      required:\n        - \"if\"\n      maxProperties: 1\n      properties:\n        if:\n          required:\n            - condition\n            - then\n          properties:\n            condition:\n              type: string\n            then:\n              $ref: \"#/components/schemas/InstructionList\"\n\n    ElseIf:\n      type: object\n      required:\n        - \"elseif\"\n      maxProperties: 1\n      properties:\n        elseif:\n          required:\n            - condition\n            - then\n          properties:\n            condition:\n              type: string\n            then:\n              $ref: \"#/components/schemas/InstructionList\"\n\n    Else:\n      type: object\n      required:\n        - else\n      maxProperties: 1\n      properties:\n        else:\n          required:\n            - then\n          properties:\n            then:\n              $ref: \"#/components/schemas/InstructionList\"\n\n    Conditions:\n      oneOf:\n        - $ref: \"#/components/schemas/If\"\n        - $ref: \"#/components/schemas/ElseIf\"\n        - $ref: \"#/components/schemas/Else\"\n\n    Repeat:\n      type: object\n      required:\n        - \"repeat\"\n      maxProperties: 1\n      properties:\n        repeat:\n          oneOf:\n            - required: [\"on\", \"then\"]\n            - required: [\"until\", \"then\"]\n          description: One of \"on\" or \"until\" is required\n          properties:\n            on:\n              type: string\n            until:\n              type: number\n            then:\n              $ref: \"#/components/schemas/InstructionList\"\n\n    All:\n      type: object\n      required:\n        - \"all\"\n      maxProperties: 1\n      properties:\n        all:\n          description: Execute each instruction in parallel. Pause current workflow execution until all instructions are processed.\n          type: array\n          items:\n            $ref: \"#/components/schemas/Instruction\"\n\n    Break:\n      type: object\n      required:\n        - \"break\"\n      maxProperties: 1\n      properties:\n        break:\n          description: Stop current workflow execution. Does not have any configuration option\n          type: object\n\n    Instruction:\n      anyOf:\n        - $ref: \"#/components/schemas/Emit\"\n        - $ref: \"#/components/schemas/Wait\"\n        - $ref: \"#/components/schemas/Set\"\n        - $ref: \"#/components/schemas/Delete\"\n        - $ref: \"#/components/schemas/Conditions\"\n        - $ref: \"#/components/schemas/Repeat\"\n        - $ref: \"#/components/schemas/All\"\n        - $ref: \"#/components/schemas/Break\"\n\n\n    ################################################################################################################################\n    ############################################################ Events ############################################################\n    BaseEventResponse:\n      type: object\n      properties:\n        createdAt:\n          type: string\n          description: Creation date (ISO8601)\n        source:\n          type: object\n          properties:\n            app:\n              type: string\n              enum:\n                - prisme.ai-nlu\n                - prisme.ai-dsul-server\n                - prisme.ai-analytics\n                - prisme.ai-actions\n                - any existing app name\n            user:\n              description: Authenticated user\n              type: object\n              properties:\n                id:\n                  type: string\n            workspace:\n              description: Related workspace\n              type: object\n              properties:\n                id:\n                  type: string\n            host:\n              type: object\n              properties:\n                ip:\n                  type: string\n            correlationId:\n              type: string\n        target:\n          type: object\n          properties:\n            user:\n              description: Authenticated user\n              type: object\n              properties:\n                id:\n                  type: string\n        error:\n          type: object\n          properties:\n            code:\n              type: string\n            message:\n              type: string\n            level:\n              type: string\n              enum:\n                - warning\n                - error\n                - fatal\n              example: warning\n        id:\n          type: string\n\n    AllEventRequests:\n      type: array\n      items:\n        anyOf:\n          - $ref: \"#/components/schemas/GenericErrorEvent\"\n          - $ref: \"#/components/schemas/FailedLogin\"\n          - $ref: \"#/components/schemas/SucceededLogin\"\n          - $ref: \"#/components/schemas/TriggeredWorkflow\"\n          - $ref: \"#/components/schemas/UpdatedContexts\"\n          - $ref: \"#/components/schemas/CreatedWorkspace\"\n          - $ref: \"#/components/schemas/UpdatedWorkspace\"\n          - $ref: \"#/components/schemas/DeletedWorkspace\"\n          - $ref: \"#/components/schemas/InstalledApp\"\n          - $ref: \"#/components/schemas/ConfiguredApp\"\n          - $ref: \"#/components/schemas/CreatedAutomation\"\n          - $ref: \"#/components/schemas/UpdatedAutomation\"\n          - $ref: \"#/components/schemas/DeletedAutomation\"\n\n    AllEventResponses:\n      type: array\n      items:\n        anyOf:\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/GenericErrorEvent\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/FailedLogin\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/SucceededLogin\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/TriggeredWorkflow\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/UpdatedContexts\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/CreatedWorkspace\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/UpdatedWorkspace\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/DeletedWorkspace\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/InstalledApp\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/ConfiguredApp\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/CreatedAutomation\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/UpdatedAutomation\"\n          - allOf:\n              - $ref: \"#/components/schemas/BaseEventResponse\"\n              - $ref: \"#/components/schemas/DeletedAutomation\"\n\n    GenericErrorEvent:\n      type: object\n      properties:\n        type:\n          type: string\n          example:\n            error\n\n    ########################## API Gateway ##########################\n    FailedLogin:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: gateway.login.failed\n          enum:\n            - gateway.login.failed\n        payload:\n          type: object\n          required:\n            - ip\n            - attempt\n          properties:\n            ip:\n              type: string\n            attempt:\n              type: number\n\n    SucceededLogin:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: gateway.login.succeeded\n          enum:\n            - gateway.login.succeeded\n        payload:\n          type: object\n          required:\n            - ip\n            - attempt\n          properties:\n            ip:\n              type: string\n            attempt:\n              type: number\n\n    ########################## Workspaces events ##########################\n    CreatedWorkspace:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.created\n          enum:\n            - workspaces.created\n        payload:\n          type: object\n          required:\n            - workspace\n          properties:\n            workspace:\n              $ref: \"#/components/schemas/Workspace\"\n\n    DeletedWorkspace:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.deleted\n          enum:\n            - workspaces.deleted\n        payload:\n          type: object\n          required:\n            - workspace\n          properties:\n            workspace:\n              $ref: \"#/components/schemas/Workspace\"\n\n    UpdatedWorkspace:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.updated\n          enum:\n            - workspaces.updated\n        payload:\n          type: object\n          required:\n            - workspace\n          properties:\n            workspace:\n              $ref: \"#/components/schemas/Workspace\"\n\n    InstalledApp:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.app.installed\n          enum:\n            - workspaces.app.installed\n        payload:\n          $ref: \"#/components/schemas/AppInstance\"\n\n    ConfiguredApp:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.app.configured\n          enum:\n            - workspaces.app.configured\n        payload:\n          $ref: \"#/components/schemas/AppInstance\"\n\n    CreatedAutomation:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.automation.created\n          enum:\n            - workspaces.automation.created\n        payload:\n          type: object\n          required:\n            - automation\n          properties:\n            automation:\n              $ref: \"#/components/schemas/Automation\"\n\n    UpdatedAutomation:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.automation.updated\n          enum:\n            - workspaces.automation.updated\n        payload:\n          type: object\n          required:\n            - automation\n          properties:\n            automation:\n              $ref: \"#/components/schemas/Automation\"\n\n\n    DeletedAutomation:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: workspaces.automation.deleted\n          enum:\n            - workspaces.automation.deleted\n        payload:\n          type: object\n          required:\n            - automation\n          properties:\n            automation:\n              type: object\n              required:\n                - id\n                - name\n              properties:\n                id:\n                  type: string\n                name:\n                  type: string\n\n\n    ########################## Runtime events ##########################\n\n    TriggeredWorkflow:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: runtime.workflow.triggered\n          enum:\n            - runtime.workflow.triggered\n        payload:\n          type: object\n          required:\n            - event\n            - workflow\n          properties:\n            event:\n              type: object\n              properties:\n                id:\n                  type: string\n                type:\n                  type: string\n            workflow:\n              type: string\n            payload:\n              type: object\n\n\n    UpdatedContexts:\n      type: object\n      required:\n        - type\n        - payload\n      properties:\n        type:\n          type: string\n          example: runtime.contexts.updated\n          enum:\n            - runtime.contexts.updated\n        payload:\n          type: object\n          required:\n            - contexts\n          properties:\n            contexts:\n              type: object\n\n\n\n\n\n    ObjectNotFoundError:\n      type: object\n      properties:\n        error:\n          type: string\n          example: ObjectNotFound\n        message:\n          type: string\n\n    BadParametersError:\n      type: object\n      properties:\n        error:\n          type: string\n          example: BadParameters\n        message:\n          type: string\n        details:\n          type: array\n          items:\n            type: object\n\n    BadPermissionsError:\n      type: object\n      properties:\n        error:\n          type: string\n          example: BadPermissions\n        message:\n          type: string\n          example: Insufficient permissions\n",
			"canonicalURL": "/npm/prisme.ai/broker@913b9b16bf6747b2abf70cd9e4526ad631633acc/-/blob/openapi/events.yml",
			"externalURLs": []
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/v2/me\": at 1:20403: get: duplicate operationId: \"getMyProfile\""
}