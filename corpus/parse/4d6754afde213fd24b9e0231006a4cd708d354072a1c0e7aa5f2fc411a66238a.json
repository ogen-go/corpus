{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/eeditiones/tuttle"
		},
		"file": {
			"name": "api.json",
			"size": 0,
			"path": "src/api.json",
			"byteSize": 27544,
			"content": "{\n    \"openapi\": \"3.0.0\",\n    \"info\": {\n        \"version\": \"1.1.1\",\n        \"title\": \"Tuttle API\",\n        \"description\": \"API for Tuttle Git integration\"\n    },\n    \"servers\": [\n        {\n            \"description\": \"Endpoint for testing on localhost\",\n            \"url\": \"http://localhost:8080/exist/apps/tuttle\"\n        }\n    ],\n    \"components\": {\n        \"securitySchemes\": {\n            \"basicAuth\": {\n                \"type\": \"http\",\n                \"scheme\": \"basic\"\n            },\n            \"cookieAuth\": {\n                \"type\": \"apiKey\",\n                \"name\": \"teipublisher.com.login\",\n                \"in\": \"cookie\"\n            }\n        }\n    },\n    \"paths\": {\n        \"/git/{collection}\": {\n            \"get\": {\n                \"summary\": \"Fetch git repo to staging collection\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:git-pull\",\n                \"parameters\": [\n                    {\n                        \"name\": \"hash\",\n                        \"in\": \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    },\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"post\": {\n                \"summary\": \"Deploy repo to final collection\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:git-deploy\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"hash\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/\": {\n            \"get\": {\n                \"summary\": \"Fetch git repo to staging collection\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:git-pull\",\n                \"parameters\": [\n                    {\n                        \"name\": \"hash\",\n                        \"in\": \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"post\": {\n                \"summary\": \"Deploy repo to final collection\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:git-deploy\",                \n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"hash\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/incremental\": {\n            \"post\": {\n                \"summary\": \"Trigger incremental update\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:incremental\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    },\n                    {\n                        \"name\": \"dry\",\n                        \"in\":  \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"boolean\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"object\",\n                                    \"properties\" : {\n                                        \"sha\" : {\n                                            \"type\" : \"string\"\n                                        },\n                                        \"message\" : {\n                                            \"type\" : \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/incremental\": {\n            \"post\": {\n                \"summary\": \"Trigger incremental update\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:incremental\",\n                \"parameters\": [\n                    {\n                        \"name\": \"dry\",\n                        \"in\":  \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"boolean\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"object\",\n                                    \"properties\" : {\n                                        \"sha\" : {\n                                            \"type\" : \"string\"\n                                        },\n                                        \"message\" : {\n                                            \"type\" : \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/hash\":{\n            \"get\": {\n                \"summary\": \"Get remote and local hash\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:get-hash\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"GIT Hash\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"remote-hash\":{\n                                            \"type\": \"string\"\n                                        },\n                                        \"local-hash\":{\n                                            \"type\": \"string\",\n                                            \"nullable\": true\n                                        },\n                                        \"local-staging-hash\":{\n                                            \"type\": \"string\",\n                                            \"nullable\": true\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/hash\":{\n            \"get\": {\n                \"summary\": \"Get remote and local hash\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:get-hash\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"GIT Hash\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"remote-hash\":{\n                                            \"type\": \"string\"\n                                        },\n                                        \"local-hash\":{\n                                            \"type\": \"string\",\n                                            \"nullable\": true\n                                        },\n                                        \"local-staging-hash\":{\n                                            \"type\": \"string\",\n                                            \"nullable\": true\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/commits\":{\n            \"get\": {\n                \"summary\": \"Get commits\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:get-commit\",\n                \"parameters\": [\n                    {\n                        \"name\": \"count\",\n                        \"in\": \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"integer\"\n                        }\n                    },\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"GIT commits\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"array\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/commits\":{\n            \"get\": {\n                \"summary\": \"Get commits\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:get-commit\",\n                \"parameters\": [\n                    {\n                        \"name\": \"count\",\n                        \"in\": \"query\",\n                        \"required\": false,\n                        \"schema\":{\n                            \"type\": \"integer\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"GIT commits\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"array\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/hook\": {\n            \"post\": {\n                \"summary\": \"Trigger incremental update via Gitlab/Github\",\n                \"operationId\": \"api:hook\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/hook\": {\n            \"post\": {\n                \"summary\": \"Trigger incremental update via Gitlab/Github\",\n                \"operationId\": \"api:hook\",\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/apikey\":{\n            \"get\": {\n                \"summary\": \"Generate API-Webhook-Keys\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:api-keygen\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"APIKey\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"APIKey\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/apikey\":{\n            \"get\": {\n                \"summary\": \"Generate API-Webhook-Keys\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:api-keygen\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"APIKey\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"APIKey\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n           \"/git/status\":{\n            \"get\": {\n                \"summary\": \"Get Tuttle configuration\",\n                \"x-constraints\": {\n                    \"user\": \"admin\"\n                },\n                \"operationId\": \"api:get-status\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"GIT status\",\n                        \"content\": {\n                            \"application/xml\":{\n                            \t\"schema\": {\n                                    \"type\": \"object\",\n                                    \"xml\" : {\n                                    \t\"name\" : \"tuttle\"\n                                    },\n                                    \"properties\": {\n                                        \"default\":{\n                                            \"type\": \"string\"\n                                        },\n                                        \"repos\":{\n                                            \"type\": \"object\",\n                                            \"properties\": {\n                                            \t\"repo\": {\n                                            \t\t\"type\": \"array\",\n                                            \t\t\"items\": {\n                                            \t\t\t\"type\": \"object\",\n\t                                            \t\t\"properties\": {\n                                            \t\t\t\t\"type\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                            \t\t\t\t},\n                                            \t\t\t\t\"url\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                        \t\t\t\t\t},\n                                        \t\t\t\t \t\"ref\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                            \t\t\t\t},\n                                        \t\t\t\t   \t\"collection\": {\n                                        \t\t   \t\t\t\t\"type\": \"string\"\n                                        \t\t\t\t   \t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"status\": {\n                                        \t\t\t\t \t\t\"type\": \"string\"\n                                    \t\t\t\t\t   \t},\n                                                            \"message\": {\n                                                                \"type\": \"string\"\n                                                            }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} \n                                            \t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n                        \t            }\n                                    }\n                                }\n                            },\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"default\":{\n                                            \"type\": \"string\"\n                                        },\n                                        \"repos\":{\n                                            \"type\": \"object\",\n                                            \"properties\": {\n                                            \t\"repo\": {\n                                            \t\t\"type\": \"array\",\n                                            \t\t\"items\": {\n                                            \t\t\t\"type\": \"object\",\n\t                                            \t\t\"properties\": {\n                                            \t\t\t\t\"type\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                            \t\t\t\t},\n                                            \t\t\t\t\"url\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                        \t\t\t\t\t},\n                                        \t\t\t\t \t\"ref\": {\n                                            \t\t\t\t\t\"type\": \"string\"\n                                            \t\t\t\t},\n                                        \t\t\t\t   \t\"collection\": {\n                                        \t\t   \t\t\t\t\"type\": \"string\"\n                                                            },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"status\": {\n                                        \t\t\t\t \t\t\"type\": \"string\"\n                                    \t\t\t\t\t   \t},\n                                                            \"message\": {\n                                                                \"type\": \"string\"\n                                                            }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} \n                                            \t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n                        \t            }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/{collection}/lockfile\": {\n            \"post\": {\n                \"summary\": \"Remove Lockfile\",\n                \"operationId\": \"api:lock-remove\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"get\": {\n                \"summary\": \"Print Lockfile\",\n                \"operationId\": \"api:lock-print\",\n                \"parameters\": [\n                    {\n                        \"name\": \"collection\",\n                        \"in\":  \"path\",\n                        \"required\": true,\n                        \"schema\":{\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/git/lockfile\": {\n            \"post\": {\n                \"summary\": \"Remove Lockfile\",\n                \"operationId\": \"api:lock-remove\",\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"get\": {\n                \"summary\": \"Print Lockfile\",\n                \"operationId\": \"api:lock-print\",\n                \"responses\": {\n                    \"200\":{\n                        \"description\": \"JSON dump of request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\":{\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"message\":{\n                                            \"type\": \"string\"\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    \"security\": [\n        {\n            \"cookieAuth\": []\n        },\n        {\n            \"basicAuth\": []\n        }\n    ]\n}\n",
			"canonicalURL": "/github.com/eeditiones/tuttle@c58d66465eacb79d5f2147ce4ca34346e38a9d63/-/blob/src/api.json",
			"externalURLs": [
				{
					"url": "https://github.com/eeditiones/tuttle/blob/c58d66465eacb79d5f2147ce4ca34346e38a9d63/src/api.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/git/{collection}\": get: at src/api.json:34:32: duplicate operationId: \"api:git-pull\""
}