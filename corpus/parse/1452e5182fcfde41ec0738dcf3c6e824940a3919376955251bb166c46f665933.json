{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ZQCard/kratos-base-project"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "app/authorization/openapi.yaml",
			"byteSize": 22678,
			"content": "# Generated with protoc-gen-openapi\n# https://github.com/google/gnostic/tree/master/apps/protoc-gen-openapi\n\nopenapi: 3.0.3\ninfo:\n    title: Authorization\n    version: 0.0.1\npaths:\n    /authorization/v1/addRolesForUser:\n        post:\n            summary: 设置用户角色关系\n            operationId: Authorization_AddRolesForUser\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/AddRolesForUserRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/api:\n        get:\n            summary: Api列表\n            operationId: Authorization_GetApiList\n            parameters:\n                - name: page_num\n                  in: query\n                  schema:\n                    type: string\n                - name: page_size\n                  in: query\n                  schema:\n                    type: string\n                - name: group\n                  in: query\n                  schema:\n                    type: string\n                - name: name\n                  in: query\n                  schema:\n                    type: string\n                - name: path\n                  in: query\n                  schema:\n                    type: string\n                - name: method\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetApiListReply'\n        put:\n            summary: Api更新\n            operationId: Authorization_UpdateApi\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/UpdateApiRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/ApiInfo'\n        post:\n            summary: Api创建\n            operationId: Authorization_CreateApi\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/CreateApiRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/ApiInfo'\n    /authorization/v1/api/{id}:\n        delete:\n            summary: Api删除\n            operationId: Authorization_DeleteApi\n            parameters:\n                - name: id\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/apiAll:\n        get:\n            summary: 所有Api列表\n            operationId: Authorization_GetApiAll\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetApiAllReply'\n    /authorization/v1/checkAuthorization:\n        post:\n            summary: 检查权限\n            operationId: Authorization_CheckAuthorization\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/CheckAuthorizationRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/deleteRoleForUser:\n        delete:\n            summary: 删除用户某个角色\n            operationId: Authorization_DeleteRoleForUser\n            parameters:\n                - name: user_identify\n                  in: query\n                  schema:\n                    type: string\n                - name: role\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/deleteRolesForUser:\n        delete:\n            summary: 删除用户所有角色\n            operationId: Authorization_DeleteRolesForUser\n            parameters:\n                - name: user_identify\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/getPolicies:\n        get:\n            summary: 策略授权规则列表\n            operationId: Authorization_GetPolicies\n            parameters:\n                - name: role_name\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetPoliciesReply'\n    /authorization/v1/getRolesForUser:\n        get:\n            summary: 获取用户角色列表\n            operationId: Authorization_GetRolesForUser\n            parameters:\n                - name: user_identify\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetRolesForUserReply'\n    /authorization/v1/getUsersForRole:\n        get:\n            summary: 获取角色用户列表\n            operationId: Authorization_GetUsersForRole\n            parameters:\n                - name: role\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetUsersForRoleReply'\n    /authorization/v1/menu:\n        put:\n            summary: Menu更新\n            operationId: Authorization_UpdateMenu\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/UpdateMenuRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/MenuInfo'\n        post:\n            summary: Menu创建\n            operationId: Authorization_CreateMenu\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/CreateMenuRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/MenuInfo'\n    /authorization/v1/menu/{id}:\n        delete:\n            summary: Menu删除\n            operationId: Authorization_DeleteMenu\n            parameters:\n                - name: id\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/menuAll:\n        get:\n            summary: 所有Menu列表\n            operationId: Authorization_GetMenuAll\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetMenuTreeReply'\n    /authorization/v1/menuTree:\n        get:\n            summary: Menu列表\n            operationId: Authorization_GetMenuTree\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetMenuTreeReply'\n    /authorization/v1/role:\n        get:\n            summary: 角色列表\n            operationId: Authorization_GetRoleList\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetRoleListReply'\n        put:\n            summary: 角色更新\n            operationId: Authorization_UpdateRole\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/UpdateRoleRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/RoleInfo'\n        post:\n            summary: 角色创建\n            operationId: Authorization_CreateRole\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/CreateRoleRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/RoleInfo'\n    /authorization/v1/role/{id}:\n        delete:\n            summary: 角色删除\n            operationId: Authorization_DeleteRole\n            parameters:\n                - name: id\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/roleMenu:\n        get:\n            summary: 角色菜单列表\n            operationId: Authorization_GetRoleMenu\n            parameters:\n                - name: role_id\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetMenuTreeReply'\n        post:\n            summary: 角色菜单更新\n            operationId: Authorization_SetRoleMenu\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/SetRoleMenuRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\n    /authorization/v1/roleMenuTree:\n        get:\n            summary: 角色菜单列表树\n            operationId: Authorization_GetRoleMenuTree\n            parameters:\n                - name: role_id\n                  in: query\n                  schema:\n                    type: string\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/GetMenuTreeReply'\n    /authorization/v1/updatePolicies:\n        post:\n            summary: 策略添加授权规则\n            operationId: Authorization_UpdatePolicies\n            requestBody:\n                content:\n                    application/json:\n                        schema:\n                            $ref: '#/components/schemas/UpdatePoliciesRequest'\n                required: true\n            responses:\n                \"200\":\n                    description: OK\n                    content:\n                        application/json:\n                            schema:\n                                $ref: '#/components/schemas/CheckReply'\ncomponents:\n    schemas:\n        AddRolesForUserRequest:\n            properties:\n                user_identify:\n                    type: string\n                roles:\n                    type: array\n                    items:\n                        type: string\n        ApiInfo:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                group:\n                    type: string\n                name:\n                    type: string\n                path:\n                    type: string\n                method:\n                    type: string\n                created_at:\n                    type: string\n                updated_at:\n                    type: string\n        CheckAuthorizationRequest:\n            properties:\n                userIdentity:\n                    type: string\n                sub:\n                    type: array\n                    items:\n                        type: string\n                obj:\n                    type: string\n                act:\n                    type: string\n        CheckReply:\n            properties:\n                is_success:\n                    type: boolean\n        CreateApiRequest:\n            properties:\n                group:\n                    type: string\n                name:\n                    type: string\n                path:\n                    type: string\n                method:\n                    type: string\n        CreateMenuRequest:\n            properties:\n                parent_id:\n                    type: integer\n                    format: int64\n                path:\n                    type: string\n                name:\n                    type: string\n                hidden:\n                    type: integer\n                    format: int64\n                component:\n                    type: string\n                sort:\n                    type: integer\n                    format: int64\n                title:\n                    type: string\n                icon:\n                    type: string\n                menuBtns:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/MenuBtn'\n        CreateRoleRequest:\n            properties:\n                parent_id:\n                    type: integer\n                    format: int64\n                name:\n                    type: string\n        GetApiAllReply:\n            properties:\n                list:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/ApiInfo'\n        GetApiListReply:\n            properties:\n                total:\n                    type: integer\n                    format: int64\n                list:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/ApiInfo'\n        GetMenuTreeReply:\n            properties:\n                list:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/MenuInfo'\n        GetPoliciesReply:\n            properties:\n                policyRules:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/PolicyRules'\n        GetRoleListReply:\n            properties:\n                list:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/RoleInfo'\n        GetRolesForUserReply:\n            properties:\n                roles:\n                    type: array\n                    items:\n                        type: string\n        GetUsersForRoleReply:\n            properties:\n                users:\n                    type: array\n                    items:\n                        type: string\n        MenuBtn:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                menu_id:\n                    type: integer\n                    format: int64\n                name:\n                    type: string\n                description:\n                    type: string\n                created_at:\n                    type: string\n                updated_at:\n                    type: string\n        MenuInfo:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                parent_id:\n                    type: integer\n                    format: int64\n                path:\n                    type: string\n                name:\n                    type: string\n                hidden:\n                    type: integer\n                    format: int64\n                component:\n                    type: string\n                sort:\n                    type: integer\n                    format: int64\n                title:\n                    type: string\n                icon:\n                    type: string\n                created_at:\n                    type: string\n                updated_at:\n                    type: string\n                children:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/MenuInfo'\n                menuBtns:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/MenuBtn'\n        PolicyRules:\n            properties:\n                path:\n                    type: string\n                method:\n                    type: string\n        RoleInfo:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                parent_id:\n                    type: integer\n                    format: int64\n                name:\n                    type: string\n                created_at:\n                    type: string\n                updated_at:\n                    type: string\n                children:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/RoleInfo'\n        SetRoleMenuRequest:\n            properties:\n                role_id:\n                    type: integer\n                    format: int64\n                menu_ids:\n                    type: array\n                    items:\n                        type: integer\n        UpdateApiRequest:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                group:\n                    type: string\n                name:\n                    type: string\n                path:\n                    type: string\n                method:\n                    type: string\n        UpdateMenuRequest:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                parent_id:\n                    type: integer\n                    format: int64\n                path:\n                    type: string\n                name:\n                    type: string\n                hidden:\n                    type: integer\n                    format: int64\n                component:\n                    type: string\n                sort:\n                    type: integer\n                    format: int64\n                title:\n                    type: string\n                icon:\n                    type: string\n                menuBtns:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/MenuBtn'\n        UpdatePoliciesRequest:\n            properties:\n                role:\n                    type: string\n                policyRules:\n                    type: array\n                    items:\n                        $ref: '#/components/schemas/PolicyRules'\n        UpdateRoleRequest:\n            properties:\n                id:\n                    type: integer\n                    format: int64\n                parent_id:\n                    type: integer\n                    format: int64\n                name:\n                    type: string\n",
			"canonicalURL": "/github.com/ZQCard/kratos-base-project@53f0dc77dc5be8adbe0244a04e7c35b1d778c118/-/blob/app/authorization/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/ZQCard/kratos-base-project/blob/53f0dc77dc5be8adbe0244a04e7c35b1d778c118/app/authorization/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/authorization/v1/api/{id}\": delete: operation \"Authorization_DeleteApi\": at app/authorization/openapi.yaml:96:13: parse path \"/authorization/v1/api/{id}\": path parameter not specified: \"id\""
}