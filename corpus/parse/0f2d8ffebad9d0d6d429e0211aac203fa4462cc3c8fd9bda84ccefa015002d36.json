{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/RedHatInsights/rhsm-subscriptions"
		},
		"file": {
			"name": "internal-organizations-sync-api-spec.yaml",
			"size": 0,
			"path": "swatch-system-conduit/src/main/spec/internal-organizations-sync-api-spec.yaml",
			"byteSize": 9651,
			"content": "openapi: \"3.0.2\"\ninfo:\n  title: \"internal-organizations-sync-api\"\n  description: \"REST interface for the internal-organization-sync service. Please note any deprecated APIs. Our current deprecation policy is to keep deprecated APIs around for at least 6 months.\"\n  version: 1.0.0\npaths:\n  /internal/rpc/syncOrg:\n    description: \"Trigger a sync for a given Org ID\"\n    post:\n      summary: \"Sync organization for given org_id.\"\n      requestBody:\n        $ref: \"#/components/requestBodies/OrgSyncRequestBody\"\n      operationId: syncOrg\n      tags:\n        - internalOrganizations\n      responses:\n        '200':\n          description: \"The request for syncing organization has completed successfully.\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/DefaultResponse\"\n        '400':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/BadRequest\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '404':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/ResourceNotFound\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n  /internal/rpc/syncAllOrgs:\n    description: \"Trigger a sync for all Organizations\"\n    post:\n      summary: \"Sync all organizations.\"\n      operationId: syncFullOrgList\n      tags:\n        - internalOrganizations\n      responses:\n        '202':\n          description: \"The request for syncing all organizations is successfully running.\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/DefaultResponse\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n  /internal/organizations-sync-list:\n    description: \"Initiate altering database sync list by either adding or removing a given list of Org IDs\"\n    parameters:\n      - name: org_ids\n        in: query\n        required: true\n        schema:\n          type: array\n          items:\n            type: string\n        description: \"List of org IDs to add (Ex. ?org_ids=123\u0026org_ids=456\u0026org_ids=789)\"\n    post:\n      summary: \"Add a given list of organizations to the database sync list.\"\n      operationId: addOrgsToSyncList\n      tags:\n        - internalOrganizations\n      responses:\n        '200':\n          description: \"The request for adding organizations to the sync list has completed successfully.\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/DefaultResponse\"\n        '400':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/BadRequest\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n    delete:\n      summary: \"Remove a given list of organizations from the database sync list.\"\n      operationId: removeOrgsFromSyncList\n      tags:\n        - internalOrganizations\n      responses:\n        '200':\n          description: \"The request for removing organizations from the sync list has completed successfully.\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/DefaultResponse\"\n        '400':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/BadRequest\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '404':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/ResourceNotFound\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n  /internal/organizations-sync-list/{org_id}:\n    description: \"Initiate a search to check if given Org ID is in sync list\"\n    parameters:\n      - name: org_id\n        in: path\n        required: true\n        schema:\n          type: string\n    get:\n      summary: \"Check if given Org ID is in the database sync list.\"\n      operationId: hasOrgInSyncList\n      tags:\n        - internalOrganizations\n      responses:\n        '200':\n          description: \"The request to check the sync list for given org ID has successfully completed.\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/OrgExistsResponse\"\n        '400':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/BadRequest\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '404':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/ResourceNotFound\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n  /internal/organizations/{org_id}/inventory:\n    description: \"Initiate viewing conduit representation of an org's systems from RHSM\"\n    parameters:\n      - name: org_id\n        in: path\n        required: true\n        schema:\n          type: string\n      - name: offset\n        in: query\n        schema:\n          type: integer\n        description: \"The number of items to skip before starting to collect the result set\"\n      - name: limit\n        in: query\n        required: true\n        schema:\n          type: integer\n          minimum: 1\n          maximum: 1000\n        description: \"The numbers of items to return\"\n    get:\n      summary: \"See conduit representation of an org's systems from RHSM.\"\n      operationId: getInventoryForOrg\n      tags:\n        - internalOrganizations\n      responses:\n        '200':\n          description: \"\"\n          content:\n            application/vnd.api+json:\n              schema:\n                $ref: \"#/components/schemas/OrgInventory\"\n        '400':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/BadRequest\"\n        '403':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/Forbidden\"\n        '404':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/ResourceNotFound\"\n        '500':\n          $ref: \"../../../../spec/error-responses.yaml#/$defs/InternalServerError\"\n  /internal-organizations-sync-openapi.json:\n    $ref: \"../../../../spec/openapi-paths.yaml#/openapi-json\"\n  /internal-organizations-sync-openapi.yaml:\n    $ref: \"../../../../spec/openapi-paths.yaml#/openapi-yaml\"\ncomponents:\n  requestBodies:\n    OrgSyncRequestBody:\n      description: \"ID of Organization to sync\"\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/OrgSyncRequest\"\n  schemas:\n    ConsumerInventory:\n      # Container for fields we capture from the IT endpoint for upload to inventory service.\n      required:\n        - subscription_manager_id\n        - org_id\n      properties:\n        subscription_manager_id:\n          type: string\n        insights_id:\n          type: string\n        org_id:\n          type: string\n        account_number:\n          type: string\n        os_name:\n          type: string\n        os_version:\n          type: string\n        os_kernel_version:\n          type: string\n        bios_vendor:\n          type: string\n        bios_version:\n          type: string\n        bios_uuid:\n          type: string\n        ip_addresses:\n          type: array\n          items:\n            type: string\n        fqdn:\n          type: string\n        display_name:\n          type: string\n        mac_addresses:\n          type: array\n          items:\n            type: string\n        cpu_sockets:\n          type: integer\n        cpu_cores:\n          type: integer\n        cores_per_socket:\n          type: integer\n        last_checkin:\n          type: string\n          format: date-time\n        memory:\n          type: integer\n          format: int64\n        system_memory_bytes:\n          type: integer\n          format: int64\n        architecture:\n          type: string\n        cloud_provider:\n          type: string\n        is_virtual:\n          type: boolean\n        vm_host:\n          type: string\n        vm_host_uuid:\n          type: string\n        guest_id:\n          type: string\n        rh_prod:\n          type: array\n          items:\n            type: string\n        sys_purpose_role:\n          type: string\n        sys_purpose_sla:\n          type: string\n        sys_purpose_usage:\n          type: string\n        sys_purpose_addons:\n          type: array\n          items:\n            type: string\n        sys_purpose_units:\n          type: string\n        billing_model:\n          type: string\n    DefaultResponse:\n      properties:\n        status:\n          type: string\n    OrgExistsResponse:\n      properties:\n        exists_in_list:\n          type: boolean\n    OrgSyncRequest:\n      type: object\n      properties:\n        org_id:\n          type: string\n    OrgInventory:\n      properties:\n        links:\n          $ref: \"#/components/schemas/PageLinks\"\n        consumer_inventories:\n          type: array\n          items:\n            $ref: \"#/components/schemas/ConsumerInventory\"\n    PageLinks:\n      properties:\n        first:\n          type: string\n        last:\n          type: string\n        previous:\n          type: string\n        next:\n          type: string\n      required:\n        - first\n        - last\n  securitySchemes:\n    PskIdentity:\n      type: apiKey\n      in: header\n      name: x-rh-swatch-psk\n      description: |\n        Psk header containing Pre Shared Key. Contains an\n        UUID string:\n        ```\n        c9a98753-2092-4617-b226-5c2653330b3d\n        ```\nsecurity:\n  - PskIdentity: []\n",
			"canonicalURL": "/github.com/RedHatInsights/rhsm-subscriptions@5a1437c7a8e34cd0928818b57d1e11ff676a13dd/-/blob/swatch-system-conduit/src/main/spec/internal-organizations-sync-api-spec.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/RedHatInsights/rhsm-subscriptions/blob/5a1437c7a8e34cd0928818b57d1e11ff676a13dd/swatch-system-conduit/src/main/spec/internal-organizations-sync-api-spec.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/internal-organizations-sync-openapi.json\": at 1:2676: external \"../../../../spec/openapi-paths.yaml\": get: file: local file reference is not allowed"
}