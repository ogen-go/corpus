{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/OpenBanking-Brasil/areadesenvolvedor"
		},
		"file": {
			"name": "_loans_apis_part.yml",
			"size": 0,
			"path": "documentation/source/swagger/parts/_loans_apis_part.yml",
			"byteSize": 18267,
			"content": "﻿openapi: 3.0.0\ninfo:\n  title: API Loans - Open Banking Brasil\n  description: |\n    API de informações de operações de empréstimos do Open Banking Brasil – Fase 2.\n    API que retorna informações de operações de crédito do tipo empréstimo, mantidas nas instituições transmissoras por seus clientes, incluindo dados como denominação, modalidade, número do contrato, tarifas, prazo, prestações, pagamentos, amortizações, garantias, encargos e taxas de juros remuneratórios.\\\n    Não possui segregação entre pessoa natural e pessoa jurídica.\\\n    Requer consentimento do cliente para todos os `endpoints`.\n\n    # Orientações\n    A `Role`  do diretório de participantes relacionada à presente API é a `DADOS`.\\\n    Para todos os `endpoints` desta API é previsto o envio de um `token` através do header `Authorization`.\\\n    Este token deverá estar relacionado ao consentimento (`consentId`) mantido na instituição transmissora dos dados, o qual permitirá a pesquisa e retorno, na API em questão, dos\n    dados relacionados ao `consentId` específico relacionado.\\\n    Os dados serão devolvidos na consulta desde que o `consentId` relacionado corresponda a um consentimento válido e com o status `AUTHORISED`.\\\n    É também necessário que o recurso em questão (conta, contrato, etc) esteja disponível na instituição transmissora (ou seja, sem boqueios de qualquer natureza e com todas as autorizações/consentimentos já autorizados).\\\n    Além disso as `permissions` necessárias deverão ter sido solicitadas quando da criação do consentimento relacionado (`consentId`).\\\n    Relacionamos a seguir as `permissions` necessárias para a consulta de dados em cada `endpoint` da presente API.\n\n    ## Permissions necessárias para a API Loans\n\n    Para cada um dos paths desta API, além dos escopos (`scopes`) indicados existem `permissions` que deverão ser observadas:\n\n    ### `/contracts`\n      - permissions:\n        - GET: **LOANS_READ**\n    ### `/contracts/{contractId}`\n      - permissions:\n        - GET **LOANS_READ**\n    ### `/contracts/{contractId}/warranties`\n      - permissions:\n        - GET: **LOANS_WARRANTIES_READ**\n    ### `/contracts/{contractId}/scheduled-instalments`\n      - permissions:\n        - GET: **LOANS_SCHEDULED_INSTALMENTS_READ**\n    ### `/contracts/{contractId}/payments`\n      - permissions:\n        - GET: **LOANS_PAYMENTS_READ**\n  version: 1.0.4\n  license:\n    name: Apache 2.0\n    url: 'https://www.apache.org/licenses/LICENSE-2.0'\n  contact:\n    name: Governança do Open Banking Brasil – Especificações\n    email: gt-interfaces@openbankingbr.org\n    url: 'https://openbanking-brasil.github.io/areadesenvolvedor/'\nservers:\n  - url: 'https://api.banco.com.br/open-banking/loans/v1'\n    description: Servidor de Produção\n  - url: 'https://apih.banco.com.br/open-banking/loans/v1'\n    description: Servidor de Homologação\ntags:\n  - name: Loans\npaths:\n  /contracts:\n    get:\n      tags:\n        - Loans\n      summary: Conjunto de informações  de contratos de empréstimo mantidos pelo cliente na instituição transmissora e para os quais ele tenha fornecido consentimento\n      description: Método para obter a lista de contratos de empréstimo mantidos pelo cliente na instituição transmissora e para os quais ele tenha fornecido consentimento\n      operationId: loansGetContracts\n      parameters:\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n        - $ref: '#/components/parameters/page'\n        - $ref: '#/components/parameters/pageSize'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseLoansContractList'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseLoansContractList'\n      security:\n        - OpenId:\n            - 'openid'\n          OAuth2Security:\n            - 'consent:consentId'\n            - 'loans'\n  /contracts/{contractId}:\n    get:\n      tags:\n        - Loans\n      summary: Obtém os dados do contrato de empréstimo identificado por contractId\n      description: Método para obter os dados do contrato de empréstimo identificado por contractId mantido pelo cliente na instituição transmissora\n      operationId: loansGetContractsContractId\n      parameters:\n        - $ref: '#/components/parameters/contractId'\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseLoansContract'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseLoansContract'\n      security:\n        - OpenId:\n            - 'openid'\n          OAuth2Security:\n            - 'consent:consentId'\n            - 'loans'\n  /contracts/{contractId}/warranties:\n    get:\n      tags:\n        - Loans\n      summary: Obtém a lista de garantias vinculadas ao contrato de empréstimo identificado por contractId\n      description: Método para obter a lista de garantias vinculadas ao contrato de empréstimo identificado por contractId mantido pelo cliente na instituição transmissora\n      operationId: loansGetContractsContractIdWarranties\n      parameters:\n        - $ref: '#/components/parameters/contractId'\n        - $ref: '#/components/parameters/page'\n        - $ref: '#/components/parameters/pageSize'\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseLoansWarranties'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseLoansWarranties'\n      security:\n        - OpenId:\n            - 'openid'\n          OAuth2Security:\n            - 'consent:consentId'\n            - 'loans'\n  /contracts/{contractId}/scheduled-instalments:\n    get:\n      tags:\n        - Loans\n      summary: Obtém os dados do cronograma de parcelas do contrato de empréstimo identificado por contractId\n      description: Método para obter os dados do cronograma de parcelas do contrato de empréstimo identificado por contractId mantido pelo cliente na instituição transmissora\n      operationId: loansGetContractsContractIdScheduledInstalments\n      parameters:\n        - $ref: '#/components/parameters/contractId'\n        - $ref: '#/components/parameters/page'\n        - $ref: '#/components/parameters/pageSize'\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseLoansInstalments'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseLoansInstalments'\n      security:\n        - OpenId:\n            - 'openid'\n          OAuth2Security:\n            - 'consent:consentId'\n            - 'loans'\n  /contracts/{contractId}/payments:\n    get:\n      tags:\n        - Loans\n      summary: Obtém os dados de pagamentos do contrato de empréstimo identificado por contractId\n      description: Método para obter os dados de pagamentos do contrato de empréstimo identificado por contractId mantido pelo cliente na instituição transmissora\n      operationId: loansGetContractsContractIdPayments\n      parameters:\n        - $ref: '#/components/parameters/contractId'\n        - $ref: '#/components/parameters/page'\n        - $ref: '#/components/parameters/pageSize'\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseLoansPayments'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseLoansPayments'\n      security:\n        - OpenId:\n            - 'openid'\n          OAuth2Security:\n            - 'consent:consentId'\n            - 'loans'\ncomponents:\n  schemas:\n    EnumContractAmortizationScheduled:\n      $ref: ./schemas/enum/EnumContractAmortizationScheduled.yaml\n    EnumContractCalculation:\n      $ref: ./schemas/enum/EnumContractCalculation.yaml\n    EnumContractFeeCharge:\n      $ref: ./schemas/enum/EnumContractFeeCharge.yaml\n    EnumContractFeeChargeType:\n      $ref: ./schemas/enum/EnumContractFeeChargeType.yaml\n    EnumContractFinanceChargeType:\n      $ref: ./schemas/enum/EnumContractFinanceChargeType.yaml\n    EnumContractInstalmentPeriodicity:\n      $ref: ./schemas/enum/EnumContractInstalmentPeriodicity.yaml\n    EnumContractInterestRateType:\n      $ref: ./schemas/enum/EnumContractInterestRateType.yaml\n    EnumContractReferentialRateIndexerSubType:\n      $ref: ./schemas/enum/EnumContractReferentialRateIndexerSubType.yaml\n    EnumContractReferentialRateIndexerType:\n      $ref: ./schemas/enum/EnumContractReferentialRateIndexerType.yaml\n    EnumContractTaxPeriodicity:\n      $ref: ./schemas/enum/EnumContractTaxPeriodicity.yaml\n    EnumContractTaxType:\n      $ref: ./schemas/enum/EnumContractTaxType.yaml\n    EnumContractProductSubTypeLoans:\n      $ref: ./schemas/enum/EnumContractProductSubTypeLoans.yaml\n    EnumContractProductTypeLoans:\n      $ref: ./schemas/enum/EnumContractProductTypeLoans.yaml\n    EnumWarrantySubType:\n      $ref: ./schemas/enum/EnumWarrantySubType.yaml\n    EnumWarrantyType:\n      $ref: ./schemas/enum/EnumWarrantyType.yaml\n    Links:\n      $ref: ./schemas/Links.yaml\n    LoansBalloonPayment:\n      $ref: ./schemas/loans_apis/LoansBalloonPayment.yaml\n    LoansContract:\n      $ref: ./schemas/loans_apis/LoansFinancingsContract.yaml\n    LoansContractedFee:\n      $ref: ./schemas/loans_apis/LoansFinancingsContractedFee.yaml\n    LoansContractInterestRate:\n      $ref: ./schemas/loans_apis/LoansFinancingsContractInterestRate.yaml\n    LoansChargeOverParcel:\n      $ref: ./schemas/loans_apis/LoansChargeOverParcel.yaml\n    LoansFinanceCharge:\n      $ref: ./schemas/loans_apis/LoansFinanceCharge.yaml\n    LoansInstalments:\n      $ref: ./schemas/loans_apis/LoansInstalments.yaml\n    LoansListContract:\n      $ref: ./schemas/loans_apis/LoansListContractData.yaml\n    LoansPayments:\n      $ref: ./schemas/loans_apis/LoansPayments.yaml\n    LoansReleases:\n      $ref: ./schemas/loans_apis/LoansReleases.yaml\n    LoansFeeOverParcel:\n      $ref: ./schemas/loans_apis/LoansFeeOverParcel.yaml\n    LoansWarranties:\n      $ref: ./schemas/loans_apis/LoansWarranties.yaml\n    Meta:\n      $ref: ./schemas/Meta.yaml\n    ResponseError:\n      $ref: ./schemas/ResponseError.yaml\n    ResponseLoansContractList:\n      $ref: ./schemas/loans_apis/ResponseLoansContractList.yaml\n    ResponseLoansContract:\n      $ref: ./schemas/loans_apis/ResponseLoansFinancingsContract.yaml\n    ResponseLoansInstalments:\n      $ref: ./schemas/loans_apis/ResponseLoansInstalments.yaml\n    ResponseLoansPayments:\n      $ref: ./schemas/loans_apis/ResponseLoansPayments.yaml\n    ResponseLoansWarranties:\n      $ref: ./schemas/loans_apis/ResponseLoansWarranties.yaml\n    XFapiInteractionId:\n      $ref: ./headers/XFapiInteractionId.yaml\n  parameters:\n    Authorization:\n      $ref: ./parameters/Authorization.yaml\n    contractId:\n      $ref: ./parameters/ContractId.yaml\n    page:\n      $ref: ./parameters/Page.yaml\n    pageSize:\n      $ref: ./parameters/PageSize.yaml\n    xCustomerUserAgent:\n      $ref: ./parameters/XCustomerUserAgent.yaml\n    xFapiAuthDate:\n      $ref: ./parameters/XFapiAuthDate.yaml\n    xFapiCustomerIpAddress:\n      $ref: ./parameters/XFapiCustomerIpAddress.yaml\n    xFapiInteractionId:\n      $ref: ./parameters/XFapiInteractionId.yaml\n  securitySchemes:\n    OpenId:\n      type: openIdConnect\n      openIdConnectUrl: 'https://auth.mockbank.poc.raidiam.io/.well-known/openid-configuration'\n    OAuth2Security:\n      type: oauth2\n      description: \"Fluxo OAuth necessário para que a receptora tenha acesso aos dados na instituição transmissora. Requer o processo de redirecionamento e autenticação do usuário a que se referem os dados.\"\n      flows:\n        authorizationCode:\n          authorizationUrl: \"https://authserver.example/authorization\"\n          tokenUrl: \"https://authserver.example/token\"\n          scopes:\n            loans: \"Escopo necessário para acesso à API Loans. O controle dos endpoints específicos é feito via permissions.\"\n  responses:\n    OKResponseLoansContractList:\n      description: Dados dos contratos de empréstimos obtidos com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            $ref: '#/components/schemas/XFapiInteractionId'\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/ResponseLoansContractList\"\n    OKResponseLoansContract:\n      description: Dados do contrato de empréstimo identificado por contractId\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            $ref: '#/components/schemas/XFapiInteractionId'\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ResponseLoansContract'\n    OKResponseLoansWarranties:\n      description: Lista de garantias vinculadas ao contrato de empréstimo identificado por contractId\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            $ref: '#/components/schemas/XFapiInteractionId'\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ResponseLoansWarranties'\n    OKResponseLoansInstalments:\n      description: Dados do cronograma de parcelas do contrato de empréstimo identificado por contractId\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            $ref: '#/components/schemas/XFapiInteractionId'\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ResponseLoansInstalments'\n    OKResponseLoansPayments:\n      description: Dados de pagamentos do contrato de empréstimo identificado por contractId\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            $ref: '#/components/schemas/XFapiInteractionId'\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ResponseLoansPayments'\n    BadRequest:\n      $ref: ./responses/BadRequest.yaml\n    Forbidden:\n      $ref: ./responses/Forbidden.yaml\n    InternalServerError:\n      $ref: ./responses/InternalServerError.yaml\n    MethodNotAllowed:\n      $ref: ./responses/MethodNotAllowed.yaml\n    NotAcceptable:\n      $ref: ./responses/NotAcceptable.yaml\n    NotFound:\n      $ref: ./responses/NotFound.yaml\n    TooManyRequests:\n      $ref: ./responses/TooManyRequests.yaml\n    Unauthorized:\n      $ref: ./responses/Unauthorized.yaml\n\n"
		}
	},
	"Error": "parse: parse spec: parse components: parameters: \"contractId\": resolve \"./parameters/ContractId.yaml\" reference: invalid parameter reference"
}