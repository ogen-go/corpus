{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/adorsys/open-banking-gateway"
		},
		"file": {
			"name": "tpp_auth_api.yml",
			"size": 0,
			"path": "opba-auth-rest-api/src/main/resources/static/tpp_auth_api.yml",
			"byteSize": 7444,
			"content": "openapi: 3.0.1\ninfo:\n  version: \"1.0.0\"\n  title: Open Banking Gateway Tpp Authentication API\n  description: \u003e-\n    This API provides PSU login and registration functionality on TPP side.\nexternalDocs:\n  url: \"https://adorsys.github.com/open-banking-gateway\"\n\npaths:\n  /v1/psu/login:\n    post:\n      tags:\n        - Psu Authentication\n      operationId: login\n      summary: Login user to open-banking\n      description: TBD\n      requestBody:\n        description: User credentials object\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PsuAuthBody\"\n        required: true\n      parameters:\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202_UserAccepted\"\n        \"401\":\n          $ref: \"#/components/responses/401_Unauthorised\"\n        \"500\":\n          $ref: \"#/components/responses/500_InternalServerError\"\n\n  /v1/psu/{authorization-id}/for-approval/login:\n    post:\n      tags:\n        - Psu Authentication and consent approval\n      operationId: loginForApproval\n      summary: Login user to open-banking\n      description: TBD\n      requestBody:\n        description: User credentials object\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PsuAuthBody\"\n        required: true\n      parameters:\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n        #path\n        - $ref: \"#/components/parameters/authorization-id\"\n        #query\n        - $ref: \"#/components/parameters/redirectCode\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202_UserAccepted\"\n        \"401\":\n          $ref: \"#/components/responses/401_Unauthorised\"\n  /v1/psu/{authorization-id}/for-approval/anonymous:\n    post:\n      tags:\n        - Psu Authentication and consent approval\n      operationId: loginForAnonymousApproval\n      summary: Login user to open-banking to perform payment (anonymous to OPBA)\n      description: TBD\n      parameters:\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n        #path\n        - $ref: \"#/components/parameters/authorization-id\"\n        #query\n        - $ref: \"#/components/parameters/redirectCode\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202_UserAccepted\"\n        \"401\":\n          $ref: \"#/components/responses/401_Unauthorised\"\n  /v1/psu/ais/{authorization-id}/renewal-authorization-session-key:\n    get:\n      tags:\n        - Psu Authentication\n      operationId: renewalAuthorizationSessionKey\n      summary: the AuthorizationSessionKey is replaces with a new one\n      description: Input is the old cookie, response is empty with a new cookie\n      parameters:\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n        #path\n        - $ref: \"#/components/parameters/authorization-id\"\n\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202_RenewalAuthorizationSessionKey\"\n        \"401\":\n          $ref: \"#/components/responses/401_Unauthorised\"\n\n  /v1/psu/register:\n    post:\n      tags:\n        - Psu Authentication\n      operationId: registration\n      summary: registration user in open-banking db\n      description: TBD\n      requestBody:\n        description: User credentials object\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/PsuAuthBody\"\n        required: true\n      parameters:\n        #common header parameter\n        - $ref: \"#/components/parameters/X-Request-ID\"\n      responses:\n        \"201\":\n          $ref: \"#/components/responses/201_UserCreated\"\n        \"400\":\n          $ref: \"#/components/responses/400_BadRequest\"\n\ncomponents:\n  headers:\n    X-Request-ID:\n      required: true\n      description: \u003e\n        Unique ID that identifies this request through common workflow.\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n  parameters:\n    X-Request-ID:\n      name: X-Request-ID\n      in: header\n      required: true\n      description: |\n        Unique ID that identifies this request through common workflow.\n        Shall be contained in HTTP Response as well.\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n    authorization-id:\n      name: authorization-id\n      in: path\n      required: true\n      description: Authorization session ID to approve\n      example: \"99391c7e-ad88-49ec-a2ad-99ddcb1f7721\"\n      schema:\n        type: string\n        format: uuid\n    redirectCode:\n      name: redirectCode\n      in: query\n      required: true\n      description: Redirect code that acts as a password protecting FinTech requested consent specification\n      example: \"12345\"\n      schema:\n        type: string\n  responses:\n    201_UserCreated:\n      description: User created sucessfully\n      headers:\n        Location:\n          schema:\n            type: string\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n      #NO RESPONSE BODY\n\n    202_RenewalAuthorizationSessionKey:\n      description: User logged in\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n        Set-Cookie:\n          schema:\n            type: string\n            example: Authorization-Session-ID=abcde12345; Path=/; HttpOnly\n      #NO RESPONSE BODY\n\n    202_UserAccepted:\n      description: User logged in\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n        Set-Cookie:\n          schema:\n            type: string\n            example: Authorization-Session-ID=abcde12345; Path=/; HttpOnly\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/LoginResponse\"\n\n    400_BadRequest:\n      description: |\n        Wrong registration parameters or user exist\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/generalError\"\n\n    401_Unauthorised:\n      description: |\n        Bad username or password\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/generalError\"\n\n    500_InternalServerError:\n      description: |\n        Internal server error\n      headers:\n        X-Request-ID:\n          $ref: \"#/components/parameters/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/generalError\"\n  schemas:\n    PsuAuthBody:\n      type: object\n      required:\n        - login\n        - password\n      properties:\n        login:\n          type: string\n        password:\n          type: string\n      example: { \"login\": \"user1\", \"password\": \"123\" }\n\n    LoginResponse:\n      title: Login Response\n      type: object\n      properties:\n        xsrfToken:\n          type: string\n          description: Authorization cookie hash\n\n    generalError:\n      type: object\n      properties:\n        code:\n          type: string\n          example: \"ERROR_CODE\"\n        message:\n          type: string\n          example: \"Error description message\"\n",
			"canonicalURL": "/github.com/adorsys/open-banking-gateway@d6b5b8ae4d3b475f57c71345978f836b708ef8b6/-/blob/opba-auth-rest-api/src/main/resources/static/tpp_auth_api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/adorsys/open-banking-gateway/blob/d6b5b8ae4d3b475f57c71345978f836b708ef8b6/opba-auth-rest-api/src/main/resources/static/tpp_auth_api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:15: responses: \"500_InternalServerError\": at 1:2236: at 1:2374: headers: header \"X-Request-ID\": at 1:2390: resolve \"#/components/parameters/X-Request-ID\" reference: at 1:264: at 1:447: \"in\" MUST NOT be specified, got \"header\""
}