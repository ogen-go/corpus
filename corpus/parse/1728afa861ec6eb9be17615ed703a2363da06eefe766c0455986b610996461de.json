{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/department-of-veterans-affairs/vets-api"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "modules/my_health/docs/openapi.yaml",
			"byteSize": 22858,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.0.0\n  title: VA My Health APIs\n  license:\n    name: CC0 1.0 Universal\n  description: \u003e\n    The Department of Veterans Affairs My Health APIs. All paths are relative to https://api.va.gov/my_health.\nservers:\n  - url: https://api.va.gov/my_health\npaths:\n  /v1/messaging/folders:\n    get:\n      description: List available secure messaging folders\n      operationId: get_folders\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessagingFolders.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/folders\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/folders/{id}:\n    get:\n      description: Get a secure messaging folder\n      operationId: get_folder\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessagingFolder.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/folders/{id}\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/folders/{id}/messages:\n    get:\n      description: |\n        List messages in a secure messaging folder.\n\n        When listing messages, the response for each message will include most but not all of the message attributes.\n        Specifically, the message body and attachment information is not included. Those attributes can be obtained by\n        getting the specific message resource.\n      operationId: get_folder_messages\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageList.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/folders/{id}/messages\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/message_drafts:\n    post:\n      description: Save a new draft message\n      operationId: post_create_message_draft\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: ./schemas/SecureMessageNewMessageRequest.yml\n        required: true\n      responses:\n        '201':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageNewMessageRequest.yml\n          description: Created\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/message_drafts\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/message_drafts/{id}:\n    put:\n      description: Update an existing draft message\n      operationId: post_create_message_draft\n      parameters:\n        - description: The id of the draft that is to be updated\n          in: path\n          name: id\n          required: true\n          schema:\n            type: string\n        - $ref: '#/components/parameters/InflectionHeader'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              example:\n                body: the updated message\n              type: object\n        required: true\n      responses:\n        '204':\n          description: No Content\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/message_drafts/{id}\n  /v1/messaging/message_drafts/{reply_id}/replydraft:\n    post:\n      description: Save a new draft message as a reply to an existing message\n      operationId: post_create_message_draft_reply\n      parameters:\n        - description: The id of the message that will be replied to\n          in: path\n          name: reply_id\n          required: true\n          schema:\n            type: string\n        - $ref: '#/components/parameters/InflectionHeader'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: ./schemas/SecureMessageNewMessageRequest.yml\n        required: true\n      responses:\n        '201':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageNewMessageRequest.yml\n          description: Created\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/message_drafts/{reply_id}/replydraft\n  /v1/messaging/message_drafts/{reply_id}/replydraft/{draft_id}:\n    post:\n      description: Edit a draft message that was a reply to an existing message\n      operationId: post_create_message_draft_reply\n      parameters:\n        - description: The id of the message that will be replied to\n          in: path\n          name: reply_id\n          required: true\n          schema:\n            type: string\n        - description: The id of the draft that is to be updated\n          in: path\n          name: draft_id\n          required: true\n          schema:\n            type: string\n        - $ref: '#/components/parameters/InflectionHeader'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              example:\n                body: the updated message\n              type: object\n        required: true\n      responses:\n        '204':\n          description: No Content\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/message_drafts/{reply_id}/replydraft/{draft_id}\n  /v1/messaging/messages:\n    post:\n      description: Send a new secure message\n      operationId: post_create_message\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: ./schemas/SecureMessageNewMessageRequest.yml\n          multipart/form-data:\n            schema:\n              properties:\n                message:\n                  description: Stringified JSON with same parameters as if this was\n                    an application/json request (e.g. '{\"category\":\"OTHER\",\"recipient_id\":1763526,\"body\":\"test\n                    message\"}')\n                  type: string\n                uploads[]:\n                  description: |\n                    One or more message attachments.\n\n                    \u003cstrong\u003eNOTES:\u003c/strong\u003e\n                    \u003cul\u003e\n                    \u003cli\u003eA single message may have a maximum of 4 attachments.\u003c/li\u003e\n                    \u003cli\u003eA single attachment cannot exceed 3 MB\u003c/li\u003e\n                    \u003cli\u003eAll attachments combined cannot exceed 6 MB\u003c/li\u003e\n                    \u003cli\u003eSupported file types/extensions: doc, docx, gif, jpg, pdf, png, rtf, txt, xls, xlsx.\u003c/li\u003e\n                    \u003c/ul\u003e\n                  items:\n                    format: binary\n                    type: string\n                  type: array\n              type: object\n        description: |\n          New message body.\n\n          \u003cstrong\u003eNOTES:\u003c/strong\u003e\n          \u003cul\u003e\n            \u003cli\u003eIf a subject isn't included, default subject will be \"{{Category}} Inquiry\" (e.g. Medication Inquiry)\u003c/li\u003e\n            \u003cli\u003eMessages can only be replied to for 120 days.  After that, the message is considered \"expired\"\u003c/li\u003e\n            \u003cli\u003eIf sending a draft, include the draft's ID in the request body as `draft_id`. Draft will be deleted once sent. Any fields included in request body will overwrite original draft contents.\n            \u003cli\u003eIf including file attachments, this request must be sent as \u003ci\u003emultipart/form-data\u003c/i\u003e\u003c/li\u003e\n            \u003cli\u003e\n              File attachment restrictions (as imposed by MHV):\n              \u003cul\u003e\n                \u003cli\u003eUser may attach up to 4 files\u003c/li\u003e\n                \u003cli\u003eAccepted formats: doc, docx, jpg, pdf, png, rtf, txt, xls, xlsx\u003c/li\u003e\n                \u003cli\u003eSingle attachment cannot exceed 3 MB\u003c/li\u003e\n                \u003cli\u003eTotal attachment cannot exceed 6 MB\u003c/li\u003e\n              \u003c/ul\u003e\n            \u003c/li\u003e\n          \u003c/ul\u003e\n        required: true\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageDetail.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/messages/categories:\n    get:\n      description: List available message categories\n      operationId: get_categories\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageCategories.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/categories\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/messages/signature:\n    get:\n      description: Gets user message signature preferences\n      operationId: get_signature\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageSignature.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/signature\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/messages/{id}:\n    delete:\n      description: Moves a secure message to the \"Deleted\" folder\n      operationId: delete_message\n      parameters:\n        - description: The id of the message that is to be deleted\n          in: path\n          name: id\n          required: true\n          schema:\n            type: string\n        - $ref: '#/components/parameters/InflectionHeader'\n      responses:\n        '204':\n          description: The message was deleted successfully\n        '400':\n          content:\n            application/json:\n              example:\n                errors:\n                  - code: SM114\n                    detail: Unable to move message\n                    status: '400'\n                    title: Operation failed\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Bad Request\n        '401':\n          content:\n            application/json:\n              example:\n                errors:\n                  - code: '401'\n                    detail: IAM user session is inactive\n                    status: '401'\n                    title: Not authorized\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              example:\n                errors:\n                  - code: '403'\n                    detail: You do not have access to messaging\n                    status: '403'\n                    title: Forbidden\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}\n    get:\n      description: |\n        Get a secure message \u003cstrong\u003eand mark the message as read\u003c/strong\u003e.\n\n        \u003cstrong\u003eNOTES:\u003c/strong\u003e\n        \u003cul\u003e\n          \u003cli\u003eUnlike listing messages in a folder, the message resource returned from this operation will include\n        the message body and attachment information.\u003c/li\u003e\n          \u003cli\u003eThis GET operation is not fully idempotent and will set readReceipt field as 'READ'\u003c/li\u003e\n          \u003cli\u003eIf message has an attachment included, attachmentSize is displayed in bytes\u003c/li\u003e\n        \u003c/ul\u003e\n      operationId: get_message\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageDetail.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n    patch:\n      description: Moves a secure message to a specified folder\n      operationId: post_move_message\n      parameters:\n        - description: The id of the message that is to be moved\n          in: path\n          name: id\n          required: true\n          schema:\n            type: string\n        - description: The id of the folder that the message is to be moved to\n          in: query\n          name: folder_id,\n          required: true\n          schema:\n            type: string\n        - $ref: '#/components/parameters/InflectionHeader'\n      responses:\n        '204':\n          description: The message was moved successfully\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}/move\n  /v1/messaging/messages/{id}/attachments/{attachment_id}:\n    get:\n      description: |\n        Get a secure message attachment content as a direct binary download. Secure messaging supports the following file types/extensions: doc, docx, gif, jpg, pdf, png, rtf, txt, xls, xlsx.\n      operationId: get_attachment\n      parameters:\n        - description: ID of the message that we are retrieving attachments of\n          in: path\n          name: id\n          required: true\n          schema:\n            type: integer\n        - $ref: '#/components/parameters/InflectionHeader'\n      responses:\n        '200':\n          content:\n            application/octet-stream:\n              schema:\n                format: binary\n                type: string\n          description: OK\n          headers:\n            Content-Disposition:\n              description: |\n                This header will have the value of \"attachment\", and a \"filename\" parameter containing the original filename of the attached content.\n              schema:\n                type: string\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}/attachments/{attachment_id}\n  /v1/messaging/messages/{id}/reply:\n    post:\n      description: |\n        Send reply to a secure message\n\n        \u003cstrong\u003eNOTE:\u003c/strong\u003e If including file attachments, this request must be sent as \u003ci\u003emultipart/form-data\u003c/i\u003e\n\n        File attachment restrictions (as imposed by MHV):\n        \u003cul\u003e\n          \u003cli\u003eUser may attach up to 4 files\u003c/li\u003e\n          \u003cli\u003eAccepted formats: doc, docx, jpg, pdf, png, rtf, txt, xls, xlsx\u003c/li\u003e\n          \u003cli\u003eSingle attachment cannot exceed 3 MB\u003c/li\u003e\n          \u003cli\u003eTotal attachment cannot exceed 6 MB\u003c/li\u003e\n        \u003c/ul\u003e\n      operationId: post_create_message_reply\n      parameters:\n        - description: ID of the message that is being replied to\n          in: path\n          name: id\n          required: true\n          schema:\n            type: integer\n        - $ref: '#/components/parameters/InflectionHeader'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: ./schemas/SecureMessageReplyRequest.yml\n          multipart/form-data:\n            schema:\n              properties:\n                message:\n                  description: Stringified JSON with same parameters as if this was\n                    an application/json request (e.g. '{\"body\":\"test body with attachment\"}')\n                  type: string\n                uploads[]:\n                  description: |\n                    One or more message attachments.\n\n                    \u003cstrong\u003eNOTES:\u003c/strong\u003e\n                    \u003cul\u003e\n                    \u003cli\u003eA single message may have a maximum of 4 attachments.\u003c/li\u003e\n                    \u003cli\u003eA single attachment cannot exceed 3 MB\u003c/li\u003e\n                    \u003cli\u003eAll attachments combined cannot exceed 6 MB\u003c/li\u003e\n                    \u003cli\u003eSupported file types/extensions: doc, docx, gif, jpg, pdf, png, rtf, txt, xls, xlsx.\u003c/li\u003e\n                    \u003c/ul\u003e\n                  items:\n                    format: binary\n                    type: string\n                  type: array\n              type: object\n        description: Reply message body\n        required: true\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageDetail.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}/reply\n  /v1/messaging/messages/{id}/thread:\n    get:\n      description: |\n        Gets a list of message summaries that are related to the message of the passed id.\n        Does \u003cstrong\u003enot\u003c/strong\u003e include the message of the passed id itself.\n      operationId: get_message_history\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessageList.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/messages/{id}/thread\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n  /v1/messaging/recipients:\n    get:\n      description: List available recipients to which messages may be sent\n      operationId: get_triage_teams\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/SecureMessagingRecipients.yml\n          description: OK\n        '401':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Unauthorized\n        '403':\n          content:\n            application/json:\n              schema:\n                $ref: ./schemas/Errors.yml\n          description: Not authorized for access to secure messages\n      summary: /v1/messaging/recipients\n      parameters:\n        - $ref: '#/components/parameters/InflectionHeader'\n\ncomponents:\n  securitySchemes:\n    CookieAuth:\n      type: apiKey\n      name: api_session\n      in: cookie\n      description: An authenticated session is established using the Sessions Controller to initiate federated authentication with an external credential provider, after which an API session token is established in the api_session cookie.\n  parameters:\n    InflectionHeader:\n      in: header\n      name: X-Key-Inflection\n      required: false\n      schema:\n        type: string\n        enum: [camel, snake]\n      description: Instructs the API to return camelCase keys rather than snake_case\nsecurity:\n  - CookieAuth: []",
			"canonicalURL": "/github.com/department-of-veterans-affairs/vets-api@6040a6da7be4493228fdbebe858e10c99f8de5b6/-/blob/modules/my_health/docs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/department-of-veterans-affairs/vets-api/blob/6040a6da7be4493228fdbebe858e10c99f8de5b6/modules/my_health/docs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/v1/messaging/folders\": get: operation \"get_folders\": responses: 403: content: application/json: schema: parse schema: at 1:1291: external \"./schemas/Errors.yml\": get: file: local file reference is not allowed"
}