{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/shikorism/tissue"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 16760,
			"content": "openapi: 3.0.0\ninfo:\n  title: Tissue API\n  description: |\n    夜のライフログサービス Tissue の公開API仕様です。\n    全てのAPIのURLは `https://shikorism.net/api` から始まります。\n  version: 0.2.0\nservers:\n  - url: 'https://shikorism.net/api'\ntags:\n  - name: webhook\n    description: Incoming Webhookに関する仕様\n  - name: users\n    description: ユーザー情報に関する操作\n  - name: checkin\n    description: チェックインに関する操作\npaths:\n  /webhooks/checkin/{id}:\n    post:\n      summary: チェックイン\n      description: Webhook IDを発行したユーザで新規チェックインを行います。\n      tags:\n        - webhook\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: Webhook管理ページで発行したID\n          schema:\n            type: string\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/CreateCheckin'\n            examples:\n              simple:\n                description: 何も指定しなければ、現在時刻で公開チェックインをおこないます。\n                value: {}\n              complete:\n                value:\n                  checked_in_at: 2020-07-21T19:19:19+0900\n                  note: すごく出た\n                  link: http://example.com\n                  tags:\n                    - Example\n                    - Example_2\n                  is_private: false\n                  is_too_sensitive: false\n                  discard_elapsed_time: false\n      responses:\n        200:\n          description: チェックイン成功\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - status\n                  - checkin\n                properties:\n                  status:\n                    type: number\n                    description: HTTPステータスコードと同じ値\n                    example: 200\n                  checkin:\n                    $ref: '#/components/schemas/Checkin'\n        404:\n          description: 無効なWebhook ID\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - status\n                  - error\n                properties:\n                  status:\n                    type: number\n                    description: HTTPステータスコードと同じ値\n                    example: 404\n                  error:\n                    type: object\n                    description: エラーデータ\n                    required:\n                      - message\n                    properties:\n                      message:\n                        type: string\n                        description: エラーの概要\n                        example: The webhook is unavailable\n        422:\n          description: バリデーションエラー\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - status\n                  - error\n                properties:\n                  status:\n                    type: number\n                    description: HTTPステータスコードと同じ値\n                    example: 422\n                  error:\n                    type: object\n                    description: エラーデータ\n                    required:\n                      - message\n                    properties:\n                      message:\n                        type: string\n                        description: エラーの概要\n                        example: Validation failed\n                      violations:\n                        type: array\n                        items:\n                          type: string\n                        description: エラーが発生した各フィールドについてのメッセージ\n                        example:\n                          - Checkin already exists in this time\n  /v1/me:\n    get:\n      summary: 自分のユーザー情報の取得\n      description: 自分自身のユーザー情報を取得します。\n      tags:\n        - users\n      responses:\n        200:\n          description: 成功\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n  /v1/users/{name}:\n    get:\n      summary: ユーザー情報の取得\n      description: 指定したユーザーの情報を取得します。\n      tags:\n        - users\n      parameters:\n        - name: name\n          in: path\n          required: true\n          description: ユーザー名\n          schema:\n            type: string\n      responses:\n        200:\n          description: 成功\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        404:\n          description: 存在しないユーザー\n  /v1/users/{name}/checkins:\n    get:\n      summary: チェックイン一覧の取得\n      description: 指定したユーザーのチェックイン一覧を取得します。\n      tags:\n        - users\n      parameters:\n        - name: name\n          in: path\n          required: true\n          description: ユーザー名\n          schema:\n            type: string\n        - name: page\n          in: query\n          description: ページ番号\n          schema:\n            type: integer\n            default: 1\n        - name: per_page\n          in: query\n          description: 1ページあたりのアイテム数\n          schema:\n            type: integer\n            default: 20\n            minimum: 10\n            maximum: 100\n      responses:\n        200:\n          description: 成功\n          headers:\n            X-Total-Count:\n              description: 全体のアイテム数\n              schema:\n                type: integer\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Checkin'\n        403:\n          description: ユーザーがチェックイン履歴を公開していない場合\n        404:\n          description: 存在しないユーザー\n  /v1/checkins:\n    post:\n      summary: チェックインの作成\n      description: 新規チェックインを行います。\n      tags:\n        - checkin\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/CreateCheckin'\n            examples:\n              simple:\n                description: 全てのプロパティは省略可能です。何も指定しなければ、現在時刻で公開チェックインをおこないます。\n                value: {}\n              complete:\n                value:\n                  checked_in_at: 2020-07-21T19:19:19+0900\n                  note: すごく出た\n                  link: http://example.com\n                  tags:\n                    - Example\n                    - Example_2\n                  is_private: false\n                  is_too_sensitive: false\n                  discard_elapsed_time: false\n      responses:\n        200:\n          description: 成功\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Checkin'\n        422:\n          description: バリデーションエラー\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - status\n                  - error\n                properties:\n                  status:\n                    type: number\n                    description: HTTPステータスコードと同じ値\n                    example: 422\n                  error:\n                    $ref: '#/components/schemas/ValidationError'\n  /v1/checkins/{id}:\n    get:\n      summary: チェックインの取得\n      description: 指定したIDのチェックインの情報を取得します。\n      tags:\n        - checkin\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: チェックインID\n          schema:\n            type: integer\n            format: int64\n      responses:\n        200:\n          description: 成功\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Checkin'\n        403:\n          description: アクセス権の無いチェックイン (ユーザーがチェックイン履歴を公開していない、またはチェックインが非公開設定)\n        404:\n          description: 存在しない場合\n    patch:\n      summary: チェックインの編集\n      description: |\n        指定したIDのチェックインの情報を編集します。\n        リクエスト内の項目は全て省略可能であり、更新したい項目のみを送信することができます。\n      tags:\n        - checkin\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: チェックインID\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UpdateCheckin'\n      responses:\n        200:\n          description: 成功\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Checkin'\n        403:\n          description: 自分以外のチェックインに対して操作を試みた場合\n        404:\n          description: 存在しない場合\n        422:\n          description: バリデーションエラー\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - status\n                  - error\n                properties:\n                  status:\n                    type: number\n                    description: HTTPステータスコードと同じ値\n                    example: 422\n                  error:\n                    $ref: '#/components/schemas/ValidationError'\n    delete:\n      summary: チェックインの削除\n      description: 指定したIDのチェックインを削除します。\n      tags:\n        - checkin\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: チェックインID\n          schema:\n            type: integer\n            format: int64\n      responses:\n        204:\n          description: 成功、または既に存在しない場合\n        403:\n          description: 自分以外のチェックインに対して操作を試みた場合\ncomponents:\n  schemas:\n    User:\n      type: object\n      description: ユーザーデータ\n      required:\n        - name\n        - display_name\n        - is_protected\n        - private_likes\n      properties:\n        name:\n          type: string\n          maxLength: 15\n          description: ユーザー名 (多くの画面では先頭に @ を付けて表示されますが、ここでは含まれません)\n        display_name:\n          type: string\n          maxLength: 20\n          description: 名前\n        is_protected:\n          type: boolean\n          description: チェックイン履歴の非公開フラグ\n        private_likes:\n          type: boolean\n          description: いいね一覧の非公開フラグ\n        bio:\n          type: string\n          maxLength: 160\n          description: 自己紹介文\n        url:\n          type: string\n          format: uri\n          description: プロフィール上に掲載するURL\n        checkin_summary:\n          $ref: '#/components/schemas/CheckinSummary'\n    CheckinSummary:\n      type: object\n      description: チェックインの概況\n      required:\n        - current_session_elapsed\n        - total_checkins\n        - total_times\n        - average_interval\n        - longest_interval\n        - shortest_interval\n      properties:\n        current_session_elapsed:\n          type: integer\n          format: int64\n          description: 最後のチェックインからの経過秒数 (現在のセッション)\n        total_checkins:\n          type: integer\n          format: int64\n          description: 合計チェックイン回数\n        total_times:\n          type: integer\n          format: int64\n          description: 合計時間 (秒)\n        average_interval:\n          type: integer\n          format: int64\n          description: 平均チェックイン間隔 (秒)\n        longest_interval:\n          type: integer\n          format: int64\n          description: 最長チェックイン間隔 (秒)\n        shortest_interval:\n          type: integer\n          format: int64\n          description: 最短チェックイン間隔 (秒)\n    Checkin:\n      type: object\n      description: チェックインデータ\n      properties:\n        id:\n          type: integer\n          format: int64\n          description: チェックインID\n        checked_in_at:\n          type: string\n          format: date-time\n          description: チェックイン日時\n          example: 2020-07-21T19:19:19+0900\n        tags:\n          type: array\n          items:\n            type: string\n            maxLength: 255\n          description: タグ\n          example:\n            - Example\n            - Example_2\n        link:\n          type: string\n          maxLength: 2000\n          description: オカズリンク (http, https)\n          example: http://example.com\n        note:\n          type: string\n          maxLength: 500\n          description: ノート\n          example: すごく出た\n        is_private:\n          type: boolean\n          default: false\n          description: 非公開チェックインとして設定\n        is_too_sensitive:\n          type: boolean\n          default: false\n          description: チェックイン対象のオカズをより過激なオカズとして設定\n        discard_elapsed_time:\n          type: boolean\n          default: false\n          description: 前回チェックインからの経過時間を記録しない\n        source:\n          type: string\n          description: チェックインの登録元\n          enum:\n            - web\n            - csv\n            - webhook\n            - api\n          example: api\n    UpdateCheckin:\n      type: object\n      properties:\n        checked_in_at:\n          type: string\n          format: date-time\n          description: チェックイン日時\n          example: 2020-07-21T19:19:19+0900\n        tags:\n          type: array\n          items:\n            type: string\n            maxLength: 255\n          description: タグ\n          example:\n            - Example\n            - Example_2\n        link:\n          type: string\n          maxLength: 2000\n          description: オカズリンク (http, https)\n          example: http://example.com\n        note:\n          type: string\n          maxLength: 500\n          description: ノート\n          example: すごく出た\n        is_private:\n          type: boolean\n          description: 非公開チェックインとして設定\n        is_too_sensitive:\n          type: boolean\n          description: チェックイン対象のオカズをより過激なオカズとして設定\n        discard_elapsed_time:\n          type: boolean\n          description: 前回チェックインからの経過時間を記録しない\n    CreateCheckin:\n      allOf:\n        - $ref: '#/components/schemas/UpdateCheckin'\n        - properties:\n            is_private:\n              default: false\n            is_too_sensitive:\n              default: false\n            discard_elapsed_time:\n              default: false\n    ValidationError:\n      type: object\n      description: バリデーションエラー\n      required:\n        - message\n      properties:\n        message:\n          type: string\n          description: エラーの概要\n          example: The given data was invalid.\n        violations:\n          type: array\n          description: エラーが発生した各フィールドについての情報\n          items:\n            type: object\n            required:\n              - message\n              - field\n            properties:\n              message:\n                type: string\n                description: エラーの概要\n              field:\n                type: string\n                description: エラーが発生したフィールド\n"
		}
	},
	"Error": "parse: parse spec: paths: /webhooks/checkin/{id}: post: operation \"\": requestBody: content: \"application/json\": parse schema: parse schema: resolve \"#/components/schemas/CreateCheckin\": parse schema: allOf: [1]: parse schema: discard_elapsed_time: parse schema: unexpected schema type: \"bool\""
}