{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/chanzuckerberg/single-cell-data-portal"
		},
		"file": {
			"name": "corpora-api.yml",
			"size": 0,
			"path": "backend/config/corpora-api.yml",
			"byteSize": 43844,
			"content": "openapi: 3.0.0\ninfo:\n  version: \"1.0.0\"\n  title: Chan Zuckerburg Initiative cellxgene Data Portal API\n  description: \u003e-\n    This API is under development, and subject frequent breaking changes without notice. Users are encouraged to use the\n    https://cellxgene.cziscience.com to access the cellxgene Data Portal.\nservers:\n  - description: Production environment\n    url: https://api.corpora.cziscience.com\n  - description: Development environment\n    url: https://api.dev.corpora.cziscience.com\n  - description: Staging environment\n    url: https://api.staging.corpora.cziscience.com\npaths:\n  /v1/wmg/cell_types:\n    get:\n      tags:\n        - wmg\n      summary: Get WMG cell types (WMG FEATURE PROTOTYPE)\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        JSON of all genes\n      operationId: backend.corpora.lambdas.api.v1.wmg.get_cell_types\n      parameters: []\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - id\n                    - name\n                  properties:\n                    id:\n                      type: string\n                    name:\n                      type: string\n        \"400\":\n          $ref: \"#/components/responses/400\"\n  /v1/wmg/genes:\n    get:\n      tags:\n        - wmg\n      summary: Get WMG genes (WMG FEATURE PROTOTYPE)\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        JSON of all cell types\n      operationId: backend.corpora.lambdas.api.v1.wmg.get_genes\n      parameters: []\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - id\n                    - name\n                  properties:\n                    id:\n                      type: string\n                    name:\n                      type: string\n        \"400\":\n          $ref: \"#/components/responses/400\"\n  /v1/wmg/genes/{gene_name}:\n    get:\n      tags:\n        - wmg\n      summary: Get WMG gene expression for a given gene name (WMG FEATURE PROTOTYPE)\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        JSON of gene expression for a given gene\n      operationId: backend.corpora.lambdas.api.v1.wmg.get_gene_expression\n      parameters:\n        - name: gene_name\n          in: path\n          required: true\n          schema:\n            type: string\n          description: The name of the gene\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - id\n                    - pc\n                    - me\n                  properties:\n                    id:\n                      type: string\n                    pc:\n                      type: number\n                      format: float\n                    me:\n                      type: number\n                      format: float\n        \"400\":\n          $ref: \"#/components/responses/400\"\n  /v1/collections:\n    get:\n      tags:\n        - collections\n      summary: List published collections in Corpora\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        This lists all collections and their UUIDs that currently exist in the corpora. If a parameter is specified as\n        a filter, then only collections that meet the status criteria will be outputted.\n      operationId: backend.corpora.lambdas.api.v1.collection.get_collections_list\n      parameters:\n        - $ref: \"#/components/parameters/query_user_uuid\"\n        - name: from_date\n          in: query\n          schema:\n            type: integer\n          description: The date after which collections should have been created. In seconds since epoch.\n        - name: to_date\n          in: query\n          description: The date before which collections should have been created. In seconds since epoch.\n          schema:\n            type: integer\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                required:\n                  - collections\n                properties:\n                  collections:\n                    type: array\n                    items:\n                      type: object\n                      required:\n                        - id\n                        - created_at\n                      properties:\n                        id:\n                          $ref: \"#/components/schemas/collection_uuid\"\n                        created_at:\n                          type: number\n                  from_date:\n                    type: integer\n                  to_date:\n                    type: integer\n        \"400\":\n          $ref: \"#/components/responses/400\"\n    post:\n      tags:\n        - collections\n      summary: Create a collection\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Creates a new collection in corpora. Once a collection is created it can be linked to datasets.\n      operationId: backend.corpora.lambdas.api.v1.collection.create_collection\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              additionalProperties: false\n              required:\n                - name\n                - description\n                - contact_name\n                - contact_email\n              properties:\n                name:\n                  type: string\n                  description: name of the collection\n                description:\n                  type: string\n                  description: description of the collection\n                contact_name:\n                  type: string\n                  description: name of the primary person of contact for the collection\n                contact_email:\n                  type: string\n                  description: email of contact person for the collection\n                curator_name:\n                  type: string\n                  description: name of the curator of the collection.\n                links:\n                  $ref: \"#/components/schemas/links\"\n      responses:\n        \"201\":\n          description: A new collection has been created.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  collection_uuid:\n                    $ref: \"#/components/schemas/collection_uuid\"\n        \"400\":\n          $ref: \"#/components/responses/400\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n\n  /v1/collections/{collection_uuid}:\n    get:\n      tags:\n        - collections\n      summary: Get a collection's full details\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        This will return all datasets and associated attributes.\n      operationId: backend.corpora.lambdas.api.v1.collection.get_collection_details\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/collection\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n        \"410\":\n          description: Gone\n    post:\n      tags:\n        - collections\n      summary: Start a revision of a public collection,\n      security:\n        - cxguserCookie: []\n        - {}\n      description: \u003e-\n        This will return a private version of the public collection with all datasets and assoicated attributes of the\n        public collection.\n      operationId: backend.corpora.lambdas.api.v1.collection.post_collection_revision\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      responses:\n        \"201\":\n          description: A new collection revision has been created.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/collection\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n        \"409\":\n          $ref: \"#/components/responses/409\"\n\n    put:\n      tags:\n        - collections\n      summary: Update a private collection's details\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Update a private collection's summary, links, contact info, and description details.\n      operationId: backend.corpora.lambdas.api.v1.collection.update_collection\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n                  description: name of the collection\n                description:\n                  type: string\n                  description: description of the collection\n                contact_name:\n                  type: string\n                  description: name of the primary person of contact for the collection\n                contact_email:\n                  type: string\n                  description: email of contact person for the collection\n                curator_name:\n                  type: string\n                  description: name of the curator of the collection\n                links:\n                  $ref: \"#/components/schemas/links\"\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/collection\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n    delete:\n      tags:\n        - collections\n      summary: Delete a collection\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Deletes an entire private collection from cellxgene data-portal, including any generated artifacts/assets and\n        deployments.\n      operationId: backend.corpora.lambdas.api.v1.collection.delete_collection\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      responses:\n        \"204\":\n          $ref: \"#/components/responses/204\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n\n  /v1/collections/{collection_uuid}/upload-links:\n    post:\n      summary: Start a dataset upload\n      tags:\n        - collections\n        - datasets\n      description: \u003e-\n        An authenticated user can upload a file from a shared link to add a dataset into their collection.\n      security:\n        - cxguserCookie: []\n      operationId: backend.corpora.lambdas.api.v1.collection_uuid.upload.link\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                url:\n                  description: The shared link generated by dropbox linking to a dataset.\n                  type: string\n              required:\n                - url\n      responses:\n        \"202\":\n          description: The upload request was accepted.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  dataset_uuid:\n                    type: string\n        \"400\":\n          $ref: \"#/components/responses/400\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"409\":\n          $ref: \"#/components/responses/409\"\n        \"413\":\n          $ref: \"#/components/responses/413\"\n\n    put:\n      summary: Replace an existing dataset.\n      tags:\n        - collections\n        - datasets\n      description: \u003e-\n        An authenticated user can upload a file from a shared link to replace an existing dataset in their collection.\n\n        The existing dataset must be in an error state or completely uploaded before a replacement can be attempted.\n        Once the upload of the replacement dataset is complete, the previous version of the dataset is removed and is\n        no longer available for downloading through this collection. The replacement datasets are not publicly available\n        until the collection revision is published. The old datasets are available in the public collection until the\n        collection revision is published.\n      security:\n        - cxguserCookie: []\n      operationId: backend.corpora.lambdas.api.v1.collection_uuid.upload.relink\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                url:\n                  description: The shared link generated by dropbox linking to a dataset.\n                  type: string\n                id:\n                  $ref: \"#/components/schemas/dataset_uuid\"\n              required:\n                - url\n                - id\n      responses:\n        \"202\":\n          description: The upload request was accepted.\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  dataset_uuid:\n                    type: string\n        \"400\":\n          $ref: \"#/components/responses/400\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n        \"405\":\n          $ref: \"#/components/responses/405\"\n        \"413\":\n          $ref: \"#/components/responses/413\"\n\n  /v1/collections/{collection_uuid}/genesets:\n    post:\n      tags:\n        - collections\n        - genesets\n      summary: Add genesets to a collection\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Add genesets to a private collection\n      operationId: backend.corpora.lambdas.api.v1.collection_uuid.gene_set.post\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                genesets:\n                  description: A list of genesets including their gene symbols and descriptions\n                  $ref: \"#/components/schemas/user_defined_gene_sets\"\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/gene_set\"\n        \"400\":\n          $ref: \"#/components/responses/400\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n  /v1/collections/{collection_uuid}/publish:\n    post:\n      tags:\n        - collections\n      summary: Publish a collection\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Update status of specified collection to PUBLIC.  This will make it\n        visible on the public sites.\n\n        If publishing modification to a previously published collection, this will replace the old collection with the new\n        published collection. The old collection will no longer be accessible.\n      operationId: backend.corpora.lambdas.api.v1.collection_uuid.publish.post\n      parameters:\n        - $ref: \"#/components/parameters/path_collection_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                data_submission_policy_version:\n                  type: string\n                  description: Which data submission policy was the collection submitted under\n      responses:\n        \"202\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  collection_uuid:\n                    $ref: \"#/components/schemas/collection_uuid\"\n                  visibility:\n                    $ref: \"#/components/schemas/visibility\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n\n  /v1/collections/index:\n    get:\n      tags:\n        - collections\n      summary: \u003e-\n        Returns all public, non tombstoned collections. This endpoint is meant to be used for displaying collections\n        in a compact view. It doesn't return all the fields, so it is not suitable for general usage.\n      operationId: backend.corpora.lambdas.api.v1.collection.get_collections_index\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  required:\n                    - id\n                    - name\n                  properties:\n                    id:\n                      $ref: \"#/components/schemas/collection_uuid\"\n                    name: \n                      type: string\n                    publisher_metadata:\n                      $ref: \"#/components/schemas/publisher_metadata\"\n                    published_at:\n                      type: number\n                    revised_at:\n                      type: number\n        \"400\":\n          $ref: \"#/components/responses/400\"\n\n  /v1/datasets/{dataset_uuid}:\n    delete:\n      tags:\n        - datasets\n      summary: Delete a dataset\n      description: \u003e-\n        Cancels the in process upload of a dataset to the data portal and cleans up (removes) any artifacts created\n        in the upload process. If the dataset has already been uploaded and converted, this endpoint deletes it from\n        the data portal and removes associated artifacts\n      operationId: backend.corpora.lambdas.api.v1.dataset.delete_dataset\n      security:\n        - cxguserCookie: []\n      parameters:\n        - $ref: \"#/components/parameters/path_dataset_uuid\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"405\":\n          $ref: \"#/components/responses/405\"\n\n  /v1/datasets/meta:\n    get:\n      tags:\n        - datasets\n      summary: Given an explorer url return information identifying the dataset it represents\n      description: \u003e-\n        Given a cellxgene Explorer url return some basic metadata about the dataset it represent in the cellxgene\n        Portal data model including its associated dataset id, the s3_uri of the dataset, its tombstone status and\n        the associated parent collection ID.\n      operationId: backend.corpora.lambdas.api.v1.dataset.get_dataset_identifiers\n      parameters:\n        - in: query\n          required: true\n          name: url\n          schema:\n            type: string\n          description: The url used to access this dataset in the explorer\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                items:\n                  $ref: \"#/components/schemas/dataset_identifiers\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n\n  /v1/datasets/{dataset_uuid}/assets:\n    get:\n      tags:\n        - datasets\n      summary: Dataset assets\n      description: \u003e-\n        Return a list of all the dataset's assets\n      operationId: backend.corpora.lambdas.api.v1.dataset.get_dataset_assets\n      parameters:\n        - $ref: \"#/components/parameters/path_dataset_uuid\"\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n\n  /v1/datasets/{dataset_uuid}/asset/{asset_uuid}:\n    post:\n      tags:\n        - datasets\n      summary: Request to download a dataset\n      description: \u003e-\n        Request to download a file which on success will generate a pre-signed URL to download the dataset.\n      operationId: backend.corpora.lambdas.api.v1.dataset.post_dataset_asset\n      parameters:\n        - $ref: \"#/components/parameters/path_dataset_uuid\"\n        - name: asset_uuid\n          in: path\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  dataset_uuid:\n                    $ref: \"#/components/schemas/dataset_uuid\"\n                  presigned_url:\n                    type: string\n                  file_name:\n                    type: string\n                  file_size:\n                    type: number\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n\n  /v1/datasets/{dataset_uuid}/gene_sets:\n    post:\n      tags:\n        - datasets\n        - genesets\n      summary: Update links between a dataset and gene sets\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Request to update (add or remove) linkages between a dataset and gene sets. The request must be made by the\n        collection owner and the dataset and gene sets must all belong to the same private collection\n      operationId: backend.corpora.lambdas.api.v1.dataset.post_dataset_gene_sets\n      parameters:\n        - $ref: \"#/components/parameters/path_dataset_uuid\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              required:\n                - add\n                - remove\n              properties:\n                add:\n                  type: array\n                  items:\n                    type: string\n                remove:\n                  type: array\n                  items:\n                    type: string\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/gene_set\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n\n  /v1/datasets/{dataset_uuid}/status:\n    get:\n      tags:\n        - datasets\n      summary: Get the status of a dataset upload.\n      operationId: backend.corpora.lambdas.api.v1.dataset.get_status\n      security:\n        - cxguserCookie: []\n      parameters:\n        - $ref: \"#/components/parameters/path_dataset_uuid\"\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  dataset_uuid:\n                    $ref: \"#/components/schemas/dataset_uuid\"\n                  processing_status:\n                    type: string\n                    enum: [PENDING, SUCCESS, FAILURE]\n                  upload_status:\n                    type: string\n                    enum:\n                      [\n                        WAITING,\n                        UPLOADING,\n                        UPLOADED,\n                        FAILED,\n                        CANCEL_PENDING,\n                        CANCELED,\n                        NA,\n                      ]\n                  upload_message:\n                    type: string\n                  upload_progress:\n                    type: number\n                  validation_status:\n                    type: string\n                    enum: [VALIDATING, VALID, INVALID, NA]\n                  validation_message:\n                    type: string\n                  h5ad_status:\n                    type: string\n                    enum:\n                      [\n                        CONVERTING,\n                        CONVERTED,\n                        UPLOADING,\n                        UPLOADED,\n                        SKIPPED,\n                        FAILED,\n                        NA,\n                      ]\n                  cxg_status:\n                    type: string\n                    enum:\n                      [\n                        CONVERTING,\n                        CONVERTED,\n                        UPLOADING,\n                        UPLOADED,\n                        SKIPPED,\n                        FAILED,\n                        NA,\n                      ]\n                  rds_status:\n                    type: string\n                    enum:\n                      [\n                        CONVERTING,\n                        CONVERTED,\n                        UPLOADING,\n                        UPLOADED,\n                        SKIPPED,\n                        FAILED,\n                        NA,\n                      ]\n        \"400\":\n          $ref: \"#/components/responses/400\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n  /v1/datasets/index:\n    get:\n      tags:\n        - datasets\n      summary: \u003e-\n        Returns all public, non tombstoned datasets. This endpoint is meant to be used for displaying datasets\n        in a compact view. It doesn't return all the fields, so it is not suitable for general usage.\n      security:\n        - cxguserCookieLenient: []\n        - {}\n      description: \u003e-\n        Returns all datasets that belong to public, non tombstoned collections. This endpoint is meant to be used \n        for displaying datasets in a compact view. It doesn't return all the fields, so it is not suitable for general usage.\n      operationId: backend.corpora.lambdas.api.v1.dataset.get_datasets_index\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    id:\n                      type: string\n                    name:\n                      type: string\n                    collection_id:\n                      type: string\n                    assay:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    tissue:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    disease:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    sex:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    ethnicity:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    organism:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    development_stage:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    development_stage_ancestors:\n                      type: array\n                      items:\n                        type: string\n                    cell_count:\n                      type: integer\n                    cell_type:\n                      $ref: \"#/components/schemas/ontology_element_array\"\n                    mean_genes_per_cell:\n                      type: number\n                    is_primary_data:\n                      $ref: \"#/components/schemas/is_primary_data\"\n                    schema_version:\n                      type: string\n                    explorer_url:\n                      type: string\n                    published_at:\n                      type: number\n                    revised_at:\n                      type: number\n        \"400\":\n          $ref: \"#/components/responses/400\"\n\n  /v1/genesets/{geneset_uuid}:\n    delete:\n      tags:\n        - genesets\n      summary: Delete a genese\n      security:\n        - cxguserCookie: []\n      description: \u003e-\n        Delete a gene by set removing it from a collection and any data sets it was linked to.\n      operationId: backend.corpora.lambdas.api.v1.gene_sets.delete\n      parameters:\n        - $ref: \"#/components/parameters/path_geneset_uuid\"\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n        \"405\":\n          $ref: \"#/components/responses/405\"\n\n  /v1/login:\n    get:\n      tags:\n        - authentication\n      summary: login to the system\n      operationId: backend.corpora.lambdas.api.v1.authentication.login\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n  /v1/logout:\n    get:\n      tags:\n        - authentication\n      summary: logout of the system\n      operationId: backend.corpora.lambdas.api.v1.authentication.logout\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n  /v1/userinfo:\n    get:\n      tags:\n        - authentication\n      summary: retrieve user information if the user is logged in\n      operationId: backend.corpora.lambdas.api.v1.authentication.userinfo\n      security:\n        - cxguserCookie: []\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/userinfo\"\n          $ref: \"#/components/responses/200\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n\n  /v1/oauth2/callback:\n    get:\n      tags:\n        - authentication\n      summary: callback function from auth server after login\n      operationId: backend.corpora.lambdas.api.v1.authentication.oauth2_callback\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"403\":\n          $ref: \"#/components/responses/403\"\n  /v1/auth/key:\n    get:\n      summary: Fetch the identifier of the curator's active API key -- for use with Data Portal UI\n      operationId: backend.corpora.lambdas.api.v1.auth.keys.get\n      security:\n        - cxguserCookie: [ ]\n      responses:\n        \"200\":\n          description: OK\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n    post:\n      summary: Generate the curator's API key -- for use with Data Portal UI\n      description: \u003e-\n        Generate and return a curator API key for the user. If there is already a key associated with the\n        user's curator profile, replace it with the new key.\n      operationId: backend.corpora.lambdas.api.v1.auth.keys.post\n      security:\n        - cxguserCookie: []\n      responses:\n        \"201\":\n          description: Created\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  key:\n                    type: string\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"400\":\n          $ref: \"#/components/responses/400\"\n    delete:\n      summary: Delete the curator's API key -- for use with Data Portal UI\n      operationId: backend.corpora.lambdas.api.v1.auth.keys.delete\n      security:\n        - cxguserCookie: []\n      responses:\n        \"202\":\n          $ref: \"#/components/responses/202\"\n        \"401\":\n          $ref: \"#/components/responses/401\"\n        \"404\":\n          $ref: \"#/components/responses/404\"\n  /v1/deployed_version:\n    get:\n      summary: Returns version information\n      operationId: backend.corpora.lambdas.api.v1.version.get\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/200\"\n\ncomponents:\n  schemas:\n    user_uuid:\n      description: A unique identifier of a logged in User of Corpora.\n      type: string\n    userinfo:\n      type: object\n      properties:\n        id:\n          $ref: \"#/components/schemas/user_uuid\"\n        name:\n          description: The user's name\n          type: string\n        email:\n          description: The user's email\n          type: string\n    collection_uuid:\n      description: A unique identifier of a Collection.\n      type: string\n    dataset_uuid:\n      description: A unique identifier of a Dataset.\n      type: string\n    geneset_uuid:\n      description: A unique identifier of a gene set.\n      type: string\n    visibility:\n      description: \u003e-\n        Determines the visibility of the collection, that will either make the collection visible on the public\n        sites or only viewable through obfuscated URLs.\n      type: string\n      enum: [PUBLIC, PRIVATE]\n    distribution:\n      description: \u003e-\n        Cellxgene runs a heuristic to detect the approximate distribution of the data in X so that it can accurately\n        calculate statistical properties of the data. This field enables the curator to override this heuristic\n        and specify the data distribution explicitly.\n      type: string\n      enum: [COUNT, NORMAL]\n    is_primary_data:\n      description: \u003e-\n        Describes whether cellular observations for this dataset are all canonical (PRIMARY),\n        all non-canonical (SECONDARY), or contain a mixture (BOTH).\n      type: string\n      enum: [PRIMARY, SECONDARY, BOTH]\n    links:\n      type: array\n      items:\n        type: object\n        additionalProperties: false\n        required:\n          - link_url\n          - link_type\n        properties:\n          link_name:\n            type: string\n          link_url:\n            type: string\n          link_type:\n            type: string\n            enum: [PROTOCOL, RAW_DATA, DOI, LAB_WEBSITE, OTHER, DATA_SOURCE]\n    collection:\n      type: object\n      required:\n        - name\n        - description\n        - id\n        - visibility\n        - links\n        - datasets\n        - created_at\n        - updated_at\n        - data_submission_policy_version\n      properties:\n        access_type:\n          type: string\n          enum: [READ, WRITE]\n        created_at:\n          type: number\n        updated_at:\n          type: number\n        description:\n          type: string\n        name:\n          type: string\n        id:\n          $ref: \"#/components/schemas/collection_uuid\"\n        visibility:\n          $ref: \"#/components/schemas/visibility\"\n        links:\n          $ref: \"#/components/schemas/links\"\n        contact_name:\n          type: string\n        contact_email:\n          type: string\n        curator_name:\n          type: string\n        data_submission_policy_version:\n          type: string\n        publisher_metadata:\n          $ref: \"#/components/schemas/publisher_metadata\"\n        datasets:\n          type: array\n          items:\n            $ref: \"#/components/schemas/dataset\"\n        genesets:\n          type: array\n          items:\n            $ref: \"#/components/schemas/gene_set\"\n    publisher_metadata:\n      type: object\n      required:\n        - authors\n        - is_preprint\n        - journal\n        - published_year\n      properties:\n        authors:\n          type: array\n          items:\n            type: object\n            properties:\n              name:\n                type: string\n              given:\n                type: string\n              family:\n                type: string\n        is_preprint:\n          type: boolean\n        journal:\n          type: string\n        published_day:\n          type: number\n        published_month:\n          type: number\n        published_year:\n          type: number\n\n    ontology_element:\n      type: object\n      properties:\n        ontology_term_id:\n          type: string\n        label:\n          type: string\n    ontology_element_array:\n      type: array\n      items:\n        $ref: \"#/components/schemas/ontology_element\"\n    dataset:\n      type: object\n      required:\n        - id\n        - name\n        - revision\n        - collection_id\n      properties:\n        id:\n          $ref: \"#/components/schemas/dataset_uuid\"\n        assay:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        tissue:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        disease:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        sex:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        ethnicity:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        organism:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        development_stage:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        name:\n          type: string\n        revision:\n          type: integer\n        dataset_deployments:\n          type: array\n          items:\n            type: object\n            properties:\n              url:\n                type: string\n        linked_genesets:\n          type: array\n          items:\n            type: string\n        dataset_assets:\n          type: array\n          items:\n            $ref: \"#/components/schemas/dataset_asset\"\n        collection_id:\n          $ref: \"#/components/schemas/collection_uuid\"\n        is_primary_data:\n          $ref: \"#/components/schemas/is_primary_data\"\n        cell_type:\n          $ref: \"#/components/schemas/ontology_element_array\"\n        cell_count:\n          type: integer\n        X_normalization:\n          type: string\n        X_approximate_distribution:\n          $ref: \"#/components/schemas/distribution\"\n        schema_version:\n          type: string\n        tombstone:\n          type: boolean\n    dataset_asset:\n      type: object\n      properties:\n        id:\n          type: string\n        dataset_id:\n          type: string\n        filetype:\n          type: string\n          enum: [H5AD, RDS, CXG]\n        filename:\n          type: string\n        s3_uri:\n          type: string\n    gene_set:\n      type: object\n      properties:\n        name:\n          type: string\n        id\":\n          type: string\n        description:\n          type: string\n        linked_datasets:\n          type: array\n          items:\n            type: string\n    problem:\n      type: object\n      description: Error message container for HTTP APIs.\n      properties:\n        type:\n          type: string\n        title:\n          type: string\n        detail:\n          type: string\n    user_defined_gene_sets:\n      type: object\n      description: User created geneset information\n      properties:\n        gene_set_name:\n          type: string\n        gene_set_description:\n          type: string\n        genes:\n          type: array\n          items:\n            type: object\n            description: Gene specific information\n            properties:\n              gene_symbol:\n                type: string\n              gene_description:\n                type: string\n              additional_params:\n                type: object\n    dataset_identifiers:\n      type: object\n      description: Information for identifying and accessing a datatset\n      required:\n        - dataset_id\n        - collection_id\n        - tombstoned\n      properties:\n        dataset_id:\n          type: string\n        collection_id:\n          type: string\n        explorer_s3_uri:\n          type: string\n        tombstoned:\n          type: boolean\n    wmg_ontology_term_id_label_list:\n      description: -\u003e\n        An array of ontology term ids and labels, where array elements are single-element objects of the\n        form \"\u003cid\u003e\":\"\u003clabel\u003e\"\n      type: array\n      items:\n        description: -\u003e\n          A single-element object with the ontology term id as the element's property name and the ontology term label\n          as the element's property value.\n        type: object\n        # TODO: fix: https://app.zenhub.com/workspaces/single-cell-5e2a191dad828d52cc78b028/issues/chanzuckerberg/single-cell-data-portal/1967\n        # `{\"\u003contology_term_id\u003e\": \"\u003contology_term_label\"}`\n#        maxProperties: 1\n#        additionalProperties:\n#          type: string\n    wmg_ontology_term_id_list:\n      type: array\n      items:\n        type: string\n    wmg_snapshot_id:\n      type: string\n      format: uuid\n\n  parameters:\n    path_collection_uuid:\n      name: collection_uuid\n      in: path\n      required: true\n      schema:\n        $ref: \"#/components/schemas/collection_uuid\"\n    path_dataset_uuid:\n      name: dataset_uuid\n      in: path\n      required: true\n      schema:\n        $ref: \"#/components/schemas/dataset_uuid\"\n    path_geneset_uuid:\n      name: geneset_uuid\n      in: path\n      required: true\n      schema:\n        $ref: \"#/components/schemas/geneset_uuid\"\n    path_filename:\n      name: filename\n      description: The name of a file to add, remove, or download.\n      in: path\n      required: true\n      schema:\n        type: string\n    query_user_uuid:\n      name: user_uuid\n      description: an ID that represents the user.\n      in: query\n      schema:\n        $ref: \"#/components/schemas/user_uuid\"\n    query_visibility:\n      name: visibility\n      in: query\n      schema:\n        $ref: \"#/components/schemas/visibility\"\n        default: PUBLIC\n\n  responses:\n    200:\n      description: OK.\n    201:\n      description: Created.\n    202:\n      description: Accepted\n    204:\n      description: No Content\n    400:\n      description: Invalid parameter.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    401:\n      description: Failed to authenticate.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    403:\n      description: Unauthorized.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    404:\n      description: Resource not found.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    405:\n      description: Method not allowed.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    409:\n      description: File conflict.\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n    413:\n      description: Exceed File Size Limit\n      content:\n        application/problem+json:\n          schema:\n            $ref: \"#/components/schemas/problem\"\n  securitySchemes:\n    cxguserCookie:\n      type: apiKey\n      in: cookie\n      name: cxguser\n      x-apikeyInfoFunc: backend.corpora.lambdas.api.v1.authentication.apikey_info_func\n    cxguserCookieLenient:\n      type: apiKey\n      in: cookie\n      name: cxguser\n      x-apikeyInfoFunc: backend.corpora.lambdas.api.v1.authentication.apikey_info_func_lenient\n",
			"canonicalURL": "/github.com/chanzuckerberg/single-cell-data-portal@6591fd9b0773db669ed694a6c5df1fa095d1de4d/-/blob/backend/config/corpora-api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/chanzuckerberg/single-cell-data-portal/blob/6591fd9b0773db669ed694a6c5df1fa095d1de4d/backend/config/corpora-api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/v1/datasets/meta\": at 1:22866: get: operation \"backend.corpora.lambdas.api.v1.dataset.get_dataset_identifiers\": at 1:22873: responses: 200: at 1:23392: at 1:23403: content: application/json: at 1:23423: schema: at 1:23433: parse schema: object cannot contain 'items' field"
}