{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Altinn/docs"
		},
		"file": {
			"name": "altinn-enduser-consentrequests-v0.json",
			"size": 0,
			"path": "static/swagger/altinn-enduser-consentrequests-v0.json",
			"byteSize": 19056,
			"content": "{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Consent Request\",\n    \"description\": \"This is the API-spec for the authorization request solution in Altinn used for consents\",\n    \"version\": \"1.4.3\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"https://tt02.altinn.no\",\n      \"description\": \"Test server\"\n    },\n    {\n      \"url\": \"https://altinn.no\",\n      \"description\": \"Production server\"\n    }\n  ],\n  \"paths\": {\n    \"/api/ConsentRequests\": {\n      \"get\": {\n        \"description\": \"Gets a list of consent requests for the given actor either sent by or received by the current actor\",\n        \"summary\": \"Lists consent requests for actor\",\n        \"operationId\": \"GetConsentRequestsForActor\",\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"content\": {\n              \"application/hal+json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"_links\": {\n                      \"$ref\": \"altinn-api-common.json#/components/schemas/hal-links-self\"\n                    },\n                    \"_embedded\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"consentRequests\": {\n                          \"type\": \"array\",\n                          \"items\": {\n                            \"$ref\": \"#/components/schemas/ConsentRequest-GET\"\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"parameters\": [\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/serviceCode\"\n          },\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/serviceEditionCode\"\n          },\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/direction\"\n          },\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/status\"\n          },\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/continuation\"\n          },\n          {\n            \"$ref\": \"altinn-api-common.json#/components/parameters/ForceEIAuthentication\"\n          }\n        ],\n        \"tags\": [\"ConsentRequest\"]\n      },\n      \"post\": {\n        \"tags\": [\"ConsentRequest\"],\n        \"summary\": \"Create a new consent request for authenticated enterprise\",\n        \"description\": \"Create a consent request where CoveredBy or HandledBy must be the authenticated enterprise\",\n        \"operationId\": \"CreateConsentRequestForEnterprise\",\n        \"requestBody\": {\n          \"description\": \"The consent request is created.\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/ConsentRequest-POST\"\n              }\n            }\n          },\n          \"required\": true\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"The consent request is created.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/ConsentRequest-GET\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Invalid input, more details in response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/components/schemas/Error\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"api/consentRequests/{guid}\": {\n      \"summary\": \"Endpoint for fetching single outgoing authorization requests sent\",\n      \"description\": \"Used for consent and authorization (\\\"fullmakt\\\") requests. Using API-key-based authentication/authorization.\",\n      \"get\": {\n        \"summary\": \"Get a single consent request for authenticated enterprise\",\n        \"description\": \"Get a single consent request where either CoveredBy, OfferedBy or HandledBy is the authenticated enterprise\",\n        \"operationId\": \"GetConsentRequestForEnterprise\",\n        \"parameters\": [\n          {\n            \"name\": \"guid\",\n            \"in\": \"path\",\n            \"description\": \"GUID generated when request was created\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Returns the consent request\",\n            \"content\": {\n              \"application/hal+json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/ConsentRequest-GET\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"Invalid input, more details in response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"403\": {\n            \"description\": \"If the GUID is not existing, or access wasn't granted\"\n          }\n        },\n        \"tags\": [\"ConsentRequest\"]\n      },\n      \"delete\": {\n        \"summary\": \"Delete a single consent request for authenticated enterprise\",\n        \"description\": \"Will delete the request if a valid GUID is presented and the authenticated enterprise is either CoveredBy or HandledBy, and the referred consent request has status opened or unopened.\",\n        \"operationId\": \"DeleteConsentRequestForEnterprise\",\n        \"parameters\": [\n          {\n            \"name\": \"guid\",\n            \"in\": \"path\",\n            \"description\": \"GUID generated when request was created\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"The consent request was successfully deleted\"\n          },\n          \"400\": {\n            \"description\": \"Invalid input, more details in response\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"403\": {\n            \"description\": \"If the GUID is not existing, or access wasn't granted\"\n          }\n        },\n        \"tags\": [\"ConsentRequest\"]\n      },\n      \"parameters\": [\n        {\n          \"schema\": {\n            \"type\": \"string\"\n          },\n          \"name\": \"guid\",\n          \"in\": \"path\",\n          \"required\": true\n        }\n      ]\n    },\n    \"api/authorization/token/{authCode}\": {\n      \"get\": {\n        \"tags\": [\"Token\"],\n        \"description\": \"Use this to obtain a JSON web token with claims associated with your authorization code.\",\n        \"operationId\": \"GetToken\",\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Returns the JWT for this Authorization Code.\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"string\",\n                  \"format\": \"JWT\",\n                  \"example\": \"\\\"eyJhbGciOiJSUzI1NiIsImtpZCI6InhTVlhuY3ZPa0ZFazVBM0ptS2hYbjJxcjNlSSIsInR5cCI6IkpXVCIsIng1dCI6InhTVlhuY3ZPa0ZFazVBM0ptS2hYbjJxcjNlSSJ9.eyJTZXJ2aWNlcyI6IjMxODFfMTIwODAzIiwiQXV0aG9yaXphdGlvbkNvZGUiOiIwOTQ0NDY3ZC0xMTMxLTQyMDMtOTBlYi04YWFlY2I1YTVmMjYiLCJPZmZlcmVkQnkiOiIxNzEyNTYwMDI3MSIsIkNvdmVyZWRCeSI6Ijk5MTgyNTgyNyIsIkRlbGVnYXRlZERhdGUiOjE1OTExODY5ODksIlZhbGlkVG9EYXRlIjoxNzQ4OTAxNjAwLCJuYmYiOjE2NTIwOTEwNjQsImV4cCI6MTY1MjA5MTA5NCwiaWF0IjoxNjUyMDkxMDY0LCJpc3MiOiJhbHRpbm4ubm8ifQ.S0d5QYo3r_UAaPNCcUjGWmj6U1zMD_V7tJxsMsgA7D9UQ7Fp1Uq1C34SKHr2Rv7Zvf5xw5TLngRuizMc6qswaWoiyBDrnqoFrbIPQZNMftp4XV5Ai06ylInet0MEgdwGARMNzcYEcgViNwE0xLzBXWtMu-vFouA2ddHKULw9nTGLbWblga314V6TL72nn_s9HWFZOHDTCIhPYSWfMKCPADEjWzbXzMEpg8zYwoEJ-JFh-UJEum9O9K_YvQzfOz_JvZK21fVlTiMZr4UiFjUWtNd3jZpnaw3Xun5JiwfdkrV-p_ZkuGK4pS92hNt_wxU7i3Kev8MYkruUCBg-GlntJw\\\"\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"delete\": {\n        \"tags\": [\"Token\"],\n        \"description\": \"Use this to discard the rights you obtained with a consent, based on an authorization code.\",\n        \"operationId\": \"DeleteToken\",\n        \"responses\": {\n          \"204\": {\n            \"description\": \"The was successfully deleted\"\n          }\n        }\n      },\n      \"parameters\": [\n        {\n          \"name\": \"authCode\",\n          \"in\": \"path\",\n          \"description\": \"Guid identifying the Consent. This is the Authorization Code in the Consent Request.\",\n          \"required\": true,\n          \"schema\": {\n            \"$ref\": \"#/components/schemas/AuthorizationCode\"\n          }\n        }\n      ]\n    },\n    \"api/authorization/token/{authCode}/loguse\": {\n      \"post\": {\n        \"tags\": [\"Token\"],\n        \"summary\": \"Register that access granted by a consent has been used.\",\n        \"description\": \"Use this to register that you have used the right given to you with the consent.\",\n        \"operationId\": \"PostTokenLoguse\",\n        \"requestBody\": {\n          \"description\": \"\",\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"ServiceCode\": {\n                    \"$ref\": \"altinn-api-common.json#/components/schemas/ServiceCode\"\n                  },\n                  \"ServiceEditionCode\": {\n                    \"$ref\": \"altinn-api-common.json#/components/schemas/ServiceEditionCode\"\n                  },\n                  \"UsageDateTime\": {\n                    \"type\": \"string\",\n                    \"format\": \"date-time\",\n                    \"pattern\": \"yy.MM.ddTHH:mm:ss\",\n                    \"example\": \"2022-05-09T07:59:00\"\n                  }\n                }\n              }\n            }\n          },\n          \"required\": true\n        },\n        \"responses\": {\n          \"204\": {\n            \"description\": \"No Content\"\n          }\n        }\n      },\n      \"parameters\": [\n        {\n          \"name\": \"authCode\",\n          \"in\": \"path\",\n          \"description\": \"Guid identifying the Consent. This is the Authorization Code in the Consent Request.\",\n          \"required\": true,\n          \"schema\": {\n            \"$ref\": \"#/components/schemas/AuthorizationCode\"\n          }\n        }\n      ]\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"AuthorizationCode\": {\n        \"description\": \"The Authorization Code of a valid ConsentRequest.\",\n        \"type\": \"string\",\n        \"format\": \"uuid\",\n        \"example\": \"0944467d-1131-4203-90eb-8aaecb5a5f26\"\n      },\n      \"Operations\": {\n        \"description\": \"List of requested operations\",\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"string\",\n          \"enum\": [\"read\"],\n          \"example\": \"read, write, sign\"\n        }\n      },\n      \"Metadata\": {\n        \"description\": \"Dictionary with metadata key/value pairs used in consent text defined on the service\",\n        \"type\": \"object\",\n        \"additionalProperties\": true\n      },\n      \"errors\": {\n        \"description\": \"An array with errorMessages if validation of request failed. Only on return.\",\n        \"type\": \"array\",\n        \"items\": {\n          \"$ref\": \"#/components/schemas/Error\"\n        }\n      },\n      \"ValidTo\": {\n        \"description\": \"The DateTime to which the consent will last, if granted.\",\n        \"type\": \"string\",\n        \"format\": \"date-time\",\n        \"example\": \"2025-06-03T00:00:00\"\n      },\n      \"RedirectUrl\": {\n        \"description\": \"The RedirectUrl where the user should be redirected after the consent is given.\",\n        \"type\": \"string\",\n        \"format\": \"uri\",\n        \"example\": \"http://www.requesterswebsite.com\"\n      },\n      \"PortalViewMode\": {\n        \"description\": \"If this consent should be listed on OfferedBy's profile in the Altinn portal.\",\n        \"type\": \"string\",\n        \"enum\": [\"Show\", \"Hide\"],\n        \"example\": \"Hide\"\n      },\n      \"AuthorizationRequestStatus\": {\n        \"title\": \"DelegationRequestStatus\",\n        \"type\": \"object\",\n        \"properties\": {\n          \"requestStatus\": {\n            \"type\": \"string\",\n            \"description\": \"The desired status of the authorization request\",\n            \"enum\": [\"accepted\", \"rejected\"]\n          }\n        }\n      },\n      \"RequestMessage\": {\n        \"description\": \"Message used for describing intent / context for the request\",\n        \"type\": \"object\",\n        \"title\": \"RequestMessage\",\n        \"properties\": {\n          \"no-nb\": {\n            \"type\": \"string\"\n          },\n          \"no-nn\": {\n            \"type\": \"string\"\n          },\n          \"en\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"AuthorizationRequestResource\": {\n        \"description\": \"A resource, represented as a Altinn service\",\n        \"required\": [\"ServiceCode\", \"ServiceEditionCode\"],\n        \"type\": \"object\",\n        \"properties\": {\n          \"ServiceCode\": {\n            \"$ref\": \"altinn-api-common.json#/components/schemas/ServiceCode\"\n          },\n          \"ServiceEditionCode\": {\n            \"$ref\": \"altinn-api-common.json#/components/schemas/ServiceEditionCode\"\n          },\n          \"Operations\": {\n            \"$ref\": \"altinn-api-common.json#/components/schemas/Action\"\n          },\n          \"Metadata\": {\n            \"$ref\": \"#/components/schemas/Metadata\"\n          }\n        }\n      },\n      \"ConsentRequest-POST\": {\n        \"description\": \"\",\n        \"required\": [\n          \"CoveredBy\",\n          \"OfferedBy\",\n          \"OfferedByName\",\n          \"ValidTo\",\n          \"RedirectUrl\",\n          \"RequestResources\",\n          \"RequestMessage\"\n        ],\n        \"type\": \"object\",\n        \"properties\": {\n          \"CoveredBy\": {\n            \"description\": \"Norwegian organization number or SSN of CoveredBy - the party receiving the consent.\",\n            \"type\": \"string\",\n            \"example\": \"912345678\"\n          },\n          \"OfferedBy\": {\n            \"description\": \"Norwegian organization number or SSN of OfferedBy - the party giving the consent\",\n            \"type\": \"string\",\n            \"example\": \"123456*****\"\n          },\n          \"HandledBy\": {\n            \"description\": \"Norwegian organization number or SSN of HandledBy. Optional if not required by SRR.\",\n            \"type\": \"string\",\n            \"example\": \"923456789\"\n          },\n          \"RequiredDelegator\": {\n            \"description\": \"\",\n            \"type\": \"string\",\n            \"example\": \"12018211111\"\n          },\n          \"RequiredDelegatorName\": {\n            \"description\": \"\",\n            \"type\": \"string\",\n            \"example\": \"Olsen\"\n          },\n          \"ValidTo\": {\n            \"$ref\": \"#/components/schemas/ValidTo\"\n          },\n          \"RedirectUrl\": {\n            \"$ref\": \"#/components/schemas/RedirectUrl\"\n          },\n          \"RequestResources\": {\n            \"type\": \"array\",\n            \"description\": \"Array containing requested resources\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/AuthorizationRequestResource\"\n            }\n          },\n          \"RequestMessage\": {\n            \"$ref\": \"#/components/schemas/RequestMessage\"\n          },\n          \"PortalViewMode\": {\n            \"$ref\": \"#/components/schemas/PortalViewMode\"\n          }\n        }\n      },\n      \"ConsentRequest-GET\": {\n        \"description\": \"\",\n        \"type\": \"object\",\n        \"properties\": {\n          \"AuthorizationCode\": {\n            \"description\": \"The Authorization Code of a valid ConsentRequest.\",\n            \"type\": \"string\",\n            \"format\": \"uuid\",\n            \"example\": \"0944467d-1131-4203-90eb-8aaecb5a5f26\"\n          },\n          \"RequestStatus\": {\n            \"description\": \"The status of an ConsentRequest.\",\n            \"type\": \"string\",\n            \"enum\": [\"Unopened\", \"Opened\", \"Accepted\", \"Rejected\"],\n            \"example\": \"Accepted\"\n          },\n          \"CoveredBy\": {\n            \"description\": \"Norwegian organization number or SSN of CoveredBy - the party receiving the consent.\",\n            \"type\": \"string\",\n            \"example\": \"912345678\"\n          },\n          \"OfferedBy\": {\n            \"description\": \"Norwegian organization number or SSN of OfferedBy - the party giving the consent\",\n            \"type\": \"string\",\n            \"example\": \"123456*****\"\n          },\n          \"HandledBy\": {\n            \"description\": \"Norwegian organization number or SSN of HandledBy. Optional if not required by SRR.\",\n            \"type\": \"string\",\n            \"example\": \"923456789\"\n          },\n          \"ValidTo\": {\n            \"$ref\": \"#/components/schemas/ValidTo\"\n          },\n          \"RedirectUrl\": {\n            \"$ref\": \"#/components/schemas/RedirectUrl\"\n          },\n          \"RequestResources\": {\n            \"type\": \"array\",\n            \"description\": \"Array containing requested resources\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/AuthorizationRequestResource\"\n            }\n          },\n          \"RequestMessage\": {\n            \"$ref\": \"#/components/schemas/RequestMessage\"\n          },\n          \"PortalViewMode\": {\n            \"$ref\": \"#/components/schemas/PortalViewMode\"\n          },\n          \"_links\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"self\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"href\": {\n                    \"type\": \"string\",\n                    \"format\": \"uri\",\n                    \"example\": \"https://tt02.altinn.no/api/consentRequests/0944467d-1131-4203-90eb-8aaecb5a5f26\"\n                  }\n                }\n              },\n              \"gui\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"href\": {\n                    \"type\": \"string\",\n                    \"format\": \"uri\",\n                    \"example\": \"https://tt02.altinn.no/api/AccessConsent/request?id=0944467d-1131-4203-90eb-8aaecb5a5f26\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"Error\": {\n        \"description\": \"Error model used to describe various errors during the creation of delegation / consent requests\",\n        \"type\": \"object\",\n        \"properties\": {\n          \"errorCode\": {\n            \"description\": \"An error code\",\n            \"type\": \"string\",\n            \"example\": \"19023\"\n          },\n          \"errorDescription\": {\n            \"description\": \"A human-readable description of the error accoured\",\n            \"type\": \"string\",\n            \"example\": \"A human-readable description of the error accoured\"\n          }\n        }\n      }\n    }\n  },\n  \"tags\": [\n    {\n      \"name\": \"ConsentRequest\",\n      \"description\": \"Consent and authorization (\\\"fullmakt\\\") requests\"\n    },\n    {\n      \"name\": \"Token\",\n      \"description\": \"Actions related to access tokens and consent. The documentation here assumes some basic knowledge about the Altinn consent solution.\"\n    }\n  ]\n}\n",
			"canonicalURL": "/github.com/Altinn/docs@04791822addfe8a8b08a10b05b409a818e1a8aba/-/blob/static/swagger/altinn-enduser-consentrequests-v0.json",
			"externalURLs": [
				{
					"url": "https://github.com/Altinn/docs/blob/04791822addfe8a8b08a10b05b409a818e1a8aba/static/swagger/altinn-enduser-consentrequests-v0.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: schemas: \"ConsentRequest-POST\": parse schema: property \"RequestResources\": parse schema: item: parse schema: resolve \"#/components/schemas/AuthorizationRequestResource\": parse schema: property \"ServiceCode\": parse schema: resolve \"altinn-api-common.json#/components/schemas/ServiceCode\": external \"altinn-api-common.json\": file: local file reference is not allowed"
}