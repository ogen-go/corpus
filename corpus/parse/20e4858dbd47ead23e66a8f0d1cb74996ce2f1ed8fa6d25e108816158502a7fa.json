{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/astrizhachuk/epf-transmitter"
		},
		"file": {
			"name": "endpoint.yml",
			"size": 0,
			"path": "api/endpoint.yml",
			"byteSize": 9426,
			"content": "openapi: 3.0.3\ninfo:\n  title: Внешние обработки (endpoint)\n  description: Управление внешними отчетами и обработками через HTTP сервис (REST).\n  contact:\n    email: a.strizhachuk@yandex.ru\n  version: 2.3.0\nservers:\n  - url: http://localhost/test/hs\n    description: develop\nsecurity:\n  - basic_auth: []\npaths:\n  /infobase:\n    get:\n      summary: Сведения об информационной базе\n      operationId: infobase\n      responses:\n        '200':\n          description: Текущие сведения\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  config_version:\n                    type: string\n                  connection_string:\n                    type: string\n              examples:\n                info:\n                  summary: Текущие сведения\n                  value:\n                    config_version: 1.0.0\n                    connection_string: File=\"/1c/db/epf-endpoint\";\n  /epf/status:\n    get:\n      tags:\n        - epf\n      summary: Текущий статус функционала загрузки файлов\n      description: Показывает текущий статус функционала загрузки файлов внешних обработок\n      operationId: status\n      responses:\n        '200':\n          description: Текущий статус загрузки\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/message'\n              examples:\n                enabled:\n                  summary: Включено\n                  value:\n                    message: загрузка файлов включена\n                disabled:\n                  summary: Отключено\n                  value:\n                    message: загрузка файлов отключена\n  /epf/{guid}:\n    get:\n      tags:\n        - epf\n      summary: Найти внешнюю обработку по GUID\n      description: \u003e-\n        Найти и вывести информацию о месте хранения файлов внешней обработки по\n        его GUID\n      operationId: findByGuid\n      parameters:\n        - name: guid\n          in: path\n          description: \u003e-\n            GUID элемента, в котором хранится файл внешней обработки с его\n            описанием\n          required: true\n          schema:\n            type: string\n            format: uuid\n      responses:\n        '200':\n          description: Результат успешного поиска\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/details'\n        '404':\n          description: Не найдено\n          content: {}\n        '500':\n          description: Ошибка сервера\n          content:\n            text/plain:\n              schema:\n                type: string\n              examples:\n                bad GUID:\n                  summary: Плохой GUID\n                  value: \u003e-\n                    {HTTPСервис.ExternalDataProcessors.Модуль(10)}: Ошибка при\n                    вызове конструктора (УникальныйИдентификатор)\n  /epf/findByFilename:\n    get:\n      tags:\n        - epf\n      summary: Найти внешние обработки по имени файла\n      description: \u003e-\n        Найти и отобразить все места хранения файла внешних обработок по его\n        полному имени\n      operationId: findByFilename\n      parameters:\n        - name: query\n          in: query\n          description: Полное имя файла (с расширением) для поиска\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Результат успешного поиска\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  oneOf:\n                    - $ref: '#/components/schemas/file_attribute'\n                    - $ref: '#/components/schemas/file_table'\n        '400':\n          description: Ошибочный запрос\n          content: {}\n        '404':\n          description: Не найдено\n          content: {}\n  /epf/switch:\n    post:\n      tags:\n        - epf\n      summary: Управление загрузкой файлов\n      description: Управление функционалом загрузки файлов внешних обработок\n      operationId: switch\n      parameters:\n        - name: value\n          in: header\n          description: on - включить, off - отключить\n          required: true\n          schema:\n            type: string\n            enum:\n              - 'on'\n              - 'off'\n      requestBody:\n        content: {}\n        required: false\n      responses:\n        '200':\n          description: Результат операции\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/message'\n              examples:\n                enabled:\n                  summary: Включено\n                  value:\n                    message: загрузка файлов включена\n                disabled:\n                  summary: Отключено\n                  value:\n                    message: загрузка файлов отключена\n        '400':\n          description: Ошибочный запрос\n          content: {}\n  /epf/uploadFile:\n    post:\n      tags:\n        - epf\n      summary: Загрузить внешнюю обработку\n      operationId: uploadFile\n      parameters:\n        - name: name\n          in: header\n          description: Полное имя файла (с расширением)\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: Внешний отчет или обработка в двоичном формате\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: string\n              format: binary\n        required: true\n      responses:\n        '200':\n          description: Результат загрузки файла\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  uploaded:\n                    type: array\n                    items:\n                      oneOf:\n                        - $ref: '#/components/schemas/file_attribute'\n                        - $ref: '#/components/schemas/file_table'\n                  errors:\n                    type: array\n                    items:\n                      type: object\n                      properties:\n                        message:\n                          type: string\n                          example: \u003e-\n                            {Справочник.ВнешниеОбработки.МодульМенеджера(109)}:\n                            Индекс находится за границами массива\n                        error:\n                          oneOf:\n                            - $ref: '#/components/schemas/file_attribute'\n                            - $ref: '#/components/schemas/file_table'\n        '400':\n          description: Ошибочный запрос\n          content: {}\n        '404':\n          description: Не найдено куда загружать\n          content: {}\n        '423':\n          description: Функционал отключен\n          content: {}\ncomponents:\n  schemas:\n    message:\n      type: object\n      properties:\n        message:\n          type: string\n    details:\n      type: object\n      properties:\n        guid:\n          type: string\n          format: uuid\n        filename:\n          type: string\n          example: ЭтоОбработка1.epf\n        comment:\n          type: string\n          example: 'Размер: такой-то... для ЭтоОбработка1.epf'\n        tables:\n          type: array\n          items:\n            $ref: '#/components/schemas/file_table'\n    file_attribute:\n      properties:\n        guid:\n          type: string\n          format: uuid\n        filename:\n          type: string\n          example: ЭтоОбработка2.epf\n        comment:\n          type: string\n          example: 'Размер: такой-то... для ЭтоОбработка2.epf'\n    file_table:\n      properties:\n        guid:\n          type: string\n          format: uuid\n        table:\n          type: string\n          example: Принадлежность\n        line:\n          type: integer\n          example: 1\n        filename:\n          type: string\n          example: ЭтоОбработка2.epf\n        comment:\n          type: string\n          example: 'Размер: такой-то... для ЭтоОбработка2.epf'\n  securitySchemes:\n    basic_auth:\n      type: http\n      scheme: basic"
		}
	},
	"Error": "parse: parse spec: paths: /epf/switch: post: operation \"switch\": requestBody: content must have at least on entry"
}