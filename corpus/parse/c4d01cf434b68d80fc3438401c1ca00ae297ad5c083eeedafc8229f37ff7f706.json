{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/w3c-ccg/vc-api"
		},
		"file": {
			"name": "holder.yml",
			"size": 0,
			"path": "holder.yml",
			"byteSize": 9083,
			"content": "openapi: 3.0.0\ninfo:\n  version: \"0.0.3-unstable\"\n  title: VC Holder HTTP API\n  description: This is an Experimental Open API Specification for the [VC Data Model](https://www.w3.org/TR/vc-data-model/).\n  license:\n    name: W3C Software and Document License\n    url: http://www.w3.org/Consortium/Legal/copyright-software.\n  contact:\n    name: GitHub Source Code\n    url: https://github.com/w3c-ccg/vc-api\npaths:\n  /credentials/derive:\n    post:\n      summary: Derives a credential and returns it in the response body.\n      operationId: deriveCredential\n      description: Derives a credential and returns it in the response body.\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DeriveCredentialRequest\"\n        description: Parameters for deriving the credential.\n      responses:\n        \"201\":\n          description: Credential derived successfully.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DeriveCredentialResponse\"\n        \"400\":\n          description: Invalid Request\n        \"500\":\n          description: Internal Error\n        \"501\":\n          description: Not Implemented\n  /presentations/prove:\n    post:\n      summary: Proves a presentation and returns it in the response body.\n      operationId: provePresentation\n      description: Proves a presentation and returns it in the response body.\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ProvePresentationRequest\"\n        description: Parameters for proving the presentation.\n      responses:\n        \"201\":\n          description: Presentation successfully proved!\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ProvePresentationResponse\"\n        \"400\":\n          description: invalid input!\n        \"500\":\n          description: error!\n  /exchanges/{exchange-id}:\n    post:\n      summary: Initiates an exchange of information.\n      operationId: initiateExchange\n      description:\n        A client can use this endpoint to initiate an exchange of a particular\n        type. The client can include HTTP POST information related to the\n        details of exchange it would like to initiate. If the server understands\n        the request, it returns a Verifiable Presentation Request. A request\n        that the server cannot understand results in an error.\n      parameters:\n        - $ref: \"./components/parameters/path/ExchangeId.yml\"\n      requestBody:\n        description:\n          Information related to the type of exchange the client would like\n          to start.\n        content:\n          application/json:\n            schema:\n              anyOf:\n                -\n                  {\n                    \"type\": \"object\",\n                    \"description\": \"Data necessary to initiate the exchange.\"\n                  }\n                -\n                  $ref: \"#/components/schemas/NotifyPresentationAvailableRequest\"\n      responses:\n        \"200\":\n          description: Proceed with exchange.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/VerifiablePresentationRequest\"\n        \"400\":\n          description: Request is malformed.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n        \"501\":\n          description: Service not implemented.\n        \"500\":\n          description: Internal server error.\n  /exchanges/{exchange-id}/{transaction-id}:\n    put:\n      summary: Receives information related to an existing exchange.\n      operationId: receiveExchangeData\n      description:\n        A client can use this endpoint to continue the exchange of information\n        associated with an initiated exchange by sending a Verifiable Presentation\n        with information requested by the server to this endpoint.\n      parameters:\n        - $ref: \"./components/parameters/path/ExchangeId.yml\"\n        - $ref: \"./components/parameters/path/TransactionId.yml\"\n      requestBody:\n        description:\n          A Verifiable Presentation.\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/VerifiablePresentation\"\n      responses:\n        \"200\":\n          description: Received data was accepted.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/VerifiablePresentationRequest\"\n        \"400\":\n          description: Received data is malformed.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n        \"500\":\n          description: Internal server error.\n        \"501\":\n          description: Service not implemented.\ncomponents:\n  schemas:\n    DeriveCredentialRequest:\n      type: object\n      properties:\n        verifiableCredential:\n          $ref: \"./components/VerifiableCredential.yml#/components/schemas/VerifiableCredential\"\n        frame:\n          type: object\n          description: A JSON-LD frame used for selective disclosure.\n        options:\n          $ref: \"./components/DeriveCredentialOptions.yml#/components/schemas/DeriveCredentialOptions\"\n    DeriveCredentialResponse:\n      $ref: \"./components/VerifiableCredential.yml#/components/schemas/VerifiableCredential\"\n    ProvePresentationRequest:\n      type: object\n      properties:\n        presentation:\n          $ref: \"./components/Presentation.yml#/components/schemas/Presentation\"\n        options:\n          $ref: \"./components/PresentCredentialOptions.yml#/components/schemas/PresentCredentialOptions\"\n    ProvePresentationResponse:\n      $ref: \"./components/VerifiablePresentation.yml#/components/schemas/VerifiablePresentation\"\n    NotifyPresentationAvailableRequest:\n      type: object\n      properties:\n        query:\n          type: object\n          description: See https://w3c-ccg.github.io/vp-request-spec/#format\n          properties:\n            type:\n              type: string\n              description: \"The type of query the server should reply with.\"\n            credentialQuery:\n              type: object\n              description: \"Details of the client's available presentation\"\n      example:\n        {\n          \"query\":\n            [\n              {\n                \"type\": \"RequestQueryByFrame\",\n                \"credentialQuery\":\n                  [\n                    {\n                      \"type\":\n                        [\n                            \"VerifiableCredential\",\n                            \"CommercialInvoiceCertificate\",\n                        ],\n                      \"reason\": \"Wallet XYZ is ready to selectively disclose new credentials.\",\n                    },\n                  ],\n              },\n            ],\n        }\n    NotifyPresentationAvailableResponse:\n      type: object\n      properties:\n        query:\n          type: object\n          description: See https://w3c-ccg.github.io/vp-request-spec/#format\n        domain:\n          type: string\n          description: See https://w3id.org/security#domain\n        challenge:\n          type: string\n          description: See https://w3id.org/security#challenge\n      example:\n        {\n          \"query\":\n            [\n              {\n                \"type\": \"QueryByFrame\",\n                \"credentialQuery\":\n                  {\n                    \"frame\":\n                      {\n                        \"@context\":\n                          [\n                              \"https://www.w3.org/2018/credentials/v1\",\n                              \"https://w3id.org/traceability/v1\",\n                              \"https://w3id.org/bbs/v1\",\n                          ],\n                        \"type\":\n                          [\n                              \"VerifiableCredential\",\n                              \"CommercialInvoiceCertificate\",\n                          ],\n                        \"credentialSubject\":\n                          {\n                            \"@explicit\": true,\n                            \"type\": [\"CommercialInvoice\"],\n                            \"purchaseDate\": {},\n                            \"destinationCountry\": {},\n                          },\n                      },\n                  },\n              },\n            ],\n          \"domain\": \"jobs.example.com\",\n          \"challenge\": \"3182bdea-63d9-11ea-b6de-3b7c1404d57f\",\n        }\n    ErrorResponse:\n      $ref: \"./components/ErrorResponse.yml#/components/schemas/ErrorResponse\"\n    StorePresentationRequest:\n      $ref: \"./components/VerifiablePresentation.yml#/components/schemas/VerifiablePresentation\"\n    VerifiablePresentation:\n      $ref: \"./components/VerifiablePresentation.yml#/components/schemas/VerifiablePresentation\"\n    VerifiablePresentationRequest:\n      $ref: \"./components/VerifiablePresentationRequest.yml#/components/schemas/VerifiablePresentationRequest\"\n"
		}
	},
	"Error": "parse: parse spec: paths: /credentials/derive: post: operation \"deriveCredential\": requestBody: content: \"application/json\": parse schema: parse schema: reference \"#/components/schemas/DeriveCredentialRequest\": parse schema: options: parse schema: reference \"./components/DeriveCredentialOptions.yml#/components/schemas/DeriveCredentialOptions\": resolve reference \"./components/DeriveCredentialOptions.yml#/components/schemas/DeriveCredentialOptions\": invalid schema reference \"./components/DeriveCredentialOptions.yml#/components/schemas/DeriveCredentialOptions\""
}