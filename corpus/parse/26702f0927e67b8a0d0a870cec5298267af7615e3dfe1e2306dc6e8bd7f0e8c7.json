{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/CDCgov/prime-reportstream"
		},
		"file": {
			"name": "messages.yml",
			"size": 0,
			"path": "prime-router/docs/api/messages.yml",
			"byteSize": 6319,
			"content": "openapi: \"3.0.3\"\ninfo:\n  title: ReportStream Messages API\n  version: \"1.0\"\n  contact:\n    name: USDS at Centers for Disease Control and Prevention\n    url: https://open.cdc.gov\n    email: usds@cdc.gov\npaths:\n  /api/messages:\n    get:\n      description: fetch a list of messages based on a message id\n      security:\n        - OAuth2: [ system_admin ]\n      parameters:\n        - name: messageId\n          in: query\n          description: the exact message/tracking id of a message processed by ReportStream\n      responses:\n        '200':\n          description: a list of message objects\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Message'\n        '400':\n          description: missing messageId parameter or a bad request\n        '401':\n          description: unauthorized\n  /api/message/{id}:\n    get:\n      description: return details about a particular test result message including the sender, receivers information with quality filter information\n      security:\n        - OAuth2: [ user ]\n      parameters:\n        - name: id\n          in: path\n          description: a valid test result record id\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: the detailed report history object\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Message'\n        '400':\n          description: bad request\n        '401':\n          description: unauthorized\ncomponents:\n  schemas:\n    Message:\n      type: object\n      properties:\n        id:\n          description: the primary key for this message object\n          type: integer\n        messageId:\n          description: the full message id\n          type: string\n        sender:\n          description: the name of the sender account\n          type: string\n        submittedDate:\n          description: when the original report that contains the message was submitted to ReportStream\n          type: string\n        reportId:\n          description: the uuid of the submitted report that a message belongs to\n          type: string\n        fileName:\n          description: the name of the file of the submitted report that a message belongs to\n          type: string\n        fileUrl:\n          description: the blobstore url of the file the message belongs to\n          type: string\n        errors:\n          description: a list of errors in the report\n          type: array\n          items:\n            $ref: '#/components/schemas/DetailedActionLog'\n        warnings:\n          description: a list of warnings in the report\n          type: array\n          items:\n            $ref: '#/components/schemas/DetailedActionLog'\n        receiverData:\n          description: a list of the message's receivers\n          type: array\n          items:\n            $ref: '#/components/schemas/MessageReceiver'\n    MessageReceiver:\n      type: object\n      properties:\n        reportId:\n          description: the uuid of the receiver report that a message belongs to\n          type: string\n        receivingOrg:\n          description: the name of the org receiving the message\n          type: string\n        receivingOrgSvc:\n          description: the name of the receiver's service receiving the message\n          type: string\n        transportResult:\n          description: the transport result between ReportStream and the receiving service\n          type: string\n        fileName:\n          description: the name of the file the message belongs to\n          type: string\n        fileUrl:\n          description: the blobstore url of the receiver file the message belongs to\n          type: string\n        createdAt:\n          description: the time of which the file/report was sent or created\n          type: string\n          format: date-time\n        qualityFilters:\n          description: the quality filters of the report that the message may have been filtered out from\n          type: array\n          items:\n            $ref: '#/components/schemas/MessageActionLog'\n    MessageActionLog:\n      type: object\n      properties:\n        trackingId:\n          description: id for identifying the test this log is related to\n          type: string\n        detail:\n          description: additional information for this log\n          type: object\n          properties:\n            scope:\n              type: string\n              description: Does the error apply to one item\n              enum:\n                - Parameter\n                - Report\n                - Item\n                - Translation\n            message:\n              description: user-friendly explanation of the filtering action\n              type: string\n    DetailedActionLog:\n      type: object\n      properties:\n        scope:\n          description: how wide-ranging is this log?\n          type: string\n          enum:\n            - parameter\n            - report\n            - item\n            - translation\n        reportId:\n          description: unique identifier for the report that owns this log\n          type: string\n        index:\n          description: position in the report of the item that caused this log\n          type: array\n          items:\n            type: integer\n        trackingId:\n          description: id for identifying the test this log is related to\n          type: string\n          items:\n            type: string\n        type:\n          description: what kind of log is this? (e.g. filter, warning...)\n          type: string\n          enum:\n            - info\n            - warning\n            - error\n            - filter\n        detail:\n          description: additional information for this log\n          type: object\n          properties:\n            scope:\n              type: string\n              description: Does the error apply to one item\n              enum:\n                - Parameter\n                - Report\n                - Item\n                - Translation\n            message:\n              description: user-friendly explanation of the filtering action\n              type: string\n\n  securitySchemes:\n    OAuth2:\n      $ref: 'https://raw.githubusercontent.com/CDCgov/prime-reportstream/master/prime-router/docs/api/components/security_schemes.yml#/OAuth2'\n",
			"canonicalURL": "/github.com/CDCgov/prime-reportstream@dc2528bc0de39360774e117c6e8c3d1404d673d7/-/blob/prime-router/docs/api/messages.yml",
			"externalURLs": [
				{
					"url": "https://github.com/CDCgov/prime-reportstream/blob/dc2528bc0de39360774e117c6e8c3d1404d673d7/prime-router/docs/api/messages.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse path items: path \"/api/messages\": get: parameters: parse parameter \"messageId\": at prime-router/docs/api/messages.yml:16:11: parameter MUST contain either a schema property, or a content property"
}