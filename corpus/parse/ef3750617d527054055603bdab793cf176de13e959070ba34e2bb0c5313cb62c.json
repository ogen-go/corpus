{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/TomerFi/switcher_webapi"
		},
		"file": {
			"name": "openapi.yml",
			"size": 0,
			"path": "docs/openapi.yml",
			"byteSize": 11505,
			"content": "---\nopenapi: 3.0.0\ninfo:\n  title: Switcher Webapi\n  description: Containerized web service integrating with Switcher devices\n  license:\n    name: Apache 2.0\n    url: https://www.apache.org/licenses/LICENSE-2.0.html\n\nexternalDocs:\n  description: Find more info here\n  url: https://switcher-webapi.tomfi.info\n\npaths:\n  /switcher/get_state:\n    get:\n      summary: Get a device state\n      description: Returns the current state of a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      responses:\n        \"200\":\n          description: A JSON object representing the current state of the selected device\n          content:\n            application/json:\n              examples:\n                \"Device ON\":\n                  value:\n                    state: \"ON\"\n                    time_left: 01:15:32\n                    time_on: 00:14:28\n                    auto_shutdown: 02:30:00\n                    power_consumption: 1274\n                    electric_current: 16.4\n                \"Device OFF\":\n                  value:\n                    state: \"OFF\"\n                    time_left: 00:00:00\n                    time_on: 00:00:00\n                    auto_shutdown: 02:30:00\n                    power_consumption: 0\n                    electric_current: 0.0\n\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when failed to get the current device state\":\n                  value:\n                    error: \"an error of some type was raised\"\n\n  /switcher/turn_on:\n    post:\n      summary: Turn on a device\n      description: Turn a device on, optionally setting an off timer for supporting devices\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                minutes:\n                  type: integer\n            example:\n              minutes: 90\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when failed to turn on the device\":\n                  value:\n                    error: \"an error of some type was raised\"\n\n  /switcher/turn_off:\n    post:\n      summary: Turn off a device\n      description: Turn a device off\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when failed to turn off the device\":\n                  value:\n                    error: \"an error of some type was raised\"\n\n  /switcher/set_name:\n    patch:\n      summary: Set a device name\n      description: Set the name of a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n              required:\n                - name\n            example:\n              name: MySwitcherDevice\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when deserializing the `name` key\":\n                  value:\n                    error: \"failed to get name from body as json\"\n\n  /switcher/set_auto_shutdown:\n    patch:\n      summary: Set auto shutdown\n      description: Set the auto shutdown configuration for a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                hours:\n                  type: integer\n                minutes:\n                  type: integer\n              required:\n                - hours\n            example:\n              hours: 2\n              minutes: 30\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when deserializing the `hours` key\":\n                  value:\n                    error: \"failed to get hours from body as json\"\n\n  /switcher/get_schedules:\n    get:\n      summary: Get a device schedules\n      description: Returns the schedules configured on a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      responses:\n        \"200\":\n          description: A JSON array of the schedules\n          content:\n            application/json:\n              examples:\n                \"Multiple schedules found on a Tuesday\":\n                  value:\n                    - schedule_id: \"0\"\n                      recurring: true\n                      days: [\"FRIDAY\", \"SUNDAY\", \"MONDAY\"]\n                      start_time: \"23:00\"\n                      end_time: \"23:30\"\n                      duration: \"0:30:00\"\n                      display: \"Due next Friday at 23:00\"\n                    - schedule_id: \"1\"\n                      recurring: false\n                      days: []\n                      start_time: \"22:45\"\n                      end_time: \"23:30\"\n                      duration: \"0:45:00\"\n                      display: \"Due today at 22:45\"\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when failed to get the current device state\":\n                  value:\n                    error: \"an error of some type was raised\"\n\n  /switcher/delete_schedule:\n    delete:\n      summary: Delete a schedule\n      description: Delete an existing schedule from a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                schedule:\n                  type: string\n            example:\n              name: \"7\"\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when deserializing the `schedule` key\":\n                  value:\n                    error: \"'schedule'\"\n\n  /switcher/create_schedule:\n    post:\n      summary: Create a schedule\n      description: Create a new schedule on a device\n      parameters:\n        - in: query\n          name: id\n          required: true\n          description: the id of the selected device\n          schema:\n            type: string\n          example:\n            \"ab1c2d\"\n        - in: query\n          name: ip\n          required: true\n          allowReserved: true\n          description: the ip address of the selected device\n          schema:\n            type: string\n          example:\n            \"10.0.0.1\"\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                start:\n                  type: string\n                stop:\n                  type: string\n                days:\n                  type: array\n                  items:\n                    type: string\n                    enum: [Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday]\n              required:\n                - start\n                - stop\n            example:\n              start: \"17:00\"\n              stop: \"18:30\"\n              days: [\"Wednesday\", \"Saturday\"]\n            encoding:\n              days:\n                style: from\n                explode: false\n      responses:\n        \"200\":\n          description: An empty JSON object\n        \"500\":\n          description: A JSON object hinting for the error\n          content:\n            application/json:\n              examples:\n                \"Example for error when deserializing the `start` key\":\n                  value:\n                    error: \"'start'\"\n",
			"canonicalURL": "/github.com/TomerFi/switcher_webapi@2c07ff97eda63b8c56cd95d160965f9754bd7bd6/-/blob/docs/openapi.yml",
			"externalURLs": [
				{
					"url": "https://github.com/TomerFi/switcher_webapi/blob/2c07ff97eda63b8c56cd95d160965f9754bd7bd6/docs/openapi.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse operations: path \"/switcher/create_schedule\": at 1:353: post: at 1:361: requestBody: at 1:742: content: application/json: at 1:773: encoding property \"days\": at 1:793: param style: invalid style explode combination \"from\", explode:false"
}