{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ryanflorence/remix-architect"
		},
		"file": {
			"name": "sam.json",
			"size": 0,
			"path": "sam.json",
			"byteSize": 7490,
			"content": "{\n  \"AWSTemplateFormatVersion\": \"2010-09-09\",\n  \"Transform\": \"AWS::Serverless-2016-10-31\",\n  \"Description\": \"Exported by architect/package@5.0.0 on 2020-11-30T00:14:12.738Z\",\n  \"Resources\": {\n    \"HTTP\": {\n      \"Type\": \"AWS::Serverless::HttpApi\",\n      \"Properties\": {\n        \"StageName\": \"$default\",\n        \"DefinitionBody\": {\n          \"openapi\": \"3.0.1\",\n          \"info\": {\n            \"title\": {\n              \"Ref\": \"AWS::StackName\"\n            }\n          },\n          \"paths\": {\n            \"/{proxy+}\": {\n              \"x-amazon-apigateway-any-method\": {\n                \"x-amazon-apigateway-integration\": {\n                  \"payloadFormatVersion\": \"2.0\",\n                  \"type\": \"aws_proxy\",\n                  \"httpMethod\": \"POST\",\n                  \"uri\": {\n                    \"Fn::Sub\": \"arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${AnyCatchallHTTPLambda.Arn}/invocations\"\n                  },\n                  \"connectionType\": \"INTERNET\"\n                }\n              }\n            },\n            \"/_static/{proxy+}\": {\n              \"get\": {\n                \"x-amazon-apigateway-integration\": {\n                  \"payloadFormatVersion\": \"1.0\",\n                  \"type\": \"http_proxy\",\n                  \"httpMethod\": \"GET\",\n                  \"uri\": {\n                    \"Fn::Sub\": [\n                      \"http://${bukkit}.s3.${AWS::Region}.amazonaws.com/{proxy}\",\n                      {\n                        \"bukkit\": {\n                          \"Ref\": \"StaticBucket\"\n                        }\n                      }\n                    ]\n                  },\n                  \"connectionType\": \"INTERNET\",\n                  \"timeoutInMillis\": 30000\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"AnyCatchallHTTPLambda\": {\n      \"Type\": \"AWS::Serverless::Function\",\n      \"Properties\": {\n        \"Handler\": \"index.handler\",\n        \"CodeUri\": \"/Users/ryan/Code/remix-nikes-architect/src/http/any-catchall\",\n        \"Runtime\": \"nodejs12.x\",\n        \"MemorySize\": 1152,\n        \"Timeout\": 5,\n        \"Environment\": {\n          \"Variables\": {\n            \"ARC_APP_NAME\": \"nikes\",\n            \"ARC_CLOUDFORMATION\": {\n              \"Ref\": \"AWS::StackName\"\n            },\n            \"ARC_ENV\": \"staging\",\n            \"ARC_HTTP\": \"aws_proxy\",\n            \"ARC_ROLE\": {\n              \"Ref\": \"Role\"\n            },\n            \"NODE_ENV\": \"staging\",\n            \"SESSION_TABLE_NAME\": \"jwe\",\n            \"ARC_STATIC_BUCKET\": {\n              \"Ref\": \"StaticBucket\"\n            }\n          }\n        },\n        \"Role\": {\n          \"Fn::Sub\": [\n            \"arn:aws:iam::${AWS::AccountId}:role/${roleName}\",\n            {\n              \"roleName\": {\n                \"Ref\": \"Role\"\n              }\n            }\n          ]\n        },\n        \"Events\": {\n          \"AnyCatchallHTTPEvent\": {\n            \"Type\": \"HttpApi\",\n            \"Properties\": {\n              \"Path\": \"/{proxy+}\",\n              \"Method\": \"ANY\",\n              \"ApiId\": {\n                \"Ref\": \"HTTP\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"StaticBucket\": {\n      \"Type\": \"AWS::S3::Bucket\",\n      \"Properties\": {\n        \"AccessControl\": \"PublicRead\",\n        \"WebsiteConfiguration\": {\n          \"IndexDocument\": \"index.html\",\n          \"ErrorDocument\": \"404.html\"\n        }\n      }\n    },\n    \"Role\": {\n      \"Type\": \"AWS::IAM::Role\",\n      \"Properties\": {\n        \"AssumeRolePolicyDocument\": {\n          \"Version\": \"2012-10-17\",\n          \"Statement\": [\n            {\n              \"Effect\": \"Allow\",\n              \"Principal\": {\n                \"Service\": \"lambda.amazonaws.com\"\n              },\n              \"Action\": \"sts:AssumeRole\"\n            }\n          ]\n        },\n        \"Policies\": [\n          {\n            \"PolicyName\": \"ArcGlobalPolicy\",\n            \"PolicyDocument\": {\n              \"Statement\": [\n                {\n                  \"Effect\": \"Allow\",\n                  \"Action\": [\n                    \"logs:CreateLogGroup\",\n                    \"logs:CreateLogStream\",\n                    \"logs:PutLogEvents\",\n                    \"logs:DescribeLogStreams\"\n                  ],\n                  \"Resource\": \"arn:aws:logs:*:*:*\"\n                }\n              ]\n            }\n          },\n          {\n            \"PolicyName\": \"ArcStaticBucketPolicy\",\n            \"PolicyDocument\": {\n              \"Statement\": [\n                {\n                  \"Effect\": \"Allow\",\n                  \"Action\": [\n                    \"s3:GetObject\",\n                    \"s3:PutObject\",\n                    \"s3:PutObjectAcl\",\n                    \"s3:DeleteObject\"\n                  ],\n                  \"Resource\": [\n                    {\n                      \"Fn::Sub\": [\n                        \"arn:aws:s3:::${bukkit}\",\n                        {\n                          \"bukkit\": {\n                            \"Ref\": \"StaticBucket\"\n                          }\n                        }\n                      ]\n                    },\n                    {\n                      \"Fn::Sub\": [\n                        \"arn:aws:s3:::${bukkit}/*\",\n                        {\n                          \"bukkit\": {\n                            \"Ref\": \"StaticBucket\"\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    },\n    \"StaticBucketParam\": {\n      \"Type\": \"AWS::SSM::Parameter\",\n      \"Properties\": {\n        \"Type\": \"String\",\n        \"Name\": {\n          \"Fn::Sub\": [\n            \"/${AWS::StackName}/static/${key}\",\n            {\n              \"key\": \"bucket\"\n            }\n          ]\n        },\n        \"Value\": {\n          \"Ref\": \"StaticBucket\"\n        }\n      }\n    },\n    \"StaticFingerprintParam\": {\n      \"Type\": \"AWS::SSM::Parameter\",\n      \"Properties\": {\n        \"Type\": \"String\",\n        \"Name\": {\n          \"Fn::Sub\": [\n            \"/${AWS::StackName}/static/${key}\",\n            {\n              \"key\": \"fingerprint\"\n            }\n          ]\n        },\n        \"Value\": \"false\"\n      }\n    },\n    \"ParameterStorePolicy\": {\n      \"Type\": \"AWS::IAM::Policy\",\n      \"DependsOn\": \"Role\",\n      \"Properties\": {\n        \"PolicyName\": \"ArcParameterStorePolicy\",\n        \"PolicyDocument\": {\n          \"Statement\": [\n            {\n              \"Effect\": \"Allow\",\n              \"Action\": \"ssm:GetParametersByPath\",\n              \"Resource\": {\n                \"Fn::Sub\": [\n                  \"arn:aws:ssm:${AWS::Region}:${AWS::AccountId}:parameter/${AWS::StackName}\",\n                  {}\n                ]\n              }\n            }\n          ]\n        },\n        \"Roles\": [\n          {\n            \"Ref\": \"Role\"\n          }\n        ]\n      }\n    }\n  },\n  \"Outputs\": {\n    \"API\": {\n      \"Description\": \"API Gateway (HTTP)\",\n      \"Value\": {\n        \"Fn::Sub\": [\n          \"https://${ApiId}.execute-api.${AWS::Region}.amazonaws.com\",\n          {\n            \"ApiId\": {\n              \"Ref\": \"HTTP\"\n            }\n          }\n        ]\n      }\n    },\n    \"ApiId\": {\n      \"Description\": \"API ID (ApiId)\",\n      \"Value\": {\n        \"Ref\": \"HTTP\"\n      }\n    },\n    \"BucketURL\": {\n      \"Description\": \"Bucket URL\",\n      \"Value\": {\n        \"Fn::Sub\": [\n          \"http://${bukkit}.s3-website-${AWS::Region}.amazonaws.com\",\n          {\n            \"bukkit\": {\n              \"Ref\": \"StaticBucket\"\n            }\n          }\n        ]\n      }\n    }\n  }\n}",
			"canonicalURL": "/github.com/ryanflorence/remix-architect@1bbee2b38ffec9e44d34ef08149142f38f78d05b/-/blob/sam.json",
			"externalURLs": [
				{
					"url": "https://github.com/ryanflorence/remix-architect/blob/1bbee2b38ffec9e44d34ef08149142f38f78d05b/sam.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse version: at sam.json:1:1: invalid version: invalid major version: strconv.Atoi: parsing \"\": invalid syntax"
}