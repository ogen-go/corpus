{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/adorsys/open-banking-gateway"
		},
		"file": {
			"name": "tpp_banking_api_ais.yml",
			"size": 0,
			"path": "opba-api-security-signer-generator/opba-api-security-signer-generator-impl/src/test/resources/api/tpp_banking_api_ais.yml",
			"byteSize": 17910,
			"content": "openapi: 3.0.1\ninfo:\n  version: \"1.0.0\"\n  title: Open Banking Gateway Tpp Banking API\n  description: >-\n    This API provides FinTech possibilities to perform use-cases specific calls to the bank of PSU.\nexternalDocs:\n  url: \"https://adorsys.github.com/open-banking-gateway\"\n\n\npaths:\n\n  /v1/banking/ais/accounts/{account-id}/transactions:\n    get:\n      operationId: getTransactions\n      summary: Provides list of transactions by given account\n      tags:\n        - TPP Banking API Account information service (AIS)\n      description: >-\n          returns list of transactions for specified account resource ID in case Service-Session-ID is provided\n          and saved consent on tpp by it found. Otherwise initiates creation of new consent\n      parameters:\n        #path\n        - $ref: \"#/components/parameters/account-id\"\n        #header\n        #common header parameter\n        #query\n        - $ref: \"#/components/parameters/dateFrom\"\n        - $ref: \"#/components/parameters/dateTo\"\n      security:\n        - BearerAuthOAuth: []\n      responses:\n        '200':\n          $ref: \"#/components/responses/200_AccountsTransactions\"\n        '202':\n          $ref: '#/components/responses/202_AUTHORIZATION_REQUIRED'\n\ncomponents:\n  parameters:\n    account-id:\n      name: account-id\n      in: path\n      required: true\n      schema:\n        type: string\n\n    bookingStatus:\n      name: bookingStatus\n      in: query\n      description: |\n        Permitted codes are\n          * \"booked\",\n          * \"pending\" and\n          * \"both\"\n        To support the \"pending\" and \"both\" feature is optional for the ASPSP,\n        Error code if not supported in the online banking frontend\n        Default is \"booked\"\n      required: false\n      schema:\n        type: string\n        enum:\n          - \"booked\"\n          - \"pending\"\n          - \"both\"\n\n    dateFrom:\n      name: dateFrom\n      in: query\n      description: |\n        Conditional: Starting date (inclusive the date dateFrom) of the transaction list, mandated if no delta access is required.\n\n        For booked transactions, the relevant date is the booking date.\n\n        For pending transactions, the relevant date is the entry date, which may not be transparent\n        neither in this API nor other channels of the ASPSP.\n      required: false\n      schema:\n        type: string\n        format: date\n\n\n    dateTo:\n      name: dateTo\n      in: query\n      description: |\n        End date (inclusive the data dateTo) of the transaction list, default is \"now\" if not given.\n\n        Might be ignored if a delta function is used.\n\n        For booked transactions, the relevant date is the booking date.\n\n        For pending transactions, the relevant date is the entry date, which may not be transparent\n        neither in this API nor other channels of the ASPSP.\n\n      required: false\n      schema:\n        type: string\n        format: date\n\n    deltaList:\n      name: deltaList\n      in: query\n      description: |\n        This data attribute is indicating that the AISP is in favour to get all transactions after the last report access\n        for this PSU on the addressed account.\n        This is another implementation of a delta access-report.\n\n        This delta indicator might be rejected by the ASPSP if this function is not supported.\n\n        Optional if supported by API provider\n      schema:\n        type: boolean\n\n    entryReferenceFrom:\n      name: entryReferenceFrom\n      in: query\n      description: |\n        This data attribute is indicating that the AISP is in favour to get all transactions after\n        the transaction with identification entryReferenceFrom alternatively to the above defined period.\n        This is a implementation of a delta access.\n        If this data element is contained, the entries \"dateFrom\" and \"dateTo\" might be ignored by the ASPSP\n        if a delta report is supported.\n\n        Optional if supported by API provider.\n      required: false\n      schema:\n        type: string\n\n  responses:\n    200_AccountsTransactions:\n      description: OK\n\n      headers:\n        X-Request-ID:\n          $ref: \"./tpp_banking_api_commons.yml#/components/headers/X-Request-ID\"\n\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/transactionsResponse\"\n\n    202_AUTHORIZATION_REQUIRED:\n      description: |\n        User authorisation session mandated. Agent shall redirect the user to the Authorisation URI provided in response\n        using 'Location' header. This is soft redirection, so that FinTech should inform user about redirection.\n      headers:\n        Location:\n          $ref: \"./tpp_banking_api_commons.yml#/components/headers/Location\"\n        X-Request-ID:\n          $ref: \"./tpp_banking_api_commons.yml#/components/headers/X-Request-ID\"\n      # content - Although content might be present, one should consider it as informative json value that is not actionable\n\n    200_AccountList:\n      description: OK\n      headers:\n        X-Request-ID:\n          $ref: \"./tpp_banking_api_commons.yml#/components/headers/X-Request-ID\"\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/accountList\"\n\n  schemas:\n    accountDetails:\n      description: |\n        The ASPSP shall give at least one of the account reference identifiers:\n          - iban\n          - bban\n          - pan\n          - maskedPan\n          - msisdn\n        If the account is a multicurrency account currency code in \"currency\" is set to \"XXX\".\n      type: object\n      required:\n        - currency\n      properties:\n        resourceId:\n          description: This shall be filled, if addressable resource are created by the ASPSP on the /accounts or /card-accounts endpoint.\n          type: string\n        iban:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/iban\"\n        bban:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/bban\"\n        pan:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/pan\"\n        maskedPan:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/maskedPan\"\n        msisdn:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/msisdn\"\n        currency:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/currencyCode\"\n        name:\n          description: Name of the account given by the bank or the PSU in online-banking.\n          type: string\n          maxLength: 35\n        product:\n          description: Product name of the bank for this account, proprietary definition.\n          type: string\n          maxLength: 35\n        cashAccountType:\n          $ref: \"#/components/schemas/cashAccountType\"\n        status:\n          $ref: \"#/components/schemas/accountStatus\"\n        bic:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/bicfi\"\n        linkedAccounts:\n          description: Case of a set of pending card transactions, the APSP will provide the relevant cash account the card is set up on.\n          type: string\n          maxLength: 70\n        usage:\n          description: |\n            Specifies the usage of the account:\n              * PRIV: private personal account\n              * ORGA: professional account\n          type: string\n          maxLength: 4\n          enum:\n            - \"PRIV\"\n            - \"ORGA\"\n        details:\n          description: |\n            Specifications that might be provided by the ASPSP:\n              - characteristics of the account\n              - characteristics of the relevant card\n          type: string\n          maxLength: 140\n        _links:\n          $ref: \"#/components/schemas/linksAccountDetails\"\n        ownerName:\n          description: Name of the legal account owner. If there is more than one owner, then e.g. two names might be noted here.\n          type: string\n          maxLength: 70\n        ownerAddress:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/address\"\n\n    accountList:\n      description: |\n        List of accounts with details.\n      type: object\n      required:\n        - accounts\n      properties:\n        accounts:\n          type: array\n          items:\n            $ref: \"#/components/schemas/accountDetails\"\n\n    accountReport:\n      description: |\n        JSON based account report.\n        This account report contains transactions resulting from the query parameters.\n\n        'booked' shall be contained if bookingStatus parameter is set to \"booked\" or \"both\".\n\n        'pending' is not contained if the bookingStatus parameter is set to \"booked\".\n      type: object\n      required:\n        - _links\n      properties:\n        booked:\n          $ref: \"#/components/schemas/transactionList\"\n        pending:\n          $ref: \"#/components/schemas/transactionList\"\n\n    analyticsReport:\n      description: |\n        JSON based analytics report.\n        This account report contains transaction categorization result.\n      type: object\n      properties:\n        transactionId:\n          description: The id of transaction this analytics result refers to.\n          type: string\n        mainCategory:\n          description: Main category of the booking.\n          type: string\n        subCategory:\n          description: Sub category of the booking.\n          type: string\n        specification:\n          description: Specification of the booking.\n          type: string\n        otherAccount:\n          description: Related account.\n          type: string\n        logo:\n          description: Logo.\n          type: string\n        homepage:\n          description: Homepage.\n          type: string\n        hotline:\n          description: Hotline.\n          type: string\n        email:\n          description: Email.\n          type: string\n        custom:\n          description: Custom inforamtion about analyzed transaction.\n          type: object\n          additionalProperties:\n            type: object\n            properties:\n              code:\n                type: string\n              text:\n                type: string\n        usedRules:\n          description: Rules that were used to analyze.\n          type: array\n          uniqueItems: true\n          items:\n            type: string\n        nextBookingDate:\n          description: Classification next booking date.\n          type: string\n          format: date\n        cycle:\n          description: Classification cycle result.\n          type: string\n\n    accountStatus:\n      description: |\n        Account status. The value is one of the following:\n          - \"enabled\": account is available\n          - \"deleted\": account is terminated\n          - \"blocked\": account is blocked e.g. for legal reasons\n        If this field is not used, than the account is available in the sense of this specification.\n      type: string\n      enum:\n        - \"enabled\"\n        - \"deleted\"\n        - \"blocked\"\n\n    bankTransactionCode:\n      description: |\n        Bank transaction code as used by the ASPSP and using the sub elements of this structured code defined by ISO 20022.\n\n        This code type is concatenating the three ISO20022 Codes\n          * Domain Code,\n          * Family Code, and\n          * SubFamiliy Code\n        by hyphens, resulting in �DomainCode�-�FamilyCode�-�SubFamilyCode�.\n      type: string\n      example: \"PMNT-RCDT-ESCT\"\n\n    bookingDate:\n      description: |\n        The date when an entry is posted to an account on the ASPSPs books.\n      type: string\n      format: date\n\n    cashAccountType:\n      description: |\n        ExternalCashAccountType1Code from ISO 20022.\n      type: string\n\n    debtorName:\n      description: Debtor Name.\n      type: string\n      maxLength: 70\n      example: \"Debtor Name\"\n\n    hrefType:\n      description: Link to a resource.\n      type: object\n      properties:\n        href:\n          $ref: \"#/components/schemas/hrefEntry\"\n\n    hrefEntry:\n      description: Link to a resource.\n      type: string\n      example: \"https://www.example.com/path/resource?parameter=value\"\n\n    linksAccountDetails:\n      description: |\n        Links to the account, which can be directly used for retrieving account information from this dedicated account.\n\n        Links to \"balances\" and/or \"transactions\"\n\n        These links are only supported, when the corresponding consent has been already granted.\n      type: object\n      properties:\n        balances:\n          $ref: \"#/components/schemas/hrefType\"\n        transactions:\n          $ref: \"#/components/schemas/hrefType\"\n\n    reportExchangeRateList:\n      description: Array of exchange rates.\n      type: array\n      items:\n        $ref: \"#/components/schemas/reportExchangeRate\"\n\n    reportExchangeRate:\n      description: Exchange Rate.\n      type: object\n      required:\n        - sourceCurrency\n        - exchangeRate\n        - unitCurrency\n        - targetCurrency\n        - quotationDate\n      properties:\n        sourceCurrency:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/currencyCode\"\n        exchangeRate:\n          type: string\n        unitCurrency:\n          type: string\n        targetCurrency:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/currencyCode\"\n        quotationDate:\n          type: string\n          format: date\n        contractIdentification:\n          type: string\n\n    transactionDetails:\n      description: Transaction details.\n      type: object\n      required:\n        - transactionAmount\n      properties:\n        transactionId:\n          description: |\n            the Transaction Id can be used as access-ID in the API, where more details on an transaction is offered.\n            If this data attribute is provided this shows that the AIS can get access on more details about this\n            transaction using the Get transaction details request.\n          type: string\n        entryReference:\n          description: |\n            Is the identification of the transaction as used e.g. for reference for deltafunction on application level.\n            The same identification as for example used within camt.05x messages.\n          type: string\n          maxLength: 35\n        endToEndId:\n          description: Unique end to end identity.\n          type: string\n          maxLength: 35\n        mandateId:\n          description: Identification of Mandates, e.g. a SEPA Mandate ID.\n          type: string\n          maxLength: 35\n        checkId:\n          description: Identification of a Cheque.\n          type: string\n          maxLength: 35\n        creditorId:\n          description: Identification of Creditors, e.g. a SEPA Creditor ID.\n          type: string\n          maxLength: 35\n        bookingDate:\n          $ref: \"#/components/schemas/bookingDate\"\n        valueDate:\n          description: The Date at which assets become available to the account owner in case of a credit.\n          type: string\n          format: date\n        transactionAmount:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/amount\"\n        currencyExchange:\n          $ref: \"#/components/schemas/reportExchangeRateList\"\n        creditorName:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/creditorName\"\n        creditorAccount:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/accountReference\"\n        ultimateCreditor:\n          $ref: \"#/components/schemas/ultimateCreditor\"\n        debtorName:\n          $ref: \"#/components/schemas/debtorName\"\n        debtorAccount:\n          $ref: \"#/components/schemas/accountReference\"\n        ultimateDebtor:\n          $ref: \"#/components/schemas/ultimateDebtor\"\n        remittanceInformationUnstructured:\n          $ref: \"./tpp_banking_api_commons.yml#/components/schemas/remittanceInformationUnstructured\"\n        remittanceInformationStructured:\n          description: |\n            Reference as contained in the structured remittance reference structure (without the surrounding XML structure).\n\n            Different from other places the content is containt in plain form not in form of a structered field.\n          type: string\n          maxLength: 140\n        additionalInformation:\n          description: |\n            Might be used by the ASPSP to transport additional transaction related information to the PSU.\n          type: string\n          maxLength: 512\n        purposeCode:\n          $ref: \"#/components/schemas/purposeCode\"\n        bankTransactionCode:\n          $ref: \"#/components/schemas/bankTransactionCode\"\n        proprietaryBankTransactionCode:\n          $ref: \"#/components/schemas/proprietaryBankTransactionCode\"\n\n    transactionList:\n      description: Array of transaction details.\n      type: array\n      items:\n        $ref: \"#/components/schemas/transactionDetails\"\n\n    transactionsResponse:\n      description: |\n        Body of the JSON response for a successful read transaction list request.\n        This account report contains transactions resulting from the query parameters.\n      type: object\n      properties:\n        account:\n          $ref: \"#/components/schemas/accountReference\"\n        transactions:\n          $ref: \"#/components/schemas/accountReport\"\n        analytics:\n          $ref: \"#/components/schemas/analyticsReport\"\n\n    ultimateCreditor:\n      description: Ultimate Creditor.\n      type: string\n      maxLength: 70\n      example: \"Ultimate Creditor\"\n\n    ultimateDebtor:\n      description: Ultimate Debtor.\n      type: string\n      maxLength: 70\n      example: \"Ultimate Debtor\"\n\n  securitySchemes:\n    BearerAuthOAuth:\n      description: |\n        Bearer Token.\n      type: http\n      scheme: bearer\n    accessCode:\n      type: oauth2\n      flows:\n        authorizationCode:\n          authorizationUrl: 'http://example.com/oauth/auth'\n          tokenUrl: 'http://example.com/oauth/token'\n          scopes:\n            write: allows modifying resources\n            read: allows reading resources\n",
			"canonicalURL": "/github.com/adorsys/open-banking-gateway@d6b5b8ae4d3b475f57c71345978f836b708ef8b6/-/blob/opba-api-security-signer-generator/opba-api-security-signer-generator-impl/src/test/resources/api/tpp_banking_api_ais.yml",
			"externalURLs": [
				{
					"url": "https://github.com/adorsys/open-banking-gateway/blob/d6b5b8ae4d3b475f57c71345978f836b708ef8b6/opba-api-security-signer-generator/opba-api-security-signer-generator-impl/src/test/resources/api/tpp_banking_api_ais.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "parse: parse spec: parse components: at 1:15: schemas: \"accountList\": parse schema: property \"accounts\": at 1:5705: parse schema: item: at 1:5714: parse schema: resolve \"#/components/schemas/accountDetails\": parse schema: property \"bban\": at 1:3702: parse schema: resolve \"./tpp_banking_api_commons.yml#/components/schemas/bban\": external \"./tpp_banking_api_commons.yml\": file: local file reference is not allowed"
}