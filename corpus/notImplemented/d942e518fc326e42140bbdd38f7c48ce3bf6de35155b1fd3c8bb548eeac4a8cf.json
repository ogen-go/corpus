{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/WestDragon/ITAcademyFinance"
		},
		"file": {
			"name": "report-service.yaml",
			"size": 0,
			"path": "report-service.yaml",
			"byteSize": 13712,
			"content": "openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Управление личными финансами\n  contact:\n    name: ITAcademy\n    url: http://it-academy.by\n\nservers:\n  - url: http://{host}:{port}\n    description: custom server\n    variables:\n      host:\n        description: host name\n        default: localhost\n      port:\n        description: port value\n        default: \"8080\"\n\ntags:\n  - name: \"Отчёты\"\n    description: \"Построение отчётов по счетам и операциям\"\n\npaths:\n  /api/v1/report/{type}:\n    post:\n      tags:\n        - \"Отчёты\"\n      summary: \"Добавление нового отчёта\"\n      parameters:\n        - in: path\n          name: type\n          description: \"Тип отчёта\"\n          required: true\n          schema:\n            $ref: '#/components/schemas/ReportType'\n      requestBody:\n        $ref: \"#/components/requestBodies/CreateReport\"\n      responses:\n        '201':\n          description: Отчёт запущен\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n  /api/v1/report:\n    get:\n      tags:\n        - \"Отчёты\"\n      summary: \"Получить страницу отчётов\"\n      parameters:\n        - in: query\n          name: page\n          schema:\n            type: integer\n          description: Номер страницы\n          required: false\n        - in: query\n          name: size\n          schema:\n            type: integer\n          description: Размер страницы\n          required: false\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PageOfReport'\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n  /api/v1/account/{uuid}/export:\n    get:\n      tags:\n        - \"Отчёты\"\n      summary: Скачать сформированный отчёт\n      parameters:\n        - in: path\n          name: uuid\n          description: Идентификатор отчёта\n          schema:\n            type: string\n            format: uuid\n          required: true\n      responses:\n        '200':\n          description: OK\n          content:\n            text/plain:\n              schema:\n                type: string\n                format: binary\n                description: Файл\n          headers:\n            Content-Disposition:\n              schema:\n                type: string\n                description: Описание файла\n                example: 'attachment; filename=\"f43b1a97-dc00-40e2-9450-ace8d2416f3d\"'\n            Content-Type:\n              schema:\n                type: string\n                description: Описание типа контента\n                example: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        '204':\n          description: Сервер, по предоставленному uuid, не смог найти информацию\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n    head:\n      tags:\n        - \"Отчёты\"\n      summary: Проверка доступности сформированного отчёта\n      parameters:\n        - in: path\n          name: uuid\n          description: Идентификатор отчёта\n          schema:\n            type: string\n            format: uuid\n          required: true\n      responses:\n        '200':\n          description: OK\n        '204':\n          description: Сервер, по предоставленному uuid, не смог найти информацию\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n\n\ncomponents:\n  requestBodies:\n    CreateReport:\n      description: Параметры для создания отчёта\n      required: true\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - $ref: '#/components/schemas/ReportParamBalance'\n              - $ref: '#/components/schemas/ReportParamByDate'\n              - $ref: '#/components/schemas/ReportParamByCategory'\n\n  responses:\n    Bad_Request:\n      description: Запрос некорректен. Сервер не может обработать запрос\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - type: array\n                items:\n                  $ref: '#/components/schemas/t_single_error_response'\n              - $ref: '#/components/schemas/t_multiple_error_response'\n          examples:\n            t_single_error_response:\n              value:\n                - logref: error\n                  message:  Запрос содержит некорретные данные. Измените запрос и отправьте его ещё раз\n            t_multiple_error_response:\n              value:\n                logref: structured_error\n                errors:\n                  - field: time_unit\n                    message: Поле должно быть положительным числом\n    Unauthorized:\n      description: Для выполнения запроса на данный адрес требуется передать токен авторизации\n    Forbidden:\n      description: Данному токенту авторизации запрещено выполнять запроса на данный адрес\n    Internal_Server_Error:\n      description: Внутренняя ошибка сервера. Сервер не смог корректно обработать запрос\n      content:\n        applicaion/json:\n          schema:\n            type: array\n            items:\n              $ref: '#/components/schemas/t_single_error_response'\n          example:\n            - logref: error\n              message:  Сервер не смог корректно обработать запрос. Пожалуйста обратитесь к администратору\n  schemas:\n    Report:\n      type: object\n      description: Отчёт\n      required:\n        - description\n      allOf:\n        - $ref: '#/components/schemas/t_base_essence'\n      properties:\n        status:\n          type: string\n          description: |\n            Статус отчёта:\n              * `LOADED` - Ожидает формирования\n              * `PROGRESS` - Формирует\n              * `ERROR` - Ошибка формирование\n              * `DONE` - Сформирован\n          enum:\n            - LOADED\n            - PROGRESS\n            - ERROR\n            - DONE\n        type:\n          $ref: '#/components/schemas/ReportType'\n        description:\n          type: string\n          description: \"Описание параметров отчёта в человеческом формате\"\n          readOnly: true\n          example: \"Дата совершения операции: 01.01.2021 - 01.01.2022\"\n        params:\n          oneOf:\n            - $ref: '#/components/schemas/ReportParamBalance'\n            - $ref: '#/components/schemas/ReportParamByDate'\n            - $ref: '#/components/schemas/ReportParamByCategory'\n\n    ReportType:\n      type: string\n      description: |\n        Тип отчёта:\n          * `BALANCE` - Остатки по счетам\n          * `BY_DATE` - Выписка со счёта в разрезе дат\n          * `BY_CATEGORY` - Выписка со счёта в разрезе категории\n      enum:\n        - BALANCE\n        - BY_DATE\n        - BY_CATEGORY\n\n    ReportParamBalance:\n      type: object\n      description: Параметры запуска отчёта о балансе\n      properties:\n        accounts:\n          type: array\n          description: Аккаунты\n          items:\n            type: string\n            format: uuid\n\n    ReportParamByDate:\n      type: object\n      description: Параметры запуска отчёта в разрезе даты операции\n      properties:\n        accounts:\n          type: array\n          description: Аккаунты\n          items:\n            type: string\n            format: uuid\n        from:\n          description: Операции начиная с даты\n          type: string\n          format: date\n        to:\n          description: Операции заканчивая датой\n          type: string\n          format: date\n        categories:\n          type: array\n          description: Категории\n          items:\n            type: string\n            format: uuid\n    ReportParamByCategory:\n      type: object\n      description: Параметры запуска отчёта в разрезе категорий\n      properties:\n        accounts:\n          type: array\n          description: Аккаунты\n          items:\n            type: string\n            format: uuid\n        from:\n          description: Операции начиная с даты\n          type: string\n          format: date\n        to:\n          description: Операции заканчивая датой\n          type: string\n          format: date\n        categories:\n          type: array\n          description: Категории\n          items:\n            type: string\n            format: uuid\n\n    PageOfReport:\n      type: object\n      description: Отчёты\n      allOf:\n        - $ref: '#/components/schemas/t_page'\n      properties:\n        content:\n          type: array\n          items:\n            $ref: '#/components/schemas/Report'\n\n    t_base_essence:\n      type: object\n      description: Описание базовой сущности.\n      required:\n        - uuid\n        - dt_create\n        - dt_update\n      properties:\n        uuid:\n          description: Уникальный идентификатор сущности\n          type: string\n          format: uuid\n          readOnly: true\n        dt_create:\n          description: Дата создания сущности (linux time)\n          type: number\n          format: int64\n          readOnly: true\n        dt_update:\n          description: Дата последнего обновления сущности (linux time)\n          type: integer\n          format: int64\n          readOnly: true\n\n    t_page:\n      type: object\n      required:\n        - number\n        - size\n        - total_pages\n        - total_elements\n        - content\n        - first\n        - number_of_elements\n        - last\n      description: Страница с опросами\n      properties:\n        number:\n          type: integer\n          description: Номер страницы\n        size:\n          description: Размер страницы\n          type: integer\n        total_pages:\n          description: Количество страниц\n          type: integer\n        total_elements:\n          description: Количество записей\n          type: integer\n        first:\n          description: Признак является ли элемент первым\n          type: boolean\n        number_of_elements:\n          description: Количество элементов на странице\n          type: integer\n        last:\n          description: Признак является ли элемент последним\n          type: boolean\n\n    t_single_error_response:\n      type: object\n      description: Ошибка. Содержит общее описание ошибки\n      required:\n        - logref\n        - message\n      properties:\n        logref:\n          type: string\n          description: Тип ошибки\n          example: error\n        message:\n          description: Сообщение ошибки\n          type: string\n          example: Запрос содержит некорретные данные. Измените запрос и отправьте его ещё раз\n\n    t_multiple_error_response:\n      type: object\n      description: Ошибка. Содержит описание ошибок со ссылками на поля сущности\n      required:\n        - logref\n        - errors\n      properties:\n        logref:\n          type: string\n          description: Тип ошибки\n        errors:\n          description: Наименование ошибочного поля\n          type: array\n          items:\n            type: object\n            properties:\n              message:\n                type: string\n                description: Сообщение об ошибке\n                example: Поле должно быть положительным числом\n              field:\n                type: string\n                description: Наименование ошибочного поля\n                example: time_unit",
			"canonicalURL": "/github.com/WestDragon/ITAcademyFinance@970f15697bf6d2b9dd05fd0ba32919d04a359dbc/-/blob/report-service.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/WestDragon/ITAcademyFinance/blob/970f15697bf6d2b9dd05fd0ba32919d04a359dbc/report-service.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/api/v1/account/{uuid}/export\": get: responses: 500: contents: unsupported content types: [applicaion/json]",
	"NotImplemented": [
		"discriminator inference",
		"unsupported content types"
	]
}