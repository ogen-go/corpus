{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/RudolfCardinal/crate"
		},
		"file": {
			"name": "_crate_api_schema.yaml",
			"size": 0,
			"path": "docs/source/anonymisation/_crate_api_schema.yaml",
			"byteSize": 10507,
			"content": "openapi: 3.0.3\ninfo:\n  title: CRATE API\n  version: 0.0.1\n  description: Clinical Records Anonymisation and Text Extraction (CRATE)\npaths:\n  /anon_api/schema/:\n    get:\n      operationId: schema_retrieve\n      description: |-\n        OpenApi3 schema for this API. Format can be selected via content negotiation.\n\n        - YAML: application/vnd.oai.openapi\n        - JSON: application/vnd.oai.openapi+json\n      parameters:\n      - in: query\n        name: format\n        schema:\n          type: string\n          enum:\n          - json\n          - yaml\n      - in: query\n        name: lang\n        schema:\n          type: string\n          enum:\n          - af\n          - ar\n          - ar-dz\n          - ast\n          - az\n          - be\n          - bg\n          - bn\n          - br\n          - bs\n          - ca\n          - cs\n          - cy\n          - da\n          - de\n          - dsb\n          - el\n          - en\n          - en-au\n          - en-gb\n          - eo\n          - es\n          - es-ar\n          - es-co\n          - es-mx\n          - es-ni\n          - es-ve\n          - et\n          - eu\n          - fa\n          - fi\n          - fr\n          - fy\n          - ga\n          - gd\n          - gl\n          - he\n          - hi\n          - hr\n          - hsb\n          - hu\n          - hy\n          - ia\n          - id\n          - ig\n          - io\n          - is\n          - it\n          - ja\n          - ka\n          - kab\n          - kk\n          - km\n          - kn\n          - ko\n          - ky\n          - lb\n          - lt\n          - lv\n          - mk\n          - ml\n          - mn\n          - mr\n          - my\n          - nb\n          - ne\n          - nl\n          - nn\n          - os\n          - pa\n          - pl\n          - pt\n          - pt-br\n          - ro\n          - ru\n          - sk\n          - sl\n          - sq\n          - sr\n          - sr-latn\n          - sv\n          - sw\n          - ta\n          - te\n          - tg\n          - th\n          - tk\n          - tr\n          - tt\n          - udm\n          - uk\n          - ur\n          - uz\n          - vi\n          - zh-hans\n          - zh-hant\n      tags:\n      - schema\n      security:\n      - cookieAuth: []\n      - basicAuth: []\n      - {}\n      responses:\n        '200':\n          content:\n            application/vnd.oai.openapi:\n              schema:\n                type: object\n                additionalProperties: {}\n            application/yaml:\n              schema:\n                type: object\n                additionalProperties: {}\n            application/vnd.oai.openapi+json:\n              schema:\n                type: object\n                additionalProperties: {}\n            application/json:\n              schema:\n                type: object\n                additionalProperties: {}\n          description: ''\n  /anon_api/scrub/:\n    post:\n      operationId: scrub_create\n      description: Main CRATE anonymisation end-point.\n      tags:\n      - scrub\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Scrub'\n        required: true\n      security:\n      - cookieAuth: []\n      - basicAuth: []\n      - {}\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Scrub'\n          description: ''\ncomponents:\n  schemas:\n    Allowlist:\n      type: object\n      description: Represents allowlist options.\n      properties:\n        words:\n          type: array\n          items:\n            type: string\n          default: []\n          description: Do not scrub these specific words.\n        files:\n          type: array\n          items:\n            type: string\n          default: []\n          description: Do not scrub words from these filename aliases (defined on\n            the server).\n    Denylist:\n      type: object\n      description: Represents denylist options.\n      properties:\n        words:\n          type: array\n          items:\n            type: string\n          default: []\n          description: Scrub these specific words.\n        files:\n          type: array\n          items:\n            type: string\n          default: []\n          description: Scrub words from these filename aliases (defined on the server).\n    Scrub:\n      type: object\n      description: |-\n        Represents all scrubber settings, including data to be scrubbed and\n        scrubber configuration settings.\n      properties:\n        text:\n          type: object\n          additionalProperties:\n            type: string\n            description: Text to be scrubbed.\n          description: The lines of text to be scrubbed, each keyed on a unique ID\n            supplied by the caller.\n        patient:\n          allOf:\n          - $ref: '#/components/schemas/Specific'\n          description: Specific patient data to be scrubbed.\n        third_party:\n          allOf:\n          - $ref: '#/components/schemas/Specific'\n          description: Third party (e.g. family members') data to be scrubbed.\n        anonymise_codes_at_word_boundaries_only:\n          type: boolean\n          default: true\n          description: Ensure the codes to be scrubbed begin and end with a word boundary.\n        anonymise_dates_at_word_boundaries_only:\n          type: boolean\n          default: true\n          description: Ensure the codes to be scrubbed begin and end with a word boundary.\n        anonymise_numbers_at_word_boundaries_only:\n          type: boolean\n          default: false\n          description: Ensure the numbers to be scrubbed begin and end with a word\n            boundary.\n        anonymise_numbers_at_numeric_boundaries_only:\n          type: boolean\n          default: true\n          description: Ensure the numbers to be scrubbed begin and end with a numeric\n            boundary.\n        anonymise_strings_at_word_boundaries_only:\n          type: boolean\n          default: true\n          description: Ensure the numbers to be scrubbed begin and end with a word\n            boundary.\n        string_max_regex_errors:\n          type: integer\n          default: 0\n          description: The maximum number of typographical insertion/deletion/substitution\n            errors to permit.\n        min_string_length_for_errors:\n          type: integer\n          default: 3\n          description: The minimum string length at which typographical errors will\n            be permitted.\n        min_string_length_to_scrub_with:\n          type: integer\n          default: 2\n          description: Do not scrub strings shorter than this length.\n        scrub_string_suffixes:\n          type: array\n          items:\n            type: string\n          default: []\n          description: A list of suffixes to permit on strings. e.g. [\"s\"] for plural\n            forms.\n        allowlist:\n          allOf:\n          - $ref: '#/components/schemas/Allowlist'\n          description: Allowlist options.\n        denylist:\n          allOf:\n          - $ref: '#/components/schemas/Denylist'\n          description: Denylist options.\n        replace_patient_info_with:\n          type: string\n          default: '[__PPP__]'\n          description: Replace sensitive patient content with this.\n        replace_third_party_info_with:\n          type: string\n          default: '[__TTT__]'\n          description: Replace sensitive third party (e.g. family members') content\n            with this.\n        replace_nonspecific_info_with:\n          type: string\n          default: '[~~~]'\n          description: Replace any other sensitive content with this.\n        replace_all_dates_with:\n          type: string\n          description: When scrubbing all dates, replace with this text. If the replacement\n            text includes supported datetime.directives (%b, %B, %m, %Y, %y), the\n            date is 'blurred' to include just those components.\n        scrub_all_numbers_of_n_digits:\n          type: array\n          items:\n            type: integer\n          default: []\n          description: Scrub all numbers with these lengths (e.g. [10] for all UK\n            NHS numbers).\n        scrub_all_uk_postcodes:\n          type: boolean\n          default: false\n          description: Scrub all UK postcodes.\n        scrub_all_dates:\n          type: boolean\n          default: false\n          description: Scrub all dates. Currently assumes the default locale for month\n            names and ordinal suffixes.\n        alternatives:\n          type: array\n          items:\n            type: array\n            items:\n              type: string\n          default:\n          - []\n          description: 'List of alternative words to scrub. e.g.: [[\"Street\", \"St\"],\n            [\"Road\", \"Rd\"], [\"Avenue\", \"Ave\"]]'\n        anonymised:\n          type: object\n          additionalProperties:\n            type: string\n          readOnly: true\n          description: The anonymised text, keyed on the unique IDs supplied by the\n            caller in the 'text' parameter of the request.\n      required:\n      - anonymised\n      - text\n    Specific:\n      type: object\n      description: |-\n        Represents scrubbing information about a specific person or group of people\n        (e.g. patient data, third-party data).\n      properties:\n        dates:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of dates to be scrubbed.\n        phrases:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of phrases (words appearing consecutively) to be scrubbed.\n        non_numeric_phrases:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of phrases (words appearing consecutively) to be scrubbed.\n            If a phrase is purely numeric it will be ignored.\n        words:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of words to be scrubbed.\n        numbers:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of numbers to be scrubbed.\n        codes:\n          type: array\n          items:\n            type: string\n          default: []\n          description: List of codes (e.g. postcodes) to be scrubbed.\n  securitySchemes:\n    basicAuth:\n      type: http\n      scheme: basic\n    cookieAuth:\n      type: apiKey\n      in: cookie\n      name: sessionid\n",
			"canonicalURL": "/github.com/RudolfCardinal/crate@6a622fa0fbfface345c789d629db8c0ac65b600f/-/blob/docs/source/anonymisation/_crate_api_schema.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/RudolfCardinal/crate/blob/6a622fa0fbfface345c789d629db8c0ac65b600f/docs/source/anonymisation/_crate_api_schema.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/anon_api/schema/\": get: security: security \"cookieAuth\" (index 0): cookie security not implemented",
	"NotImplemented": [
		"cookie security"
	]
}