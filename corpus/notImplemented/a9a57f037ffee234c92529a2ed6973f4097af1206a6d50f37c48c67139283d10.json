{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/WestDragon/ITAcademyFinance"
		},
		"file": {
			"name": "account-scheduler-service.yaml",
			"size": 0,
			"path": "account-scheduler-service.yaml",
			"byteSize": 11841,
			"content": "openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Управление личными финансами\n  contact:\n    name: ITAcademy\n    url: http://it-academy.by\n\nservers:\n  - url: http://{host}:{port}\n    description: custom server\n    variables:\n      host:\n        description: host name\n        default: localhost\n      port:\n        description: port value\n        default: \"8080\"\n\ntags:\n  - name: \"Планирование операций\"\n    description: Планирование операций по счетам\n\npaths:\n  /api/v1/scheduler/operation:\n    post:\n      tags:\n        - \"Планирование операций\"\n      summary: \"Добавление запланированной операции по счёту\"\n      requestBody:\n        $ref: \"#/components/requestBodies/CreateScheduledOperation\"\n      responses:\n        '201':\n          description: Операция добавлена к счёту\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n    get:\n      tags:\n        - \"Планирование операций\"\n      summary: \"Получить страницу запланированных операций по счёту\"\n      parameters:\n        - in: query\n          name: page\n          schema:\n            type: integer\n          description: Номер страницы\n          required: false\n        - in: query\n          name: size\n          schema:\n            type: integer\n          description: Размер страницы\n          required: false\n        - in: query\n          name: uuid\n          description: \"Идентификаторы счётов по которым получаем запланированные операции\"\n          schema:\n            type: array\n            items:\n              type: string\n              format: uuid\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PageOfScheduledOperation'\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n  /api/v1/scheduler/operation/{uuid}/dt_update/{dt_update}:\n    put:\n      tags:\n        - \"Планирование операций\"\n      summary: Редактировать информацию о запланированной операции\n      parameters:\n        - in: path\n          name: uuid\n          description: Идентификатор операции которую редактируем\n          required: true\n          schema:\n            type: string\n            format: uuid\n        - in: path\n          name: dt_update\n          required: true\n          schema:\n            type: string\n            format: int64\n          description: Дата последнего обновления записи\n      requestBody:\n        $ref: \"#/components/requestBodies/CreateScheduledOperation\"\n      responses:\n        '200':\n          description: Запланированная операция изменена\n        '400':\n          $ref: '#/components/responses/Bad_Request'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '500':\n          $ref: '#/components/responses/Internal_Server_Error'\n\ncomponents:\n  requestBodies:\n    CreateScheduledOperation:\n      description: Тело для создания операции по счёту\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ScheduledOperation'\n\n  responses:\n    Bad_Request:\n      description: Запрос некорректен. Сервер не может обработать запрос\n      content:\n        application/json:\n          schema:\n            oneOf:\n              - type: array\n                items:\n                  $ref: '#/components/schemas/t_single_error_response'\n              - $ref: '#/components/schemas/t_multiple_error_response'\n          examples:\n            t_single_error_response:\n              value:\n                - logref: error\n                  message:  Запрос содержит некорретные данные. Измените запрос и отправьте его ещё раз\n            t_multiple_error_response:\n              value:\n                logref: structured_error\n                errors:\n                  - field: time_unit\n                    message: Поле должно быть положительным числом\n    Unauthorized:\n      description: Для выполнения запроса на данный адрес требуется передать токен авторизации\n    Forbidden:\n      description: Данному токенту авторизации запрещено выполнять запроса на данный адрес\n    Internal_Server_Error:\n      description: Внутренняя ошибка сервера. Сервер не смог корректно обработать запрос\n      content:\n        applicaion/json:\n          schema:\n            type: array\n            items:\n              $ref: '#/components/schemas/t_single_error_response'\n          example:\n            - logref: error\n              message:  Сервер не смог корректно обработать запрос. Пожалуйста обратитесь к администратору\n  schemas:\n\n    ScheduledOperation:\n      type: object\n      description: Операция над счётом\n      allOf:\n        - $ref: '#/components/schemas/t_base_essence'\n      properties:\n        schedule:\n          $ref: '#/components/schemas/Schedule'\n        operation:\n          $ref: '#/components/schemas/Operation'\n\n    Operation:\n      type: object\n      description: Данные по операции\n      properties:\n        account:\n          description: Уникальный идентификатор счёта\n          type: string\n          format: uuid\n        description:\n          type: string\n          description: \"Описание операции\"\n        value:\n          type: number\n          description: |\n            Сумма операции:\n              * Отрицательная сумма - списание\n              * Положительная - пополнение\n        currency:\n          type: string\n          format: uuid\n          description: Валюта операции\n        category:\n          type: string\n          format: uuid\n          description: Категория операции\n            \n\n    Schedule:\n      type: object\n      description: Настройки работы\n      properties:\n        start_time:\n          description: Дата исполнения запланированной операции (linux time)\n          type: integer\n          format: int64\n        stop_time:\n          description: Дата окончания исполнения запланированной операции (linux time)\n          type: integer\n          format: int64\n        interval:\n          description: Интервал с которым должна происходить операция\n          type: integer\n          format: int64\n        time_unit:\n          type: string\n          description: |\n            Расписание:\n              * `SECOND` - Секунды\n              * `MINUTE` - Минуты\n              * `HOUR` - Часы\n              * `DAY` - Дни\n              * `WEEK` - Недели\n              * `MONTH` - Месяцы\n              * `YEAR` - Года\n          enum:\n            - \"SECOND\"\n            - \"MINUTE\"\n            - \"HOUR\"\n            - \"DAY\"\n            - \"WEEK\"\n            - \"MONTH\"\n            - \"YEAR\"\n\n    PageOfScheduledOperation:\n      type: object\n      description: Операции\n      allOf:\n        - $ref: '#/components/schemas/t_page'\n      properties:\n        content:\n          type: array\n          items:\n            $ref: '#/components/schemas/ScheduledOperation'\n\n    t_base_essence:\n      type: object\n      description: Описание базовой сущности.\n      required:\n        - uuid\n        - dt_create\n        - dt_update\n      properties:\n        uuid:\n          description: Уникальный идентификатор сущности\n          type: string\n          format: uuid\n          readOnly: true\n        dt_create:\n          description: Дата создания сущности (linux time)\n          type: number\n          format: int64\n          readOnly: true\n        dt_update:\n          description: Дата последнего обновления сущности (linux time)\n          type: integer\n          format: int64\n          readOnly: true\n\n    t_page:\n      type: object\n      required:\n        - number\n        - size\n        - total_pages\n        - total_elements\n        - content\n        - first\n        - number_of_elements\n        - last\n      description: Страница с опросами\n      properties:\n        number:\n          type: integer\n          description: Номер страницы\n        size:\n          description: Размер страницы\n          type: integer\n        total_pages:\n          description: Количество страниц\n          type: integer\n        total_elements:\n          description: Количество записей\n          type: integer\n        first:\n          description: Признак является ли элемент первым\n          type: boolean\n        number_of_elements:\n          description: Количество элементов на странице\n          type: integer\n        last:\n          description: Признак является ли элемент последним\n          type: boolean\n\n    t_single_error_response:\n      type: object\n      description: Ошибка. Содержит общее описание ошибки\n      required:\n        - logref\n        - message\n      properties:\n        logref:\n          type: string\n          description: Тип ошибки\n          example: error\n        message:\n          description: Сообщение ошибки\n          type: string\n          example: Запрос содержит некорретные данные. Измените запрос и отправьте его ещё раз\n\n    t_multiple_error_response:\n      type: object\n      description: Ошибка. Содержит описание ошибок со ссылками на поля сущности\n      required:\n        - logref\n        - errors\n      properties:\n        logref:\n          type: string\n          description: Тип ошибки\n        errors:\n          description: Наименование ошибочного поля\n          type: array\n          items:\n            type: object\n            properties:\n              message:\n                type: string\n                description: Сообщение об ошибке\n                example: Поле должно быть положительным числом\n              field:\n                type: string\n                description: Наименование ошибочного поля\n                example: time_unit",
			"canonicalURL": "/github.com/WestDragon/ITAcademyFinance@970f15697bf6d2b9dd05fd0ba32919d04a359dbc/-/blob/account-scheduler-service.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/WestDragon/ITAcademyFinance/blob/970f15697bf6d2b9dd05fd0ba32919d04a359dbc/account-scheduler-service.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/api/v1/scheduler/operation\": get: responses: 500: contents: unsupported content types: [applicaion/json]",
	"NotImplemented": [
		"unsupported content types"
	]
}