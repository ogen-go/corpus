{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Nexmo/api-specification"
		},
		"file": {
			"name": "subaccounts.yml",
			"size": 0,
			"path": "definitions/subaccounts.yml",
			"byteSize": 26754,
			"content": "openapi: 3.0.0\nservers:\n  - url: \"https://api.nexmo.com/accounts\"\ninfo:\n  version: 1.0.8\n  title: Subaccounts API\n  description: \u003e-\n    The Subaccounts API enables you to create subaccounts under your primary account. Subaccounts facilitate differential product configuration, reporting, and billing. The Subaccounts API is released initially with restricted availability. You can read more about the API in the [Subaccounts documentation](/account/subaccounts/overview).\n  contact:\n    name: Vonage DevRel\n    email: devrel@vonage.com\n    url: \"https://developer.nexmo.com/\"\npaths:\n  /{api_key}/subaccounts:\n    get:\n      summary: Retrieve list of subaccounts\n      operationId: retrieveSubaccountsList\n      description: \u003e\n        Get the information of all the subaccounts owned by the primary account.\n      tags:\n        - Subaccount Management\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Subaccounts response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SubaccountsAllResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n    post:\n      summary: Create subaccount\n      operationId: createSubAccount\n      description: \u003e\n        Create a subaccount for a given primary account.\n      tags:\n        - Subaccount Management\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/NewSubaccountRequest\"\n      responses:\n        \"200\":\n          description: Subaccount response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SubaccountCreateResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityError\"\n  /{api_key}/subaccounts/{subaccount_key}:\n    get:\n      summary: Retrieve a subaccount\n      operationId: retrieveSubaccount\n      description: \u003e\n        Get the information of a subaccount specified with its API key.\n      tags:\n        - Subaccount Management\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n        - name: subaccount_key\n          in: path\n          description: ID of the subaccount\n          required: true\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: Subaccount response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SubaccountResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n    patch:\n      summary: Modify a subaccount\n      operationId: modifySubaccount\n      description: \u003e\n        Change one or more properties of a subaccount.\n      tags:\n        - Subaccount Management\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n        - name: subaccount_key\n          in: path\n          description: ID of the subaccount\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/ModifySubaccountRequest\"\n      responses:\n        \"200\":\n          description: Subaccount response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/SubaccountResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityError\"\n  /{api_key}/credit-transfers:\n    get:\n      summary: Retrieve list of credit transfers\n      operationId: retrieveCreditTransfers\n      description: \u003e\n        Retrieve a list of credit transfers that have taken place for a primary account within a specified time period.\n      tags:\n        - Transfers\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account.\n          required: true\n          schema:\n            type: string\n        - name: start_date\n          in: query\n          description: Start of the retrieval period.\n          required: true\n          schema:\n            type: string\n          example: \"2019-07-15T13:11:44Z\"\n        - name: end_date\n          in: query\n          description: End of the retrieval period. If absent then all transfers until now is returned.\n          required: false\n          schema:\n            type: string\n          example: \"2019-07-15T14:11:44Z\"\n        - name: subaccount\n          in: query\n          description: Subaccount to filter by. You may send this multiple times to filter on multiple subaccounts\n          required: false\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: List credit transfers response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ListCreditTransfersResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n    post:\n      summary: Transfer credit\n      operationId: transferCredit\n      description: \u003e\n        Transfer credit limit between a primary account and one of its subaccounts.\n      tags:\n        - Transfers\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TransferBalanceOrCreditRequest\"\n      responses:\n        \"200\":\n          description: Credit transfer response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferCreditResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityError\"\n  /{api_key}/balance-transfers:\n    get:\n      summary: Retrieve list of balance transfers\n      operationId: retrieveBalanceTransfers\n      description: \u003e\n        Retrieve a list of balance transfers that have taken place for a primary account within a specified time period.\n      tags:\n        - Transfers\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account.\n          required: true\n          schema:\n            type: string\n        - name: start_date\n          in: query\n          description: Start of the retrieval period.\n          required: true\n          schema:\n            type: string\n          example: \"2019-07-15T13:11:44Z\"\n        - name: end_date\n          in: query\n          description: End of the retrieval period. If absent then all transfers until now is returned.\n          required: false\n          schema:\n            type: string\n          example: \"2019-07-15T14:11:44Z\"\n        - name: subaccount\n          in: query\n          description: Subaccount to filter by. You may send this multiple times to filter on multiple subaccounts\n          required: false\n          schema:\n            type: string\n      responses:\n        \"200\":\n          description: List balance transfers response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ListBalanceTransfersResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n    post:\n      summary: Transfer balance\n      description: \u003e\n        Transfer balance between a primary account and one of its subaccounts.\n        Note that balance_available_for_transfer = |account_balance - credit_limit| of the source account.\n      tags:\n        - Transfers\n      security:\n        - basicAuth: []\n      operationId: transferBalance\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TransferBalanceOrCreditRequest\"\n      responses:\n        \"200\":\n          description: Balance transfer response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferBalanceResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          $ref: \"#/components/responses/ForbiddenError\"\n        \"404\":\n          $ref: \"#/components/responses/AccountIdNotFoundError\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityError\"\n  /{api_key}/transfer-number:\n    post:\n      summary: Transfer number\n      operationId: transferNumber\n      description: \u003e\n        Transfer number from one account to another.\n      tags:\n        - Transfers\n      security:\n        - basicAuth: []\n      parameters:\n        - name: api_key\n          in: path\n          description: ID of the primary account.\n          required: true\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/TransferNumberRequest\"\n      responses:\n        \"200\":\n          description: Number transfer response\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferNumberResponse\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n        \"403\":\n          description: Action is forbidden\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: \"#/components/schemas/UnprovisionedErrorResponse\"\n                  - $ref: \"#/components/schemas/InvalidNumberTransferErrorResponse\"\n        \"404\":\n          description: Action is forbidden\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: \"#/components/responses/AccountIdNotFoundError/content/application~1json/schema\"\n                  - $ref: \"#/components/schemas/ShortcodeNotFound\"\n        \"409\":\n          $ref: \"#/components/responses/NumberTransferConflictResponse\"\n        \"422\":\n          $ref: \"#/components/responses/UnprocessableEntityError\"\ntags:\n  - name: Subaccount Management\n    description: This section shows how you can create, retrieve and modify subaccounts of a primary account.\n  - name: Transfers\n    description: This section shows how you execute credit, balance and number transfers, as well as viewing past transactions.\ncomponents:\n  securitySchemes:\n    basicAuth:\n      type: http\n      scheme: basic\n  responses:\n    UnauthorizedError:\n      description: Credential is missing or invalid\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - type\n              - title\n              - detail\n              - instance\n            properties:\n              type:\n                type: string\n                example: \"https://developer.nexmo.com/api-errors#unauthorized\"\n              title:\n                type: string\n                example: \"Invalid credentials supplied\"\n              detail:\n                type: string\n                example: \"You did not provide correct credentials\"\n              instance:\n                type: string\n                example: \"798b8f199c45014ab7b08bfe9cc1c12c\"\n    ForbiddenError:\n      description: Action is forbidden\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/UnprovisionedErrorResponse\"\n    AccountIdNotFoundError:\n      description: The account ID provided does not exist in our system or you do not have access\n      content:\n        application/json:\n          schema:\n            description: Invalid API Key\n            type: object\n            required:\n              - type\n              - title\n              - detail\n              - instance\n            properties:\n              type:\n                type: string\n                example: \"https://developer.nexmo.com/api-errors#invalid-api-key\"\n              title:\n                type: string\n                example: \"Invalid API Key\"\n              detail:\n                type: string\n                example: \"API key 'acc6111f' does not exist, or you do not have access\"\n              instance:\n                type: string\n                example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    NumberTransferConflictResponse:\n      description: Conflict\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - type\n              - title\n              - detail\n              - instance\n            properties:\n              type:\n                type: string\n                example: \"https://developer.nexmo.com/api-errors/subaccounts#transfer-conflict\"\n              title:\n                type: string\n                example: \"Transfer Conflict\"\n              detail:\n                type: string\n                example: \"Could not transfer number {number} from account {from} to {to} - ShortCode is already owned by requesting account\"\n              instance:\n                type: string\n                example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    UnprocessableEntityError:\n      description: Validation Error\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - type\n              - title\n              - detail\n              - invalid_parameters\n              - instance\n            properties:\n              type:\n                type: string\n                example: \"https://developer.nexmo.com/api-errors/subaccounts#validation\"\n              title:\n                type: string\n                example: \"Bad Request\"\n              detail:\n                type: string\n                example: \"The request failed due to validation errors\"\n              invalid_parameters:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    name:\n                      type: string\n                      example: \"use_primary_account_balance\"\n                    reason:\n                      type: string\n                      example: \"Should be either 'true' or 'false'\"\n              instance:\n                type: string\n                example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    InternalError:\n      description: An internal error has occurred\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - type\n              - title\n              - detail\n              - instance\n            properties:\n              type:\n                type: string\n                example: \"https://developer.nexmo.com/api-errors#internal-error\"\n              title:\n                type: string\n                example: \"Internal Error\"\n              detail:\n                type: string\n                example: \"An internal error occurred. Please try again shortly\"\n              instance:\n                type: string\n                example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n  schemas:\n    UnprovisionedErrorResponse:\n      description: Unprovisioned\n      type: object\n      required:\n        - type\n        - title\n        - detail\n        - instance\n      properties:\n        type:\n          type: string\n          example: \"https://developer.nexmo.com/api-errors#unprovisioned\"\n        title:\n          type: string\n          example: \"Authorisation error\"\n        detail:\n          type: string\n          example: \"Account acc6111f is not provisioned to access Subaccount Provisioning API\"\n        instance:\n          type: string\n          example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    ShortcodeNotFound:\n      description: Shortcode Not Found\n      type: object\n      required:\n        - type\n        - title\n        - detail\n        - instance\n      properties:\n        type:\n          type: string\n          example: \"https://developer.nexmo.com/api-errors/subaccounts#missing-number-transfer\"\n        title:\n          type: string\n          example: \"Invalid Number Transfer\"\n        detail:\n          type: string\n          example: \"Could not transfer number {number} from account {from} to {to} - ShortCode not found\"\n        instance:\n          type: string\n          example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    InvalidNumberTransferErrorResponse:\n      description: Invalid Transfer\n      type: object\n      required:\n        - type\n        - title\n        - detail\n        - instance\n      properties:\n        type:\n          type: string\n          example: \"https://developer.nexmo.com/api-errors/subaccounts#invalid-number-transfer\"\n        title:\n          type: string\n          example: \"Invalid Number Transfer\"\n        detail:\n          type: string\n          example: \"Failed to perform transfer number {number} from account {from} to {to} - The relationship between these two accounts does not allow for number transfer\"\n        instance:\n          type: string\n          example: \"158b8f199c45014ab7b08bfe9cc1c12c\"\n    SubaccountsAllResponse:\n      properties:\n        _embedded:\n          type: object\n          properties:\n            primary_account:\n              $ref: \"#/components/schemas/SubaccountResponse\"\n            subaccounts:\n              type: array\n              items:\n                $ref: \"#/components/schemas/SubaccountResponse\"\n    SubaccountResponse:\n      properties:\n        api_key:\n          example: \"bbe6222f\"\n          type: string\n          description: \u003e-\n            Unique subaccount ID.\n        name:\n          type: string\n          example: \"Subaccount department A\"\n          description: \u003e-\n            Name of the subaccount.\n        primary_account_api_key:\n          example: \"acc6111f\"\n          type: string\n          description: \u003e-\n            Unique primary account ID.\n        use_primary_account_balance:\n          example: true\n          type: boolean\n          description: \u003e-\n            Flag showing if balance is shared with primary account.\n        created_at:\n          example: \"2018-03-02T16:34:49Z\"\n          type: string\n          description: \u003e-\n            Subaccount creation date and time.\n        suspended:\n          example: false\n          type: boolean\n          description: \u003e-\n            Subaccount suspension status.\n        balance:\n          example: 100.25\n          type: number\n          description: \u003e-\n            Balance of the subAccount. Value is null if balance is shared with primary account.\n        credit_limit:\n          example: -100.25\n          type: number\n          description: \u003e-\n            Credit limit of the subAccount. Value is null if balance is shared with primary account.\n    SubaccountCreateResponse:\n      allOf:\n        - properties:\n            secret:\n              type: string\n              example: \"Password123\"\n              description: \u003e-\n                API secret of the subaccount.\n        - $ref: \"#/components/schemas/SubaccountResponse\"\n    TransferCreditResponse:\n      properties:\n        credit_transfer_id:\n          example: \"07b5-46e1-a527-85530e625800\"\n          type: string\n          description: \u003e-\n            Unique credit transfer ID\n        amount:\n          example: 123.45\n          type: number\n          description: \u003e-\n            Credit transfer amount\n        from:\n          example: \"7c9738e6\"\n          type: string\n          description: \u003e-\n            Account the credit is transferred from\n        to:\n          example: \"ad6dc56f\"\n          type: string\n          description: \u003e-\n            Account the credit is transferred to\n        reference:\n          example: \"This gets added to the audit log\"\n          type: string\n          description: \u003e-\n            Reference for the credit transfer\n        created_at:\n          example: \"2019-03-02T16:34:49Z\"\n          type: string\n          description: \u003e-\n            The date and time when the credit transfer was executed\n    TransferBalanceResponse:\n      properties:\n        balance_transfer_id:\n          example: \"07b5-46e1-a527-85530e625800\"\n          type: string\n          description: \u003e-\n            Unique balance transfer ID\n        amount:\n          example: 123.45\n          type: number\n          description: \u003e-\n            Balance transfer amount\n        from:\n          example: \"7c9738e6\"\n          type: string\n          description: \u003e-\n            Account the balance is transferred from\n        to:\n          example: \"ad6dc56f\"\n          type: string\n          description: \u003e-\n            Account the balance is transferred to\n        reference:\n          example: \"This gets added to the audit log\"\n          type: string\n          description: \u003e-\n            Reference for the balance transfer\n        created_at:\n          example: \"2019-03-02T16:34:49Z\"\n          type: string\n          description: \u003e-\n            The date and time when the balance transfer was executed\n    TransferNumberResponse:\n      properties:\n        number:\n          example: \"235077036\"\n          type: string\n          description: \u003e-\n            Number transfered\n        country:\n          example: \"GB\"\n          type: string\n          description: \u003e-\n            The two character country code in ISO 3166-1 alpha-2 format\n        from:\n          example: \"7c9738e6\"\n          type: string\n          description: \u003e-\n            Account the number is transferred from\n        to:\n          example: \"ad6dc56f\"\n          type: string\n          description: \u003e-\n            Account the number is transferred to\n    ListCreditTransfersResponse:\n      properties:\n        _embedded:\n          type: object\n          properties:\n            credit-transfers:\n              type: array\n              items:\n                $ref: \"#/components/schemas/TransferCreditResponse\"\n    ListBalanceTransfersResponse:\n      properties:\n        _embedded:\n          type: object\n          properties:\n            balance_transfers:\n              type: array\n              items:\n                $ref: \"#/components/schemas/TransferBalanceResponse\"\n    NewSubaccountRequest:\n      type: object\n      required:\n        - name\n      properties:\n        name:\n          type: string\n          maxLength: 80\n          example: \"Subaccount department A\"\n        secret:\n          type: string\n          example: \"Password123\"\n        use_primary_account_balance:\n          type: boolean\n          example: false\n          default: true\n    ModifySubaccountRequest:\n      type: object\n      properties:\n        suspended:\n          type: boolean\n          example: true\n        use_primary_account_balance:\n          type: boolean\n          example: false\n        name:\n          type: string\n          example: \"Subaccount department B\"\n    TransferBalanceOrCreditRequest:\n      type: object\n      properties:\n        from:\n          type: string\n          example: \"7c9738e6\"\n        to:\n          type: string\n          example: \"ad6dc56f\"\n        amount:\n          type: number\n          example: \"123.45\"\n        reference:\n          type: string\n          example: \"This gets added to the audit log\"\n      required:\n        - from\n        - to\n        - amount\n    TransferNumberRequest:\n      type: object\n      properties:\n        from:\n          type: string\n          example: \"7c9738e6\"\n        to:\n          type: string\n          example: \"ad6dc56f\"\n        number:\n          type: number\n          example: \"23507703696\"\n        country:\n          type: string\n          example: \"GB\"\n\nx-errors:\n  validation:\n    description: The request failed due to validation errors\n    resolution: See the `detail` (and, if present, the `invalid_parameters`) fields for the exact reason this request was rejected and review the documentation.\n    link:\n      text: View API reference\n      url: /api/subaccounts\n  valid-transfers:\n    description: Invalid transfer\n    resolution: See the `detail` field for the reason this transfer is invalid.\n    link:\n      text: View API reference\n      url: /api/subaccounts#transferCredit\n  provisioning:\n    description: Maximum number of sub-accounts reached\n    resolution: If you need more subaccounts, contact [Vonage Support](https://support.vonage.co.uk/contactus).\n  internal-error:\n    description: An error has occurred in the platform while processing this request\n    resolution: If the error persists, contact [Vonage Support](https://support.vonage.co.uk/contactus).\n",
			"canonicalURL": "/github.com/Nexmo/api-specification@133467f46227752b81ab3e50e842fc87a87b78bf/-/blob/definitions/subaccounts.yml",
			"externalURLs": [
				{
					"url": "https://github.com/Nexmo/api-specification/blob/133467f46227752b81ab3e50e842fc87a87b78bf/definitions/subaccounts.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/{api_key}/transfer-number\": post: responses: 403: contents: application/json: generate schema: oneOf: oneOf TransferNumberForbidden: variant InvalidNumberTransferErrorResponse: no unique fields, unable to parse without discriminator: discriminator inference not implemented",
	"NotImplemented": [
		"discriminator inference"
	]
}