{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Ptt-official-app/Ptt-backend"
		},
		"file": {
			"name": "swagger.yaml",
			"size": 0,
			"path": "swagger.yaml",
			"byteSize": 28490,
			"content": "openapi: 3.0.0\ninfo:\n  title: 'PTT 後端系統協定'\n  description: '最新版文件請見此處：https://docs.google.com/document/d/18DsZOyrlr5BIl2kKxZH7P2QxFLG02xL2SO0PzVHVY3k/'\n  version: 0.0.1\n\nservers:\n  - url: https://pttapp.cc\n  - url: http://localhost:8080\n  - url: https://localhost:8080\n\ncomponents:\n  securitySchemes:\n    BasicAuth: # \u003c-- arbitrary name for the security scheme\n      type: http\n      scheme: basic\n    BearerAuth:\n      type: http\n      scheme: bearer\n  schemas:\n    BoardObjectInResponse:\n      type: object\n      properties:\n        type:\n          type: string\n          example: 'board'\n        _bid:\n          type: string\n          description: '在BBS內部儲存空間的索引，參考用'\n        board_id:\n          type: string\n          description: '看板ID'\n    LineObjectInResponse:\n      type: object\n      properties:\n        type:\n          type: string\n          example: 'line'\n    FolderObjectInResponse:\n      type: object\n      properties:\n        type:\n          type: string\n          example: 'folder'\n        title:\n          type: string\n        items:\n          type: array\n          items:\n            anyOf:\n              - $ref: '#/components/schemas/BoardObjectInResponse'\n    BoardDetailsInResponse:\n      type: object\n      properties:\n        id:\n          type: string\n          description: '看板或是分類ID'\n        type:\n          type: string\n          description: '指示為看板或者是分類， board 代表看板，class 代表分類，回傳型別為字串。'\n        title:\n          type: string\n          description: '看板標題'\n        number_of_user:\n          type: integer\n          format: int64\n          description: '看板使用者數量'\n        moderators:\n          description: '版主列表，回傳型別為字串陣列'\n          type: array\n          items:\n            type: string\n    PushRecord:\n      type: object\n      properties:\n        type:\n          type: string\n        id:\n          type: string\n        ip_address:\n          type: string\n        text:\n          type: string\n        time:\n          type: string\n          format: date-time\n    ArticleObjectInResponse:\n      properties:\n        filename:\n          type: string\n          description: '檔案名稱，Filename ，例如M.1161080752.A.241。'\n        modified_time:\n          type: string\n          format: date-time\n          description: '修改時間'\n        recommend_count:\n          type: integer\n          format: int64\n          description: '推文數'\n        post_date:\n          type: string\n          format: date\n          description: '發文時間，以01/02表示'\n        title:\n          type: string\n          description: '文章標題'\n        money:\n          type: integer\n          description: '文章稿費'\n        aid:\n          type: string\n          description: '文章代碼(AID)，例如 #15DA-m91。'\n        url:\n          type: string\n          description: '文章網址'\n    UserPreferencesObjectInResponse:\n      properties:\n        favorite_no_highlight:\n          type: string\n        favorite_add_new:\n          type: string\n        friend:\n          type: string\n        board_sort:\n          type: string\n        ad_banner:\n          type: string\n        ad_banner_user_song:\n          type: string\n        dbcs_aware:\n          type: string\n        dbcs_no_interupting_escape:\n          type: string\n        dbcs_drop_repeat:\n          type: string\n        no_modification_mark:\n          type: string\n        colored_modification_mark:\n          type: string\n        default_backup:\n          type: string\n        new_angel_pager:\n          type: string\n        reject_outside_mail:\n          type: string\n        secure_login:\n          type: string\n        foreign:\n          type: string\n        live_right:\n          type: string\n        menu_lightbar:\n          type: string\n        cursor_ascii:\n          type: string\n        pager_ui:\n          type: string\n\n  parameters:\n    UserIdParam: # \u003c-- Arbitrary name for the definition that will be used to refer to it.\n                 # Not necessarily the same as the parameter name.\n      name: user_id\n      in: path\n      required: true\n      description: '使用者 id'\n      schema:\n        type: string\n\npaths:\n  /v1/token:\n    post:\n      summary: 登入以取得 Access Token 。\n      security:\n        - BasicAuth: [ ]\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                username:\n                  type: string\n                password:\n                  type: string\n                grant_type:\n                  type: string\n                  enum: [\"password\"]\n              required:\n                - username\n                - password\n                - grant_type\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  access_token:\n                    type: string\n                    example: token\n                  refresh_token:\n                    type: string\n                    example: token\n                    description: \"用來更新短效期的 access token，請參考 OAuth 2.0 標準 (RFC 6749)\"\n                  expires_in:\n                    type: integer\n                    example: 1612540800\n                    description: \"access token 的過期時效，以秒為單位，請參考 OAuth 2.0 標準 (RFC 6749)。\"\n                  token_type:\n                    type: string\n                    enum: [\"bearer\"]\n                    description: \"固定為 bearer\"\n      tags:\n        - 使用者部分\n\n  /v1/users/{user_id}/information:\n    get:\n      summary: '取得使用者資訊，包括上次上站位置等'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - $ref: '#/components/parameters/UserIdParam'\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      user_id:\n                        type: string\n                        description: '使用者 id'\n                      nickname:\n                        type: string\n                        description: '使用者暱稱'\n                      realname:\n                        type: string\n                        description: '使用者真實姓名，僅本人可見  [需檢討可讀權限]'\n                      number_of_login_days:\n                        type: string\n                        description: '上線日數'\n                      number_of_posts:\n                        type: integer\n                        format: int64\n                        description: '貼文次數'\n                      number_of_badposts:\n                        type: integer\n                        format: int64\n                        description: '劣文次數'\n                      money:\n                        type: integer\n                        format: int64\n                        description: '金錢數量，或稱 P幣數量，僅互加好友可見 [需檢討可讀權限]'\n                      money_description:\n                        type: string\n                        description: '金錢描述，由後端設定的財富等級，以UTF-8中文表示'\n                      last_login_time:\n                        type: string\n                        format: date-time\n                        description: '上次上線時間，以時間方式表示'\n                      last_login_ipv4:\n                        type: string\n                        description: '上次登入IP，原先固定欄位的 IPv4 IP，未來可能被棄置'\n                      last_login_ip:\n                        type: string\n                        description: '上次登入IP，有可能顯示 IPv6 IP 的上線 IP'\n                      last_login_country:\n                        type: string\n                        description: '上次登入國家'\n                      mailbox_description:\n                        type: string\n                        description: '信箱狀態表示文字（延後實作）'\n                      chess_status:\n                        type: object\n                        description: '棋類輸贏狀態表示（延後實作） five: 五子棋 chinese_chess: 中國象棋 conn6: 六子棋 go: 圍棋 dark: 暗棋'\n                        properties:\n                          five:\n                            type: object\n                            properties:\n                              win:\n                                type: integer\n                                format: int64\n                              lose:\n                                type: integer\n                                format: int64\n                              tie:\n                                type: integer\n                                format: int64\n                      plan:\n                        type: object\n                        description: '簽名檔，有可能被稱作計畫檔，原則上可能有16行'\n                        properties:\n                          raw:\n                            type: string\n                          text:\n                            type: string\n                          color_map:\n                            type: string\n      tags:\n        - 使用者部分\n\n  /v1/users/{user_id}/favorites:\n    get:\n      summary: '我的最愛列表'\n      description: '使用者的我的最愛列表，原則上權限僅供取得使用者本人的最愛資料。解析此資料的成本較高，因此實作上會考慮帶上 Last Modified Header，請在第二次索取相同的資料時附上  。'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - $ref: '#/components/parameters/UserIdParam'\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          anyOf:\n                            - $ref: '#/components/schemas/BoardObjectInResponse'\n                            - $ref: '#/components/schemas/LineObjectInResponse'\n                            - $ref: '#/components/schemas/FolderObjectInResponse'\n      tags:\n        - 使用者部分\n\n    post:\n      summary: '修改我的最愛項目'\n      description: '新增，刪除，修改我的最愛項目，看板、分隔線或是資料夾'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - $ref: '#/components/parameters/UserIdParam'\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                action:\n                  type: string\n                  enum: [ 'modify_folder_title', 'modify_order', 'delete_favorite', 'add_favorite' ]\n                position:\n                  type: string\n                  description: '要移動到的位置，如果該位置上已經有東西了，該位置以及後面的東西編號會直接增加，向後移動。如果沒指定或是指定為0會放在該層最後。 例如 2.1.0 會放在第二個項目的第一個項目中的最後面'\n                type:\n                  type: string\n                  description: '項目類型 board: 看板 line: 分隔線 folder: 資料夾'\n                board_id:\n                  type: string\n                title:\n                  type: string\n                fav_target:\n                  type: string\n                  description: '刪除我的最愛時的目標編號，以 1 開始。 如有資料夾以 . 做分隔，例如 2.1.3 代表第二個項目的第一個項目裡面的第三個項目'\n                new_title:\n                  type: string\n              required:\n                - action\n                - position\n                - type\n                - board_id\n                - title\n                - fav_target\n                - new_title\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          anyOf:\n                            - $ref: '#/components/schemas/BoardObjectInResponse'\n                            - $ref: '#/components/schemas/LineObjectInResponse'\n                            - $ref: '#/components/schemas/FolderObjectInResponse'\n      tags:\n        - 使用者部分\n\n  /v1/users/{user_id}/articles:\n    get:\n      summary: '該使用者的文章列表'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - $ref: '#/components/parameters/UserIdParam'\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                properties:\n                  data:\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          allOf:\n                            - properties:\n                                board_id:\n                                  type: string\n                                comment_count:\n                                  type: integer\n                                  format: int64\n                                  description: '留言數'\n                                owner:\n                                  type: string\n                            - $ref: '#/components/schemas/ArticleObjectInResponse'\n\n      tags:\n        - 使用者部分\n\n  /v1/users/{user_id}/preferences:\n    get:\n      summary: '該使用者的偏好設定'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - $ref: '#/components/parameters/UserIdParam'\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                properties:\n                  data:\n                      $ref: '#/components/schemas/UserPreferencesObjectInResponse'\n\n      tags:\n        - 使用者部分\n\n  /v1/boards:\n    get:\n      summary: '取得該使用者所有可見看板以及站長新增看板'\n      security:\n        - BearerAuth: [ ]\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          anyOf:\n                            - $ref: '#/components/schemas/BoardDetailsInResponse'\n      tags:\n        - 看板部分\n\n    post:\n      summary: '開新看板'\n      security:\n        - BearerAuth: [ ]\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                board_id:\n                  type: string\n                category:\n                  type: string\n                title:\n                  type: string\n                settings:\n                  type: array\n                  items:\n                    type: string\n                moderators:\n                  type: string\n                read_settings:\n                  type: array\n                  items:\n                    type: string\n              required:\n                - board_id\n                - category\n                - title\n                - settings\n                - moderators\n                - read_settings\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: array\n                    items:\n                      properties:\n                        id:\n                          type: string\n                          description: 'entry_id'\n      tags:\n        - 看板部分\n\n  /v1/boards/{board_id}/information:\n    get:\n      summary: '取得單個看板資訊'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - name: board_id\n          in: path\n          required: true\n          description: '看板 id'\n          schema:\n            type: string\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    $ref: '#/components/schemas/BoardDetailsInResponse'\n      tags:\n        - 看板部分\n\n  /v1/classes/{class_id}:\n    get:\n      summary: '取得分類看板底下看板列表'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - name: class_id\n          in: path\n          required: true\n          description: '1 為分類看板主目錄'\n          schema:\n            type: string\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          anyOf:\n                            - $ref: '#/components/schemas/BoardDetailsInResponse'\n      tags:\n        - 看板部分\n\n  /v1/boards/{board_id}/articles:\n    get:\n      summary: '取得某看板文章列表'\n      description: '取得某看板文章列表，同時使用多個條件時，以交集處理。'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - name: board_id\n          in: path\n          required: true\n          description: 'board_id'\n          schema:\n            type: string\n        - name: author\n          in: query\n          description: '作者的user id, 字串完全比對'\n          schema:\n            type: string\n        - name: title_contain\n          in: query\n          description: '標題'\n          schema:\n            type: string\n        - name: recommend_count_value\n          in: query\n          description: '推文數數值'\n          schema:\n            type: integer\n        - name: recommend_count_lt\n          in: query\n          description: '推文數數值小於'\n          schema:\n            type: integer\n        - name: recommend_count_le\n          in: query\n          description: '推文數數值小於等於'\n          schema:\n            type: integer\n        - name: recommend_count_eq\n          in: query\n          description: '推文數數值等於'\n          schema:\n            type: integer\n        - name: recommend_count_gt\n          in: query\n          description: '推文數數值大於'\n          schema:\n            type: integer\n        - name: recommend_count_ne\n          in: query\n          description: '推文數數值不等於'\n          schema:\n            type: integer\n        - name: recommend_count_ge\n          in: query\n          description: '推文數數值大於等於'\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      items:\n                        type: array\n                        items:\n                          $ref: '#/components/schemas/ArticleObjectInResponse'\n\n      tags:\n        - 文章列表部分\n\n    post:\n      summary: '發表文章'\n      description: '目前支援輸入標題以及內文，內文部分暫時還沒有支援色碼'\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - name: board_id\n          in: path\n          required: true\n          description: 'board_id'\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                action:\n                  type: string\n                  enum: ['add_article']\n                title:\n                  type: string\n                  description: '標題'\n                article:\n                  type: string\n                  description: '內文'\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      raw:\n                        type: string\n                        description: 'raw_text'\n                      parsed:\n                        type: object\n                        properties:\n                          is_header_modied:\n                            type: string\n                          author_id:\n                            type: string\n                          author_name:\n                            type: string\n                          title:\n                            type: string\n                          post_time:\n                            type: string\n                            format: date-time\n                          board_name:\n                            type: string\n                          text:\n                            type: object\n                            properties:\n                              text:\n                                type: string\n                              color_map:\n                                type: string\n                          signature:\n                            type: object\n                            properties:\n                              text:\n                                type: string\n                              color_map:\n                                type: string\n                          sender_info:\n                            type: object\n                            properties:\n                              site:\n                                type: string\n                              ip_address:\n                                type: string\n                              ip_country:\n                                type: string\n                          edit_records:\n                            type: array\n                            items:\n                              type: string\n                          push_records:\n                            type: array\n                            items:\n                              anyOf:\n                                - $ref: '#/components/schemas/PushRecord'\n      tags:\n        - 文章列表部分\n\n  /v1/boards/{board_id}/articles/{filename}:\n    get:\n      description: ''\n      parameters:\n        - name: board_id\n          in: path\n          required: true\n          description: 'board_id'\n          schema:\n            type: string\n        - name: filename\n          in: path\n          required: true\n          description: 'filename'\n          schema:\n            type: string\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n      tags:\n        - 單篇文章部分\n\n    post:\n      summary: '新增評論推文或是噓文；轉錄文章'\n      description: ''\n      security:\n        - BearerAuth: [ ]\n      parameters:\n        - name: board_id\n          in: path\n          required: true\n          description: 'board_id'\n          schema:\n            type: string\n        - name: filename\n          in: path\n          required: true\n          description: 'filename'\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                action:\n                  type: string\n                  enum: [ 'append_comment', 'forward_article' ]\n                type:\n                  type: string\n                  enum: [ '推', '噓', '→' ]\n                  description: '推 or 噓文'\n                text:\n                  type: string\n                  description: '內文'\n                email:\n                  type: string\n                  description: '轉錄目標信箱'\n                board:\n                  type: string\n                  description: '轉錄目標看板'\n              required:\n                - action\n                - type\n                - text\n                - email\n                - board\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n                    properties:\n                      raw:\n                        type: string\n                      parsed:\n                        type: object\n                        properties:\n                          is_header_modify:\n                            type: string\n                          author_id:\n                            type: string\n                          author_name:\n                            type: string\n                          title:\n                            type: string\n                          post_time:\n                            type: string\n                            format: date-time\n                          board_name:\n                            type: string\n                          text:\n                            type: object\n                            properties:\n                              text:\n                                type: string\n                              color_map:\n                                type: string\n                          signature:\n                            type: object\n                            properties:\n                              text:\n                                type: string\n                              color_map:\n                                type: string\n                          sender_info:\n                            type: object\n                            properties:\n                              site:\n                                type: string\n                              ip_address:\n                                type: string\n                              ip_country:\n                                type: string\n                          edit_records:\n                            type: array\n                            items:\n                              type: string\n                          push_records:\n                            type: array\n                            items:\n                              anyOf:\n                                - $ref: '#/components/schemas/PushRecord'\n        '400':\n          description: 'permission denied or parameters required'\n      tags:\n        - 單篇文章部分\n\n  /v1/chat-rooms:\n    get:\n      description: ''\n      responses:\n        '200':\n          description: 'ok'\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: object\n      tags:\n        - 水球部分\n",
			"canonicalURL": "/github.com/Ptt-official-app/Ptt-backend@ff472ce0de44bac2b0377594e603d49f70d0ee70/-/blob/swagger.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/Ptt-official-app/Ptt-backend/blob/ff472ce0de44bac2b0377594e603d49f70d0ee70/swagger.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/v1/users/{user_id}/favorites\": get: responses: 200: contents: application/json: generate schema: field data: field items: item: anyOf: complex anyOf not implemented",
	"NotImplemented": [
		"complex anyOf"
	]
}