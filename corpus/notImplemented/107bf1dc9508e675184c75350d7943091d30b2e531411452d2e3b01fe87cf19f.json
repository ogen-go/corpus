{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/wblondel/tgtg-api-wrapper"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 25344,
			"content": "openapi: 3.0.3\ninfo:\n  title: TooGoodToGo API\n  description: Attempt to reverse-engineer the TooGoodToGo API\n  version: 0.0.1\n\nservers:\n  - url: https://apptoogoodtogo.com/api\n    description: Production (Nearest)\n  - url: https://euw1.apptoogoodtogo.com/api\n    description: Production (EU)\n  - url: https://use1.apptoogoodtogo.com/api\n    description: Production (US)\n\n  - url: https://backend-staging.apptoogoodtogo.com/api\n    description: Staging (Nearest)\n  - url: https://backend-staging-euw1.apptoogoodtogo.com/api\n    description: Staging (EU)\n  - url: https://backend-staging-use1.apptoogoodtogo.com/api\n    description: Staging (US)\n\n  - url: https://gold-backend-internal.dev-euw1.tgtg.ninja/api\n    description: Gold (EU) (Requires VPN)\n  - url: https://gold-backend-internal.dev-use1.tgtg.ninja/api\n    description: Gold (US) (Requires VPN)\n\n  - url: https://backend-test1.apptoogoodtogo.com/api\n    description: Test1 (EU)\n  - url: https://backend-test1-use1.apptoogoodtogo.com/api\n    description: Test1 (US)\n\n  - url: https://backend-test2.apptoogoodtogo.com/api\n    description: Test2 (EU)\n  - url: https://backend-test2-use1.apptoogoodtogo.com/api\n    description: Test2 (US)\n\n  - url: https://backend-test3.apptoogoodtogo.com/api\n    description: Test3 (EU)\n  - url: https://backend-test3-use1.apptoogoodtogo.com/api\n    description: Test3 (US)\n\n  - url: https://backend-test4.apptoogoodtogo.com/api\n    description: Test4 (EU)\n  - url: https://backend-test4-use1.apptoogoodtogo.com/api\n    description: Test4 (US)\n\n  - url: https://backend-test5.apptoogoodtogo.com/api\n    description: Test5 (EU)    \n  - url: https://backend-test5-use1.apptoogoodtogo.com/api\n    description: Test5 (US)\n\n  - url: https://backend-test6.apptoogoodtogo.com/api\n    description: Test6 (EU)\n  - url: https://backend-test6-use1.apptoogoodtogo.com/api\n    description: Test6 (US)\n\n  - url: https://backend-test7.apptoogoodtogo.com/api\n    description: Test7 (EU)\n  - url: https://backend-test7-use1.apptoogoodtogo.com/api\n    description: Test7 (US)\n\n  - url: https://backend-test8.apptoogoodtogo.com/api\n    description: Test8 (EU)\n  - url: https://backend-test8-use1.apptoogoodtogo.com/api\n    description: Test8 (US)\n\n  - url: https://backend-test9.apptoogoodtogo.com/api\n    description: Test9 (EU)\n  - url: https://backend-test9-use1.apptoogoodtogo.com/api\n    description: Test9 (US)\n\ntags:\n  - name: \"app\"\n    description: \"\"\n  - name: \"auth\"\n    description: \"\"\n  - name: \"basket\"\n    description: \"\"\n  - name: \"gdpr\"\n    description: \"\"\n  - name: \"hiddenstore\"\n    description: \"\"\n  - name: \"item\"\n    description: \"\"\n  - name: \"location\"\n    description: \"\"\n  - name: \"map\"\n    description: \"\"\n  - name: \"order\"\n    description: \"\"\n  - name: \"payment\"\n    description: \"\"\n  - name: \"selfonboarding\"\n    description: \"\"\n  - name: \"store\"\n    description: \"\"\n  - name: \"support\"\n    description: \"\"\n  - name: \"tracking\"\n    description: \"\"\n  - name: \"user\"\n    description: \"\"\n  - name: \"voucher\"\n    description: \"\"\n\npaths:\n  /app/v1/app_settings:\n    post:\n      tags:\n        - app\n      summary: Get App settings\n\n      parameters:\n        - in: header\n          name: Accept-Language\n          schema:\n            type: string\n          required: true\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AppSettings'\n        '400':\n          description: Bad request. The Accept-Language header is required.\n\n  /app/v1/user_settings:\n    post:\n      tags:\n        - app\n      summary: Get User settings\n      security:\n        - bearerAuth: []\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UserSettings'\n        '400':\n          description: Bad request. The Accept-Language header is required.\n  \n  /auth/v2/loginByEmail:\n    post:\n      tags:\n        - auth\n      summary: Logs in a user by email.\n\n      requestBody:\n        $ref: '#/components/requestBodies/LoginByEmailRequest'\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/LoginResponse'\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '403':\n          description: FAILED_LOGIN\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n\n  /auth/v2/logout:\n    post:\n      tags:\n        - auth\n      summary: Logs out (destroys the tokens)\n      security:\n        - bearerAuth: []\n\n      responses:\n        '200':\n          description: OK\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n\n  /hiddenstore/v2/unlock:\n    post:\n      tags:\n        - hiddenstore\n      summary: Unlock a hidden store\n      security:\n        - bearerAuth: []\n\n      requestBody:\n        $ref: '#/components/requestBodies/UnlockHiddenStoreRequest'\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UnlockHiddenStoreResponse'\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n        '403':\n          description: FORBIDDEN\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        # happens if the given user_id doesn't match with the given bearer token\n        # UNAUTHORIZED\n        # Access is denied\n  \n  /auth/v2/token/refresh:\n    post:\n      tags:\n        - auth\n      summary: Refresh the access token\n\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                refresh_token:\n                  type: string\n                  description: \"Refresh token\"\n              required:\n                - refresh_token\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RefreshTokenResult'\n        '400':\n          description: VALIDATION_ERROR - refresh_token must not be blank\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '401':\n          description: UNAUTHORIZED - Invalid token\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n\n  /map/v1/listAllBusinessLocationPicker:\n    post:\n      tags:\n        - map\n      summary: List all business location picker\n\n      responses:\n        '200':\n          description: OK\n          content:\n            text/html:\n              schema:\n                $ref: '#/components/schemas/StoreLocationListResult'\n\n  /user/v1/:\n    post:\n      tags:\n        - user\n      summary: Get current user data\n      security:\n        - bearerAuth: []\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UserData'\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n\n  /user/v1/update:\n    post:\n      tags:\n        - user\n      summary: Update current user data\n      security:\n        - bearerAuth: []\n\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UserData' # user_id is required but not checked\n\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UserData'\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n\n  /user/v1/changePassword:\n    post:\n      tags:\n        - user\n      summary: Change password\n      security:\n        - bearerAuth: []\n\n      requestBody:\n        $ref: '#/components/requestBodies/ChangePasswordRequest'\n\n      responses:\n        '200':\n          description: OK\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n        '403':\n          description: PASSWORD_INCORRECT\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n          # PASSWORD_INCORRECT\n          # WrongPasswordException\n\n  /user/v1/resetPassword:\n    post:\n      tags:\n        - user\n      summary: Reset password\n\n      requestBody:\n        $ref: '#/components/requestBodies/ResetPasswordRequest'\n\n      responses:\n        '200':\n          description: 'OK'\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n\n  /user/v1/resendWelcomeEmail:\n    post:\n      tags:\n        - user\n      summary: Resend the Welcome email\n      security:\n        - bearerAuth: []\n\n      requestBody:\n        $ref: '#/components/requestBodies/ResendWelcomeEmailRequest'\n\n      responses:\n        '200':\n          description: 'OK'\n        '400':\n          description: VALIDATION_ERROR\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        '401':\n          description: UNAUTHORIZED\n          content:\n            application/json:\n              schema:\n                oneOf:\n                  - $ref: '#/components/schemas/Errors'\n                  - $ref: '#/components/schemas/Error'\n        '403':\n          description: FORBIDDEN\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Errors'\n        # happens if the given user_id doesn't match with the given bearer token\n        # UNAUTHORIZED\n        # Access is denied\n\ncomponents:\n  # Authentication\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n\n  # Describing Requests\n  requestBodies:\n    LoginByEmailRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              device_type:\n                type: string\n                description: \"Device type\"\n                enum:  [UNKNOWN, IOS, ANDROID]\n              email:\n                type: string\n                description: \"User's email\"\n              password:\n                type: string\n                format: password\n                description: \"User's password\"\n            example:\n              device_type: \"ANDROID\"\n              email: \"john.doe@dev.local\"\n              password: \"p@ssw0rd\"\n            required:\n              - device_type\n              - email\n              - password\n\n    ChangePasswordRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              old_password:\n                type: string\n                description: \"Old password\"\n              new_password:\n                type: string\n                description: \"New password\"\n              refresh_token:\n                type: string\n                description: \"Refresh token\"\n            required:\n              - old_password\n              - new_password\n              - refresh_token\n\n    ResetPasswordRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              email:\n                type: string\n                format: email\n                example: john.doe@dev.local\n            required:\n              - email\n\n    ResendWelcomeEmailRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              user_id:\n                type: string\n                example: \"123456\"\n            required:\n                - user_id\n\n    UnlockHiddenStoreRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              unlock_code:\n                type: string\n              user_id:\n                type: string\n                example: \"123456\"\n            required:\n              - unlock_code\n              - user_id\n\n # Describing Responses\n  schemas:\n    Errors:\n      type: object\n      properties:\n        errors:\n          type: array\n          items:\n            type: object\n            properties:\n              code:\n                type: string\n                description: Error type\n              message:\n                type: string\n                description: Error message\n            required:\n              - code\n      required:\n        - errors\n\n    Error:\n      type: object\n      properties:\n        timestamp:\n          type: integer\n          example: 1622583457179\n        status:\n          type: integer\n          example: 401\n        error:\n          type: string\n          example: \"Unauthorized\"\n        message:\n          type: string\n        path:\n          type: string\n          example: \"/api/auth/v2/logout\"\n      required:\n        - timestamp\n        - status\n        - error\n        - message\n        - path\n\n    StoreLocationListResult:\n      type: object\n      properties:\n        info:\n          type: array\n          items:\n            type: object\n            properties:\n              latitude:\n                type: string\n                example: \"23.45678912\"\n              longitude:\n                type: string\n                example: \"5.67890123\"\n        msg:\n          type: string\n          example: \"OK\"\n        status_code:\n          type: string\n          example: \"1\"\n      required:\n        - info\n        - msg\n        - status_code\n\n    RefreshTokenResult:\n      type: object\n      properties:\n        access_token:\n          type: string\n        refresh_token:\n          type: string\n      required:\n        - access_token\n        - refresh_token\n\n    AppSettings:\n      type: object\n      properties:\n        on_app_open_message:\n          type: string\n          enum: [BLOCKING]\n        open_message_type:\n          type: string\n          enum: [BLOCKING]\n        open_message_url:\n          type: string\n          format: uri\n          example: 'https://space.toogoodtogo.com/app-update/android'\n        countries:\n          type: array\n          items:\n            type: object\n            properties:\n              country_iso_code:\n                type: string\n                minLength: 2\n                maxLength: 2\n                example: 'FR'\n              terms_url:\n                type: string\n                format: uri\n                example: 'https://toogoodtogo.fr/fr/terms-and-conditions'\n              privacy_url:\n                type: string\n                format: uri\n                example: 'https://toogoodtogo.fr/fr/privacy-policy'\n            required:\n              - country_iso_code\n              - terms_url\n              - privacy_url\n          minItems: 1\n        purchase_rating_start:\n          type: string\n          pattern: '^\\d{2}:\\d{2}:\\d{2}$'\n          example: '06:00:00'\n        purchase_rating_end:\n          type: string\n          pattern: '^\\d{2}:\\d{2}:\\d{2}$'\n          example: '23:00:00'\n        purchase_rating_delay:\n          type: number\n          format: double\n          example: \"5400.000000000\"\n      required:\n        - countries\n        - purchase_rating_start\n        - purchase_rating_end\n        - purchase_rating_delay\n\n    UserSettings:\n      type: object\n      properties:\n        country_iso_code:\n          type: string\n          minLength: 2\n          maxLength: 2\n          example: 'FR'\n        phone_country_code_suggestion:\n          type: string\n          example: '33'\n        is_user_email_verified:\n          type: boolean\n        terms_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/terms-and-conditions'\n        privacy_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/privacy-policy'\n        contact_form_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/support/consumer'\n        blog_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/blog'\n        careers_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.org/en/careers'\n        education_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/movement/education'\n        instagram_url:\n          type: string\n          format: uri\n          example: 'https://www.instagram.com/toogoodtogo.fr'\n        store_signup_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/business?webview=1\u0026utm_medium=App\u0026utm_source=App\u0026utm_campaign='\n        store_contact_url:\n          type: string\n          format: uri\n          example: 'https://toogoodtogo.fr/fr/support/store'\n        bound_sw:\n          type: object\n          properties:\n            longitude:\n              type: number\n              format: float\n              example: -1.2345678\n            latitude:\n              type: number\n              format: float\n              example: 23.45678912\n        bound_ne:\n          type: object\n          properties:\n            longitude:\n              type: number\n              format: float\n              example: 5.67890123\n            latitude:\n              type: number\n              format: float\n              example: 45.678901\n        meals_saved:\n          type: object\n          properties:\n            country_iso_code:\n              type: string\n              minLength: 2\n              maxLength: 2\n              example: 'FR'\n            share_url:\n              type: string\n              format: uri\n              example: 'https://share.toogoodtogo.com/mealssaved/b4f64a9e4482f4e7ef449c66e51adc98?locale=fr_FR'\n            image_url:\n              type: string\n              format: uri\n              example: 'https://store.toogoodtogo.com/web/resource/v2/sharing/mealsSaved/mobile/4/fr_FR/b4f64a9e4482f4e7ef449c66e51adc98'\n            meals_saved_last_month:\n              type: integer\n              example: 915314\n            month:\n              type: integer\n              example: 4\n            year:\n              type: integer\n              example: 2021\n        bank_transaction_fee:\n          type: string\n        my_store_url:\n          type: string\n        order_id:\n          type: string\n        unrated_order_id:\n          type: string\n        panic_message:\n          type: string\n\n        has_any_vouchers:\n          type: boolean\n        can_show_best_before_explainer:\n          type: boolean\n\n    UserData:\n      type: object\n      properties:\n        user_id:\n          type: string\n          example: \"123456\"\n        name:\n          type: string\n          example: \"John Doe\"\n        country_id:\n          type: string\n          minLength: 2\n          maxLength: 2\n          example: 'FR'\n        email:\n          type: string\n          format: email\n          example: 'john.doe@dev.local'\n        phone_country_code:\n          type: string\n          example: '33'\n        phone_number:\n          type: string\n          example: '612345678'\n        role: # Not used in the mobile app\n          type: string\n          enum: [CONSUMER]\n        is_partner:\n          type: boolean\n        newsletter_opt_in:\n          type: boolean\n        push_notifications_opt_in:\n          type: boolean\n      required:\n        - user_id\n        - name\n        - phone_country_code\n        - phone_number\n        - newsletter_opt_in\n        - push_notifications_opt_in\n\n    Order:\n      type: object\n      properties:\n        cancel_until:\n          type: string\n        confirmation_email_sent_to:\n          type: string\n        food_handling_instructions:\n          type: string\n        buffet_instructions:\n          type: string\n        can_user_supply_packaging:\n          type: boolean\n        packaging_option:\n          type: string\n        is_rated:\n          type: boolean\n        item_collection_info:\n          type: string\n        item_cover_image:\n          type: string\n        item_id:\n          type: integer\n        item_logo:\n          type: string\n        item_name:\n          type: string\n        pickup_interval:\n          type: object\n          properties:\n            start:\n              type: string\n            end:\n              type: string\n        pickup_location:\n          type: string\n        price:\n          type: string\n        price_excluding_taxes:\n          type: string\n        price_including_taxes:\n          type: string\n        sales_taxes:\n          type: string\n        total_applied_taxes:\n          type: string\n        quantity:\n          type: integer\n        overall_rating:\n          type: string\n        order_id:\n          type: integer\n        redeem_interval:\n          type: string\n        order_state:\n          type: string\n          enum: [ACTIVE, REDEEMED, REFUNDED_OR_CANCELLED, UNREDEEMED, NOT_COLLECTED]\n        store_branch:\n          type: string\n        store_id:\n          type: integer\n        store_logo:\n          type: string\n        store_name:\n          type: string\n        time_of_purchase:\n          type: string\n          format: date-time\n        would_buy_again:\n          type: boolean\n        is_buffet:\n          type: boolean\n        can_show_best_before_explainer:\n          type: boolean\n        needsSync:\n          type: boolean\n        hasCollectionTimeChanged:\n          type: boolean\n        hasCollectionStateChanged:\n          type: boolean\n\n    ListOrders:\n      type: object\n      properties:\n        current_time:\n          type: string\n          format: date-time\n          example: \"2021-06-01T00:24:58.768422Z\"\n        has_more:\n          type: boolean\n        orders:\n          type: array\n          items:\n            $ref: '#/components/schemas/Order'\n      required:\n        - current_time\n        - has_more\n        - orders\n\n    Voucher:\n      type: object\n      properties:\n        id:\n          type: string\n          example: '1234'\n        name:\n          type: string\n        state:\n          type: string\n          enum: [PENDING, ACTIVE, USED, EXPIRED]\n      required:\n        - id\n        - name\n        - state\n\n    ListUserVoucher:\n      type: object\n      properties:\n        vouchers:\n          type: array\n          items:\n            $ref: '#/components/schemas/Voucher'\n\n    StartupResponse:\n      type: object\n      properties:\n        user:\n          $ref: '#/components/schemas/UserData'\n        app_settings:\n          $ref: '#/components/schemas/AppSettings'\n        user_settings:\n          $ref: '#/components/schemas/UserSettings'\n        orders:\n          $ref: '#/components/schemas/ListOrders'\n        vouchers:\n          $ref: '#/components/schemas/ListUserVoucher'\n\n    LoginResponse:\n      type: object\n      properties:\n        access_token:\n          type: string\n        refresh_token:\n          type: string\n        startup_data:\n          $ref: '#/components/schemas/StartupResponse'\n        user_count:\n          type: string\n      required:\n        - access_token\n        - refresh_token\n        - startup_data\n\n    UnlockHiddenStoreResponse:\n      type: object\n      properties:\n        state:\n          type: string\n          enum:  [OK, CODE_INVALID, ALREADY_UNLOCKED]\n      required:\n        - state\n",
			"canonicalURL": "/github.com/wblondel/tgtg-api-wrapper@d4a4dca80d887a2ef099001265eb9457fbc96578/-/blob/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/wblondel/tgtg-api-wrapper/blob/d4a4dca80d887a2ef099001265eb9457fbc96578/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/map/v1/listAllBusinessLocationPicker\": post: responses: 200: contents: unsupported content types: [text/html]",
	"NotImplemented": [
		"unsupported content types"
	]
}