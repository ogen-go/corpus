{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/bangumi/dev-docs"
		},
		"file": {
			"name": "api.yaml",
			"size": 0,
			"path": "api.yaml",
			"byteSize": 7309,
			"content": "openapi: 3.0.2\ninfo:\n  title: Bangumi Private API\n  version: ''\n  description: '`next.bgm.tv` åŸŸåä¸æ”¯æŒè·¨åŸŸï¼Œ'\nservers:\n  - url: https://next.bgm.tv\n    description: Production server\npaths:\n  /p/login:\n    post:\n      tags:\n        - Auth\n      summary: ç™»å½•\n      operationId: login\n      description: \u003e\n        `h-captcha-response` æ˜¯ [hCaptcha\n        çš„éªŒè¯ç ](https://docs.hcaptcha.com/#add-the-hcaptcha-widget-to-your-webpage)\n\n\n        site key æ˜¯ `4874acee-9c6e-4e47-99ad-e2ea1606961f`\n      requestBody:\n        content:\n          application/json:\n            schema:\n              required:\n                - email\n                - password\n                - h-captcha-response\n              properties:\n                email:\n                  type: string\n                password:\n                  type: string\n                h-captcha-response:\n                  type: string\n      responses:\n        '200':\n          description: è´¦å·å¯†ç æ­£ç¡®ï¼Œè®¾ç½® Cookies\n          headers:\n            Set-Cookie:\n              description: è®¾ç½® cookies session\n              schema:\n                type: string\n                example: sessionID=abcde12345; Path=/; HttpOnly\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '400':\n          description: è¯·æ±‚é”™è¯¯æˆ–è€…éªŒè¯ç é”™è¯¯\n          content:\n            application/json:\n              example:\n                title: Bad Request\n                details:\n                  - Emailä¸ºå¿…å¡«å­—æ®µ\n                  - Passwordä¸ºå¿…å¡«å­—æ®µ\n                  - HCaptchaResponseä¸ºå¿…å¡«å­—æ®µ\n                description: can't validate request body\n              schema:\n                title: ErrorDetail\n                required:\n                  - title\n                  - description\n                  - detail\n                type: object\n                properties:\n                  title:\n                    title: Title\n                    type: string\n                  description:\n                    title: Description\n                    type: string\n                  detail:\n                    title: Detail\n                    type: array\n                    items:\n                      type: string\n        '401':\n          description: è´¦å·æˆ–å¯†ç é”™è¯¯\n          content:\n            application/json:\n              schema:\n                title: ErrorDetail\n                required:\n                  - title\n                  - description\n                  - detail\n                type: object\n                properties:\n                  title:\n                    title: Title\n                    type: string\n                  description:\n                    title: Description\n                    type: string\n                  detail:\n                    title: Detail\n                    type: object\n                    properties:\n                      remain:\n                        type: integer\n                        description: å‰©ä½™å¯ç”¨ç™»å½•æ¬¡æ•°ã€‚\n        '422':\n          description: æ— æ³•ä»¥ JSON æ ¼å¼è§£æè¯·æ±‚\n        '502':\n          description: hCaptcha HTTP è¯·æ±‚å¤±è´¥\n  /p/logout:\n    post:\n      tags:\n        - Auth\n      summary: ç™»å‡º\n      operationId: logout\n      security:\n        - CookiesSession: []\n      responses:\n        '204':\n          description: æ­£å¸¸ç™»å‡º\n        '401':\n          description: ç”¨æˆ·æœªç™»å½•æˆ–è€… session å·²å¤±æ•ˆ\n  /p/me:\n    get:\n      summary: ç™»å‡º\n      operationId: getCurrentUser\n      security:\n        - CookiesSession: []\n      responses:\n        '200':\n          description: è¿”å›å½“å‰ç”¨æˆ·\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '401':\n          description: ç”¨æˆ·æœªç™»å½•æˆ–è€… session å·²å¤±æ•ˆ\ncomponents:\n  schemas:\n    User:\n      example:\n        avatar:\n          large: https://lain.bgm.tv/pic/user/l/000/00/00/1.jpg?r=1391790456\n          medium: https://lain.bgm.tv/pic/user/m/000/00/00/1.jpg?r=1391790456\n          small: https://lain.bgm.tv/pic/user/s/000/00/00/1.jpg?r=1391790456\n        sign: Awesome!\n        username: sai\n        nickname: SaiğŸ––\n        id: 1\n        user_group: 1\n      title: User\n      description: |\n        å®é™…çš„è¿”å›å€¼å¯èƒ½åŒ…æ‹¬æ–‡æ¡£æœªå£°æ˜çš„ `url` å­—æ®µï¼Œæ­¤å­—æ®µä¸»è¦ç”¨äºå¼€å‘è€…ä» api å“åº”ç›´æ¥è½¬è·³åˆ°ç½‘é¡µã€‚\n        å®¢æˆ·ç«¯å¼€å‘è€…è¯·ä¸ç”¨ä¾èµ–äºæ­¤ç‰¹æ€§ï¼Œæ­¤å­—æ®µçš„å€¼éšæ—¶å¯èƒ½ä¼šæ”¹å˜ã€‚\n      required:\n        - id\n        - username\n        - nickname\n        - user_group\n        - avatar\n        - sign\n      type: object\n      properties:\n        id:\n          title: ID\n          type: integer\n        username:\n          title: Username\n          type: string\n          description: å”¯ä¸€ç”¨æˆ·åï¼Œåˆå§‹ä¸ UID ç›¸åŒï¼Œå¯ä¿®æ”¹ä¸€æ¬¡\n        nickname:\n          title: Nickname\n          type: string\n        user_group:\n          title: UserGroup\n          enum:\n            - 1\n            - 2\n            - 3\n            - 4\n            - 5\n            - 8\n            - 9\n            - 10\n            - 11\n          type: integer\n          description: \u003e-\n            ç”¨æˆ·ç»„ - 1 = ç®¡ç†å‘˜ - 2 = Bangumi ç®¡ç†çŒ¿ - 3 = å¤©çª—ç®¡ç†çŒ¿ - 4 = ç¦è¨€ç”¨æˆ· - 5 = ç¦æ­¢è®¿é—®ç”¨æˆ·\n            - 8 = äººç‰©ç®¡ç†çŒ¿ - 9 = ç»´åŸºæ¡ç›®ç®¡ç†çŒ¿ - 10 = ç”¨æˆ· - 11 = ç»´åŸºäºº\n          x-ms-enum:\n            name: UserGroup\n            modelAsString: false\n            values:\n              - Admin\n              - BangumiAdmin\n              - DoujinAdmin\n              - MutedUser\n              - BlockedUser\n              - PersonAdmin\n              - WikiAdmin\n              - User\n              - WikiUser\n          x-enum-varnames:\n            - Admin\n            - BangumiAdmin\n            - DoujinAdmin\n            - MutedUser\n            - BlockedUser\n            - PersonAdmin\n            - WikiAdmin\n            - User\n            - WikiUser\n        avatar:\n          $ref: '#/components/schemas/Avatar'\n        sign:\n          title: Sign\n          description: ä¸ªäººç­¾å\n          type: string\n    Avatar:\n      title: Avatar\n      required:\n        - large\n        - medium\n        - small\n      type: object\n      properties:\n        large:\n          title: Large\n          type: string\n          format: url\n        medium:\n          title: Medium\n          type: string\n          format: url\n        small:\n          title: Small\n          type: string\n          format: url\n    ErrorDetail:\n      title: ErrorDetail\n      required:\n        - title\n        - description\n      type: object\n      properties:\n        title:\n          title: Title\n          type: string\n        description:\n          title: Description\n          type: string\n        detail:\n          title: Detail\n          oneOf:\n            - type: string\n            - type: object\n              properties:\n                error:\n                  type: string\n                  description: error message\n                path:\n                  type: string\n                  description: request path\n  securitySchemes:\n    CookiesSession:\n      name: sessionID\n      type: apiKey\n      in: cookie\n",
			"canonicalURL": "/github.com/bangumi/dev-docs@49de4b47b8109785cdf440a4753cf360cdb5401d/-/blob/api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/bangumi/dev-docs/blob/49de4b47b8109785cdf440a4753cf360cdb5401d/api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/p/logout\": post: security: security \"CookiesSession\" (index 0): cookie security not implemented",
	"NotImplemented": [
		"cookie security"
	]
}