{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/scality/utapi"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 4953,
			"content": "openapi: 3.0.0\ninfo:\n  description: Scality Utilization Monitoring API\n  title: UTAPI\n  version: 0.0.1\n\ncomponents:\n  schemas:\n    utapi-metric-v1:\n      type: array\n      items:\n        type: object\n        properties:\n          operationId:\n            type: string\n          uuid:\n            type: string\n          timestamp:\n            type: integer\n          bucket:\n            type: string\n          object:\n            type: string\n          versionId:\n            type: string\n          account:\n            type: string\n          user:\n            type: string\n          location:\n            type: string\n          objectDelta:\n            type: integer\n          sizeDelta:\n            type: integer\n          incomingBytes:\n            type: integer\n          outgoingBytes:\n            type: integer\n    utapi-request-v1:\n      type: object\n      required:\n        - timeRange\n      properties:\n        timeRange:\n          type: array\n          items:\n            type: integer\n        buckets:\n          type: array\n          items:\n            type: string\n        accounts:\n          type: array\n          items:\n            type: string\n        users:\n          type: array\n          items:\n            type: string\n        locations:\n          type: array\n          items:\n            type: string\n\n  responses:\n    not-implemented:\n      description: This operation has yet to be implemented.\n      content:\n        text/plain:\n            schema:\n                type: string\n    json-error:\n      description: Error containing code and message\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              error:\n                type: object\n                properties:\n                  code:\n                    type: string\n                  message:\n                    type: string\n    utapi-get-storage-v1:\n      description: storageUtilized for a single resource\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - storageUtilized\n              - resource\n              - level\n            properties:\n              storageUtilized:\n                type: integer\n              resource:\n                type: string\n              level:\n                type: string\n    utapi-get-prometheus-metrics:\n      description: metrics to be ingested by prometheus \n      content:\n        text/plain:\n          schema:\n            type: string\n  parameters:\n    level:\n      in: path\n      name: level\n      required: true\n      schema:\n        type: string\n        enum: [ 'accounts', 'buckets', 'users' ]\n    resource:\n        in: path\n        name: resource\n        required: True\n        schema:\n          type: string\n    action:\n      in: query\n      name: Action\n      required: True\n      schema:\n        type: string\n        enum: [ ListMetrics ]\npaths:\n  /_/healthcheck:\n    get:\n      x-router-controller: internal\n      x-iplimit: true\n      operationId: healthcheck\n      responses:\n        default:\n          $ref: '#/components/responses/json-error'\n        200:\n          description: Service is healthy\n  /_/metrics:\n    get:\n      x-router-controller: internal\n      x-iplimit: true\n      operationId: prometheusMetrics\n      responses:\n        default:\n          $ref: '#/components/responses/json-error'\n        200:\n          $ref: '#/components/responses/utapi-get-prometheus-metrics'\n  /v2/ingest:\n    post:\n      x-router-controller: metrics\n      description: Ingest UTAPI metric\n      operationId: ingestMetric\n      responses:\n        default:\n          $ref: '#/components/responses/json-error'\n        200:\n          description: Successfully ingested metric\n      requestBody:\n        x-name: body\n        required: True\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/utapi-metric-v1'\n  /v2/storage/{level}/{resource}:\n    parameters:\n      - $ref: '#/components/parameters/resource'\n      - $ref: '#/components/parameters/level'\n    get:\n      x-router-controller: metrics\n      x-iplimit: true\n      description: Get current storage utilized\n      operationId: getStorage\n      responses:\n        default:\n          $ref: '#/components/responses/json-error'\n        200:\n          $ref: '#/components/responses/utapi-get-storage-v1'\n  /{level}:\n    parameters:\n      - $ref: '#/components/parameters/level'\n      - $ref: '#/components/parameters/action'\n    post:\n      x-router-controller: metrics\n      x-authv4: true\n      description: List UTAPI metrics\n      operationId: listMetrics\n      responses:\n        default:\n          $ref: '#/components/responses/json-error'\n        200:\n          description: Success\n      requestBody:\n        x-name: body\n        required: True\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/utapi-request-v1'\n\n",
			"canonicalURL": "/github.com/scality/utapi@65726f6d0b3ab5895fb695a5971b9bd745308e96/-/blob/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/scality/utapi/blob/65726f6d0b3ab5895fb695a5971b9bd745308e96/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/_/metrics\": get: responses: 200: contents: unsupported content types: [text/plain]",
	"NotImplemented": [
		"unsupported content types"
	]
}