{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/AlbertSuarez/searchly"
		},
		"file": {
			"name": "openapi_v1.yaml",
			"size": 0,
			"path": "src/searchly/static/openapi/openapi_v1.yaml",
			"byteSize": 16343,
			"content": "openapi: 3.0.1\n\ninfo:\n  title: SearchLy API v1\n  description: |\n    # Introduction\n    The SearchLy API provides similarity searching based on song lyrics.\n\n    # Operations\n    The API allows for the `/similarity/by_song` operation, which allows clients to search the similarity for an existing song in the database. Also, the API has an additional `/similarity/by_content` endpoint which allows clients to search similarity given a free String input through a JSON request body. Additional `/song/search` operation is available for searching songs given a query String.\n\n    # Endpoint\n    The API endpoint for the SearchLy API v1 is as follows:\n    ```\n    https://searchly.asuarez.dev/api/v1\n    ```\n\n    # Motivation\n    This project was built in order to create an API for searching similarities based on song lyrics. There are a lot of songs in the industry and most of them are talking about the same topic. What I wanted to prove with SearchLy was to estimate how similar are two songs between them based on the meaning of their lyrics.\n\n    SearchLy is using a database of 100k songs from AZLyrics, using [this scraper](https://github.com/AlbertSuarez/azlyrics-scraper), which is being updated periodically. Then, using word2vec and NMSLIB, it was possible to create an index where you can search similarities using the k-nearest neighbors (KNN) algorithm.\n\n    \u003e **Note**: I am currently using a micro-instance from DigitalOcean where the API is deployed, so you should expect a bad performance. However, if this API becomes popular I will deploy it in a bigger instance.\n\n  contact:\n    email: hi@asuarez.dev\n  version: \"1.0\"\n\nexternalDocs:\n  description: SearchLy demo\n  url: https://searchly.asuarez.dev/\n\nx-logo:\n  url: 'https://searchly.asuarez.dev/static/img/logo.png'\n  altText: SearchLy\n\nservers:\n  - url: https://searchly.asuarez.dev/api/v1\n\ntags:\n  - name: similarity\n    x-displayName: Similarity search\n  - name: song\n    x-displayName: Song search\n\nx-tagGroups:\n  - name: Similarity\n    tags:\n      - similarity\n  - name: Song\n    tags:\n      - song\n\npaths:\n  /similarity/by_song:\n    get:\n      tags:\n        - similarity\n      summary: API endpoint to search similarity using a song identifier\n      description: |\n        Endpoint for an end-user client to search similarity by song identifier.\n\n        If you want to run the /similarity/by_song operation, you can do so via an HTTP GET command to the following URL:\n\n        ```\n        https://searchly.asuarez.dev/api/v1/similarity/by_song\n        ```\n\n      operationId: src.searchly.api.v1.controllers.similarity.by_song\n      parameters:\n        - name: song_id\n          in: query\n          description: Song identifier.\n          required: true\n          example: 234\n          schema:\n            type: integer\n      responses:\n        200:\n          description: Standard SearchLy API v1 JSON response. You should check the `error` attribute to determine if there was an error.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/APIResponseSimilarity'\n        default:\n          description: Unexpected error.\n          content:\n            application/text:\n              schema:\n                type: string\n                description: Error description.\n      x-code-samples:\n        - lang: 'python'\n          source: |\n            # Make sure you have installed the required packages:\n            #   pip install requests\n\n            import requests\n\n            url = 'https://searchly.asuarez.dev/api/v1/similarity/by_song'\n            payload = {'song_id': SONG_IDENTIFIER}\n\n            # Make the classify request\n            response = requests.get(url, params=payload)\n\n            # The response is formatted in JSON\n            json_response = response.json()\n        - lang: 'Java'\n          source: |\n            try {\n              URL myurl = new URL(\"https://searchly.asuarez.dev/api/v1/similarity/by_song\" +\n                \"?song_id=\" + \"SONG_IDENTIFIER\");\n              con = (HttpURLConnection) myurl.openConnection();\n              con.setRequestMethod(\"GET\");\n              StringBuilder content;\n\n              try (BufferedReader br = new BufferedReader(\n                      new InputStreamReader(con.getInputStream(), \"utf-8\"))) {\n                StringBuilder response = new StringBuilder();\n                String responseLine = null;\n                while ((responseLine = br.readLine()) != null) {\n                  response.append(responseLine.trim());\n                }\n                System.out.println(response.toString());\n              }\n\n            } finally {\n              con.disconnect();\n            }\n        - lang: 'C#'\n          source: |\n            var httpWebRequest = (HttpWebRequest)WebRequest.Create(\"https://searchly.asuarez.dev/api/v1/similarity/by_song\" +\n              \"?song_id=\" + \"SONG_IDENTIFIER\");\n            httpWebRequest.Method = \"GET\";\n\n            var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n            using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n            {\n              var result = streamReader.ReadToEnd();\n            }\n        - lang: 'php'\n          source: |\n            \u003c?php\n              // Setup cURL\n              $ch = curl_init('https://searchly.asuarez.dev/api/v1/similarity/by_song'.'?song_id='.'SONG_IDENTIFIER');\n\n              // Send the request\n              $response = curl_exec($ch);\n            ?\u003e\n        - lang: 'shell'\n          source: |\n            curl \"https://searchly.asuarez.dev/api/v1/similarity/by_song?song_id=SONG_IDENTIFIER\"\n\n  /similarity/by_content:\n    post:\n      tags:\n        - similarity\n      summary: API endpoint to search similarity using content\n      description: |\n        Endpoint for an end-user client to search similarity by content.\n\n        If you want to run the /similarity/by_content operation, you can do so via an HTTP POST command to the following URL:\n\n        ```\n        https://searchly.asuarez.dev/api/v1/similarity/by_content\n        ```\n\n      operationId: src.searchly.api.v1.controllers.similarity.by_content\n      requestBody:\n        required: true\n        description: Body wrapper for the request.\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                content:\n                  type: string\n                  description: Content for searching similarity.\n      responses:\n        200:\n          description: Standard SearchLy API v1 JSON response. You should check the `error` attribute to determine if there was an error.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/APIResponseSimilarity'\n        default:\n          description: Unexpected error.\n          content:\n            application/text:\n              schema:\n                type: string\n                description: Error description.\n      x-code-samples:\n        - lang: 'python'\n          source: |\n            # Make sure you have installed the required packages:\n            #   pip install requests\n\n            import requests\n\n            url = 'https://searchly.asuarez.dev/api/v1/similarity/by_content'\n            request_body = {\"content\": \"CONTENT\"}\n\n            # Make the classify request\n            response = requests.post(url, json=request_body)\n\n            # The response is formatted in JSON\n            json_response = response.json()\n        - lang: 'Java'\n          source: |\n            try {\n              URL myurl = new URL(\"https://searchly.asuarez.dev/api/v1/similarity/by_content\");\n              con = (HttpURLConnection) myurl.openConnection();\n              con.setRequestMethod(\"POST\");\n              StringBuilder content;\n\n              String jsonInputString = \"{\" +\n                  \"\\\"content\\\": \\\"CONTENT\\\"\" +\n                \"}\";\n              try (OutputStream os = con.getOutputStream()) {\n                byte[] input = jsonInputString.getBytes(\"utf-8\");\n                os.write(input, 0, input.length);\n              }\n\n              try (BufferedReader br = new BufferedReader(\n                      new InputStreamReader(con.getInputStream(), \"utf-8\"))) {\n                StringBuilder response = new StringBuilder();\n                String responseLine = null;\n                while ((responseLine = br.readLine()) != null) {\n                  response.append(responseLine.trim());\n                }\n                System.out.println(response.toString());\n              }\n\n            } finally {\n              con.disconnect();\n            }\n        - lang: 'C#'\n          source: |\n            var httpWebRequest = (HttpWebRequest)WebRequest.Create(\"https://searchly.asuarez.dev/api/v1/similarity/by_content\");\n            httpWebRequest.ContentType = \"application/json\";\n            httpWebRequest.Method = \"POST\";\n\n            using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))\n            {\n              string json = \"{\" +\n                  \"\\\"content\\\": \\\"CONTENT\\\"\" +\n                \"}\";\n              streamWriter.Write(json);\n            }\n\n            var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n            using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n            {\n              var result = streamReader.ReadToEnd();\n            }\n        - lang: 'php'\n          source: |\n            \u003c?php\n              // The data to send to the API\n              $postData = array(\n                'content' =\u003e 'CONTENT'\n              );\n\n              // Setup cURL\n              $ch = curl_init('https://searchly.asuarez.dev/api/v1/similarity/by_content');\n              curl_setopt_array($ch, array(\n                CURLOPT_POST =\u003e TRUE,\n                CURLOPT_RETURNTRANSFER =\u003e TRUE,\n                CURLOPT_HTTPHEADER =\u003e array(\n                    'Content-Type: application/json'\n                ),\n                CURLOPT_POSTFIELDS =\u003e json_encode($postData)\n              ));\n\n              // Send the request\n              $response = curl_exec($ch);\n            ?\u003e\n        - lang: 'shell'\n          source: |\n            curl \"https://searchly.asuarez.dev/api/v1/similarity/by_content\"\\\n            -d content=\"CONTENT\"\n\n  /song/search:\n    get:\n      tags:\n        - song\n      summary: API endpoint to search songs from the database given a query\n      description: |\n        Endpoint for an end-user client to search songs from the database given a String query.\n\n        If you want to run the /song/search operation, you can do so via an HTTP GET command to the following URL:\n\n        ```\n        https://searchly.asuarez.dev/api/v1/song/search\n        ```\n\n      operationId: src.searchly.api.v1.controllers.song.search\n      parameters:\n        - name: query\n          in: query\n          description: Query.\n          required: true\n          example: Miley Cyrus\n          schema:\n            type: string\n      responses:\n        200:\n          description: Standard SearchLy API v1 JSON response. You should check the `error` attribute to determine if there was an error.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/APIResponseSong'\n        default:\n          description: Unexpected error.\n          content:\n            application/text:\n              schema:\n                type: string\n                description: Error description.\n      x-code-samples:\n        - lang: 'python'\n          source: |\n            # Make sure you have installed the required packages:\n            #   pip install requests\n\n            import requests\n\n            url = 'https://searchly.asuarez.dev/api/v1/song/search'\n            payload = {'query': 'QUERY'}\n\n            # Make the classify request\n            response = requests.get(url, params=payload)\n\n            # The response is formatted in JSON\n            json_response = response.json()\n        - lang: 'Java'\n          source: |\n            try {\n              URL myurl = new URL(\"https://searchly.asuarez.dev/api/v1/song/search\" +\n                \"?query=\" + \"QUERY\");\n              con = (HttpURLConnection) myurl.openConnection();\n              con.setRequestMethod(\"GET\");\n              StringBuilder content;\n\n              try (BufferedReader br = new BufferedReader(\n                      new InputStreamReader(con.getInputStream(), \"utf-8\"))) {\n                StringBuilder response = new StringBuilder();\n                String responseLine = null;\n                while ((responseLine = br.readLine()) != null) {\n                  response.append(responseLine.trim());\n                }\n                System.out.println(response.toString());\n              }\n\n            } finally {\n              con.disconnect();\n            }\n        - lang: 'C#'\n          source: |\n            var httpWebRequest = (HttpWebRequest)WebRequest.Create(\"https://searchly.asuarez.dev/api/v1/song/search\" +\n              \"?query=\" + \"QUERY\");\n            httpWebRequest.Method = \"GET\";\n\n            var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n            using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n            {\n              var result = streamReader.ReadToEnd();\n            }\n        - lang: 'php'\n          source: |\n            \u003c?php\n              // Setup cURL\n              $ch = curl_init('https://searchly.asuarez.dev/api/v1/song/search'.'?query='.'QUERY');\n\n              // Send the request\n              $response = curl_exec($ch);\n            ?\u003e\n        - lang: 'shell'\n          source: |\n            curl \"https://searchly.asuarez.dev/api/v1/song/search?query=QUERY\"\n\ncomponents:\n  schemas:\n    APIResponseSimilarity:\n      type: object\n      properties:\n        error:\n          type: boolean\n          description: Whether or not the request was successfully processed or not.\n        message:\n          type: string\n          description: Error message if the request was unsuccessful.\n        response:\n          type: object\n          description: Contains the response data if the request was successful.\n          properties:\n            similarity_list:\n              type: array\n              description: Contains all the similarity items representing songs.\n              items:\n                type: object\n                description: Song similarity item.\n                properties:\n                  id:\n                    type: integer\n                    description: Song internal identifier.\n                  artist_name:\n                    type: string\n                    description: Artist's song name.\n                  song_name:\n                    type: string\n                    description: Song name.\n                  lyrics:\n                    type: string\n                    description: Song lyrics.\n                  artist_url:\n                    type: string\n                    description: Artist URL.\n                  song_url:\n                    type: string\n                    description: Song URL.\n                  index_id:\n                    type: integer\n                    description: Index internal identifier.\n                  percentage:\n                    type: number\n                    format: float\n                    description: Similarity percentage.\n\n    APIResponseSong:\n      type: object\n      properties:\n        error:\n          type: boolean\n          description: Whether or not the request was successfully processed or not.\n        message:\n          type: string\n          description: Error message if the request was unsuccessful.\n        response:\n          type: object\n          description: Contains the response data if the request was successful.\n          properties:\n            results:\n              type: array\n              description: Contains all the songs.\n              items:\n                type: object\n                description: Song item.\n                properties:\n                  id:\n                    type: integer\n                    description: Song internal identifier.\n                  name:\n                    type: string\n                    description: Song and Artist name.\n",
			"canonicalURL": "/github.com/AlbertSuarez/searchly@bcdb3727cb64b69a3bbe6023b93cc9e9154d051e/-/blob/src/searchly/static/openapi/openapi_v1.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/AlbertSuarez/searchly/blob/bcdb3727cb64b69a3bbe6023b93cc9e9154d051e/src/searchly/static/openapi/openapi_v1.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/song/search\": get: responses: default: contents: unsupported content types: [application/text]",
	"NotImplemented": [
		"unsupported content types"
	]
}