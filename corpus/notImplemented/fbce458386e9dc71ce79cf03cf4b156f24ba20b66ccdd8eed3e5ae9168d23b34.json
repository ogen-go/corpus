{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/mozilla-releng/shipit"
		},
		"file": {
			"name": "api.yml",
			"size": 0,
			"path": "api/src/shipit_api/admin/api.yml",
			"byteSize": 25545,
			"content": "---\nopenapi: 3.0.1\ninfo:\n  title: Ship-It API\n  description: |\n    Find  out more about Ship-it at\n    [https://github.com/mozilla-releng/shipit](https://github.com/mozilla-releng/shipit)\n  license:\n    name: MPL 2.0\n    url: https://www.mozilla.org/MPL/2.0/\n  version: 1.0.0\nservers:\n- url: /\npaths:\n  /product-details:\n    post:\n      summary: Trigger a rebuild of product details\n      operationId: shipit_api.admin.api.rebuild_product_details\n      requestBody:\n        description: Rebuild options\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                breakpoint_version:\n                  type: integer\n                clean_working_copy:\n                  type: boolean\n                channel:\n                  type: string\n                folder_in_repo:\n                  type: string\n        required: false\n      responses:\n        200:\n          description: Product details rebuild triggered.\n          content: {}\n        405:\n          description: Invalid input\n          content: {}\n  /releases:\n    get:\n      summary: List releases\n      operationId: shipit_api.public.api.list_releases\n      parameters:\n      - name: product\n        in: query\n        schema:\n          type: string\n      - name: branch\n        in: query\n        schema:\n          type: string\n      - name: version\n        in: query\n        schema:\n          type: string\n      - name: build_number\n        in: query\n        schema:\n          type: integer\n      - name: status\n        in: query\n        style: form\n        description: \u003e\n            Defaults to listing only \"scheduled\" releases. Currently supported\n            values are \"scheduled\", \"shipped\", and \"aborted\".\n        explode: false\n        schema:\n          type: array\n          items:\n            type: string\n      responses:\n        200:\n          description: A list of releases\n          content:\n            'application/json':\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Release'\n    post:\n      summary: Add a new release\n      operationId: shipit_api.admin.api.add_release\n      requestBody:\n        description: Release object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ReleaseInput'\n        required: true\n      responses:\n        201:\n          description: Release added\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Release'\n        405:\n          description: Invalid input\n          content: {}\n  /releases/{name}:\n    get:\n      summary: Release info\n      operationId: shipit_api.public.api.get_release\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Returns release representation\n          content:\n            'application/json':\n              schema:\n                anyOf:\n                  - $ref: '#/components/schemas/Release'\n                  - $ref: '#/components/schemas/XPIRelease'\n    delete:\n      summary: Release info\n      operationId: shipit_api.admin.api.abandon_release\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Returns release representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Release'\n    patch:\n      summary: Update release status\n      operationId: shipit_api.admin.api.update_release_status\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      requestBody:\n        description: Release status object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ReleaseStatus'\n        required: true\n      responses:\n        200:\n          description: Release updated\n          content:\n            'application/json':\n              schema:\n                anyOf:\n                  - $ref: '#/components/schemas/Release'\n                  - $ref: '#/components/schemas/XPIRelease'\n        405:\n          description: Invalid input\n          content: {}\n  /releases/{name}/{phase}:\n    get:\n      summary: Release info\n      operationId: shipit_api.public.api.get_phase\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Retruns phase representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Phase'\n    put:\n      summary: Schedule phase\n      operationId: shipit_api.admin.api.schedule_phase\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Phase scheduled\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Phase'\n        409:\n          description: Already submitted\n          content: {}\n  /signoff/{name}/{phase}:\n    get:\n      summary: Get phase signoff requirements and status\n      operationId: shipit_api.public.api.get_phase_signoff\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Retruns phase signoff representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Signoffs'\n    put:\n      summary: Sign off a phase\n      operationId: shipit_api.admin.api.phase_signoff\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      requestBody:\n        description: Signoff UID\n        content:\n          'application/json':\n            schema:\n              type: string\n        required: true\n      responses:\n        200:\n          description: Retruns phase signoff representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Signoffs'\n        409:\n          description: Already submitted\n          content: {}\n  /disabled-products:\n    get:\n      summary: Get the list of product/branches which are currently disabled. Disabled products/branches will not have automated releases created\n      operationId: shipit_api.public.api.get_disabled_products\n      responses:\n        200:\n          description: Disabled product/branches\n          content:\n            application/json:\n              schema:\n                type: object\n    post:\n      summary: Disable a product+branch\n      operationId: shipit_api.admin.api.disable_product\n      requestBody:\n        description: Disable Product object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DisableProduct'\n      responses:\n        200:\n          description: OK\n        405:\n          description: Invalid input\n    delete:\n      summary: Enable a product+branch\n      operationId: shipit_api.admin.api.enable_product\n      parameters:\n      - name: product\n        in: query\n        required: true\n        schema:\n          type: string\n          enum:\n          - firefox\n          - fennec\n          - devedition\n          - pinebuild\n      - name: branch\n        in: query\n        required: true\n        schema:\n          type: string\n          enum:\n          - projects/maple\n          - releases/mozilla-esr68\n          - releases/mozilla-beta\n          - try\n      responses:\n        200:\n          description: OK\n        405:\n          description: Invalid input\n  /github/branches/{owner}/{repo}:\n    get:\n      summary: List git branches of a Github repo\n      operationId: shipit_api.admin.github.list_github_branches\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      responses:\n        200:\n          description: List of git branches\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n  /github/commits/{owner}/{repo}:\n    get:\n      summary: List git commits in a Github repo\n      operationId: shipit_api.admin.github.list_github_commits\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      - name: branch\n        in: query\n        required: true\n        description: branch name\n        schema:\n          type: string\n      responses:\n        200:\n          description: List of git commits\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n  /github/package_json/{owner}/{repo}/{revision}:\n    get:\n      summary: Returns contents of package.json from a github repo's root directory\n      operationId: shipit_api.admin.github.get_package_json\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      - name: revision\n        in: path\n        required: true\n        description: commit revision\n        schema:\n          type: string\n      responses:\n        200:\n          description: Contents of package.json\n          content:\n            application/json:\n              schema:\n                type: object\n  /github/package_json/{owner}/{repo}/{revision}/{directory}:\n    get:\n      summary: Returns contents of package.json from a github repo's root directory\n      operationId: shipit_api.admin.github.get_package_json_directory\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      - name: revision\n        in: path\n        required: true\n        description: commit revision\n        schema:\n          type: string\n      - name: directory\n        in: path\n        required: true\n        description: directory path\n        schema:\n          type: string\n      responses:\n        200:\n          description: Contents of package.json\n          content:\n            application/json:\n              schema:\n                type: object\n  /github/version_txt/{owner}/{repo}/{revision}:\n    get:\n      summary: Returns contents of version.txt from a github repo's root directory\n      operationId: shipit_api.admin.github.get_version_txt\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      - name: revision\n        in: path\n        required: true\n        description: commit revision\n        schema:\n          type: string\n      responses:\n        200:\n          description: Contents of version.txt\n          content:\n            text/plain:\n              schema:\n                type: string\n                example: 1.0.0\n  /github/xpis/{owner}/{repo}/{revision}:\n    get:\n      summary: List XPIs in the manifest\n      operationId: shipit_api.admin.github.list_xpis\n      parameters:\n      - name: owner\n        in: path\n        required: true\n        description: repo owner\n        schema:\n          type: string\n      - name: repo\n        in: path\n        required: true\n        description: repo name\n        schema:\n          type: string\n      - name: revision\n        required: true\n        in: path\n        description: commit revision\n        schema:\n          type: string\n      responses:\n        200:\n          description: List of XPIs in a manifest\n          content:\n            application/json:\n              schema:\n                type: object\n  /xpi/releases:\n    get:\n      summary: List XPI releases\n      operationId: shipit_api.admin.xpi.list_releases\n      parameters:\n      - name: xpi_name\n        in: query\n        schema:\n          type: string\n      - name: xpi_version\n        in: query\n        schema:\n          type: string\n      - name: build_number\n        in: query\n        schema:\n          type: integer\n      - name: status\n        in: query\n        style: form\n        explode: false\n        schema:\n          type: array\n          items:\n            type: string\n      responses:\n        200:\n          description: A list of releases\n          content:\n            'application/json':\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/XPIRelease'\n    post:\n      summary: Add a new XPI release\n      operationId: shipit_api.admin.xpi.add_release\n      requestBody:\n        description: XPI Release object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/XPIReleaseInput'\n        required: true\n      responses:\n        201:\n          description: Release added\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/XPIRelease'\n  /xpi/releases/{name}:\n    get:\n      summary: Release info\n      operationId: shipit_api.admin.xpi.get_release\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Returns release representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/XPIRelease'\n    delete:\n      summary: Release info\n      operationId: shipit_api.admin.xpi.abandon_release_xpi\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Returns release representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/XPIRelease'\n\n  /xpi/releases/{name}/{phase}:\n    get:\n      summary: Phase info\n      operationId: shipit_api.admin.xpi.get_phase\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Retruns phase representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Phase'\n    put:\n      summary: Schedule phase\n      operationId: shipit_api.admin.xpi.schedule_phase\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Phase scheduled\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Phase'\n        409:\n          description: Already submitted\n          content: {}\n  /xpi/signoff/{name}/{phase}:\n    get:\n      summary: Get phase signoff requirements and status\n      operationId: shipit_api.admin.xpi.get_phase_signoff\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: Retruns phase signoff representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Signoffs'\n    put:\n      summary: Sign off a phase\n      operationId: shipit_api.admin.xpi.phase_signoff\n      parameters:\n      - name: name\n        in: path\n        description: release name\n        required: true\n        schema:\n          type: string\n      - name: phase\n        in: path\n        required: true\n        schema:\n          type: string\n      requestBody:\n        description: Signoff UID\n        content:\n          'application/json':\n            schema:\n              type: string\n        required: true\n      responses:\n        200:\n          description: Retruns phase signoff representation\n          content:\n            'application/json':\n              schema:\n                $ref: '#/components/schemas/Signoffs'\n        409:\n          description: Already submitted\n          content: {}\ncomponents:\n  schemas:\n    ReleaseInput:\n      required:\n      - branch\n      - build_number\n      - product\n      - revision\n      - version\n      type: object\n      properties:\n        product:\n          type: string\n          example: firefox\n          enum:\n          - android-components\n          - devedition\n          - pinebuild\n          - fenix\n          - fennec\n          - firefox\n          - focus-android\n          - thunderbird\n        version:\n          type: string\n          example: 56.0b12\n        branch:\n          type: string\n          example: projects/maple\n        revision:\n          type: string\n          example: abcd1234\n        build_number:\n          type: integer\n          example: 12\n        release_eta:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n        partial_updates:\n          anyOf:\n            - type: object\n              # Using additionalProperties allows having properties with names\n              # unknown in advance, like versions used here.\n              additionalProperties:\n                type: object\n                required:\n                  - buildNumber\n                  - locales\n                additionalProperties: false\n                properties:\n                  buildNumber:\n                    type: integer\n                  locales:\n                    type: array\n                    items:\n                      type: string\n            - type: string\n              enum: [auto]\n        product_key:\n          type: string\n          example: fennec_beta\n        repo_url:\n          type: string\n          example: https://github.com/mozilla-mobile/fenix\n    ReleaseStatus:\n      required:\n      - status\n      type: object\n      properties:\n        status:\n          type: string\n          example: scheduled\n          enum:\n          - scheduled\n          - shipped\n          - aborted\n    Phase:\n      required:\n      - name\n      - submitted\n      type: object\n      properties:\n        name:\n          type: string\n          description: Release promotion phase name\n          example: promote_firefox\n        submitted:\n          type: boolean\n          description: Indicated if the phase was submitted to TC\n        skipped:\n          type: boolean\n          description: Indicated if the phase was skipped\n        actionTaskId:\n          type: string\n          description: Action Task ID for the phase. This is also the taskGroupId\n            for the tasks created for this phase.\n        created:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n        completed:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n    Release:\n      required:\n      - branch\n      - build_number\n      - name\n      - phases\n      - product\n      - revision\n      - status\n      - version\n      type: object\n      properties:\n        name:\n          type: string\n          example: firefox-69.0b1-build1\n        product:\n          type: string\n          example: firefox\n          enum:\n          - android-components\n          - devedition\n          - pinebuild\n          - fenix\n          - fennec\n          - firefox\n          - focus-android\n          - thunderbird\n        version:\n          type: string\n          example: 56.0b12\n        branch:\n          type: string\n          example: projects/maple\n        project:\n          type: string\n          example: maple\n        revision:\n          type: string\n          example: abcd1234\n        build_number:\n          type: integer\n          example: 12\n        release_eta:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n        status:\n          type: string\n          example: scheduled\n          enum:\n          - scheduled\n          - shipped\n          - aborted\n        phases:\n          type: array\n          items:\n            $ref: '#/components/schemas/Phase'\n        created:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n        completed:\n          type: string\n          format: dateTime\n          example: \"2017-12-21T15:10:00-05:00\"\n        allow_phase_skipping:\n          type: boolean\n          description: Allow skipping phases. In this case the snowman release model will not skipped phases.\n    Signoffs:\n      required:\n      - signoffs\n      type: object\n      properties:\n        signoffs:\n          type: array\n          items:\n            $ref: '#/components/schemas/Signoff'\n        deadline:\n          type: string\n          description: Deadline of all signoffs\n          format: datetime\n    Signoff:\n      required:\n      - description\n      - name\n      - permissions\n      - uid\n      type: object\n      properties:\n        uid:\n          type: string\n          description: Unique identifier\n        name:\n          type: string\n          description: Human readable signoff name\n        description:\n          type: string\n          description: Human readable explanation of the signoff\n        signed:\n          type: boolean\n          description: Is the signoff signed off\n          default: false\n        permissions:\n          type: string\n          description: Permision required to sign the signoff\n        completed_by:\n          type: string\n          description: Person who signed off (Auth0 ID - email)\n          default: \"\"\n        completed:\n          type: string\n          description: Timestamp of the signoff\n          format: datetime\n    DisableProduct:\n      type: object\n      required:\n      - product\n      - branch\n      properties:\n        product:\n          type: string\n          example: firefox\n          enum:\n          - firefox\n          - fennec\n          - devedition\n          - pinebuild\n        branch:\n          type: string\n          example: releases/mozilla-beta\n          enum:\n          - projects/maple\n          - releases/mozilla-beta\n          - releases/mozilla-esr68\n          - try\n    XPIReleaseInput:\n      required:\n      - xpi_name\n      - xpi_revision\n      - xpi_version\n      - revision\n      - build_number\n      type: object\n      properties:\n        xpi_name:\n          type: string\n        xpi_revision:\n          type: string\n        xpi_version:\n          type: string\n        revision:\n          type: string\n          description: Manifest revision\n        build_number:\n          type: integer\n    XPIRelease:\n      type: object\n      required:\n        - xpi_name\n        - xpi_revision\n        - xpi_version\n        - build_number\n        - name\n        - phases\n        - status\n        - revision\n      properties:\n        name:\n          type: string\n        xpi_name:\n          type: string\n        xpi_revision:\n          type: string\n        xpi_version:\n          type: string\n        revision:\n          type: string\n        build_number:\n          type: integer\n        status:\n          type: string\n          example: scheduled\n          enum:\n          - scheduled\n          - shipped\n          - aborted\n        phases:\n          type: array\n          items:\n            $ref: '#/components/schemas/Phase'\n        created:\n          type: string\n          format: dateTime\n        completed:\n          type: string\n          format: dateTime\n",
			"canonicalURL": "/github.com/mozilla-releng/shipit@9115f7534684cf9d062a4d33a7fa9d6cbbcd73e6/-/blob/api/src/shipit_api/admin/api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/mozilla-releng/shipit/blob/9115f7534684cf9d062a4d33a7fa9d6cbbcd73e6/api/src/shipit_api/admin/api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	},
	"Error": "notImplemented: path \"/releases/{name}\": get: responses: 200: contents: application/json: generate schema: anyOf: complex anyOf not implemented",
	"NotImplemented": [
		"complex anyOf",
		"unsupported content types"
	]
}