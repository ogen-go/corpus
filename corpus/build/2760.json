{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/emanuelfreitas/3gpp-documentation"
		},
		"file": {
			"name": "TS29554_Npcf_BDTPolicyControl.yaml",
			"path": "apis/TS29554_Npcf_BDTPolicyControl.yaml",
			"content": "openapi: 3.0.0\ninfo:\n  title: Npcf_BDTPolicyControl Service API\n  version: 1.1.3\n  description: |\n    PCF BDT Policy Control Service.\n    Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).\n    All rights reserved.\n#\nexternalDocs:\n  description: 3GPP TS 29.554 V16.7.0; 5G System; Background Data Transfer Policy Control Service.\n  url: 'http://www.3gpp.org/ftp/Specs/archive/29_series/29.554/'\n#\nservers:\n  - url: '{apiRoot}/npcf-bdtpolicycontrol/v1'\n    variables:\n      apiRoot:\n        default: https://example.com\n        description: apiRoot as defined in subclause 4.4 of 3GPP TS 29.501.\nsecurity:\n  - {}\n  - oAuth2ClientCredentials:\n    - npcf-bdtpolicycontrol\npaths:\n  /bdtpolicies:\n    post:\n      summary: Create a new Individual BDT policy\n      operationId: CreateBDTPolicy\n      tags:\n        - BDT policies (Collection)\n      requestBody:\n        description: Contains information for the creation of a new Individual BDT policy resource.\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/BdtReqData'\n      responses:\n        '201':\n          description: Background data transfer policies offered to an ASP.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/BdtPolicy'\n          headers:\n            Location:\n              description: 'Contains the URI of the created individual BDT policy resource, according to the structure: {apiRoot}/npcf-bdtpolicycontrol/v1/bdtpolicies/{bdtPolicyId}'\n              required: true\n              schema:\n                type: string\n#\n# Error scenarios POST\n#\n        '303':\n          description: See Other. The result of the POST request would be equivalent to the existing Individual BDT policy resource.\n          headers:\n            Location:\n              description: 'Contains the URI of the existing individual BDT policy resource.'\n              required: true\n              schema:\n                type: string\n        '400':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29571_CommonData.yaml#/components/responses/default'\n#\n# End error scenarios POST\n#\n      callbacks:\n        BdtNotification:\n          '{$request.body#/notifUri}':\n            post:\n              requestBody:\n                required: true\n                content:\n                  application/json:\n                    schema:\n                      $ref: '#/components/schemas/Notification'\n              responses:\n                '204':\n                  description: No Content, a reception of the BDT notification was successful.\n                '307':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/307'\n                '308':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/308'\n                '400':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/400'\n                '401':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/401'\n                '403':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/403'\n                '404':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/404'\n                '411':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/411'\n                '413':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/413'\n                '415':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/415'\n                '429':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/429'\n                '500':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/500'\n                '503':\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/503'\n                default:\n                  $ref: 'TS29571_CommonData.yaml#/components/responses/default'\n#\n  /bdtpolicies/{bdtPolicyId}:\n    get:\n      summary: Read an Individual BDT policy\n      operationId: GetBDTPolicy\n      tags:\n        - Individual BDT policy (Document)\n      parameters:\n        - name: bdtPolicyId\n          description: String identifying the individual BDT policy resource in the PCF.\n          in: path\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Background data transfer policies offered to and selected by an ASP.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/BdtPolicy'\n#\n# Redirection scenarios GET\n#\n        '307':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/308'\n#\n# Error scenarios GET\n#\n        '400':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/404'\n        '406':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/406'\n        '429':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29571_CommonData.yaml#/components/responses/default'\n#\n# End error scenarios GET\n#\n    patch:\n      summary: Update an Individual BDT policy\n      operationId: UpdateBDTPolicy\n      tags:\n        - Individual BDT policy (Document)\n      parameters:\n      - name: bdtPolicyId\n        description: String identifying the individual BDT policy resource in the PCF.\n        in: path\n        required: true\n        schema:\n          type: string\n      requestBody:\n        description: Contains modification instruction to be performed on the BdtPolicy data structure to select a transfer policy and in addition, may indicate whether the BDT warning notification is enabled or disabled.\n        required: true\n        content:\n          application/merge-patch+json:\n            schema:\n              $ref: '#/components/schemas/PatchBdtPolicy'\n      responses:\n        '200':\n          description: The Individual BDT Policy resource is modified and a representation of that resource is returned.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/BdtPolicy'\n        '204':\n          description: The Individual BDT Policy resource is modified.\n#\n# Redirection scenarios PATCH\n#\n        '307':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/307'\n        '308':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/308'\n#\n# Error scenarios PATCH\n#\n        '400':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/400'\n        '401':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/401'\n        '403':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/403'\n        '404':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/404'\n        '411':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/411'\n        '413':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/413'\n        '415':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/415'\n        '429':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/429'\n        '500':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/500'\n        '503':\n          $ref: 'TS29571_CommonData.yaml#/components/responses/503'\n        default:\n          $ref: 'TS29571_CommonData.yaml#/components/responses/default'\n#\n# End error scenarios PATCH\n#\n#\ncomponents:\n  securitySchemes:\n    oAuth2ClientCredentials:\n      type: oauth2\n      flows:\n        clientCredentials:\n          tokenUrl: '{nrfApiRoot}/oauth2/token'\n          scopes:\n            npcf-bdtpolicycontrol: Access to the Npcf_BDTPolicyControl API\n  schemas:\n#\n# Structured data types\n#\n    BdtPolicy:\n      description: Represents an Individual BDT policy resource.\n      type: object\n      properties:\n        bdtPolData:\n          $ref: '#/components/schemas/BdtPolicyData'\n        bdtReqData:\n          $ref: '#/components/schemas/BdtReqData'\n#\n    BdtReqData:\n      description: Contains service requirements for creation a new Individual BDT policy resource.\n      type: object\n      required:\n      - aspId\n      - desTimeInt\n      - numOfUes\n      - volPerUe\n      properties:\n        aspId:\n          $ref: '#/components/schemas/AspId'\n        desTimeInt:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/TimeWindow'\n        dnn:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'\n        interGroupId:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'\n        notifUri:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'\n        nwAreaInfo:\n          $ref: '#/components/schemas/NetworkAreaInfo'\n        numOfUes:\n          description: Indicates a number of UEs.\n          type: integer\n        volPerUe:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/UsageThreshold'\n        snssai:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'\n        suppFeat:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n        trafficDes:\n          $ref: 'TS29122_ResourceManagementOfBdt.yaml#/components/schemas/TrafficDescriptor'\n        warnNotifReq:\n          description: Indicates whether the BDT warning notification is enabled or disabled.\n          type: boolean\n          default: false\n#\n    BdtPolicyData:\n      description: Describes the authorization data of an Individual BDT policy resource.\n      type: object\n      required:\n      - bdtRefId\n      - transfPolicies\n      properties:\n        bdtRefId:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId'\n        transfPolicies:\n          description: Contains transfer policies.\n          type: array\n          items:\n            $ref: '#/components/schemas/TransferPolicy'\n          minItems: 1\n        selTransPolicyId:\n          description: Contains an identity of the selected transfer policy.\n          type: integer\n        suppFeat:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'\n#\n    PatchBdtPolicy:\n      description: Describes the updates in authorization data of an Individual BDT Policy created by the PCF.\n      type: object\n      properties:\n        bdtPolData:\n          $ref: '#/components/schemas/BdtPolicyDataPatch'\n        bdtReqData:\n          $ref: '#/components/schemas/BdtReqDataPatch'\n#\n    BdtPolicyDataPatch:\n      description: A JSON Merge Patch body schema containing modification instruction to be performed on the bdtPolData attribute of the BdtPolicy data structure to select a transfer policy. Adds selTransPolicyId to BdtPolicyData data structure.\n      type: object\n      required:\n      - selTransPolicyId\n      properties:\n        selTransPolicyId:\n          description: Contains an identity (i.e. transPolicyId value) of the selected transfer policy. If the BdtNotification_5G feature is supported value 0 indicates that no transfer policy is selected.\n          type: integer\n#\n    BdtReqDataPatch:\n      description: A JSON Merge Patch body schema containing modification instruction to be performed on the bdtReqData attribute of the BdtPolicy data structure to indicate whether the BDT warning notification is enabled or disabled. Modifies warnNotifReq from BdtReqData data structure.\n      type: object\n      properties:\n        warnNotifReq:\n          description: Indicates whether the BDT warning notification is enabled or disabled.\n          type: boolean\n#\n    TransferPolicy:\n      description: Describes a transfer policy.\n      type: object\n      required:\n      - ratingGroup\n      - recTimeInt\n      - transPolicyId\n      properties:\n        maxBitRateDl:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\n        maxBitRateUl:\n          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'\n        ratingGroup:\n          description: Indicates a rating group for the recommended time window.\n          type: integer\n        recTimeInt:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/TimeWindow'\n        transPolicyId:\n          description: Contains an identity of a transfer policy.\n          type: integer\n    NetworkAreaInfo:\n      description: Describes a network area information in which the NF service consumer requests the number of UEs.\n      type: object\n      properties:\n        ecgis:\n          description: Contains a list of E-UTRA cell identities.\n          type: array\n          items:\n            $ref: 'TS29571_CommonData.yaml#/components/schemas/Ecgi'\n          minItems: 1\n        ncgis:\n          description: Contains a list of NR cell identities.\n          type: array\n          items:\n            $ref: 'TS29571_CommonData.yaml#/components/schemas/Ncgi'\n          minItems: 1\n        gRanNodeIds:\n          description: Contains a list of NG RAN nodes.\n          type: array\n          items:\n            $ref: 'TS29571_CommonData.yaml#/components/schemas/GlobalRanNodeId'\n          minItems: 1\n        tais:\n          description: Contains a list of tracking area identities.\n          type: array\n          items:\n            $ref: 'TS29571_CommonData.yaml#/components/schemas/Tai'\n          minItems: 1\n#\n    Notification:\n      description: Describes a BDT notification.\n      type: object\n      required:\n      - bdtRefId\n      properties:\n        bdtRefId:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/BdtReferenceId'\n        candPolicies:\n          description: Contains a list of the candidate transfer policies from which the AF may select a new transfer policy due to a network performance is below the criteria set by the operator.\n          type: array\n          items:\n            $ref: '#/components/schemas/TransferPolicy'\n          minItems: 1\n        nwAreaInfo:\n          $ref: '#/components/schemas/NetworkAreaInfo'\n        timeWindow:\n          $ref: 'TS29122_CommonData.yaml#/components/schemas/TimeWindow'\n#\n# Simple data types\n#\n    AspId:\n      description: Contains an identity of an application service provider.\n      type: string\n#\n#\n"
		}
	},
	"Error": "parse: paths: /bdtpolicies/{bdtPolicyId}: get: GetBDTPolicy: responses: 200: content: application/json: schema: parse schema: reference \"#/components/schemas/BdtPolicy\": parse schema: bdtPolData: parse schema: reference \"#/components/schemas/BdtPolicyData\": parse schema: bdtRefId: parse schema: reference \"TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\": resolve reference \"TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\": invalid schema reference \"TS29122_CommonData.yaml#/components/schemas/BdtReferenceId\""
}