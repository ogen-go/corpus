{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/OpenBanking-Brasil/areadesenvolvedor"
		},
		"file": {
			"name": "swagger_resources_apis.yaml",
			"path": "documentation/source/versions/v1.0.0-rc6.7/swagger/swagger_resources_apis.yaml",
			"content": "﻿openapi: 3.0.0\ninfo:\n  title: API Resources - Open Banking Brasil\n  description: |\n    API que trata da consulta do status de recursos para o Open Banking Brasil - Fase 2.\\\n    Não possui segregação entre pessoa natural e pessoa jurídica.\n\n    # Orientações importantes\n    - A API resources lista os recursos vinculados ao consentimento específico, identificado por `consentId` e vinculado ao token enviado no header `Authorization`.\n    - Os `STATUS` dos recursos listados DEVEM considerar não apenas o consentimento vinculado mas também a disponibilidade do recurso na instituição transmissora dos dados.\n    - Na lista de recursos devolvida na API resources somente constará informação no atributo `resourceId` para recursos com o `STATUS` `AVAILABLE`.\n    - Para os demais `STATUS` não é devolvido o identificador do recurso - `resourceId`.\n    - A `permission` específica desta API  - `RESOURCES_READ` - DEVE ser solicitada pela instituição receptora na ocasião do pedido de criação do consentimento.\n    - A consulta à API Resources não é obrigatória por parte das instituições receptoras - esta API foi criada para dar visibilidade da existência de ocorrências que possam impedir o compartilhamento de determinados recursos por parte da instituição transmissora dos dados.\n    - O identificador do recurso devolvido na API Resources - `resourceId` - quando apresentado corresponde ao mesmo identificador designado para o recurso em sua API específica, o seja: o `resourceId` corresponde ao `accountId` da API accounts, ao `creditCardAccountId` da API de conta\n    pós-paga e assim sucessivamente.\n\n    ## Status previstos para os recursos listados na API Resources\n    - AVAILABLE: indica que o recurso encontra-se disponível e o(s) consentimento(s) associado(s) possui(em) status `AUTHORISED`.\n    - UNAVAILABLE: indica que o recurso não está mais disponível, por exemplo, em caso de uma conta encerrada.\n    - TEMPORARILY_UNAVAILABLE: indica que o recurso encontra-se temporariamente indisponível, embora o(s) consentimento(s) associado(s) possua(m) status `AUTHORISED`.  \n    Caso de exemplo: conta temporariamente bloqueada por suspeita de fraude.\n    - PENDING_AUTHORISATION: indica a existência de pendências para o compartilhamento do recurso, por exemplo, em caso de alçada dupla, quando é necessário o consentimento de mais de um titular.\n\n    ## Permissions necessárias para a API Resources\n    ### `/resources`\n      - permissions:\n        - GET: **RESOURCES_READ**\n  version: 1.0.0-rc6.6\n  license:\n    name: Apache 2.0\n    url: 'https://www.apache.org/licenses/LICENSE-2.0'\n  contact:\n    name: Governança do Open Banking Brasil – Especificações\n    email: gt-interfaces@openbankingbr.org\n    url: 'https://openbanking-brasil.github.io/areadesenvolvedor/'\nservers:\n  - url: 'https://api.banco.com.br/open-banking/resources/v1'\n    description: Servidor de Produção\n  - url: 'https://apih.banco.com.br/open-banking/resources/v1'\n    description: Servidor de Homologação\ntags:\n  - name: Resources\npaths:\n  /resources:\n    get:\n      tags:\n        - Resources\n      summary: Obtém a lista de recursos consentidos pelo cliente.\n      operationId: resourcesGetResources\n      description: Método para obter a lista de recursos mantidos pelo cliente na instituição transmissora e para as quais ele tenha fornecido consentimento.\n      parameters:\n        - $ref: '#/components/parameters/Authorization'\n        - $ref: '#/components/parameters/xFapiAuthDate'\n        - $ref: '#/components/parameters/xFapiCustomerIpAddress'\n        - $ref: '#/components/parameters/xFapiInteractionId'\n        - $ref: '#/components/parameters/xCustomerUserAgent'\n        - $ref: '#/components/parameters/page'\n        - $ref: '#/components/parameters/pageSize'\n      responses:\n        '200':\n          $ref: '#/components/responses/OKResponseResourceList'\n        '400':\n          $ref: '#/components/responses/BadRequest'\n        '401':\n          $ref: '#/components/responses/Unauthorized'\n        '403':\n          $ref: '#/components/responses/Forbidden'\n        '404':\n          $ref: '#/components/responses/NotFound'\n        '405':\n          $ref: '#/components/responses/MethodNotAllowed'\n        '406':\n          $ref: '#/components/responses/NotAcceptable'\n        '429':\n          $ref: '#/components/responses/TooManyRequests'\n        '500':\n          $ref: '#/components/responses/InternalServerError'\n        default:\n          $ref: '#/components/responses/OKResponseResourceList'\n      security:\n        - OpenId:\n            - openid\n          OAuth2Security:\n            - 'consent:consentId'\n            - resources\ncomponents:\n  schemas:\n    ResponseResourceList:\n      type: object\n      required:\n        - data\n        - links\n        - meta\n      properties:\n        data:\n          type: array\n          items:\n            type: object\n            required:\n              - type\n              - status\n            properties:\n              resourceId:\n                type: string\n                description: |\n                  Identifica o recurso reportado pelo participante do Open Banking, no caso de:\n                  Contas de depósito à vista, de poupança ou de pagamento pré-paga : corresponde ao accountId;\n                  Conta de pagamento pós-paga: corresponde ao creditCardAccountId;\n                  Empréstimos, Financiamentos, Direitos creditórios descontados e Adiantamento a depositantes: corresponde ao contractId.\n                minLength: 1\n                maxLength: 100\n                pattern: '^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$'\n                example: 25cac914-d8ae-6789-b215-650a6215820d\n              type:\n                type: string\n                enum:\n                  - ACCOUNT\n                  - CREDIT_CARD_ACCOUNT\n                  - LOAN\n                  - FINANCING\n                  - UNARRANGED_ACCOUNT_OVERDRAFT\n                  - INVOICE_FINANCING\n                description: |\n                  Tipo de recurso (vide Enum):\n                  Account - Conta de depósito à vista, poupança ou pagamento pré-paga\n                  Credit Card Account - Conta de pagamento pós-paga (Cartão de Crédito)\n                  Loan - Empréstimo\n                  Financing - Financiamento\n                  Unarranged Account Overdraft - Cheque Especial\n                  Invoice Financing - Financiamento de Fatura\n                example: ACCOUNT\n              status:\n                type: string\n                enum:\n                  - AVAILABLE\n                  - UNAVAILABLE\n                  - TEMPORARILY_UNAVAILABLE\n                  - PENDING_AUTHORISATION\n                description: |\n                  Tipo de status de recurso (vide Enum):\n                  Available - Disponível\n                  Unavailable - Indisponível\n                  Temporarily Unavailable - Temporariamente Indisponível\n                  Pending Authorisation - Pendente de Autorização\n                example: AVAILABLE\n            additionalProperties: false\n          minItems: 1\n          description: Lista de recursos e seus respectivos status.\n        links:\n          type: object\n          description: Referências para outros recusos da API requisitada.\n          required:\n            - self\n          properties:\n            self:\n              type: string\n              format: uri\n              maxLength: 2000\n              description: URI completo que gerou a resposta atual.\n              example: 'https://api.banco.com.br/open-banking/api/v1/resource'\n              pattern: '^(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026\\/\\/=]*)$'\n            first:\n              type: string\n              format: uri\n              maxLength: 2000\n              description: URI da primeira página que originou essa lista de resultados. Restrição - Obrigatório quando não for a primeira página da resposta\n              example: 'https://api.banco.com.br/open-banking/api/v1/resource'\n              pattern: '^(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026\\/\\/=]*)$'\n            prev:\n              type: string\n              format: uri\n              maxLength: 2000\n              description: \"URI da página anterior dessa lista de resultados. Restrição - \\tObrigatório quando não for a primeira página da resposta\"\n              example: 'https://api.banco.com.br/open-banking/api/v1/resource'\n              pattern: '^(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026\\/\\/=]*)$'\n            next:\n              type: string\n              format: uri\n              maxLength: 2000\n              description: URI da próxima página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta\n              example: 'https://api.banco.com.br/open-banking/api/v1/resource'\n              pattern: '^(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026\\/\\/=]*)$'\n            last:\n              type: string\n              format: uri\n              maxLength: 2000\n              description: URI da última página dessa lista de resultados. Restrição - Obrigatório quando não for a última página da resposta\n              example: 'https://api.banco.com.br/open-banking/api/v1/resource'\n              pattern: '^(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?\u0026\\/\\/=]*)$'\n          additionalProperties: false\n        meta:\n          type: object\n          description: Meta informações referente a API requisitada.\n          required:\n            - totalRecords\n            - totalPages\n            - requestDateTime\n          properties:\n            totalRecords:\n              type: integer\n              format: int32\n              description: Número total de registros no resultado\n              example: 1\n            totalPages:\n              type: integer\n              format: int32\n              description: Número total de páginas no resultado\n              example: 1\n            requestDateTime:\n              description: 'Data e hora da consulta, conforme especificação RFC-3339, formato UTC.'\n              type: string\n              maxLength: 20\n              format: date-time\n              example: '2021-05-21T08:30:00Z'\n          additionalProperties: false\n      additionalProperties: false\n  parameters:\n    Authorization:\n      name: Authorization\n      in: header\n      description: Cabeçalho HTTP padrão. Permite que as credenciais sejam fornecidas dependendo do tipo de recurso solicitado\n      required: true\n      schema:\n        type: string\n        pattern: \\w*\\W*\n        maxLength: 2048\n    page:\n      name: page\n      in: query\n      description: Número da página que está sendo requisitada (o valor da primeira página é 1).\n      schema:\n        type: integer\n        default: 1\n        minimum: 1\n        format: int32\n    pageSize:\n      name: page-size\n      in: query\n      description: Quantidade total de registros por páginas.\n      schema:\n        type: integer\n        default: 25\n        minimum: 1\n        format: int32\n        maximum: 1000\n    xCustomerUserAgent:\n      name: x-customer-user-agent\n      in: header\n      description: Indica o user-agent que o usuário utiliza.\n      required: false\n      schema:\n        type: string\n        pattern: \\w*\\W*\n        minLength: 1\n        maxLength: 100\n    xFapiAuthDate:\n      name: x-fapi-auth-date\n      in: header\n      description: 'Data em que o usuário logou pela última vez com o receptor. Representada de acordo com a [RFC7231](https://tools.ietf.org/html/rfc7231).Exemplo: Sun, 10 Sep 2017 19:43:31 UTC'\n      required: false\n      schema:\n        type: string\n        pattern: '^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), \\d{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{4} \\d{2}:\\d{2}:\\d{2} (GMT|UTC)$'\n        minLength: 29\n        maxLength: 29\n    xFapiCustomerIpAddress:\n      name: x-fapi-customer-ip-address\n      in: header\n      description: O endereço IP do usuário se estiver atualmente logado com o receptor.\n      required: false\n      schema:\n        type: string\n        pattern: \\w*\\W*\n        minLength: 1\n        maxLength: 100\n    xFapiInteractionId:\n      name: x-fapi-interaction-id\n      in: header\n      description: 'Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve \"reproduzir\" esse valor no cabeçalho de resposta.'\n      required: false\n      schema:\n        type: string\n        pattern: '^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$'\n        minLength: 1\n        maxLength: 100\n  securitySchemes:\n    OpenId:\n      type: openIdConnect\n      openIdConnectUrl: 'https://auth.mockbank.poc.raidiam.io/.well-known/openid-configuration'\n    OAuth2Security:\n      type: oauth2\n      description: Fluxo OAuth necessário para que a receptora tenha acesso aos dados na instituição transmissora. Requer o processo de redirecionamento e autenticação do usuário a que se referem os dados.\n      flows:\n        authorizationCode:\n          authorizationUrl: 'https://authserver.example/authorization'\n          tokenUrl: 'https://authserver.example/token'\n          scopes:\n            resources: Escopo necessário para acesso à API Resources. O controle dos endpoints específicos é feito via permissions.\n  responses:\n    OKResponseResourceList:\n      description: Dados de status dos recursos obtidos com sucesso.\n      headers:\n        x-fapi-interaction-id:\n          schema:\n            type: string\n            pattern: '^[a-zA-Z0-9][a-zA-Z0-9\\-]{0,99}$'\n            maxLength: 100\n            description: 'Um UID [RFC4122](https://tools.ietf.org/html/rfc4122) usado como um ID de correlação. Se fornecido, o transmissor deve \"reproduzir\" esse valor no cabeçalho de resposta.'\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/ResponseResourceList'\n    BadRequest:\n      description: 'A requisição foi malformada, omitindo atributos obrigatórios, seja no payload ou através de atributos na URL.'\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    Forbidden:\n      description: O token tem escopo incorreto ou uma política de segurança foi violada\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    InternalServerError:\n      description: Ocorreu um erro no gateway da API ou no microsserviço\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    MethodNotAllowed:\n      description: O consumidor tentou acessar o recurso com um método não suportado\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    NotAcceptable:\n      description: A solicitação continha um cabeçalho Accept diferente dos tipos de mídia permitidos ou um conjunto de caracteres diferente de UTF-8\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    NotFound:\n      description: O recurso solicitado não existe ou não foi implementado\n      content:\n        application/json; charset=utf-8:\n          schema:\n            type: object\n            required:\n              - errors\n            properties:\n              errors:\n                type: array\n                minItems: 1\n                maxItems: 13\n                items:\n                  type: object\n                  required:\n                    - code\n                    - title\n                    - detail\n                  properties:\n                    code:\n                      description: Código de erro específico do endpoint\n                      type: string\n                      pattern: \\w*\\W*\n                      maxLength: 255\n                    title:\n                      description: Título legível por humanos deste erro específico\n                      type: string\n                      pattern: \\w*\\W*\n                      maxLength: 255\n                    detail:\n                      description: Descrição legível por humanos deste erro específico\n                      type: string\n                      pattern: \\w*\\W*\n                      maxLength: 2048\n                  additionalProperties: false\n              meta:\n                $ref: '#/components/schemas/ResponseResourceList/properties/meta'\n            additionalProperties: false\n    TooManyRequests:\n      description: 'A operação foi recusada, pois muitas solicitações foram feitas dentro de um determinado período ou o limite global de requisições concorrentes foi atingido'\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n    Unauthorized:\n      description: Cabeçalho de autenticação ausente/inválido ou token inválido\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: '#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema'\n"
		}
	},
	"Error": "parse: paths: /resources: get: operation \"resourcesGetResources\": responses: 500: resolve \"#/components/responses/InternalServerError\" reference: content: \"application/json; charset=utf-8\": schema: parse schema: reference \"#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema\": resolve reference \"#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema\": invalid schema reference \"#/components/responses/NotFound/content/application~1json%3B%20charset%3Dutf-8/schema\""
}