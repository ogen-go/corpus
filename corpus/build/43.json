{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/FraunhoferISST/diva"
		},
		"file": {
			"name": "openapi.yml",
			"path": "core/services/adapter-services/dsc-adapter/apiDoc/openapi.yml",
			"content": "openapi: 3.0.0\ninfo:\n  description: DSC Adapter adds the possibility to publish DIVA Resource as Offer on DSC. Changes on offered DIVA\n    Resource are automaticaly streamed to the DSC instance\n  version: 1.0.0\n  title: DSC Adapter API\ntags:\n  - name: offers\n    description: Operations ond DSC Offers belonging to a DIVA Resource\npaths:\n  /resources/{id}/offers:\n    parameters:\n      - $ref: \"#/components/parameters/actoridParam\"\n      - $ref: \"#/components/parameters/resourceIdParam\"\n    post:\n      tags:\n        - offers\n      summary: Create offer\n      description: Create mew offer on DSC from a DIVA resource. The Adapter creates an offer associated with a DIVA\n        resource with a rule (policy) and representation under the \"DIVA Catalog\" catalog. On successful operation the\n        created offer data (`offerId`, `ruleId` and `representationId`) will be automaticaly added to the DIVA resource\n        under `ids.offer` property\n      operationId: createOffer\n      requestBody:\n        $ref: \"#/components/requestBodies/OfferCreate\"\n      responses:\n        201:\n          $ref: \"#/components/responses/Success\"\n        4XX:\n          $ref: \"#/components/responses/BadRequestError\"\n        5XX:\n          $ref: \"#/components/responses/UnexpectedError\"\n  /resources/{id}/offers/{offerId}:\n    parameters:\n      - $ref: \"#/components/parameters/actoridParam\"\n      - $ref: \"#/components/parameters/resourceIdParam\"\n      - $ref: \"#/components/parameters/offerIdParam\"\n    put:\n      tags:\n        - offers\n      summary: Update offer\n      description: Update the offer rule (policy) on DSC\n      operationId: updateOffer\n      requestBody:\n        $ref: \"#/components/requestBodies/OfferCreate\"\n      responses:\n        200:\n          $ref: \"#/components/responses/SuccessEmpty\"\n        4XX:\n          $ref: \"#/components/responses/BadRequestError\"\n        5XX:\n          $ref: \"#/components/responses/UnexpectedError\"\n    get:\n      tags:\n        - offers\n      summary: Get DSC offer\n      description: Responses with the detailed offer information stored on DSC\n      operationId: getUsers\n      responses:\n        200:\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Offer\"\n        404:\n          $ref: \"#/components/responses/NotFoundError\"\n        4XX:\n          $ref: \"#/components/responses/BadRequestError\"\n        5XX:\n          $ref: \"#/components/responses/UnexpectedError\"\n    delete:\n      tags:\n        - offers\n      summary: Delete DSC offer\n      description: Removes the offer and associated rules and representations from DSC. The Adapter also updates\n        correspondingly the DIVA resource `ids` property\n      operationId: deleteOffer\n      responses:\n        200:\n          $ref: \"#/components/responses/SuccessEmpty\"\n        404:\n          $ref: \"#/components/responses/NotFoundError\"\n        4XX:\n          $ref: \"#/components/responses/BadRequestError\"\n        5XX:\n          $ref: \"#/components/responses/UnexpectedError\"\n\nservers:\n  - url: http://localhost:4002\ncomponents:\n  requestBodies:\n    OfferCreate:\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Policy\"\n  schemas:\n    Policy:\n      title: Policy\n      description: Policy schema\n      type: object\n      oneOf:\n        - properties:\n            provideAccess:\n              type: boolean\n              default: false\n              title: Is available on connector flag\n              description: Flag indicating if the resource is available via a connector\n          required:\n            - provideAccess\n        - properties:\n            usageLogging:\n              type: boolean\n              default: false\n              title: Is usage logging active flag\n              description: Flag indicating if the usage logging of the resource\n                is active on connector\n          required:\n            - usageLogging\n        - properties:\n            nTimesUsage:\n              type: number\n              default: 0\n              title: nTimesUsage\n              description: nTimesUsage\n          required:\n            - nTimesUsage\n        - properties:\n            durationUsage:\n              type: string\n              default: ''\n              title: xsd:duration usage duration\n              description: xsd:duration duration of time expressed as a number of\n                years, months, days, hours, minutes, and seconds\n              example: P2Y6M5DT12H35M30S\n          required:\n            - durationUsage\n        - properties:\n            usageNotification:\n              type: string\n              format: uri\n              default: ''\n              title: Usage notification URI\n              description: Usage notification URI\n              example: https://de.wikipedia.org/wiki/Uniform_Resource_Identifier\n          required:\n            - usageNotification\n        - properties:\n            usageUntilDeletion:\n              type: object\n              title: Resource usage duration interval until deletion\n              description: Allowed usage duration interval on connector until deletion\n              required:\n                - from\n                - to\n                - delete\n              properties:\n                from:\n                  type: string\n                  format: date-time\n                  example: 2011-10-05T14:48:00.000Z\n                to:\n                  type: string\n                  format: date-time\n                  example: 2011-10-05T14:48:00.000Z\n                delete:\n                  type: string\n                  format: date-time\n                  example: 2011-10-05T14:48:00.000Z\n          required:\n            - usageUntilDeletion\n        - properties:\n            usageDuringInterval:\n              type: object\n              title: Resource usage duration interval\n              description: Allowed usage duration interval on connector\n              required:\n                - from\n                - to\n              properties:\n                from:\n                  type: string\n                  format: date-time\n                  example: 2011-10-05T14:48:00.000Z\n                to:\n                  type: string\n                  format: date-time\n                  example: 2011-10-05T14:48:00.000Z\n          required:\n            - usageDuringInterval\n        - properties:\n            connectorRestrictedUsage:\n              type: string\n              format: uri\n              title: Connector Restricted Usage\n              description: The Connector that is allowed to use the resource\n              example: https://w3id.org/idsa/autogen/baseConnector/7b934432-a85e-41c5-9f65-669219dde4ae\n          required:\n            - connectorRestrictedUsage\n    Offer:\n      type: object\n      additionalProperties: true\n      description: Offer data from the DSC\n      properties:\n        title:\n          type: string\n        description:\n          type: string\n        keywords:\n          type: array\n          items:\n            type: string\n        publisher:\n          type: string\n          format: uri\n        language:\n          type: string\n        licence:\n          type: string\n          format: uri\n        sovereign:\n          type: string\n          format: uri\n        endpointDocumentation:\n          type: string\n          format: uri\n        remoteId:\n          type: string\n          format: uri\n          readOnly: true\n        additionalProperties:\n          type: object\n    OfferInformation:\n      type: object\n      additionalProperties: false\n      description: id's of the data on DSC associated with the created offer\n      properties:\n        offerId:\n          $ref: \"#/components/schemas/OfferId\"\n        ruleId:\n          title: Rule id\n          description: Unique identifier of the rule (policy) created within an offer\n          type: string\n          example: \"11678716-9c28-4534-978b-401ec9527669\"\n          pattern: \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n        representationId:\n          title: Representation id\n          description: Unique identifier of the representation created within an offer\n          type: string\n          example: \"11678716-9c28-4534-978b-401ec9527669\"\n          pattern: \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n        artifactId:\n          title: Artifact id\n          description: Unique identifier of the artifact created within an offer\n          type: string\n          example: \"11678716-9c28-4534-978b-401ec9527669\"\n          pattern: \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n        contractId:\n          title: Contract id\n          description: Unique identifier of the contract created within an offer\n          type: string\n          example: \"11678716-9c28-4534-978b-401ec9527669\"\n          pattern: \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n    ResourceId:\n      title: Resoruce id\n      description: Unique resource identifier\n      type: string\n      example: \"resource:uuid:asdsad4d1fcb08-b894-4bdf-b662-0f105d597189\"\n      pattern: \"^resource:uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n    OfferId:\n      title: Offer id\n      description: Unique identifier of the offer associated with a DIVA resource under `ids.offer.offerId`\n      type: string\n      example: \"11678716-9c28-4534-978b-401ec9527669\"\n      pattern: \"[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n    Error:\n      type: object\n      additionalProperties: false\n      required:\n        - type\n        - message\n        - code\n      properties:\n        type:\n          description: Description of the error type\n          type: string\n        message:\n          description: Description of the error\n          type: string\n        code:\n          description: Erro status code\n          type: number\n          format: int32\n        errors:\n          description: JSON Schema validation errors\n          type: array\n          items:\n            type: object\n  responses:\n    Success:\n      description: Succesful operation with response data\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/OfferInformation\"\n    SuccessEmpty:\n      description: Succesful operation\n    UnexpectedError:\n      description: Internal error\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    NotFoundError:\n      description: Entity not found\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    InvalidDataError:\n      description: Invalid data supplied\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    BadRequestError:\n      description: Request violates API Specification or supplied data is not valid\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n  parameters:\n    actoridParam:\n      in: header\n      description: The id of the origin that produces action/message. Can be a user or service\n      name: x-actorid\n      schema:\n        type: string\n        minLength: 1\n        pattern: \"^(user|service):uuid:[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$\"\n      required: true\n    resourceIdParam:\n      in: path\n      description: Existing identifier of the resource that should be affected by the operation\n      name: id\n      schema:\n        $ref: \"#/components/schemas/ResourceId\"\n      required: true\n    offerIdParam:\n      in: path\n      description: Existing identifier of the offer that should be affected by the operation\n      name: offerId\n      schema:\n        $ref: \"#/components/schemas/OfferId\"\n      required: true\n"
		}
	},
	"Error": "make ir: path \"/resources/{id}/offers\": post: responses: parse response status code: strconv.Atoi: parsing \"4XX\": invalid syntax"
}