{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/wirfuerdigitalisierung/documentation"
		},
		"file": {
			"name": "specs.yaml",
			"path": "specs.yaml",
			"content": "openapi: 3.0.0\n\ninfo:\n  title: Adapter - Kontaktdaten Erfassungs Apps (Provider) zu Gesundheitsbehörden \n  description: Gesundheitsbehörden digital (tm)\n  version: 0.0.1\nsecurity:\n  - ApiKeyAuth: []\n      \nservers:\n  - url: https://api.darfichrein.de\n    description: Production URL\n  - url: https://dev-api.darfichrein.de\n    description: Staging URL\n\ntags: \n  - name: Search for location\n    description: Standortsuche\n  - name: Request contact data\n    description: Kontaktdaten Anfrage\n  - name: Provide download url\n    description: Bereitstellung Download URL\n  - name: Download tracing data\n    description: Kontaktdaten Download\n\npaths:\n  /{search_location_endpoint}/{search}:\n    get:\n      tags:\n        - Search for location\n      security:\n        - ApiKeyAuth: [ ]\n      operationId: findCompanyByStartingValue\n      summary: Lookup for company or locations matching search param.      \n      description: Dieser Endpunkt wird vom Provider implementiert. Den finalen Pfad kann der Provider bestimmen.\n      parameters:\n        - in: path\n          description: URL encoded String\n          name: search\n          schema:\n            type: string\n            minimum: 4\n          required: true\n        - in: path\n          description: Endpoint wie vom Provider konfiguriert\n          name: search_location_endpoint\n          schema:\n            type: string\n          required: true\n\n      responses:\n        '500':\n          description: Error at Provider\n        '200':\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/LocationInformation'\n          description: Companies matching the keyword. In case there are no results an empty array is returned. \n        '401':\n          description: Unauthorized - API Key not set or invalid\n\n  \n  /{request_contact_data_endpoint}:\n    post:\n      description: Dieser Endpunkt wird vom Provider implementiert. Den finalen Pfad kann der Provider bestimmen.\n      tags:\n        - Request contact data\n      security:\n        - ApiKeyAuth: [ ]\n      operationId: createNewTicketForTracingCase\n      summary: Creates a new TracingTicket\n      parameters:\n        - in: path\n          name: request_contact_data_endpoint\n          description: Endpoint wie vom Provider konfiguriert\n          schema:\n            type: string\n          required: true\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TracingTicketRequest'\n      responses:\n        '400':\n          description: Fehler in der Anfrage vom Portal\n        '500':\n          description: Fehler im Provider        \n        '202':\n          description: Request accepted\n        '401':\n          description: Unauthorized - API Key not set or invalid\n\n  \n  /tracing-cases/{caseId}/tickets/{ticketId}/download:\n    put:\n      description: Dieser Endpunkt wird vom Portal implementiert. Die caseId und ticketId findet man in der Kontaktdaten Anfrage.\n      tags:\n        - Provide download url\n      security:\n        - ApiKeyAuth: [ ]\n      operationId: uploadTracingData\n      summary: Provides Download URL\n      parameters:\n        - in: path\n          name: caseId\n          schema:\n            type: string\n          required: true\n        - in: path\n          name: ticketId\n          schema:\n            type: string\n          required: true\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DownloadURL'\n      responses:\n        '201':\n          description: 'Upload was successful'\n        '401':\n          description: Unauthorized - API Key not set or invalid\n\n\n  /{download_url}:\n    get:\n      description: Dieser Endpunkt wird vom Provider implementiert. Der finalen Pfad (download_url) bestimmt der Provider beim Upload der download_url .\n      tags:\n        - Download tracing data\n      parameters:\n        - in: path\n          name: download_url\n          description: Wird vom Provider bereitgestellt in \"Provide Download URL\"\n          schema:\n            type: string\n          required: true\n \n      security:\n        - ApiKeyAuth: [ ]\n      operationId: uploadTracingData\n      summary: Downlods contact data\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/LocationVisitUpload'\n      responses:\n        '401':\n          description: Unauthorized - API Key not set or invalid\n        '404':\n          description: resource not found\n        '200':\n          description: 'Download successful'\n        '500':\n          description: Fehler beim Provider\n            \n\ncomponents:\n  schemas:\n    LocationInformation:\n      type: object\n      required:\n        - \"id\"\n        - \"name\"\n        - \"contact\"\n      properties:\n        id:\n          type: string\n          description: 'Interne ID (beim Provider)'\n          example: '5eddd61036d39a0ff8b11fdb'\n        name:\n          type: string\n          description: 'Name des Standorts'\n          example: 'Restaurant Alberts'\n        publicKey:\n          type: string\n          description: 'Öffentlicher Schlüssel, ggf. für Nachrichtenaustausch'\n        contact:\n          $ref: '#/components/schemas/LocationContact'\n          description: 'Kontaktperson des Standorts'\n        contexts:\n          type: array\n          items:\n            $ref: '#/components/schemas/LocationContext'\n\n    LocationContact:\n      type: object\n      required:\n        - \"address\"\n      properties:\n        officialName:\n          type: string\n          description: 'Offizieller Unternehmensname'\n          example: 'Darfichrein GmbH'\n        representative:\n          type: string\n          description: 'Ansprechpartner für dieses Unternehmen'\n          example: 'Stefan Michalk'\n        address:\n          $ref: '#/components/schemas/LocationAddress'\n          description: 'Anschrift des Standorts'\n        ownerEmail:\n          type: string\n          description: 'E-Mail des Inhabers'\n          example: 'stefan@darfichrein.de'\n        email:\n          type: string\n          description: 'ggf. E-Mail einer weiteren Kontaktperson'\n          example: 'covid@darfichrein.de'\n        phone:\n          type: string\n          description: 'Telefonnummer eines Ansprechpartners'\n          example: 'die bleibt privat :-)'\n\n    LocationContext:\n      type: object\n      description: 'Ein Standort hat ggf. weitere Informationen wie Tische/Räume, etc.'\n      properties:\n        id:\n          type: string\n          description: 'Interne ID des Kontext'\n          example: '5f4bfff742c1bf5f72918851'\n        name:\n          type: string\n          description: 'Bezeichnung'\n          example: 'Raum 0815'\n    \n    LocationAddress:\n      required:\n        - street\n        - city\n        - zip\n      properties:\n        street:\n          type: string\n          description: 'street + number'\n          example: 'Türkenstr. 7'\n        city:\n          type: string\n          description: 'Stadt'\n          example: 'München'\n        zip:\n          type: string\n          description: 'Postleitzahl'\n          example: '80333'\n\n    LocationVisitUpload:\n      description: 'Angeforderte Kontaktdaten inkl. Informationen der Destination'\n      required:\n        - \"visits\"        \n      type:\n        object\n      properties:\n        visits:\n          description: 'Liste der Kontaktdaten des angeforderten Zeitraums'\n          type: array\n          items:\n            $ref: '#/components/schemas/LocationVisit'\n        tracingSource:\n          description: 'Referenz zur Destination'\n          $ref: '#/components/schemas/Location'\n\n    DownloadURL:\n\n      description: 'URL unter der das Portal die Kontaktdaten runterladen kann.'\n      type:\n        object\n      required:\n        - \"download_url\"\n      properties:\n        download_url:\n          type: string\n\n    Location:\n      type: object\n      description: 'Dieses Objekt wird separat abgelegt, um die Referenz zu den Kontaktdaten zu halten'\n      properties:\n        name:\n          type: string\n          description: 'Name der Destination'\n          example: 'Restaurant Alberts'\n        officialName:\n          type: string\n          description: 'Offizieller Unternehmensname'\n          example: 'Darfichrein GmbH'\n        provider:\n          type: string\n          description: 'Name des Kontaktdatenproviders'\n          example: 'darfichrein'\n        address:\n          $ref: '#/components/schemas/LocationAddress'\n    \n    LocationVisit:\n      required:\n        - \"data\"\n        - \"timestampEntrance\"\n        - \"timestampExit\"\n      type:\n        object\n      properties:\n        data:\n          type: string\n          description: 'Verschlüsselte Kontaktdaten *mehr dazu im Implementierungsleitfaden'\n          example: 'YOUCANNOTREADTHISBASE64ENCODEDENCRYPEDDATA'\n        context:\n          type: string\n          description: 'Kontext des Besuchers, z. B. bestimmter Tisch/Raum'\n          example: 'Raum 0815'\n        timestampEntrance:\n          type: string\n          format: date-time\n          description: 'Zeitpunkt des Eintritts im ISO-Format'\n          example: '2021-02-21T20:00:00.000Z'\n        timestampExit:\n          type: string\n          format: date-time\n          description: 'Zeitpunkt des Austritts im ISO-Format *mehr dazu im Implementierungsleitfaden'\n          example: '2021-02-21T22:00:00.000Z'\n\n    TracingTicketRequest:\n      description: 'All information needed to create a new TracingTicket'\n      allOf:\n        - $ref: '#/components/schemas/TracingTicket'\n\n    TracingTicketResponse:\n      description: 'TracingTicket with ID and Status'\n      allOf:\n        - $ref: '#/components/schemas/TracingTicket'\n      properties:\n        id:\n          type: string\n          description: 'ID innerhalb \"Gesundheitsbehörde digital\"'\n          example: '60327fe6b07ab12701e9f8e4'\n        provider:\n          type: string\n          description: 'Name des Providers'\n          example: 'darfichrein'\n        status:\n          $ref: \"#/components/schemas/TracingStatus\"\n\n    TracingTicket:\n      type: object\n      required:\n        - ticketId\n        - caseId\n        - code      \n        - provider\n        - companyId\n        - issuer\n        - from\n        - to\n      properties:\n        ticketId:\n          type: string\n          description: 'Ticket-ID innerhalb \"Gesundheitsbehörde digital\"'\n          example: '602bb183931cfb3b604398f9'\n        caseId:\n          type: string\n          description: 'Fall-ID innerhalb \"Gesundheitsbehörde digital\"'\n          example: '602bb183931cfb3b604398f9'\n        code:\n          type: string\n          description: 'Identifizierendes Merkmal/Referenz bei Rückfragen (via Telefon/E-Mail)'\n          example: 'a57b-e17b-9460'\n        companyId:\n          type: string\n          description: \"ID der Destination innerhalb des Providers\"\n          example: '5f4bfff742c1bf5f72918851'\n        issuer:\n          description: 'Ausstellende Gesundheitsbehörde'        \n          $ref: '#/components/schemas/TracingIssuer'\n        from:\n          type: string\n          format: date-time\n          description: 'Zeitpunkt, ab wann Daten angefordert werden (UTC)'\n          example: '2021-02-21T20:00:00.000Z'\n        to:\n          type: string\n          format: date-time\n          description: 'Zeitpunkt, bis wann Daten angefordert werden (UTC)'\n          example: '2021-02-21T22:00:00.000Z'\n\n    TracingIssuer:\n      type: object\n      properties:\n        name:\n          type: string\n          description: 'Anfragende Gesundheitsbehörde'\n          example: 'Gesundheitsbehörde Darfichrein GmbH'\n        certificate:\n          type: string\n          description: 'Zertifikat der Gesundheitsbehörde *mehr im Implementierungsleitfaden'\n          example: '-----BEGIN CERTIFICATE-----\nMIIFPjCCAyagAwIBAgIUOlPemeKSf9Jbl5LCTEuK/5ovoywwDQYJKoZIhvcNAQEL\nBQAwgc8xCzAJBgNVBAYTAkRFMQ8wDQYDVQQIDAZCYXllcm4xETAPBgNVBAcMCE3D\nvG5jaGVuMRkwFwYDVQQKDBBEYXJmaWNocmVpbiBHbWJIMR4wHAYDVQQLDBVaZXJ0\naWZpemllcnVuZ3NzdGVsbGUxFDASBgNVBAMMC2RhcmZpY2hyZWluMQ4wDAYDVQQR\nDAU4MDMzMzEZMBcGA1UECQwQVMO8cmtlbnN0cmHDn2UgNzEgMB4GCSqGSIb3DQEJ\nARYRaGlAZGFyZmljaHJlaW4uZGUwHhcNMjEwMTMxMTExNzMzWhcNMzEwMTI5MTEx\nNzMzWjCBqzEqMCgGA1UEAwwhYmFkIGFpYmxpbmcuaGVhbHRoLmRhcmZpY2hyZWlu\nLmRlMQswCQYDVQQGEwJERTEUMBIGA1UEBwwLQmFkIEFpYmxpbmcxGjAYBgNVBAoM\nEVN0YWR0IERhcmZpY2hyZWluMRwwGgYDVQQLDBNHZXN1bmRoZWl0c2JlaMO2cmRl\nMSAwHgYJKoZIhvcNAQkBFhFoaUBkYXJmaWNocmVpbi5kZTCCASIwDQYJKoZIhvcN\nAQEBBQADggEPADCCAQoCggEBAK8YktDPMy91tmDyKCsC/qJbrpRTlQ1TFSeiux6p\nHiPRNXYRzEHj6aWfpcNZkHNWy7yJT8CxD0Gp81KmzFz/cXtwibTTzkIONZXbfxwV\nDuRNd1TAoBfDuTNh2WpuR6HFlKQyoJAvy7m2XgtcVDPOULKA7L7/5IdUUrNVyZzb\nH0xtFLAvW5Ipy11JX7b+0M5BtGbo8ahewBl65VZzIXATxdGWo5TPqsC6p67CpZZu\nFV9uBhHrFCIyLHSWYMpzyzqRIJyuD09Bjh7Y6OFTX/fCeZjO9RqUgcYJDQNSiO4b\nxOQ/lru1NUK9/R8D9S6yTWJ3gIbX8aq3rfdn8MTKbXuU2+sCAwEAAaM0MDIwMAYD\nVR0RBCkwJ4IOZGFyZmljaHJlaW4uZGWCFWhlYWx0aC5kYXJmaWNocmVpbi5kZTAN\nBgkqhkiG9w0BAQsFAAOCAgEAdoVNFokIX9uG3vhDXoOzzFXqjnSz89+ld/bToxo/\nuQXF2791oROyNGBltiTgIDbkCX1TbEffuuGYZ0sbWUoh+LkmCICA1bDFDuzWH4Qd\nMbZCr+V5gb0vHzR3w94gRytv1rfZzEN5w3CcCk73YBrzZjcFx5KfFO81TCLmHJIx\nNB936JiijC5I8f0ksNSZOe+IAy0b+2lg94BFPuznnrHXwHIcna8zbmSJ+DqE6IeC\na5eeG0UjIf5BBPkT2dYiZKb80G9h2BcyBMbjbOTvsyOsdpw/2rgn08RfQY3Yr53s\n128P1PI8VvQdZNmYDSwFd+4egFLzIOzMFHv1IWMRAwEV+PzwzdvJTrZubjSFtohm\nh+WWPAdBzFS3kYUSaUcWoaOaspxvLEEc5aoFiCEMuWcBepXQBHPWl734zXd9MJlD\nZ/hqO8PX/176+Z5Hi3mbyuafmTUPFgk4nE0LJbnpipfbCagpEJpMIJXVV6gAJP9l\nNKgMhPcrM6P5ZP3HgUXnCxrzgaht+L9pgIyrkx/WbK4prlrpGQ5sxU9GbS7XyPNI\nTMiORKYqTHRtTXevXQDippbMqWY38d96cFwcpIih50VT+1k235MDn4soWvdLu2a3\nbya01G9Zgp+ywKqSF+jhIC3JEKzg3trK6ldLzuF6ya1RQN0k/1HGpAeIi6y6N7LM\nBu4=\n-----END CERTIFICATE-----\n'\n        fingerprint:\n          type: string\n          description: 'Fingerabdruck des Zertifikats *mehr im Implementierungsleitfaden'\n          example: 'dc3f230b761752b6f07c98f70251b9ca1b27b24528966f61497dff69ec5715aa'\n        publicKey:\n          type: string\n          description: 'Öffentlicher Schlüssel der Gesundheitsbehörde *mehr im Implementierungsleitfaden'\n          example: 'LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0NCk1JSUNJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBZzhBTUlJQ0NnS0NB'\n    \n    TracingStatus:\n      description: 'Aktueller Status des Tickets'      \n      type: string\n      enum:\n        - DRAFT\n        - REQUESTED\n        - REQUEST_SEEN\n        - CANCELLED\n        - READY\n        - DOWNLOADED\n        - TRANSFERED\n        - CLOSED\n      readOnly: true\n\n    ContactData:\n      description: Persönliche Informationen des Gasts. Dieses Objekt muss mit dem öffentlichen Schlüssel der anfragenden Behörde verschlüsselt werden.\n      properties:\n        f:\n          type: string\n          description: 'Vorname'\n          example: 'Stefan'\n        g:\n          type: string\n          description: 'Familienname'\n          example: 'Michalk'\n        p:\n          type: string\n          description: 'Telefonnummer'\n          example: '01234 67901526'\n        e:\n          type: string\n          description: 'E-Mail'\n          example: 'stefan@darfichrein.de'\n        a:\n          type: string\n          description: 'Vollständige Anschrift. Straße \u0026 Hausnummer#Postleitzahl#Ort.'\n          example: 'Türkenstraße 7#80333#München'\n        c:\n          type: string\n          description: 'ggf. Kontext des Aufenthalts'\n          example: 'Raum 0815'\n        m:\n          type: string\n          description: 'Kommentar, falls notwendig'\n          example: 'Check-out wurde berechnet'\n\n          \n  securitySchemes:\n    ApiKeyAuth:\n      type: apiKey\n      in: header\n      name: 'x-wfd-api-key'\n      description: 'Api-Key needed to authenticate the communication to Providers'\n"
		}
	},
	"Error": "parse: paths: /tracing-cases/{caseId}/tickets/{ticketId}/download: put: duplicate operationId: \"uploadTracingData\""
}