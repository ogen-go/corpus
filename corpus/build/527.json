{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/SimplyVC/panic"
		},
		"file": {
			"name": "swagger.json",
			"path": "api/src/swagger.json",
			"content": "{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"version\": \"1.0.0\",\n    \"title\": \"PANIC API\",\n    \"description\": \"Endpoints to query Redis and Mongodb for Alerts and Metrics.\",\n    \"license\": {\n      \"name\": \"MIT\",\n      \"url\": \"https://opensource.org/licenses/MIT\"\n    }\n  },\n  \"servers\": [\n    {\n      \"url\": \"/\",\n      \"description\": \"Local Dev\"\n    }\n  ],\n  \"tags\": [\n    {\n      \"name\": \"Redis\",\n      \"description\": \"Endpoints that retrieve data from Redis.\"\n    },\n    {\n      \"name\": \"Mongo\",\n      \"description\": \"Endpoints that retrieve data from Mongodb.\"\n    }\n  ],\n  \"consumes\": [\n    \"application/json\"\n  ],\n  \"produces\": [\n    \"application/json\"\n  ],\n  \"paths\": {\n    \"/server/redis/monitorablesInfo\": {\n      \"post\": {\n        \"tags\": [\n          \"Redis\"\n        ],\n        \"summary\": \"Returns a list of all the monitorable and non-monitorable sources.\",\n        \"requestBody\": {\n          \"description\": \"baseChains object, which is a list of network types. Accepted inputs: general, cosmos, substrate, chainlink.\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/definitions/baseChains\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"schema\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/monitorablesInfo\"\n            }\n          },\n          \"532\": {\n            \"description\": \"Error: Missing key(s) in request body.\"\n          },\n          \"533\": {\n            \"description\": \"Error: Redis client not initialised.\"\n          },\n          \"534\": {\n            \"description\": \"Error: Could not retrieve data from Redis.\"\n          },\n          \"537\": {\n            \"description\": \"Error: Invalid base chain(s).\"\n          }\n        }\n      }\n    },\n    \"/server/redis/alertsOverview\": {\n      \"post\": {\n        \"tags\": [\n          \"Redis\"\n        ],\n        \"summary\": \"Returns a counter of all the metric states in alert form per chain.\",\n        \"requestBody\": {\n          \"description\": \"Unique chains ids and lists of the sources being monitored per type.\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/definitions/chainSources\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"schema\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/alertsOverview\"\n            }\n          },\n          \"532\": {\n            \"description\": \"Error: Missing key(s) in request body.\"\n          },\n          \"533\": {\n            \"description\": \"Error: Redis client not initialised.\"\n          },\n          \"534\": {\n            \"description\": \"Error: Could not retrieve data from Redis.\"\n          },\n          \"538\": {\n            \"description\": \"Error: JSON does not obey the required schema. \"\n          }\n        }\n      }\n    },\n    \"/server/redis/metrics\": {\n      \"post\": {\n        \"tags\": [\n          \"Redis\"\n        ],\n        \"summary\": \"Returns the values for the requested sources of the requested chains.\",\n        \"requestBody\": {\n          \"description\": \"Unique chains ids and lists of the sources being monitored per type.\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/definitions/chainSources\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"schema\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/redisMetricsOverview\"\n            }\n          },\n          \"532\": {\n            \"description\": \"Error: Missing key(s) in request body.\"\n          },\n          \"533\": {\n            \"description\": \"Error: Redis client not initialised.\"\n          },\n          \"534\": {\n            \"description\": \"Error: Could not retrieve data from Redis.\"\n          },\n          \"538\": {\n            \"description\": \"Error: JSON does not obey the required schema. \"\n          }\n        }\n      }\n    },\n    \"/server/mongo/alerts\": {\n      \"post\": {\n        \"tags\": [\n          \"Mongo\"\n        ],\n        \"summary\": \"Returns a list of alerts for the requested chains, sources and severities between a time period sorted by most recent. A number limit of alerts can also be specified.\",\n        \"requestBody\": {\n          \"description\": \"Specify the chains, severities, sources, minimum/maximum timestamp (Range of time), and number of alerts to be retrieved.\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/definitions/mongoAlerts\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"schema\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/mongoAlertsResult\"\n            }\n          },\n          \"532\": {\n            \"description\": \"Error: Missing key(s) in request body.\"\n          },\n          \"535\": {\n            \"description\": \"Error: Mongo client not initialised.\"\n          },\n          \"536\": {\n            \"description\": \"Error: Could not retrieve data from Mongo.\"\n          },\n          \"539\": {\n            \"description\": \"Error: An invalid value was given to the parameter.\"\n          }\n        }\n      }\n    },\n    \"/server/mongo/metrics\": {\n      \"post\": {\n        \"tags\": [\n          \"Mongo\"\n        ],\n        \"summary\": \"Returns a list of metrics for the requested chains, sources between a time period sorted by most recent. A number limit of metrics per source is specified.\",\n        \"requestBody\": {\n          \"description\": \"Specify the chains, sources, minimum/maximum timestamp (Range of time), and number of metrics per source to be retrieved.\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/definitions/mongoMetrics\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"schema\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/mongoMetricsOverview\"\n            }\n          },\n          \"532\": {\n            \"description\": \"Error: Missing key(s) in request body.\"\n          },\n          \"535\": {\n            \"description\": \"Error: Mongo client not initialised.\"\n          },\n          \"536\": {\n            \"description\": \"Error: Could not retrieve data from Mongo.\"\n          },\n          \"539\": {\n            \"description\": \"Error: An invalid value was given to the parameter.\"\n          }\n        }\n      }\n    }\n  },\n  \"definitions\": {\n    \"baseChains\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"baseChains\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"cosmos\",\n            \"general\",\n            \"chainlink\",\n            \"substrate\"\n          ]\n        }\n      }\n    },\n    \"monitorablesInfo\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"cosmos\": {},\n            \"chainlink\": {},\n            \"substrate\": {},\n            \"general\": {}\n          }\n        }\n      }\n    },\n    \"monitorable\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"variable_chain_name\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"monitored\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"systems\": {\n                  \"$ref\": \"#/definitions/systems\"\n                },\n                \"github_repos\": {\n                  \"$ref\": \"#/definitions/github_repos\"\n                }\n              }\n            },\n            \"not_monitored\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"systems\": {\n                  \"$ref\": \"#/definitions/systems\"\n                },\n                \"github_repos\": {\n                  \"$ref\": \"#/definitions/github_repos\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"systems\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"system_id\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"github_repos\": {\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"github_repo_id\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    },\n    \"chainSources\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"parentIds\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"unique_chain_id\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"systems\": {\n                  \"type\": \"array\",\n                  \"example\": [\n                    \"system_5330c562-368b-4192-bbaf-db6638307783\",\n                    \"system_d2a0a05e-c0ec-4b39-a101-d3cb5f47bc03\"\n                  ]\n                },\n                \"repos\": {\n                  \"type\": \"array\",\n                  \"example\": [\n                    \"repo_4ca781b6-154e-4bd0-8418-0c5debc07e54\",\n                    \"repo_fc4dfda7-2e97-433d-98ba-8af626a989b0\"\n                  ]\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"alertsOverview\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"unique_chain_id\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"info\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\"\n                },\n                \"critical\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\"\n                },\n                \"warning\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\"\n                },\n                \"error\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\"\n                },\n                \"problems\": {\n                  \"type\": \"object\"\n                },\n                \"releases\": {\n                  \"type\": \"object\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"mongoMetricsOverview\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"unique_source_id\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"object\",\n                \"$ref\": \"#/definitions/system_metrics\"\n              }\n            }\n          }\n        }\n      }\n    },\n    \"redisMetricsOverview\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"unique_chain_id\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"system\": {\n                  \"type\": \"object\",\n                  \"unique_system_id\": {\n                    \"type\": \"object\",\n                    \"$ref\": \"#/definitions/system_metrics\"\n                  }\n                },\n                \"github\": {\n                  \"type\": \"object\",\n                  \"unique_github_id\": {\n                    \"type\": \"object\",\n                    \"$ref\": \"#/definitions/github_metrics\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"system_metrics\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"s1\": {\n          \"type\": \"string\"\n        },\n        \"s2\": {\n          \"type\": \"string\"\n        },\n        \"s3\": {\n          \"type\": \"string\"\n        },\n        \"s4\": {\n          \"type\": \"string\"\n        },\n        \"s5\": {\n          \"type\": \"string\"\n        },\n        \"s6\": {\n          \"type\": \"string\"\n        },\n        \"s7\": {\n          \"type\": \"string\"\n        },\n        \"s8\": {\n          \"type\": \"string\"\n        },\n        \"s9\": {\n          \"type\": \"string\"\n        },\n        \"s10\": {\n          \"type\": \"string\"\n        },\n        \"s11\": {\n          \"type\": \"string\"\n        },\n        \"s12\": {\n          \"type\": \"string\"\n        },\n        \"s13\": {\n          \"type\": \"string\"\n        },\n        \"s14\": {\n          \"type\": \"string\"\n        },\n        \"s15\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"github_metrics\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"gh1\": {\n          \"type\": \"string\"\n        },\n        \"gh2\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"mongoAlerts\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"chains\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"chain_name_51383ec9-b49e-4d03-8068-d60f5f3c9285\",\n            \"GENERAL\"\n          ]\n        },\n        \"severities\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"INFO\",\n            \"WARNING\",\n            \"CRITICAL\",\n            \"ERROR\"\n          ]\n        },\n        \"sources\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"system_2a8b23ee-cab6-439c-85ca-d2ba5a45c934\",\n            \"repo_fc4dfda7-2e97-433d-98ba-8af626a989b0\",\n            \"system_5330c562-368b-4192-bbaf-db6638307783\",\n            \"system_d2a0a05e-c0ec-4b39-a101-d3cb5f47bc03\",\n            \"repo_4ca781b6-154e-4bd0-8418-0c5debc07e54\"\n          ]\n        },\n        \"minTimestamp\": {\n          \"type\": \"integer\",\n          \"example\": 0\n        },\n        \"maxTimestamp\": {\n          \"type\": \"integer\",\n          \"example\": 2625677273\n        },\n        \"noOfAlerts\": {\n          \"type\": \"integer\",\n          \"example\": 100\n        }\n      }\n    },\n    \"mongoAlertsResult\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"result\": {\n          \"type\": \"object\",\n          \"alerts\": {\n            \"type\": \"array\",\n            \"item\": {\n              \"type\": \"object\",\n              \"$ref\": \"#/definitions/alert\"\n            }\n          }\n        }\n      }\n    },\n    \"alert\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"origin\": {\n          \"type\": \"string\",\n          \"example\": \"system_2a8b23ee-cab6-439c-85ca-d2ba5a45c934\"\n        },\n        \"alert_name\": {\n          \"type\": \"string\",\n          \"example\": \"SystemRAMUsageIncreasedAboveThresholdAlert\"\n        },\n        \"severity\": {\n          \"type\": \"string\",\n          \"example\": \"CRITICAL\"\n        },\n        \"message\": {\n          \"type\": \"string\",\n          \"example\": \"arbitrum system RAM usage INCREASED above CRITICAL Threshold. Current value: 56.13%.\"\n        },\n        \"metric\": {\n          \"type\": \"string\",\n          \"example\": \"system_ram_usage\"\n        },\n        \"timestamp\": {\n          \"type\": \"integer\",\n          \"example\": 1625758847.87753\n        }\n      }\n    },\n    \"mongoMetrics\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"chains\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"chain_name_51383ec9-b49e-4d03-8068-d60f5f3c9285\",\n            \"GENERAL\"\n          ]\n        },\n        \"sources\": {\n          \"type\": \"array\",\n          \"example\": [\n            \"system_2a8b23ee-cab6-439c-85ca-d2ba5a45c934\",\n            \"system_5330c562-368b-4192-bbaf-db6638307783\",\n            \"system_d2a0a05e-c0ec-4b39-a101-d3cb5f47bc03\"\n          ]\n        },\n        \"minTimestamp\": {\n          \"type\": \"integer\",\n          \"example\": 0\n        },\n        \"maxTimestamp\": {\n          \"type\": \"integer\",\n          \"example\": 2625677273\n        },\n        \"noOfMetricsPerSource\": {\n          \"type\": \"integer\",\n          \"example\": 100\n        }\n      }\n    },\n    \"id\": {\n      \"properties\": {\n        \"uuid\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"Cat\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"genus\": {\n          \"type\": \"string\"\n        },\n        \"name\": {\n          \"type\": \"string\"\n        },\n        \"isHungry\": {\n          \"type\": \"boolean\"\n        },\n        \"lastFedDate\": {\n          \"type\": \"string\"\n        }\n      }\n    },\n    \"Cats\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"cats\": {\n          \"type\": \"object\",\n          \"additionalProperties\": {\n            \"$ref\": \"#/definitions/Cat\"\n          }\n        }\n      }\n    }\n  }\n}"
		}
	},
	"Error": "parse: paths: /server/mongo/metrics: post: : requestBody: content: application/json: parse schema: parse schema: reference \"#/definitions/mongoMetrics\": resolve reference \"#/definitions/mongoMetrics\": invalid schema reference \"#/definitions/mongoMetrics\""
}