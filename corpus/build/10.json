{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/microsoft/presidio"
		},
		"file": {
			"name": "api-docs.yml",
			"path": "docs/api-docs/api-docs.yml",
			"content": "openapi: 3.0.0\ninfo:\n  description: Context aware, pluggable and customizable PII anonymization service for text and images.\n  version: \"2.0\"\n  title: Presidio\n  contact:\n    name: Presidio support\n    email: presidio@microsoft.com\n    url: https://github.com/microsoft/presidio\n  x-logo:\n    url: \"https://upload.wikimedia.org/wikipedia/commons/4/44/Microsoft_logo.svg\"\n  license:\n    name: MIT\n    url: 'https://github.com/microsoft/presidio/blob/main/LICENSE'\nexternalDocs:\n  description: Presidio documentation.\n  url: 'https://microsoft.github.io/presidio/'\ntags:\n  - name: Analyzer\n    description: Detecting PII entities in text\n  - name: Anonymizer\n    description: Anonymizing detected PII text entities with desired values.\n\npaths:\n\n  /analyze:\n    post:\n      servers:\n        - url: https://presidio-analyzer-prod.azurewebsites.net\n      tags:\n        - Analyzer\n      summary: \"Analyze Text\"\n      description: \"Recognizes PII entities in a given text and returns their types, locations and score\"\n      requestBody:\n        $ref: \"#/components/requestBodies/AnalyzeRequest\"\n\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                description: \"A list analysis results\"\n                type: array\n                items:\n                  $ref: \"#/components/schemas/RecognizerResultWithAnaysisExplanation\"\n\n              examples:\n                Enhanced response:\n                  value:\n                    [\n                      { \"entity_type\": \"PERSON\", \"start\": 0, \"end\": 10, \"score\": 0.85,\n                        \"analysis_explanation\": {\n                          \"recognizer\": \"SpacyRecognizer\", \"pattern_name\": null, \"pattern\": null, \"original_score\": 0.85,\n                          \"score\": 0.85, \"textual_explanation\": \"Identified as PERSON by Spacy's Named Entity Recognition\",\n                          \"score_context_improvement\": 0, \"supportive_context_word\": \"\", \"validation_result\": null\n                        }\n                      },\n                      { \"entity_type\": \"US_DRIVER_LICENSE\", \"start\": 30, \"end\": 38, \"score\": 0.6499999999999999,\n                        \"analysis_explanation\": {\n                          \"recognizer\": \"UsLicenseRecognizer\", \"pattern_name\": \"Driver License - Alphanumeric (weak)\",\n                          \"pattern\": \"\\\\\\\\b([A-Z][0-9]{3,6}|[A-Z][0-9]{5,9}|[A-Z][0-9]{6,8}|[A-Z][0-9]{4,8}|[A-Z][0-9]{9,11}|[A-Z]{1,2}[0-9]{5,6}|H[0-9]{8}|V[0-9]{6}|X[0-9]{8}|A-Z]{2}[0-9]{2,5}|[A-Z]{2}[0-9]{3,7}|[0-9]{2}[A-Z]{3}[0-9]{5,6}|[A-Z][0-9]{13,14}|[A-Z][0-9]{18}|[A-Z][0-9]{6}R|[A-Z][0-9]{9}|[A-Z][0-9]{1,12}|[0-9]{9}[A-Z]|[A-Z]{2}[0-9]{6}[A-Z]|[0-9]{8}[A-Z]{2}|[0-9]{3}[A-Z]{2}[0-9]{4}|[A-Z][0-9][A-Z][0-9][A-Z]|[0-9]{7,8}[A-Z])\\\\\\\\b\",\n                          \"original_score\": 0.3, \"score\": 0.6499999999999999, \"textual_explanation\": null,\n                          \"score_context_improvement\": 0.3499999999999999, \"supportive_context_word\": \"driver\",\n                          \"validation_result\": null\n                        }\n                      }\n                    ]\n                Lean response:\n                  value:\n                    [\n                      {\n                        \"analysis_explanation\": null,\n                        \"end\": 38,\n                        \"entity_type\": \"US_DRIVER_LICENSE\",\n                        \"score\": 0.6499999999999999,\n                        \"start\": 30\n                      }\n                    ]\n\n  /recognizers:\n    get:\n      servers:\n        - url: https://presidio-analyzer-prod.azurewebsites.net\n      tags:\n        - Analyzer\n      summary: \"Get Recognizers\"\n      description: \"Get the available PII recognizers for a given language\"\n      parameters:\n        - in: query\n          name: language\n          schema:\n            type: string\n            example: en\n          description: \"Two characters for the desired language in ISO_639-1 format\"\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                description: \"A list of supported recognizers\"\n                type: array\n                items:\n                  type: string\n                  description: \"Recognizer name\"\n              example:\n                [\n                    \"CryptoRecognizer\", \"CreditCardRecognizer\", \"IbanRecognizer\", \"UsPhoneRecognizer\",\n                    \"EmailRecognizer\",\"UsPassportRecognizer\", \"NhsRecognizer\", \"IpRecognizer\",\n                    \"SpacyRecognizer\",\"SgFinRecognizer\", \"UsSsnRecognizer\",\"UsBankRecognizer\",\n                    \"DomainRecognizer\", \"UsLicenseRecognizer\", \"UsItinRecognizer\"\n                ]\n\n  /supportedentities:\n    get:\n      servers:\n        - url: https://presidio-analyzer-prod.azurewebsites.net\n      tags:\n        - Analyzer\n      summary: \"Get supported entities\"\n      description: \"Get the list of PII entities Presidio-Analyzer is capable of detecting\"\n      parameters:\n        - in: query\n          name: language\n          schema:\n            type: string\n            example: en\n          description: \"Two characters for the desired language in ISO_639-1 format\"\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                description: \"A list of supported entities\"\n                type: array\n                items:\n                  $ref: \"#/components/schemas/EntityTypes\"\n              example:\n                [ \"PHONE_NUMBER\", \"US_DRIVER_LICENSE\", \"US_PASSPORT\", \"LOCATION\", \"CREDIT_CARD\", \"CRYPTO\",\n                  \"UK_NHS\", \"US_SSN\", \"US_BANK_NUMBER\", \"EMAIL_ADDRESS\", \"DATE_TIME\", \"IP_ADDRESS\", \"PERSON\", \"IBAN_CODE\",\n                  \"NRP\", \"US_ITIN\", \"DOMAIN_NAME\", \"MEDICAL_LICENSE\" ]\n\n  /anonymize:\n    post:\n      servers:\n        - url: https://presidio-anonymizer-prod.azurewebsites.net\n      tags:\n        - Anonymizer\n      summary: \"Anonymize Text\"\n      requestBody:\n        $ref: \"#/components/requestBodies/AnonymizeRequest\"\n\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AnonymizeResponse\"\n              examples:\n                Replace and Redact Anonymizers:\n                  value:\n                    { \"text\": \"hello world, my name is ANONYMIZED. My number is: \", \"items\": [ { \"operator\": \"redact\", \"entity_type\": \"PHONE_NUMBER\", \"start\": 50, \"end\": 50, \"text\": \"\" }, { \"operator\": \"replace\", \"entity_type\": \"NAME\", \"start\": 24, \"end\": 34, \"text\": \"ANONYMIZED\" } ] }\n                Replace as default Anonymizer:\n                  value:\n                    { \"text\": \"hello world, my name is ANONYMIZED. My number is: ANONYMIZED\", \"items\": [ { \"operator\": \"replace\", \"entity_type\": \"PHONE_NUMBER\", \"start\": 50, \"end\": 60, \"text\": \"ANONYMIZED\" }, { \"operator\": \"replace\", \"entity_type\": \"NAME\", \"start\": 24, \"end\": 34, \"text\": \"ANONYMIZED\" } ] }\n        400:\n          $ref: \"#/components/responses/400BadRequest\"\n\n        422:\n          $ref: \"#/components/responses/422UnprocessableEntity\"\n\n  /anonymizers:\n    get:\n      servers:\n        - url: https://presidio-anonymizer-prod.azurewebsites.net\n      tags:\n        - Anonymizer\n      summary: \"Get supported anonymizers\"\n\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                description: \"A list of all built-in supported anonymizers\"\n                type: array\n                items:\n                  description: \"The Anonymizer name\"\n                  type: string\n                  example: \"mask\"\n              example:\n                [ \"hash\", \"mask\", \"redact\", \"replace\", \"encrypt\" ]\n\n\n  /deanonymize:\n    post:\n      servers:\n        - url: https://presidio-anonymizer-prod.azurewebsites.net\n      tags:\n        - Anonymizer\n      summary: \"Deanonymize Text\"\n      requestBody:\n        $ref: \"#/components/requestBodies/DeanonymizeRequest\"\n\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DeanonymizeResponse\"\n              examples:\n                Decrypt Single PII:\n                  value:\n                    { \"text\": \"text_for_encryption\", \"items\": [ { \"start\": 0, \"end\": 19, \"operator\":\"decrypt\", \"text\": \"text_for_encryption\",\"entity_type\": \"NUMBER\" } ] }\n        400:\n          $ref: \"#/components/responses/400BadRequest\"\n\n        422:\n          $ref: \"#/components/responses/422UnprocessableEntity\"\n\n  /deanonymizers:\n    get:\n      servers:\n        - url: https://presidio-anonymizer-prod.azurewebsites.net\n      tags:\n        - Anonymizer\n      summary: \"Get supported deanonymizers\"\n\n      responses:\n        200:\n          description: OK\n          content:\n            application/json:\n              schema:\n                description: \"A list of all built-in supported deanonymizers\"\n                type: array\n                items:\n                  description: \"The Deanonymizer name\"\n                  type: string\n                  example: \"decrypt\"\n              example:\n                [ \"decrypt\" ]\n\n  /health:\n    get:\n      servers:\n        - url: https://presidio-anonymizer-prod.azurewebsites.net\n      tags:\n        - Anonymizer\n        - Analyzer\n      summary: \"Healthcheck\"\n      responses:\n        200:\n          description: OK\n          content:\n            text/plain:\n              schema:\n                type: string\n                example: Presidio Anonymizer service is up\n\ncomponents:\n  requestBodies:\n    AnalyzeRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/AnalyzeRequest\"\n          examples:\n            Minimal Request:\n              value:\n                {\n                  \"text\": \"John Smith drivers license is AC432223\",\n                  \"language\": \"en\"\n                }\n            Enhanced Request :\n              value:\n                {\n                  \"text\": \"John Smith drivers license is AC432223 and the zip code is 12345\",\n                  \"language\": \"en\",\n                  \"return_decision_process\": false,\n                  \"correlation_id\": \"123e4567-e89b-12d3-a456-426614174000\",\n                  \"score_threshold\": 0.6,\n                  \"entities\": [\"US_DRIVER_LICENSE\", \"ZIP\"],\n                  \"trace\": false,\n                  \"ad_hoc_recognizers\":[\n                    {\n                    \"name\": \"Zip code Recognizer\",\n                    \"supported_language\": \"en\",\n                    \"patterns\": [\n                        {\n                        \"name\": \"zip code (weak)\", \n                        \"regex\": \"(\\\\b\\\\d{5}(?:\\\\-\\\\d{4})?\\\\b)\", \n                        \"score\": 0.01\n                        }\n                    ],\n                    \"context\": [\"zip\", \"code\"],\n                    \"supported_entity\":\"ZIP\"\n                    }\n        ]\n                }\n\n    AnonymizeRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/AnonymizeRequest\"\n          examples:\n            Replace and Redact Anonymizers:\n              value:\n                {\n                  \"text\": \"hello world, my name is Jane Doe. My number is: 034453334\",\n                  \"anonymizers\": {\n                    \"PERSON\": { \"type\": \"redact\" },\n                    \"PHONE_NUMBER\": { \"type\": \"replace\", \"new_value\": \"ANONYMIZED\" }\n                  },\n                  \"analyzer_results\": [\n                    { \"start\": 24, \"end\": 32, \"score\": 0.8, \"entity_type\": \"PERSON\" },\n                    { \"start\": 48, \"end\": 57,  \"score\": 0.95, \"entity_type\": \"PHONE_NUMBER\" }\n                  ]\n                }\n            Replace as default Anonymizer:\n              value:\n                {\n                  \"text\": \"hello world, my name is Jane Doe.\",\n                  \"anonymizers\": {\n                    \"DEFAULT\": { \"type\": \"replace\", \"new_value\": \"ANONYMIZED\" },\n                  },\n                  \"analyzer_results\": [\n                    { \"start\": 24, \"end\": 32, \"score\": 0.8, \"entity_type\": \"PERSON\" },\n                  ]\n                }\n\n    DeanonymizeRequest:\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/DeanonymizeRequest\"\n          examples:\n            Deanonymize text:\n              value:\n                {\n                  \"text\": \"My name is S184CMt9Drj7QaKQ21JTrpYzghnboTF9pn/neN8JME0=\",\n                  \"deanonymizers\": {\n                    \"PERSON\": {\n                      \"type\": \"decrypt\",\n                      \"key\": \"WmZq4t7w!z%C\u0026F)J\"\n                    }\n                  },\n                  \"anonymizer_results\": [ {\n                    \"start\": 11,\n                    \"end\": 55,\n                    \"entity_type\": \"PERSON\"\n                  } ]\n                }\n\n\n  schemas:\n    AnalyzeRequest:\n      type: object\n      required:\n        - text\n        - language\n      properties:\n        text:\n          type: string\n          description: \"The text to analyze\"\n          example: \"hello world, my name is Jane Doe. My number is: 034453334\"\n        language:\n          type: string\n          description: \"Two characters for the desired language in ISO_639-1 format\"\n          example: \"en\"\n        correlation_id:\n          type: string\n          description: \"A correlation id to append to headers and traces\"\n        score_threshold:\n          type: number\n          format: double\n          description: \"The minimal detection score threshold\"\n        entities:\n          type: array\n          items:\n            $ref: \"#/components/schemas/EntityTypes\"\n          description: \"A list of entities to analyze\"\n        return_decision_process:\n          type: boolean\n          description: \"Whether to include analysis explanation in the response\"\n        ad_hoc_recognizers:\n          type: array\n          description: \"list of recognizers to be used in the context of this request only (ad-hoc).\"\n          items:\n            $ref: \"#/components/schemas/PatternRecognizer\"\n\n    AnonymizeRequest:\n      type: object\n      required:\n        - text\n        - analyzer_results\n      properties:\n        text:\n          type: string\n          description: \"The text to anonymize\"\n          example: \"hello world, my name is Jane Doe. My number is: 034453334\"\n        anonymizers:\n          description: \"Object where the key is DEFAULT or the ENTITY_TYPE and the value is the anonymizer definition\"\n          type: object\n          anyOf:\n            - $ref: \"#/components/schemas/Replace\"\n            - $ref: \"#/components/schemas/Redact\"\n            - $ref: \"#/components/schemas/Mask\"\n            - $ref: \"#/components/schemas/Hash\"\n            - $ref: \"#/components/schemas/Encrypt\"\n          default:\n            { \"DEFAULT\": { \"type\": \"replace\", \"new_value\": \"\u003cENTITY_TYPE\u003e\" } }\n\n        analyzer_results:\n          type: array\n          description: \"Array of analyzer detections\"\n          items:\n            $ref: \"#/components/schemas/RecognizerResult\"\n\n    DeanonymizeRequest:\n      type: object\n      required:\n        - text\n        - anonymizer_results\n        - deanonymizers\n      properties:\n        text:\n          type: string\n          description: \"The anonymized text\"\n          example: \"My name is S184CMt9Drj7QaKQ21JTrpYzghnboTF9pn/neN8JME0=\"\n        deanonymizers:\n          description: \"Object where the key is DEFAULT or the ENTITY_TYPE and the value is decrypt since it is the only one supported\"\n          type: object\n          anyOf:\n            - $ref: \"#/components/schemas/Decrypt\"\n          default:\n            { \"DEFAULT\": { \"type\": \"decrypt\", \"key\": \"3t6w9z$C\u0026F)J@NcR\" } }\n        anonymizer_results:\n          type: array\n          description: \"Array of anonymized PIIs\"\n          items:\n            $ref: \"#/components/schemas/OperatorResult\"\n\n\n    RecognizerResult:\n      type: object\n      required:\n        - start\n        - end\n        - score\n        - entity_type\n      properties:\n        start:\n          type: integer\n          description: \"Where the PII starts\"\n          example: 24\n        end:\n          type: integer\n          description: \"Where the PII ends\"\n          example: 32\n        score:\n          type: number\n          format: double\n          description: \"The PII detection score\"\n          example: 0.8\n        entity_type:\n          $ref: \"#/components/schemas/EntityTypes\"\n\n    RecognizerResultWithAnaysisExplanation:\n      allOf:\n        - $ref: '#/components/schemas/RecognizerResult'\n        - type: object\n          properties:\n            analysis_explanation:\n              $ref: \"#/components/schemas/AnalysisExplanation\"\n\n    AnalysisExplanation:\n      type: object\n      properties:\n        recognizer:\n          type: string\n          description: \"Name of recognizer that made the decision\"\n        pattern_name:\n          type: string\n          description: \"name of pattern (if decision was made by a PatternRecognizer)\"\n        pattern:\n          type: string\n          description: \"Regex pattern that was applied (if PatternRecognizer)\"\n        original_score:\n          type: number\n          format: double\n          description: \"Recognizer's confidence in result\"\n        score:\n          type: number\n          format: double\n          description: \"The PII detection score\"\n        textual_explanation:\n          type: string\n          description: \"Free text for describing a decision of a logic or model\"\n        score_context_improvement:\n          type: number\n          format: double\n          description: \"Difference from the original score\"\n        supportive_context_word:\n          type: string\n          description: \"The context word which helped increase the score\"\n        validation_result:\n          type: number\n          format: double\n          description: \"Result of a validation (e.g. checksum)\"\n    \n    Pattern:\n      type: object\n      properties:\n        name:\n          type: string\n          description: \"Name of regular expression pattern\"\n        regex:\n          type: string\n          description: \"Regex pattern string\"\n        score:\n          type: number\n          format: double\n          description: \"Detection confidence of this pattern (0.01 if very noisy, 0.6-1.0 if very specific)\"\n\n\n    PatternRecognizer:\n      type: object\n      description: \"A regular expressions or deny-list based recognizer\"\n      properties:\n        name:\n          type: string\n          description: \"Name of recognizer\"\n        supported_language:\n          type: string\n          description: \"Language code supported by this recognizer\"\n        patterns:\n          description: \"List of type Pattern containing regex expressions with additional metadata.\"\n          type: array\n          items:\n            $ref: \"#/components/schemas/Pattern\"\n        deny_list:\n          type: array\n          description: \"List of words to be returned as PII if found.\"\n          items:\n            type: string\n        context:\n          description: \"List of words to be used to increase confidence if found in the vicinity of detected entities.\"\n          type: array\n          items:\n            type: string\n        supported_entity:\n          type: string\n          description: \"The name of entity this ad hoc recognizer detects\"\n\n    EntityTypes:\n      description: \"The supported PII entity types.\"\n      type: string\n      example: PERSON\n\n    Replace:\n      title: Replace\n      description: \"Replace with a given value\"\n      type: object\n      required:\n        - type\n        - new_value\n      properties:\n        type:\n          type: string\n          description: \"replace\"\n          example: replace\n        new_value:\n          type: string\n          description: \"The string to replace with\"\n          example: VALUE\n\n    Redact:\n      title: Redact\n      description: \"Replace with an empty string\"\n      type: object\n      required:\n        - type\n      properties:\n        type:\n          type: string\n          description: \"redact\"\n          example: redact\n\n    Mask:\n      title: Mask\n      description: \"Replace with a given character\"\n      type: object\n      required:\n        - type\n        - masking_char\n        - chars_to_mask\n      properties:\n        type:\n          type: string\n          description: \"mask\"\n          example: mask\n        masking_char:\n          type: string\n          description: \"The replacement character\"\n          example: \"*\"\n        chars_to_mask:\n          type: integer\n          description: \"The amount of characters that should be replaced\"\n          example: 4\n        from_end:\n          type: boolean\n          description: \"Whether to mask the PII from it's end\"\n          example: true\n          default: false\n\n    Hash:\n      title: Hash\n      description: \"Replace with hashed value\"\n      type: object\n      required:\n        - type\n      properties:\n        type:\n          type: string\n          description: \"hash\"\n          example: hash\n        hash_type:\n          type: string\n          description: \"The hashing algorithm\"\n          enum:\n            - md5\n            - sha256\n            - sha512\n          example: md5\n          default: md5\n\n    Encrypt:\n      title: Encrypt\n      description: \"Replace with an encrypted value\"\n      type: object\n      required:\n        - type\n        - key\n      properties:\n        type:\n          type: string\n          description: \"encrypt\"\n          example: encrypt\n        key:\n          type: string\n          description: \"Cryptographic key of length 128, 192 or 256 bits, in a string format\"\n          example: \"3t6w9z$C\u0026F)J@NcR\"\n\n    Decrypt:\n      title: Decrypt\n      description: \"Replace encrypted PII decrypted text\"\n      type: object\n      required:\n        - type\n        - key\n      properties:\n        type:\n          type: string\n          description: \"decrypt\"\n          example: decrypt\n        key:\n          type: string\n          description: \"Cryptographic key of length 128, 192 or 256 bits, in a string format\"\n          example: \"3t6w9z$C\u0026F)J@NcR\"\n\n    AnonymizeResponse:\n      type: object\n      properties:\n        text:\n          type: string\n        items:\n          type: array\n          description: \"Array of anonymized entities\"\n          items:\n            $ref: \"#/components/schemas/OperatorResult\"\n\n    OperatorResult:\n      required:\n        - start\n        - end\n        - entity_type\n      type: object\n      properties:\n        operator:\n          type: string\n          description: \"Name of the used operator\"\n        entity_type:\n          type: string\n          description: \"Type of the PII entity\"\n        start:\n          type: integer\n          description: \"Start index of the changed text\"\n        end:\n          type: integer\n          description: \"End index in the changed text\"\n        text:\n          type: string\n          description: \"The new text returned\"\n\n    DeanonymizeResponse:\n      type: object\n      properties:\n        text:\n          type: string\n        items:\n          type: array\n          description: \"Array of deanonymized entities\"\n          items:\n            $ref: \"#/components/schemas/OperatorResult\"\n\n  responses:\n    400BadRequest:\n      description: Bad request\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              error:\n                type: string\n                example: \"Invalid request json\"\n\n    422UnprocessableEntity:\n      description: Unprocessable Entity\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              error:\n                type: string\n                example: \"Invalid input, text can not be empty\"\n"
		}
	},
	"Error": "parse: paths: /anonymize: post: : requestBody: resolve \"#/components/requestBodies/AnonymizeRequest\" reference: content: application/json: parse schema: parse schema: reference \"#/components/schemas/AnonymizeRequest\": parse schema: anonymizers: parse default: unexpected type: \"\""
}