{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/nuts-foundation/nuts-node"
		},
		"file": {
			"name": "v2.yaml",
			"path": "docs/_static/vcr/v2.yaml",
			"content": "openapi: \"3.0.0\"\ninfo:\n  title: Nuts Verifiable Credential API spec\n  description: |\n    API specification for common operations on Verifiable credentials.\n    It allows the three roles, issuer, holer and verifier to issue, revoke, search, present and verify credentials.\n  version: 2.0.0\n  license:\n    name: GPLv3\nservers:\n  - url: http://localhost:1323\npaths:\n  /internal/vcr/v2/issuer/vc:\n    post:\n      summary: Issues a new Verifiable Credential\n      description: |\n        Issues a new Verifiable Credential for provided type in the context.\n        \n        error returns:\n        * 400 - One or more of the given parameters are invalid\n        * 500 - An error occurred while processing the request\n      operationId: \"issueVC\"\n      tags:\n        - credential\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/IssueVCRequest'\n      responses:\n        \"200\":\n          description: \"New VC has been created successfully. Returns the Verifiable Credential.\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/VerifiableCredential'\n        default:\n          $ref: '../common/error_response.yaml'\n\n  /internal/vcr/v2/issuer/vc/search:\n    get:\n      summary: \"Searches for verifiable credentials issued by this node which matches the search params\"\n      description: \u003e\n        The SearchVCResult contains a list of matching credentials regardless of the validity.\n        The entry may contain a revocation which means the credential has been revoked.\n\n        error returns:\n        * 404 - Corresponding credential could not be found\n        * 500 - An error occurred while processing the request\n      operationId: \"searchIssuedVCs\"\n      parameters:\n        - name: credentialType\n          in: query\n          description: The type of the credential\n          example: NutsOrganizationCredential\n          required: true\n          schema:\n            type: string\n        - name: issuer\n          in: query\n          description: the DID of the issuer\n          example: did:nuts:123\n          required: true\n          schema:\n            type: string\n        - name: subject\n          in: query\n          description: the URI which indicates the subject (usually a DID)\n          example: did:nuts:456\n          required: false\n          schema:\n            type: string\n      tags:\n        - credential\n      responses:\n        \"200\":\n          description: A list of matching credentials\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                    $ref: '#/components/schemas/SearchVCResult'\n        default:\n          $ref: '../common/error_response.yaml'\n  /internal/vcr/v2/issuer/vc/{id}:\n    parameters:\n      - name: id\n        in: path\n        description: URL encoded ID.\n        required: true\n        example: \"did:nuts:B8PUHs2AUHbFF1xLLK4eZjgErEcMXHxs68FteY7NDtCY#c4199b74-0c0a-4e09-a463-6927553e65f5\"\n        schema:\n          type: string\n    delete:\n      summary: \"Revoke an issued credential\"\n      description: |\n        Revoke a credential.\n\n        error returns:\n        * 400 - Credential can't be revoked. Most likely due to a missing private key.\n        * 404 - Credential is not found\n        * 409 - Credential has already been revoked\n        * 500 - An error occurred while processing the request\n      operationId: \"revokeVC\"\n      tags:\n        - credential\n      responses:\n        \"200\":\n          description: Revocation has been processed locally. It has also been published to the network.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Revocation'\n        default:\n          $ref: '../common/error_response.yaml'\n  /internal/vcr/v2/verifier/vc:\n    post:\n      summary: Verifies a Verifiable Credential\n      description: |\n        Verifies a Verifiable Credential. It checks: \n        * The signature\n        * Expiration\n        * Rrevocation status\n        * If the issuer is trusted\n        * If the issuer was not deactivated at time of issuing\n        \n        error returns:\n        * 400 - One or more of the given parameters are invalid\n        * 500 - An error occurred while processing the request\n      operationId: \"verifyVC\"\n      tags:\n        - credential\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/VerifiableCredential'\n      responses:\n        \"200\":\n          description: \"The verification result\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/VCVerificationResult'\n        default:\n          $ref: '../common/error_response.yaml'\n\n\ncomponents:\n  schemas:\n    IssueVCRequest:\n      type: object\n      description: A request for issuing a new Verifiable Credential.\n      required:\n        - type\n        - issuer\n        - credentialSubject\n      properties:\n        \"@context\":\n          description: |\n            The resolvable context of the credentialSubject as URI. If omitted, the \"https://nuts.nl/credentials/v1\" context is used.\n            Note: it is not needed to provide the \"https://www.w3.org/2018/credentials/v1\" context here.\n          type: string\n          example: \"http://schema.org\"\n          default: \"https://nuts.nl/credentials/v1\"\n        type:\n          description: Type definition for the credential.\n          type: string\n          example: \"NutsOrganizationCredential\"\n        issuer:\n          description: DID according to Nuts specification.\n          type: string\n          example: \"did:nuts:B8PUHs2AUHbFF1xLLK4eZjgErEcMXHxs68FteY7NDtCY\"\n        expirationDate:\n          description: rfc3339 time string until when the credential is valid.\n          type: string\n          example: \"2012-01-02T12:00:00Z\"\n        publishToNetwork:\n          description: |\n            If set, the node publishes this credential to the network. This is the default behaviour.\n            When set to false, the caller is responsible for distributing the VC to a holder. When the issuer is\n            also the holder, it then can be used to directly create a presentation (self issued).\n            Note: a not published credential can still be publicaly revoked.\n          type: boolean\n          default: true\n        visibility:\n            description: |\n              When publishToNetwork is true, the credential can be published publicly of privately to the holder.\n              This field is mandatory if publishToNetwork is true to prevent accidents.\n            type: string\n            enum: [ public, private ]\n            default: private\n        credentialSubject:\n          $ref: '#/components/schemas/CredentialSubject'\n    VerifiableCredential:\n      type: object\n      description: A credential according to the W3C and Nuts specs.\n      required:\n        - \"@context\"\n        - type\n        - issuer\n        - issuanceDate\n        - credentialSubject\n        - proof\n      properties:\n        \"@context\":\n          description: \"List of URIs of JSON-LD contexts of the VC.\"\n          type: array\n          items:\n            type: string\n        id:\n          description: Credential ID. An URI wich uniquely identifies the credential e.g. the issuers DID concatenated with an uuid.\n          example: \"did:nuts:123#B8PUHs2AUHbFF1xLLK4eZjgErEcMXHxs68FteY7NDtCY\"\n          type: string\n        type:\n          description: List of type definitions for the credential.\n          type: array\n          items:\n            type: string\n        issuer:\n          $ref: '#/components/schemas/DID'\n        issuanceDate:\n          description: rfc3339 time string when the credential was issued.\n          type: string\n          example: \"2012-01-02T12:00:00Z\"\n        expirationDate:\n          description: rfc3339 time string untill when the credential is valid.\n          type: string\n          example: \"2012-01-02T12:00:00Z\"\n        credentialSubject:\n          $ref: '#/components/schemas/CredentialSubject'\n        proof:\n          description: one or multiple cryptographic proofs\n          type: object\n    SearchVCResult:\n      type: object\n      description: result of a Resolve operation.\n      required:\n        - verifiableCredential\n      properties:\n        revocation:\n          $ref: \"#/components/schemas/Revocation\"\n        verifiableCredential:\n          $ref: \"#/components/schemas/VerifiableCredential\"\n    Revocation:\n      type: object\n      description: Credential revocation record\n      required:\n        - issuer\n        - subject\n        - date\n      properties:\n        issuer:\n          $ref: '#/components/schemas/DID'\n        subject:\n          type: string\n          description: subject refers to the credential identifier that is revoked (not the credential subject)\n        reason:\n          type: string\n          description: reason describes why the VC has been revoked\n        date:\n          type: string\n          description: date is a rfc3339 formatted datetime.\n        proof:\n          type: object\n          description: Proof contains the cryptographic proof(s).\n    DID:\n      type: string\n      description: DID according to Nuts specification\n      example: \"did:nuts:B8PUHs2AUHbFF1xLLK4eZjgErEcMXHxs68FteY7NDtCY\"\n    CredentialSubject:\n      type: object\n      description: Subject of a Verifiable Credential identifying the holder and expressing claims.\n\n    VCVerificationRequest:\n      required:\n        - verifiableCredential\n      properties:\n        verifiableCredential:\n          $ref: \"#/components/schemas/VerifiableCredential\"\n        verificationOptions:\n          $ref: \"#/components/schemas/VCVerificationOptions\"\n    VCVerificationOptions:\n      type: object\n      properties:\n        allowUntrustedIssuer:\n          description: If set to true, an untrusted credential issuer is alowed.\n          type: boolean\n          default: false\n    VCVerificationResult:\n      description: Contains the verifiable credential verification result.\n      type: object\n      required:\n        - validity\n      properties:\n        validity:\n          type: boolean\n          description: Indicates the validity of the signature, issuer and revocation state.\n        message:\n          type: string\n          description: Indicates what went wrong\n"
		}
	},
	"Error": "parse: paths: /internal/vcr/v2/verifier/vc: post: verifyVC: responses: default: resolve \"../common/error_response.yaml\" reference: invalid response reference: \"../common/error_response.yaml\""
}