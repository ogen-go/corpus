{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/nrkno/transcriber-backend"
		},
		"file": {
			"name": "api-swagger.json",
			"path": "functions/src/api/api-swagger.json",
			"content": "{\n    \"openapi\": \"3.0.1\",\n    \"info\": {\n        \"title\": \"Transcriber API\",\n        \"version\": \"2.0\",\n        \"description\" : \"### Authentication\\n\\n* Setup you application to use [Azure AD JWT Token](https://docs.microsoft.com/en-us/azure/active-directory/develop/id-tokens) or\\n* Setup your application to use [Firebase JWT Custom Token](https://firebase.google.com/docs/auth/admin/create-custom-tokens) or\\n* Use [Transcriber Cli](https://github.com/nrkno/transcriber-cli) to generate Firebase Custom Token \"\n    },\n    \"servers\": [\n        {\n            \"url\": \"/api\"\n        }\n    ],\n    \"paths\": {\n        \"/transcriptId\": {\n            \"post\": {\n                \"summary\": \"Create a new ID. This ID is required for creating upload URL later.\",\n                \"security\": [\n                    {\n                        \"bearerAuth\": []\n                    }\n                ],\n                \"operationId\": \"createTranscriptId\",\n                \"tags\": [\n                    \"transcriptId\"\n                ],\n                \"parameters\": [],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Expected response to a valid request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/TranscriptId\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"$ref\": \"#/components/responses/UnAuthenticatedError\"\n                    },\n                    \"403\": {\n                        \"$ref\": \"#/components/responses/UnAuthorizedError\"\n                    },\n                    \"default\": {\n                        \"description\": \"unexpected error\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Error\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/uploadUrl\": {\n            \"post\": {\n                \"summary\": \"Create url you can use to upload the media file to Google Storage.\",\n                \"security\": [\n                    {\n                        \"bearerAuth\": []\n                    }\n                ],\n                \"operationId\": \"createUploadUrl\",\n                \"tags\": [\n                    \"uploadUrl\"\n                ],\n                \"parameters\": [\n                    {\n                        \"name\": \"transcriptId\",\n                        \"in\": \"query\",\n                        \"required\": true,\n                        \"description\": \"The transcriptId generated from the /api/transcriptId call.\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    },\n                    {\n                        \"name\": \"X-Content-Type\",\n                        \"in\": \"header\",\n                        \"required\": true,\n                        \"description\": \"Content Type need to match the Content-Type used when you upload the file. Eg: audio/mpeg.\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Expected response to a valid request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/UploadUrl\"\n                                }\n                            }\n                        }\n                    },\n                    \"201\": {\n                        \"description\": \"Response as redirect url, when acceapt header != application/json\"\n                    },\n                    \"401\": {\n                        \"$ref\": \"#/components/responses/UnAuthenticatedError\"\n                    },\n                    \"403\": {\n                        \"$ref\": \"#/components/responses/UnAuthorizedError\"\n                    },\n                    \"default\": {\n                        \"description\": \"unexpected error\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Error\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/uploadFile\" : {\n            \"post\" : {\n                \"tags\" : [ \"uploadFile\" ],\n                \"summary\" : \"You need to use eg. curl to upload a file using the url you got from /uploadUrl\",\n                \"description\" : \"### Upload File with Curl \\n* exportFILE_PATH=\u003cfull_path\u003e\\n* export UPLOAD_URL=\u003cfrom_uploadUrl_above\u003c\\n* CONTENT_TYPE=\u003cas_used_in_uploadUrl\u003e eg.audio/mpeg\\n\\n ```curl -X PUT --data-binary @$FILE_PATH -H \\\"Content-Type: $CONTENT_TYPE\\\" $UPLOAD_URL```\\n\"\n            }\n        },\n        \"/transcripts/{transcriptId}\": {\n            \"post\": {\n                \"summary\": \"Create transcription details. Require that a file has been uploaded using /uploadUrl. When these details are created, transcription will start automatically.\",\n                \"security\": [\n                    {\n                        \"bearerAuth\": []\n                    }\n                ],\n                \"operationId\": \"createTranscription\",\n                \"tags\": [\n                    \"transcripts\"\n                ],\n                \"parameters\": [\n                    {\n                        \"name\": \"transcriptId\",\n                        \"in\": \"path\",\n                        \"required\": true,\n                        \"description\": \"The id of the transcript\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"Optional description in *Markdown*\",\n                    \"content\": {\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/CreateTranscription\"\n                            }\n                        }\n                    },\n                    \"required\": true\n                },\n                \"responses\": {\n                    \"202\": {\n                        \"description\": \"Follow location header to find transcription status.\"\n                    },\n                    \"401\": {\n                        \"$ref\": \"#/components/responses/UnAuthenticatedError\"\n                    },\n                    \"403\": {\n                        \"$ref\": \"#/components/responses/UnAuthorizedError\"\n                    },\n                    \"422\": {\n                        \"$ref\": \"#/components/responses/RequiredParametersMissingError\"\n                    },\n                    \"default\": {\n                        \"description\": \"unexpected error\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Error\"\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"get\": {\n                \"summary\": \"Fetch the transcription details.\",\n                \"security\": [\n                    {\n                        \"bearerAuth\": []\n                    }\n                ],\n                \"operationId\": \"getTranscriptById\",\n                \"tags\": [\n                    \"transcripts\"\n                ],\n                \"parameters\": [\n                    {\n                        \"name\": \"transcriptId\",\n                        \"in\": \"path\",\n                        \"required\": true,\n                        \"description\": \"The id of the transcript to fetch\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Expected response to a valid request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Transcript\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"$ref\": \"#/components/responses/UnAuthenticatedError\"\n                    },\n                    \"403\": {\n                        \"$ref\": \"#/components/responses/UnAuthorizedError\"\n                    },\n                    \"404\": {\n                        \"$ref\": \"#/components/responses/TranscriptNotFoundError\"\n                    },\n                    \"422\": {\n                        \"$ref\": \"#/components/responses/RequiredParametersMissingError\"\n                    },\n                    \"default\": {\n                        \"description\": \"unexpected error\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Error\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/transcripts/{transcriptId}/export\": {\n            \"get\": {\n                \"summary\": \"Export transcribed words to Json, Docx or XMP\",\n                \"description\": \"### Export Format\\nSelect Accept header to either\\n* application/json\\n* application/docx\\n* application/xmp\",\n                \"security\": [\n                    {\n                        \"bearerAuth\": []\n                    }\n                ],\n                \"operationId\": \"exportTranscriptById\",\n                \"tags\": [\n                    \"export\"\n                ],\n                \"parameters\": [\n                    {\n                        \"name\": \"transcriptId\",\n                        \"in\": \"path\",\n                        \"required\": true,\n                        \"description\": \"The id of the transcript to export\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Expected response to a valid request\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ExportedTranscriptJson\"\n                                }\n                            },\n                            \"application/docx\": {\n                                \"schema\": {\n                                    \"type\": \"string\",\n                                    \"format\": \"xml\"\n                                }\n                            },\n                            \"application/xmp\": {\n                                \"schema\": {\n                                    \"type\": \"string\",\n                                    \"format\": \"binary\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"$ref\": \"#/components/responses/UnAuthenticatedError\"\n                    },\n                    \"403\": {\n                        \"$ref\": \"#/components/responses/UnAuthorizedError\"\n                    },\n                    \"404\": {\n                        \"$ref\": \"#/components/responses/TranscriptNotFoundError\"\n                    },\n                    \"422\": {\n                        \"$ref\": \"#/components/responses/RequiredParametersMissingError\"\n                    },\n                    \"default\": {\n                        \"description\": \"unexpected error\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Error\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    },\n    \"components\": {\n        \"schemas\": {\n            \"TranscriptId\": {\n                \"required\": [\n                    \"transcriptId\"\n                ],\n                \"properties\": {\n                    \"transcriptId\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"CreateTranscription\": {\n                \"required\": [\n                    \"originalMimeType\"\n                ],\n                \"properties\": {\n                    \"originalMimeType\": {\n                        \"type\": \"string\",\n                        \"description\": \"The Content-Type used when uploading the audio or video file.\"\n                    }\n                }\n            },\n            \"Transcript\": {\n                \"required\": [\n                    \"id\",\n                    \"status\",\n                    \"userId\"\n                ],\n                \"properties\": {\n                    \"id\": {\n                        \"type\": \"string\"\n                    },\n                    \"status\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"progress\": {\n                                \"type\": \"string\"\n                            }\n                        }\n                    },\n                    \"userId\": {\n                        \"type\": \"string\"\n                    },\n                    \"paragraphs\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/Paragraph\"\n                        }\n                    },\n                    \"metadata\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"audioDuration\": {\n                                \"type\": \"integer\"\n                            },\n                            \"languageCodes\": {\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"type\": \"string\"\n                                }\n                            },\n                            \"originalMimeType\": {\n                                \"type\": \"string\"\n                            }\n                        }\n                    },\n                    \"playbackGsUrl\": {\n                        \"type\": \"string\",\n                        \"format\": \"uri\"\n                    }\n                }\n            },\n            \"Paragraph\": {\n                \"properties\": {\n                    \"startTime\": {\n                        \"type\": \"integer\"\n                    },\n                    \"words\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/Word\"\n                        }\n                    }\n                }\n            },\n            \"Word\": {\n                \"properties\": {\n                    \"endTime\": {\n                        \"type\": \"integer\"\n                    },\n                    \"confidence\": {\n                        \"type\": \"number\"\n                    },\n                    \"startTime\": {\n                        \"type\": \"integer\"\n                    },\n                    \"text\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"TransctriptList\": {\n                \"type\": \"array\",\n                \"items\": {\n                    \"$ref\": \"#/components/schemas/Transcript\"\n                }\n            },\n            \"ExportedTranscriptJson\": {\n                \"type\": \"array\",\n                \"items\": {\n                    \"$ref\": \"#/components/schemas/ExportedTranscriptJsonWords\"\n                }\n            },\n            \"ExportedTranscriptJsonWords\": {\n                \"properties\": {\n                    \"startTime\": {\n                        \"type\": \"string\"\n                    },\n                    \"words\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"UploadUrl\": {\n                \"required\": [\n                    \"uploadUrl\"\n                ],\n                \"properties\": {\n                    \"uploadUrl\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"Error\": {\n                \"required\": [\n                    \"code\",\n                    \"message\"\n                ],\n                \"properties\": {\n                    \"code\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int32\"\n                    },\n                    \"message\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        },\n        \"securitySchemes\": {\n            \"bearerAuth\": {\n                \"type\": \"http\",\n                \"scheme\": \"bearer\",\n                \"bearerFormat\": \"JWT\"\n            }\n        },\n        \"responses\": {\n            \"UnAuthenticatedError\": {\n                \"description\": \"Please add a valid token as header. Authorization: Bearer your_token . \u003cbr/\u003eBoth Azure AD Access Token and Firebase Custom Token is accepted.\"\n            },\n            \"UnAuthorizedError\": {\n                \"description\": \"Please add a valid token as header. Authorization: Bearer your_token . \u003cbr/\u003eBoth Azure AD Access Token and Firebase Custom Token is accepted.\"\n            },\n            \"TranscriptNotFoundError\": {\n                \"description\": \"No Transcript was found.\"\n            },\n            \"RequiredParametersMissingError\": {\n                \"description\": \"Required Parameters are missing in your request. Each response will notify the client of what info is missing.\"\n            }\n        }\n    }\n}\n"
		}
	},
	"Error": "parse: paths: /uploadFile: post: : responses: no responses"
}