{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/mojaloop/pisp-project"
		},
		"file": {
			"name": "ttk-thirdparty-sim-api-template.yaml",
			"path": "src/interface/ttk-thirdparty-sim-api-template.yaml",
			"content": "openapi: 3.0.2\ninfo:\n  title: Mojaloop Thirdparty \u0026 DFSP Simulator API\n  version: '1.0'\n  description: A Mojaloop API that will simulate the out of bound user authentication (OTP or WEB)\n    between a DFSP/PISP and their user\n  license:\n    name: TBD\n    url: TBD\nservers:\n  - url: /\npaths:\n  /login:\n    post:\n      tags:\n        - DFSPSim\n      description: The HTTP request `POST /login` is used to login to DFSP application by providing credentials.\n      summary: DFSP user login\n      operationId: DFSPLogin\n      parameters:\n        #Headers\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Length.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Type.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n        - name: userName\n          in: query\n          required: true\n          schema:\n            $ref: '#/components/schemas/UserName'\n        - name: password\n          in: query\n          required: true\n          schema:\n            $ref: '#/components/schemas/Password'\n      requestBody:\n        required: false\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/DFSPLoginRequest'\n      responses:\n        200:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/200'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n  /authorize:\n    post:\n      tags:\n        - DFSPSim\n      description: The HTTP request `POST /authorize` is used to grant consent by a DFSP user.\n      summary: DFSP user authorization\n      operationId: DFSPAuthorize\n      parameters:\n        #Headers\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Length.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Type.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n        - name: userId\n          in: query\n          required: true\n          schema:\n            type: array\n            items:\n              type: string\n        - name: consentRequestId\n          in: query\n          required: true\n          schema:\n            $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/CorrelationId.yaml'\n      requestBody:\n        required: false\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DFSPAuthorizeRequest'\n      responses:\n        200:\n          description: Response containing secret\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/DFSPAuthorizeResponse'\n              example:\n                secret: 'xx auth secret xx'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n  /sendOTP:\n    post:\n      tags:\n        - DFSPSim\n      description: The HTTP request `POST /sendOTP` is used to send OTP to a DFSP user (most likely through SMS).\n      summary: DFSP Send OTP\n      operationId: SendOTP\n      parameters:\n        #Headers\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Length.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Type.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SendOTPRequest'\n            example:\n              userName: 'dfspa.user.name'\n              consentRequestId: '3b346cec-47b3-4def-b870-edb255aaf6c3'\n              message: '9876'\n      responses:\n        200:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/200'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n  /verifyOTPorSecret:\n    post:\n      tags:\n        - DFSPSim\n      description: The HTTP request `POST /verifyOTPorSecret` is used to verify OTP or Secret received from PISP.\n      summary: /verifyOTPorSecret\n      operationId: VerifyOTPorSecret\n      parameters:\n        #Headers\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Length.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Content-Type.yaml'\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n      requestBody:\n        description: Perform verification of OTP or Secret\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/VerifyOTPorSecretRequest'\n            examples:\n              sample1:\n                value:\n                  consentRequestId: '3b346cec-47b3-4def-b870-edb255aaf6c3'\n                  value: '1234'\n              sample2:\n                value:\n                  consentRequestId: '3b346cec-47b3-4def-b870-edb255aaf6c4'\n                  value: 'xx auth secret xx'\n      responses:\n        200:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/200'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n  /OTPorSecret/{ID}:\n    get:\n      tags:\n        - DFSPSim\n      description: The HTTP request `GET /OTPorSecret/{ID}` is used to get OTP or Secret from DFSP.\n      summary: Get OTP or Secret for specified consentRequestId\n      operationId: GetOTPorSecret\n      parameters:\n        #Path\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/ID.yaml'\n        #Headers\n        - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n      responses:\n        200:\n          description: Response containing details of the OTP or Secret\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GetOTPorSecretResponse'\n              examples:\n                sample1:\n                  value:\n                    value: '1234'\n                sample2:\n                  value:\n                    value: 'xx auth secret xx'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n  /store/consentRequests/{ID}:\n    parameters:\n      #Path\n      - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/ID.yaml'\n      #Headers\n      - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/X-Forwarded-For.yaml'\n    get:\n      tags:\n        - DFSPSim\n      operationId: GetConsentRequest\n      summary: GetConsentRequest\n      description: |\n        The HTTP request `GET /store/consentRequests/{ID}` is used by DFSP to load a specified consentRequest.\n      responses:\n        200:\n          description: Response containing consentRequest details\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/StoreConsent'\n              example:\n                scopes:\n                  - accountId: dfspa.username.1234\n                    actions:\n                      - accounts.transfer\n                      - accounts.getBalance\n                  - accountId: dfspa.username.5678\n                    actions:\n                      - accounts.transfer\n                      - accounts.getBalance\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n    post:\n      tags:\n        - DFSPSim\n      operationId: StoreConsentRequest\n      summary: StoreConsentRequest\n      description: |\n        The HTTP request `POST /store/consentRequests/{ID}` is used by a DFSP to store consentRequests.\n      requestBody:\n        description: The consentRequest to store\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/StoreConsent'\n            example:\n              scopes:\n                - accountId: dfspa.username.1234\n                  actions:\n                    - accounts.transfer\n                    - accounts.getBalance\n                - accountId: dfspa.username.5678\n                  actions:\n                    - accounts.transfer\n                    - accounts.getBalance\n      responses:\n        200:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/200'\n        400:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/400'\n        401:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/401'\n        403:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/403'\n        404:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/404'\n        405:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/405'\n        406:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/406'\n        501:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/501'\n        503:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/responses/index.yaml#/503'\n\ncomponents:\n  # TODO: Move to `mojaloop/api-snippets.\n  schemas:\n    SecretValue:\n      title: SecretValue\n      type: string\n      minLength: 11\n      maxLength: 128\n    UserId:\n      type: array\n      items:\n        $ref: '../../node_modules/@mojaloop/api-snippets/thirdparty/openapi3/schemas/AccountAddress.yaml'\n      minItems: 1\n      description: A long-lived unique account identifier provided by the DFSP\n    UserName:\n      title: UserName\n      type: string\n      minLength: 1\n      maxLength: 25\n    Password:\n      title: Password\n      type: string\n      minLength: 1\n      maxLength: 25\n    Message:\n      title: Message\n      type: string\n      description: OTP value or error message\n    DFSPLoginRequest:\n      title: DFSPLoginRequest\n      type: object\n      description: 'POST /login request'\n      properties:\n        userName:\n          $ref: '#/components/schemas/UserName'\n        password:\n          $ref: '#/components/schemas/Password'\n    DFSPAuthorizeRequest:\n      title: DFSPAuthorizeRequest\n      type: object\n      description: 'POST /authorize request'\n      properties:\n        userId:\n          $ref: '#/components/schemas/UserId'\n        consentRequestId:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/CorrelationId.yaml'\n    DFSPAuthorizeResponse:\n      title: DFSPAuthorizeResponse\n      type: object\n      description: 'POST /authorize response'\n      properties:\n        secret:\n          $ref: '#/components/schemas/SecretValue'\n      required:\n        - secret\n    SendOTPRequest:\n      title: SendOTPRequest\n      type: object\n      description: 'POST /sendOTP request'\n      properties:\n        userName:\n          $ref: '#/components/schemas/UserName'\n        consentRequestId:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/CorrelationId.yaml'\n        message:\n          $ref: '#/components/schemas/Message'\n      required:\n        - userName\n        - consentRequestId\n        - message\n    VerifyOTPorSecretRequest:\n      title: VerifyOTPorSecretRequest\n      type: object\n      description: 'POST /verifyOTPorSecret request'\n      properties:\n        consentRequestId:\n          $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/CorrelationId.yaml'\n        value:\n          oneOf:\n            - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/OtpValue.yaml'\n            - $ref: '#/components/schemas/SecretValue'\n          description: Contains the OTP or Secret value.\n      required:\n        - consentRequestId\n        - value\n    GetOTPorSecretResponse:\n      title: GetOTPorSecretResponse\n      type: object\n      description: 'Get /OTPorSecret/{ID} response'\n      properties:\n        value:\n          oneOf:\n            - $ref: '../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/schemas/OtpValue.yaml'\n            - $ref: '#/components/schemas/SecretValue'\n          description: Contains the OTP or Secret value.\n      required:\n        - value\n    StoreConsent:\n      title: StoreConsent\n      type: object\n      description: 'store consent details'\n      properties:\n        scopes:\n          type: array\n          items:\n            $ref: '../../node_modules/@mojaloop/api-snippets/thirdparty/openapi3/schemas/Scope.yaml'\n      required:\n        - scopes\n"
		}
	},
	"Error": "parse: paths: /verifyOTPorSecret: post: VerifyOTPorSecret: parameters: parse parameter \"\": resolve \"../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml\" reference: invalid parameter reference: \"../../node_modules/@mojaloop/api-snippets/v1.0/openapi3/parameters/Accept.yaml\""
}