{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/project-koku/koku"
		},
		"file": {
			"name": "openapi.json",
			"path": "koku/sources/openapi.json",
			"content": "{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"description\": \"The Sources Status API.  You can find out more about Cost Management at [https://github.com/project-koku/](https://github.com/project-koku/).\",\n    \"version\": \"1.0.0\",\n    \"title\": \"Sources Status API\",\n    \"license\": {\n      \"name\": \"AGPL-3.0\",\n      \"url\": \"https://opensource.org/licenses/AGPL-3.0\"\n    }\n  },\n  \"tags\": [{\n      \"name\": \"Source Status\",\n      \"description\": \"Platform sources cost management availability status\"\n    },\n    {\n      \"name\": \"Sources\",\n      \"description\": \"Operations about source interactions\"\n    }\n  ],\n  \"paths\": {\n    \"/sources/\": {\n      \"post\": {\n        \"tags\": [\n          \"Sources\"\n        ],\n        \"summary\": \"Create a source\",\n        \"operationId\": \"createSource\",\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/SourceIn\"\n              }\n            }\n          },\n          \"description\": \"Provider to add to a Customer\",\n          \"required\": true\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"An object describing the source\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/SourceOut\"\n                }\n              }\n            }\n          },\n          \"401\": {\n            \"description\": \"Unauthorized\"\n          },\n          \"500\": {\n            \"description\": \"Unexpected Error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"get\": {\n        \"tags\": [\n          \"Sources\"\n        ],\n        \"summary\": \"List the sources\",\n        \"operationId\": \"listSources\",\n        \"parameters\": [{\n            \"name\": \"type\",\n            \"in\": \"query\",\n            \"description\": \"The type of source to filter for.\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          },\n          {\n            \"name\": \"name\",\n            \"in\": \"query\",\n            \"description\": \"The name of the source to filter for.\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          },\n          {\n            \"$ref\": \"#/components/parameters/QueryOffset\"\n          },\n          {\n            \"$ref\": \"#/components/parameters/QueryLimit\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"A paginated list of source objects\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/SourcePagination\"\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Unexpected Error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/sources/{source_id}/\": {\n      \"get\": {\n        \"tags\": [\n          \"Sources\"\n        ],\n        \"summary\": \"Get a source\",\n        \"operationId\": \"getSource\",\n        \"parameters\": [{\n          \"name\": \"source_id\",\n          \"in\": \"path\",\n          \"description\": \"ID of source to get\",\n          \"required\": true,\n          \"schema\": {\n            \"type\": \"integer\",\n            \"format\": \"int64\",\n            \"example\": 1\n          }\n        }],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"A Source object\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/SourceOut\"\n                }\n              }\n            }\n          },\n          \"401\": {\n            \"description\": \"Unauthorized\"\n          },\n          \"404\": {\n            \"description\": \"Not Found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Unexpected Error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"patch\": {\n        \"tags\": [\n          \"Sources\"\n        ],\n        \"summary\": \"Update a source\",\n        \"operationId\": \"updateSource\",\n        \"parameters\": [{\n          \"name\": \"source_id\",\n          \"in\": \"path\",\n          \"description\": \"ID of source to update\",\n          \"required\": true,\n          \"schema\": {\n            \"type\": \"integer\",\n            \"format\": \"int64\",\n            \"example\": 1\n          }\n        }],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/SourceIn\"\n              }\n            }\n          },\n          \"required\": true\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"A Source object\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/SourceOut\"\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"Not Found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Unexpected Error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"delete\": {\n        \"tags\": [\n          \"Sources\"\n        ],\n        \"summary\": \"Delete a source\",\n        \"operationId\": \"deleteSource\",\n        \"parameters\": [{\n          \"name\": \"source_id\",\n          \"in\": \"path\",\n          \"description\": \"ID of source to delete\",\n          \"required\": true,\n          \"schema\": {\n            \"type\": \"integer\",\n            \"format\": \"int64\",\n            \"example\": 1\n          }\n        }],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Source deleted\"\n          },\n          \"401\": {\n            \"description\": \"Unauthorized\"\n          },\n          \"403\": {\n            \"description\": \"Insufficent permissions to delete source\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"Not Found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Unexpected Error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/source-status/\": {\n      \"get\": {\n        \"summary\": \"Get Source Status\",\n        \"description\": \"Return whether or not a source is correctly set up.\",\n        \"parameters\": [{\n          \"name\": \"source_id\",\n          \"in\": \"query\",\n          \"description\": \"The source_id\",\n          \"required\": true,\n          \"schema\": {\n            \"type\": \"integer\",\n            \"example\": 1\n          }\n        }],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"The status of the source\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/StatusGetResponse\"\n                },\n                \"examples\": {\n                  \"Available\": {\n                    \"value\": {\n                      \"availability_status\": \"available\",\n                      \"availability_status_error\": \"\"\n                    }\n                  },\n                  \"NotAvailable\": {\n                    \"value\": {\n                      \"availability_status\": \"unavailabile\",\n                      \"availability_status_error\": \"Bucket nonexistantbucketexample could not be found with arn:aws:iam::999999999999:role/CostManagement.\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"A 400 code occurs when the client either did not provide a source_id parameter, or source_id is not an integer\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/StatusGetResponseSourceIdNotInteger\"\n                },\n                \"examples\": {\n                  \"NonInteger\": {\n                    \"value\": \"source_id must be an integer\"\n                  },\n                  \"MissingSourceId\": {\n                    \"value\": \"Missing query parameter source_id\"\n                  }\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"Source is not in our database\"\n          }\n        },\n        \"tags\": [\n          \"Source Status\"\n        ]\n      },\n      \"post\": {\n        \"summary\": \"Get Source Status\",\n        \"description\": \"Trigger asynchronous source status update.\",\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/SourceStatusIn\"\n              }\n            }\n          },\n          \"required\": true\n        },\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Status update event was successfully queued.\"\n          },\n          \"400\": {\n            \"description\": \"A 400 code occurs when the client either did not provide a source_id parameter, or source_id is not an integer\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/StatusGetResponseSourceIdNotInteger\"\n                },\n                \"examples\": {\n                  \"NonInteger\": {\n                    \"value\": \"source_id must be an integer\"\n                  },\n                  \"MissingSourceId\": {\n                    \"value\": \"Missing query parameter source_id\"\n                  }\n                }\n              }\n            }\n          },\n          \"404\": {\n            \"description\": \"Source is not in our database\"\n          }\n        },\n        \"tags\": [\n          \"Source Status\"\n        ]\n      }\n    }\n  },\n  \"components\": {\n    \"parameters\": {\n      \"QueryOffset\": {\n        \"in\": \"query\",\n        \"name\": \"offset\",\n        \"required\": false,\n        \"description\": \"Parameter for selecting the offset of data.\",\n        \"schema\": {\n          \"type\": \"integer\",\n          \"default\": 0,\n          \"minimum\": 0\n        }\n      },\n      \"QueryLimit\": {\n        \"in\": \"query\",\n        \"name\": \"limit\",\n        \"required\": false,\n        \"description\": \"Parameter for selecting the amount of data in a returned.\",\n        \"schema\": {\n          \"type\": \"integer\",\n          \"default\": 10,\n          \"minimum\": 1,\n          \"maximum\": 1000\n        }\n      }\n    },\n    \"schemas\": {\n      \"Error\": {\n        \"required\": [\n          \"errors\"\n        ],\n        \"properties\": {\n          \"errors\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"example\": {\n                \"detail\": \"Not Found.\",\n                \"status\": 404\n              }\n            }\n          }\n        }\n      },\n      \"PaginationMeta\": {\n        \"properties\": {\n          \"count\": {\n            \"type\": \"integer\",\n            \"format\": \"int64\",\n            \"example\": 30\n          }\n        }\n      },\n      \"PaginationLinks\": {\n        \"properties\": {\n          \"first\": {\n            \"type\": \"string\",\n            \"format\": \"uri\",\n            \"example\": \"/cost-management/v1/(resources)/?offset=0\"\n          },\n          \"previous\": {\n            \"type\": \"string\",\n            \"format\": \"uri\",\n            \"example\": \"/cost-management/v1/(resources)/?offset=20\"\n          },\n          \"next\": {\n            \"type\": \"string\",\n            \"format\": \"uri\",\n            \"example\": \"/cost-management/v1/(resources)/?offset=40\"\n          },\n          \"last\": {\n            \"type\": \"string\",\n            \"format\": \"uri\",\n            \"example\": \"/cost-management/v1/(resources)/?offset=100\"\n          }\n        }\n      },\n      \"ListPagination\": {\n        \"properties\": {\n          \"meta\": {\n            \"$ref\": \"#/components/schemas/PaginationMeta\"\n          },\n          \"links\": {\n            \"$ref\": \"#/components/schemas/PaginationLinks\"\n          }\n        }\n      },\n      \"SourcePagination\": {\n        \"allOf\": [{\n            \"$ref\": \"#/components/schemas/ListPagination\"\n          },\n          {\n            \"type\": \"object\",\n            \"required\": [\n              \"data\"\n            ],\n            \"properties\": {\n              \"data\": {\n                \"type\": \"array\",\n                \"items\": {\n                  \"$ref\": \"#/components/schemas/SourceOut\"\n                }\n              }\n            }\n          }\n        ]\n      },\n      \"Source\": {\n        \"required\": [\n          \"source_type\"\n        ],\n        \"properties\": {\n          \"source_type\": {\n            \"type\": \"string\",\n            \"example\": \"AWS\"\n          }\n        }\n      },\n      \"SourceIn\": {\n        \"allOf\": [{\n            \"$ref\": \"#/components/schemas/Source\"\n          },\n          {\n            \"type\": \"object\",\n            \"required\": [\n              \"authentication\",\n              \"billing_source\"\n            ],\n            \"properties\": {\n              \"name\": {\n                \"type\": \"string\",\n                \"example\": \"My Source\"\n              },\n              \"authentication\": {\n                \"type\": \"object\",\n                \"description\": \"Dictionary containing resource name.\",\n                \"example\": {\n                  \"role_arn\": \"arn\"\n                }\n              },\n              \"billing_source\": {\n                \"type\": \"object\",\n                \"description\": \"Dictionary containing billing source.\",\n                \"example\": {\n                  \"bucket\": \"test-bucket\"\n                }\n              }\n            }\n          }\n        ]\n      },\n      \"SourceOut\": {\n        \"allOf\": [{\n            \"$ref\": \"#/components/schemas/SourceIn\"\n          },\n          {\n            \"type\": \"object\",\n            \"required\": [\n              \"id\"\n            ],\n            \"properties\": {\n              \"id\": {\n                \"type\": \"integer\",\n                \"format\": \"int64\",\n                \"example\": 1\n              },\n              \"uuid\": {\n                \"type\": \"string\",\n                \"format\": \"uuid\",\n                \"example\": \"57e60f90-8c0c-4bd1-87a0-2143759aae1d\"\n              },\n              \"authentication\": {\n                \"type\": \"object\",\n                \"description\": \"Dictionary containing resource name.\",\n                \"example\": {\n                  \"role_arn\": \"arn\"\n                }\n              },\n              \"billing_source\": {\n                \"type\": \"object\",\n                \"description\": \"Dictionary containing billing source.\",\n                \"example\": {\n                  \"bucket\": \"test-bucket\"\n                }\n              },\n              \"infrastructure\": {\n                \"type\": \"string\",\n                \"description\": \"OpenShift foundational infrastructure type.\",\n                \"example\": \"AWS\"\n              },\n              \"cost_models\": {\n                \"type\": \"array\",\n                \"description\": \"List of cost model name and UUIDs associated with this provider.\",\n                \"items\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"uuid\": {\n                      \"type\": \"string\",\n                      \"format\": \"uuid\",\n                      \"example\": \"D823A725-DC10-496A-AF08-12533E4F8FE4\"\n                    },\n                    \"name\": {\n                      \"type\": \"string\",\n                      \"example\": \"My Great Cost Model\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        ]\n      },\n      \"SourceStatusIn\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"id\"\n        ],\n        \"properties\": {\n          \"id\": {\n            \"type\": \"integer\",\n            \"format\": \"int64\",\n            \"example\": 1\n          }\n        }\n      },\n      \"StatusGetResponse\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"availability_status\": {\n            \"type\": \"string\",\n            \"example\": \"available\"\n          },\n          \"availability_status_error\": {\n            \"type\": \"string\",\n            \"example\": \"\"\n          }\n        }\n      },\n      \"StatusGetResponseSourceIdNotInteger\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n"
		}
	},
	"Error": "panic: runtime error: index out of range [0] with length 0"
}