{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/disit/snap4city"
		},
		"file": {
			"name": "engager-openapiv3.json",
			"path": "swagger/internal/engager-openapiv3.json",
			"content": "{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Engager API\",\n    \"version\": \"1.0\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"http://engager.km4city.org\"\n    }\n  ],\n  \"paths\": {\n    \"/engine/api/engager\": {\n      \"get\": {\n        \"tags\": [\n          \"Engine\"\n        ],\n        \"summary\": \"Engager Engine\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/uid\"\n          },\n          {\n            \"$ref\": \"#/components/parameters/update\"\n          },\n          {\n            \"$ref\": \"#/components/parameters/selection\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"$ref\": \"#/components/responses/engagerEngine\"\n          }\n        }\n      }\n    },\n    \"/engine/api/cancel-engagement\": {\n      \"get\": {\n        \"tags\": [\n          \"Engine\"\n        ],\n        \"summary\": \"Cancel Engagement\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/engagementId\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"$ref\": \"#/components/responses/cancelEngagement\"\n          }\n        }\n      }\n    },\n    \"/api/survey-collector\": {\n      \"post\": {\n        \"tags\": [\n          \"Survey\"\n        ],\n        \"summary\": \"Survey Collector\",\n        \"requestBody\": {\n          \"$ref\": \"#/components/requestBodies/surveyCollector\"\n        },\n        \"responses\": {\n          \"200\": {\n            \"$ref\": \"#/components/responses/surveyCollector\"\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"parameters\": {\n      \"uid\": {\n        \"name\": \"uid\",\n        \"in\": \"query\",\n        \"description\": \"Device ID\",\n        \"required\": true,\n        \"schema\": {\n          \"type\": \"string\"\n        },\n        \"example\": \"7846b4cf63d22afef4a3acf33d9ca0cde38d49e4e59bb6b34a163c847079ff20\"\n      },\n      \"update\": {\n        \"name\": \"update\",\n        \"in\": \"query\",\n        \"description\": \"It indicates if the engagement status has to be updated (created -\u003e sent).\",\n        \"required\": false,\n        \"schema\": {\n          \"type\": \"boolean\",\n          \"default\": true\n        }\n      },\n      \"selection\": {\n        \"name\": \"selection\",\n        \"in\": \"query\",\n        \"description\": \"Allowed values are \\\"assistance\\\", \\\"engagement\\\". It indicates the type of message to be retrieved. If the property cannot be found, both the two types of message are retrieved.\",\n        \"required\": false,\n        \"schema\": {\n          \"type\": \"string\",\n          \"enum\": [\n            \"assistance\",\n            \"engagement\"\n          ]\n        }\n      },\n      \"engagementId\": {\n        \"name\": \"id\",\n        \"in\": \"query\",\n        \"description\": \"Engagement ID\",\n        \"required\": true,\n        \"schema\": {\n          \"type\": \"integer\",\n          \"format\": \"int64\"\n        },\n        \"example\": 4699311\n      }\n    },\n    \"responses\": {\n      \"engagerEngine\": {\n        \"description\": \"OK\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"assessor\",\n                \"engagement\",\n                \"assistance\"\n              ],\n              \"properties\": {\n                \"assessor\": {\n                  \"type\": \"boolean\",\n                  \"example\": false\n                },\n                \"engagement\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"type\": {\n                        \"type\": \"string\",\n                        \"example\": \"REQUEST_PHOTO\"\n                      },\n                      \"msg\": {\n                        \"type\": \"string\",\n                        \"example\": \"\\\"\\\"I Concerti al Cenacolo 2018\\\"\\\" presso Biblioteca delle Oblate  (fino a 2018-12-11)\"\n                      },\n                      \"classe\": {\n                        \"type\": \"string\",\n                        \"example\": \"ENGAGEMENT\"\n                      },\n                      \"id\": {\n                        \"type\": \"integer\",\n                        \"example\": 4704206\n                      },\n                      \"time_elapse\": {\n                        \"type\": \"integer\",\n                        \"example\": 86196159\n                      },\n                      \"title\": {\n                        \"type\": \"string\",\n                        \"example\": \"EVENTI in giornata\"\n                      },\n                      \"uri\": {\n                        \"type\": \"string\",\n                        \"format\": \"uri\",\n                        \"example\": \"http://www.disit.org/km4city/resource/Event_25013_a55e096656e35d3a9440b591f347b4d3\"\n                      },\n                      \"gps_lat\": {\n                        \"type\": \"number\",\n                        \"format\": \"float\",\n                        \"example\": 43.772243\n                      },\n                      \"gps_long\": {\n                        \"type\": \"number\",\n                        \"format\": \"float\",\n                        \"example\": 11.260041\n                      },\n                      \"time_created\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int64\",\n                        \"example\": 1544518730000\n                      },\n                      \"serviceType\": {\n                        \"type\": \"string\",\n                        \"example\": \"Event\"\n                      },\n                      \"serviceLabel\": {\n                        \"type\": \"string\",\n                        \"example\": \"Musica classica, opera e balletto\"\n                      },\n                      \"serviceName\": {\n                        \"type\": \"string\",\n                        \"example\": \"\\\"I Concerti al Cenacolo 2018\\\"\"\n                      },\n                      \"action_bannedfor\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int32\",\n                        \"example\": 0\n                      },\n                      \"action_howmany\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int32\",\n                        \"example\": 1\n                      },\n                      \"action_rulename\": {\n                        \"type\": \"string\",\n                        \"example\": \"daily_event_it\"\n                      },\n                      \"action_sendrate\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int32\",\n                        \"example\": 0\n                      },\n                      \"points\": {\n                        \"type\": \"integer\",\n                        \"format\": \"int32\",\n                        \"example\": 0\n                      }\n                    }\n                  }\n                },\n                \"assistance\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"type\": \"object\"\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"cancelEngagement\": {\n        \"description\": \"OK\",\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"required\": [\n                \"result\",\n                \"message\"\n              ],\n              \"properties\": {\n                \"result\": {\n                  \"type\": \"string\",\n                  \"example\": \"OK\"\n                },\n                \"message\": {\n                  \"type\": \"string\",\n                  \"nullable\": true,\n                  \"example\": null\n                }\n              }\n            }\n          }\n        }\n      },\n      \"surveyCollector\": {\n        \"description\": \"OK\"\n      }\n    },\n    \"requestBodies\": {\n      \"surveyCollector\": {\n        \"required\": true,\n        \"content\": {\n          \"application/json\": {\n            \"schema\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"engagement_id\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\",\n                  \"example\": 4699311\n                },\n                \"user_id\": {\n                  \"type\": \"string\",\n                  \"example\": \"7846b4cf63d22afef4a3acf33d9ca0cde38d49e4e59bb6b34a163c847079ff20\"\n                },\n                \"survey_id\": {\n                  \"type\": \"string\",\n                  \"example\": \"confirm_extrappoi_it\"\n                },\n                \"completed_time\": {\n                  \"type\": \"integer\",\n                  \"format\": \"int64\",\n                  \"example\": 1543956143329\n                },\n                \"survey_response\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"confirm_extrappoi\": {\n                      \"type\": \"string\",\n                      \"example\": \"no\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}"
		}
	},
	"Error": "panic: runtime error: index out of range [0] with length 0"
}