{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/MentaNetwork/demotren"
		},
		"file": {
			"name": "api.yaml",
			"size": 0,
			"path": "specs/api.yaml",
			"byteSize": 5777,
			"content": "openapi: 3.0.0\ninfo:\n  title: API\n  description: API de pagos con tarjeta\n  version: 0.1.9\n\nservers:\n  - url: http://localhost:8000/\n\npaths:\n  \n  /status/{transactionId}:\n    get:\n      summary: Devuelve el estatus de una transacción.\n      description: Devuelve el estatus de una transacción de pago.\n      operationId: status\n      parameters:\n        - name: transactionId\n          in: path\n          required: true\n          description: Transacción de pago\n          schema:\n            type: string\n      responses:\n        200:\n          description: Estatus de la transacción de pago\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/PaymentStatus\"\n        default:\n          description: Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n\n  /tokenize:\n    post:\n      description: Crea un token con base en un número de tarjeta para con él hacer un intento de pago.\n      operationId: tokenize\n      requestBody:\n        $ref: \"#/components/requestBodies/CardBody\"\n        \n      responses:\n        200:\n          description: Éxito\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TokenizationResponse\"\n        403:\n          description: No autorizado\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/UnauthorizedResponse\"\n        default:\n          description: Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n\n  /pay:\n    post:\n      description: Procesa un intento de pago con tarjeta.\n      operationId: paymentPost\n      requestBody:\n        $ref: \"#/components/requestBodies/PaymentIntentBody\"\n      \n      responses:\n        200:\n          description: Pago procesado completamente\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/PaymentProcessedResponse\"\n        202:\n          description: Intento de pago aceptado\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/PaymentAcceptedResponse\"\n        400:\n          description: Parámetros inválidos\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/UnauthorizedResponse\"\n        403:\n          description: No autorizado\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/UnauthorizedResponse\"\n        default:\n          description: Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n\n\ncomponents:\n\n  schemas:\n\n    Card:\n      type: object\n      required:\n        - name\n        - number\n        - year\n        - month\n        - cvc\n      properties:\n        name:\n          type: string\n        number:\n          type: string\n        year:\n          type: integer\n        month:\n          type: integer\n        cvc:\n          type: integer\n \n    PaymentIntent:\n      type: object\n      required:\n        - token\n        - amount\n        - customerId\n        - recipientId\n      properties:\n        token:\n          type: string\n        amount:\n          description: Cantidad a pagar en centavos\n          type: integer\n        customerId:\n          description: ID del emisor del pago\n          type: string\n        recipientId:\n          description: ID del receptor del pago\n          type: string\n    \n    PaymentStatus:\n      type: object\n      required:\n        - transactionId\n        - status\n      properties:\n        transactionId:\n          type: string\n        status:\n          type: string\n   \n    TokenizationResponse:\n      required:\n        - token\n        - status\n      properties:\n        token:\n          type: string\n        status:\n          type: string\n          description: Estado de la tokenización\n          default: ok\n  \n    PaymentAcceptedResponse:\n      required:\n        - transactionId\n        - status\n      properties:\n        transactionId:\n          type: string\n          description: Id de la transacción\n        status:\n          type: string\n          description: Estado del intento de pago\n          default: processing\n  \n    PaymentProcessedResponse:\n      required:\n        - transactionId\n        - status\n      properties:\n        transactionId:\n          type: string\n          description: Id de la transacción\n        status:\n          type: string\n          description: Estado del intento de pago\n          default: processed  \n  \n    UnauthorizedResponse:\n      required:\n        - transactionId\n        - code\n        - message\n      properties:\n        transactionId:\n          type: string\n          description: Id de la transacción\n        code:\n          type: string\n          description: Código de error (fraude, rechazo, sin fondos, etc)\n        message:\n          type: string\n          description: Mensaje de error\n  \n    ErrorResponse:\n      required:\n        - message\n      properties:\n        message:\n          type: string\n        transactionId:\n          type: string\n          description: Id de la transacción\n\n  requestBodies:\n  \n    CardBody:\n      description: Tarjeta\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Card'\n  \n    PaymentIntentBody:\n      description: Intento de pago\n      required: true\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/PaymentIntent'\n\n\n",
			"canonicalURL": "/github.com/MentaNetwork/demotren@98ddc0a576bb1207e2f8d19f94023e09005776f8/-/blob/specs/api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/MentaNetwork/demotren/blob/98ddc0a576bb1207e2f8d19f94023e09005776f8/specs/api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}