{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/google/data-transfer-project"
		},
		"file": {
			"name": "JettyApiSpec.yaml",
			"size": 0,
			"path": "Documentation/JettyApiSpec.yaml",
			"byteSize": 8718,
			"content": "openapi: \"3.0.2\"\ninfo:\n  description: \"This documents the REST endpoints supported by the portability-transport-jettyrest extension to the Data Transfer Project.\"\n  title: \"Data Transfer Project\"\n  version: \"1.0-SNAPSHOT\"\n  license:\n    name: \"Apache 2.0\"\n    url: \"http://www.apache.org/licenses/LICENSE-2.0.html\"\ntags:\n- name: \"datatypes\"\n  description: \"Information about supported datatypes\"\n- name: \"services\"\n  description: \"Information about supported services\"\n- name: \"job\"\n  description: \"Information and actions on a transfer job\"\npaths:\n  /datatypes:\n    get:\n      tags:\n      - \"datatypes\"\n      summary: \"Get the datatypes available\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DataTypes\"\n  /transfer/services/{dataType}:\n    get:\n      tags:\n      - \"services\"\n      summary: \"Get available services\"\n      description: \"Returns the available import and export services for a given datatype.\"\n      parameters:\n      - name: \"dataType\"\n        in: \"path\"\n        description: \"The data type to transfer\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Services\"\n  /transfer:\n    post:\n      tags:\n      - \"job\"\n      summary: \"Create a new transfer job\"\n      description: \"Creates a new transfer job and returns the information necessary to authenticate with the import and export services.\"\n      requestBody:\n        description: \"Details of the new job\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                exportService:\n                  type: \"string\"\n                importService:\n                  type: \"string\"\n                exportCallbackUrl:\n                  type: \"string\"\n                importCallbackUrl:\n                  type: \"string\"\n                dataType:\n                  type: \"string\"\n                encryptionScheme:\n                  type: \"string\"\n              example:\n                exportService: \"testSource\"\n                importService: \"testDestination\"\n                exportCallbackUrl: \"https://localhost:3000/callback/testSource\"\n                importCallbackUrl: \"https://localhost:3000/callback/testDestination\"\n                dataType: \"PHOTOS\"\n                encryptionScheme: \"cleartext\"\n      responses:\n        200:\n          description: \"Job has been created\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferJob\"\n  /transfer/{id}:\n    get:\n      tags:\n      - \"job\"\n      summary: \"Get a transfer job\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"The id of the requested transfer job\"\n        required: true\n        schema:\n          type: \"string\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferJob\"\n  /transfer/{id}/generate:\n    post:\n      tags:\n      - \"job\"\n      summary: \"Request to generate transfer auth data for an export or import service.\"\n      description: \"This request is issued after the authorization token has been received for the export and import services.\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"The id of the transfer job\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"The auth data\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                id:\n                  type: \"string\"\n                authToken:\n                  type: \"string\"\n                mode:\n                  type: \"string\"\n                  enum:\n                  - \"EXPORT\"\n                  - \"IMPORT\"\n                callbackUrl:\n                  type: \"string\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                type: \"object\"\n                properties:\n                  authData:\n                    type: \"string\"\n  /transfer/worker/{id}:\n    parameters:\n    - name: \"id\"\n      in: \"path\"\n      description: \"The id of the transfer job\"\n      required: true\n      schema:\n        type: \"string\"\n    post:\n      tags:\n      - \"job\"\n      summary: \"Request to reserve a worker to process a transfer job.\"\n      requestBody:\n        description: \"The id of the transfer job\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                id:\n                  type: \"string\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ReservedWorker\"\n    get:\n      tags:\n      - \"job\"\n      summary: \"Request to return the worker that was reserved for the given transfer job.\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ReservedWorker\"\n  /transfer/{id}/start:\n    post:\n      tags:\n      - \"job\"\n      summary: \"Request to start a transfer job.\"\n      parameters:\n      - name: \"id\"\n        in: \"path\"\n        description: \"The id of the transfer job\"\n        required: true\n        schema:\n          type: \"string\"\n      requestBody:\n        description: \"Encrypted auth data\"\n        content:\n          application/json:\n            schema:\n              type: \"object\"\n              properties:\n                id:\n                  type: \"string\"\n                encryptedAuthData:\n                  type: \"string\"\n      responses:\n        200:\n          description: \"Success\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/TransferJob\"\nexternalDocs:\n  description: \"Find out more about the Data Transfer Project\"\n  url: \"https://datatransferproject.dev/\"\ncomponents:\n  schemas:\n    DataTypes:\n      type: \"object\"\n      properties:\n        dataTypes:\n          type: \"array\"\n          items:\n            type: \"string\"\n      example:\n        datatypes:\n        - \"PHOTOS\"\n        - \"CONTACTS\"\n        - \"CALENDAR\"\n        - \"MAIL\"\n        - \"TASKS\"\n    Services:\n      type: \"object\"\n      properties:\n        transferDataType:\n          type: \"string\"\n        exportServices:\n          type: \"array\"\n          items:\n            type: \"string\"\n        importServices:\n          type: \"array\"\n          items:\n            type: \"string\"\n      example:\n        transferDataType: \"PHOTOS\"\n        exportServices:\n        - \"Flickr\"\n        - \"Instagram\"\n        - \"SmugMug\"\n        - \"Facebook\"\n        - \"Twitter\"\n        - \"Google\"\n        - \"Imgur\"\n        importServices:\n        - \"Flickr\"\n        - \"SmugMug\"\n        - \"Facebook\"\n        - \"Twitter\"\n        - \"Google\"\n        - \"Imgur\"\n    TransferJob:\n      type: \"object\"\n      properties:\n        id:\n          type: \"string\"\n        exportService:\n          type: \"string\"\n        importService:\n          type: \"string\"\n        dataType:\n          type: \"string\"\n        exportUrl:\n          type: \"string\"\n        importUrl:\n          type: \"string\"\n        exportTokenUrl:\n          type: \"string\"\n        importTokenUrl:\n          type: \"string\"\n        exportAuthProtocol:\n          type: \"string\"\n          enum:\n          - \"UNKNOWN\"\n          - \"OAUTH_1\"\n          - \"OAUTH_2\"\n          - \"CUSTOM\"\n        importAuthProtocol:\n          type: \"string\"\n          enum:\n          - \"UNKNOWN\"\n          - \"OAUTH_1\"\n          - \"OAUTH_2\"\n          - \"CUSTOM\"\n      example:\n        id: \"MjUzN2UzZjItMjVkOS00YTVkLThhMWQtMDA0OWM4MDhjOGI1\"\n        exportService: \"testSource\"\n        importService: \"testDestination\"\n        exportUrl: \"https://www.testSource.com/api/oauth?redirect_uri=https://localhost:3000/callback/testSource\u0026scope=photos\"\n        importUrl: \"https://www.testDestination.com/api/oauth2/auth?redirect_uri=https://localhost:3000/callback/testDestination\u0026response_type=code\u0026scope=all_photos\"\n        exportTokenUrl: \"\"\n        importTokenUrl: \"\"\n        exportAuthProtocol: \"OAUTH_2\"\n        importAuthProtocol: \"OAUTH_2\"\n    ReservedWorker:\n      type: \"object\"\n      properties:\n        publicKey:\n          type: \"string\"\n",
			"canonicalURL": "/github.com/google/data-transfer-project@d0a0bef6006ade3db0bf33c853e21256a1df01e6/-/blob/Documentation/JettyApiSpec.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/google/data-transfer-project/blob/d0a0bef6006ade3db0bf33c853e21256a1df01e6/Documentation/JettyApiSpec.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}