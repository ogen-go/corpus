{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "gitlab.com/commonground/nlx/nlx"
		},
		"file": {
			"name": "authorization-interface.yaml",
			"size": 0,
			"path": "inway/authorization-interface.yaml",
			"byteSize": 4294,
			"content": "openapi: 3.0.0\ninfo:\n  description: |\n    The Inway has the option to configure a authorization service. Once configured, the requests going through the Inway will be authorized by this authorization service.\n    In order to enable communication between the Inway and their authorization service, each organization is required to implement the interface described in this specification on their authorization service.\n  version: \"1.0.0\"\n  title: Authorization\npaths:\n  /:\n    post:\n      summary: Authorization request\n      responses:\n        200:\n          description: The authorization request has been handled successfully. This does not mean the request is authorized, it means that the request has been processed successfully\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthorizationResponse\"\n      requestBody:\n        $ref: \"#/components/requestBodies/AuthorizationRequest\"\ncomponents:\n  schemas:\n    AuthorizationRequest:\n      type: object\n      properties:\n        input:\n          type: object\n          properties:\n            headers:\n              type: object\n              additionalProperties:\n                type: array\n                items:\n                  type: string\n              description: Contains the HTTP-headers of the request made to the Inway\n            path:\n              type: string\n              description: path of the request to the Inway\n            organization_serial_number:\n              type: string\n              description: organization serial number targeted by the request send to the Inway (this is the serial number of your own organization)\n            service:\n              type: object\n              description: service targeted by the request send to the Inway\n              properties:\n                grants:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      organization_serial_number:\n                        type: string\n                        description: organization serial number of the grant\n                      public_key_pem:\n                        type: string\n                        description: public key PEM\n                      public_key_fingerprint:\n                        type: string\n                        description: public key fingerprint\n                name:\n                  type: string\n                  description: name of the service\n                endpoint_url:\n                  type: string\n                  description: endpoint url of the service\n                documentation_url:\n                  type: string\n                  description: documentation url of the service\n                api_specification_document_url:\n                  type: string\n                  description: api specification document url of the service\n                public_support_url:\n                  type: string\n                  description: public support url of the service\n                tech_support_contact:\n                  type: string\n                  description: tech support contact email of the service\n                one_time_costs:\n                  type: integer\n                  description: one time costs of the service\n                monthly_costs:\n                  type: integer\n                  description: monthly costs of the service\n                request_costs:\n                  type: integer\n                  description: costs per request of the service\n                internal:\n                  type: boolean\n                  description: is the service an internal service\n\n    AuthorizationResponse:\n      type: object\n      properties:\n        result:\n          type: boolean\n          description: true if the request is authorized. The Inway will continue to send the request to the targeted service. false when the authorization has failed for whatever reason. The Inway will return a 401 to the requesting client.\n  requestBodies:\n    AuthorizationRequest:\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/AuthorizationRequest\"\n      description: The body of the request send to the authorization service\n      required: true\n",
			"canonicalURL": "/gitlab.com/commonground/nlx/nlx@fc301d2a402ef311662f8a272b2616bf8c8d3967/-/blob/inway/authorization-interface.yaml",
			"externalURLs": [
				{
					"url": "https://gitlab.com/commonground/nlx/nlx/blob/fc301d2a402ef311662f8a272b2616bf8c8d3967/inway/authorization-interface.yaml",
					"serviceKind": "GITLAB"
				}
			]
		}
	}
}