{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/snok/drf-openapi-tester"
		},
		"file": {
			"name": "fatture-e-corrispettivi.yaml",
			"size": 0,
			"path": "tests/schemas/sample-schemas/external-apis/fatture-e-corrispettivi.yaml",
			"byteSize": 15919,
			"content": "openapi: 3.0.0\ninfo:\n  title: API REST Dispositivi\n  version: '3.0'\n  x-summary: \u003e\n    API per l'utilizzo dei servizi di gestione e trasmissione dei Corrispettivi.\n  description: |\n    API per l'utilizzo dei servizi di gestione e trasmissione dei Corrispettivi\n    dei Registratori Telematici.\n\n    ## Uso della firma XML\n\n    Dove è utilizzato il termine `file firmato` si fa riferimento ad un file in\n    formato xml firmato con Xml Signature conforme ad uno specifico elemento di\n    uno schema xml dove l'elemento `Signature` contiene la firma XML.\n\n    La definizione del formato della firma XML si trova in [xmldsig-core].\n\n    La firma XML è profilata per facilitare l'interoperabilità, in particolare:\n\n    - all'interno dell'elemento `Signature` non è presente l'elemento opzionale\n    `Object`\n\n    - all'interno dell'elemento `SignedInfo` è presente un unico elemento\n    `Reference` che identifica l'intero documento ( `URI=\"\"` )\n\n    - viene utilizzato unicamente l'algoritmo di canonicalizzazione\n    `http://www.w3.org/TR/2001/REC-xml-c14n-20010315` come definito in [xml-c14n]\n\n\n    - viene utilizzato unicamente l'algoritmo di firma\n    `http://www.w3.org/2001/04/xmldsig-more#rsa-sha256` come definito in\n    [xmldsig-core]\n\n    - viene utilizzato unicamente l'algoritmo di hash\n    `http://www.w3.org/2001/04/xmlenc#sha256` come definito in [xmlenc-core]\n\n    - la trasformazione da applicare in fase di generazione della firma è quella\n    definita in [xmldsig-core] come\n    `http://www.w3.org/2000/09/xmldsig#envelopedsignature`\n\n    - l'elemento `KeyInfo` contiene unicamente il certificato della chiave di\n    firma\n\n    ## Allegati\n\n    Allegato [CodeList]\n\n    Schema [CorrispettiviMessaggiTypes_v1.0.xsd]\n\n    Specifiche originali su sito Agenzia Entrate [apirest-corrispettivi-dispositivi.yaml]\n\n    [//]: # (Riferimenti e URL)\n\n    [apirest-corrispettivi-dispositivi.yaml]: https://www.agenziaentrate.gov.it/portale/documents/20143/288260/APIREST+Corrispettivi+dispositivi+yaml_apirest-corrispettivi-dispositivi.yaml/54bdbe7c-c94d-ad7b-a42d-dd9ac48093eb\n    [xmldsig-core]: http://www.w3.org/TR/xmldsig-core/\n    [xml-c14n]: http://www.w3.org/TR/xml-c14n\n    [xmlenc-core]: http://www.w3.org/TR/xmlenc-core/\n    [CodeList]: https://www.agenziaentrate.gov.it/portale/documents/20143/288260/Allegato-Code-List-V.9.pdf/2013c654-150f-4ad2-1d9c-8f6c0f613b55\n    [CorrispettiviMessaggiTypes_v1.0.xsd]: https://www.agenziaentrate.gov.it/portale/documents/20143/343766/Provvedimento+28102016+trasmissione+telematica+corrispettivi_CorrispettiviMessaggiTypes_v1.0.xsd/2569977c-7b34-85c9-b598-191e3e605887\n\n  x-api-id: FIXME\n  contact:\n    url: https://www.agenziaentrate.gov.it/portale/Schede/Comunicazioni/Fatture+e+corrispettivi/Fatture+e+corrispettivi+ST/ST+invio+corrispettivi+Registratori+Telematici+temp/\n    name: Agenzia delle Entrate\n\nservers:\n  - url: 'https://api.corrispettivi.agenziaentrate.gov.it/v1'\n    description: Produzione\nexternalDocs:\n  url: \u003e-\n    https://www.agenziaentrate.gov.it/portale/Schede/Comunicazioni/Fatture+e+corrispettivi/Fatture+e+corrispettivi+ST/ST+invio+corrispettivi+Registratori+Telematici+temp/\n  description: Documentazione ufficiale sul sito di Agenzia delle Entrate.\nx-commons:\n  common-responses: \u0026common-responses\n    '403':\n      description: Dispositivo non autorizzato alla richiesta\n    '429':\n      description: Superato il numero massimo di chiamate nell'unità di tempo\n    default:\n      description: Errore non previsto\npaths:\n  /dispositivi/:\n    post:\n      summary: Richiesta generazione del certificato per il dispositivo.\n      description: |\n        Richiede il certificato del dispositivo ed effettua il suo censimento,\n        per l'invio è necessario inviare un file firmato conforme all'elemento\n        `RichiestaCertificatoDispositivo` dello schema XSD\n        `CorrispettiviMessaggiType_1.0.xsd`.\n\n\n        Per ottenere il certificato è necessario richiamare il servizio fino\n        alla restituzione del codice http 201 ed il certificato in formato\n        X.509.\n\n\n        In caso di errore fare riferimento alla Tabella 1 dell'`Allegato  - `\n        [Code List].\n\n        Assicurarsi che i valori relativi al content-type siano conformi a quanto previsto:\n        * consumes: - application/xml\n        * produces: - application/xml\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/RichiestaCertificatoDispositivo'\n        description: certificato dispositivo\n        required: true\n      responses:\n        \u003c\u003c: *common-responses\n        '201':\n          description: |\n            Generazione certificato completata.\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoRichiestaCertificatoDispositivo'\n        '202':\n          description: |\n            Generazione certificato in corso.\n        '406':\n          description: Parametri di input non validi\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoRichiestaCertificatoDispositivoErrore'\n        '409':\n          description: Certificato già censito\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoRichiestaCertificatoDispositivoErrore'\n\n    put:\n      summary: Attivazione del dispositivo.\n      description: |\n        Attiva il dispositivo associandolo al gestore, con il dettaglio del\n        verificatore che ha effettuato l'operazione.\n\n        Il file è un xml firmato col certificato del dispositivo e conforme\n        all'elemento `AttivaDispositivo` dello schema XSD\n        `CorrispettiviMessaggiType_1.0.xsd`.\n\n\n        In caso di errore fare riferimento alla Tabella 2\n        dell'[Allegato  - Code List]().\n\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/AttivaDispositivo'\n        description: dati attivazione\n        required: true\n      responses:\n        \u003c\u003c: *common-responses\n        '200':\n          description: |\n            Attivazione eseguita.\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazione'\n        '406':\n          $ref: '#/components/responses/406OperazioneNonValida'\n        '409':\n          description: Dispositivo non attivabile\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazione409'\n\n  /dispositivi/corrispettivi/:\n    post:\n      summary: Invio dei corrispettivi.\n      description: \u003e\n        Trasmette un file xml firmato con il certificato di firma del\n        dispositivo conforme all'elemento `DatiCorrispettivi` dello schema XSD\n        `CorrispettiviType_1.0.xsd`.\n\n\n        In caso di errore fare riferimento alla Tabella 3 dell'[Allegato  - Code List]().\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              type: string\n              format: binary\n              description: \u003e\n                File xml firmato con il certificato del dispositovo conforme\n                all'elemento `DatiCorrispettivi` dello schema\n                `CorrispettiviMessaggiType_1.0.xsd` contenente l'identificativo\n                operazione\n        required: true\n      responses:\n        '200':\n          description: |\n            Trasmissione eseguita.\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazione'\n        '406':\n          $ref: '#/components/responses/406OperazioneNonValida'\n        '409':\n          $ref: '#/components/responses/409DispositivoNonValido'\n        \u003c\u003c: *common-responses\n\n  /dispositivi/datifatture/:\n    post:\n      summary: Invio i dati delle fatture.\n      description: |\n        Trasmette un file xml firmato con il certificato di firma del\n        dispositivo conforme all'elemento `DatiFattura` dello schema XSD\n        `DatiFattura_v1.0.xsd`.\n\n\n        In caso di errore fare riferimento alla Tabella 4 dell'\n        [Allegato  - Code List]().\n      responses:\n        '200':\n          description: |\n            Trasmissione eseguita.\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazione'\n        '406':\n          $ref: '#/components/responses/406OperazioneNonValida'\n        '409':\n          $ref: '#/components/responses/409DispositivoNonValido'\n        \u003c\u003c: *common-responses\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/EsitoOperazioneBody'\n        required: true\n  /dispositivi/scontrini/:\n    post:\n      summary: Invio gli scontrini parlanti.\n      description: \u003e\n        Trasmette un file xml firmato con il certificato di firma del\n        dispositivo conforme all'elemento `Scontrino` dello schema XSD\n        `ScontriniType_v1.0.xsd`.\n\n\n        In caso di errore fare riferimento alla Tabella 5 dell' [Allegato  - Code List]().\n\n      responses:\n        '200':\n          description: |\n            Trasmissione eseguita.\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazione'\n        '406':\n          $ref: '#/components/responses/406OperazioneNonValida'\n        '409':\n          $ref: '#/components/responses/409DispositivoNonValido'\n        \u003c\u003c: *common-responses\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/Scontrino'\n        required: true\n  /dispositivi/evento/:\n    put:\n      summary: Invio di un evento da parte del dispositivo.\n      description: |\n        Invia un evento che modifica lo stato del dispositivo (i.e. guasto o\n        disattivazione).\n\n        Per i codici relativi alle tipologie di evento fare riferimento alla\n        Tabella 6 dell'`Allegato  - Code List`.\n\n        Per specificare il dettaglio dell'evento segnalato fare riferimento alla\n        Tabella 7 dell'`Allegato  - Code List`.\n\n        In caso di errore fare riferimento alla Tabella 8 dell'`Allegato  - Code\n        List`.\n\n      responses:\n        \u003c\u003c: *common-responses\n        '200':\n          description: anomalia registrata\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/EsitoOperazioneErrore'\n        '409':\n          $ref: '#/components/responses/409DispositivoNonValido'\n      requestBody:\n        content:\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/EventoDispositivo'\n        required: true\n\ncomponents:\n  responses:\n    406OperazioneNonValida:\n      description: Parametri di input non validi\n      content:\n        application/xml:\n          schema:\n            $ref: '#/components/schemas/EsitoOperazioneErrore'\n    409DispositivoNonValido:\n      description: Dispositivo non valido\n      content:\n        application/xml:\n          schema:\n            $ref: '#/components/schemas/EsitoOperazione409'\n\n  schemas:\n    EventoDispositivo:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n\n      type: string\n      format: binary\n      description: \u003e\n        File xml firmato con il certificato del dispositovo conforme\n        all'elemento `EventoDispositivo` dello schema\n        `CorrispettiviMessaggiType_1.0.xsd` contenente l'identificativo\n        operazione\n\n    AttivaDispositivo:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n      type: string\n      format: binary\n      description: \u003e\n        File xml firmato con il certificato del dispositovo conforme\n        all'elemento `AttivaDispositivo` dello schema XSD\n        `CorrispettiviMessaggiType_1.0.xsd`\n\n    Scontrino:\n      x-todo: url di ScontriniType_v1.0.xsd\n      type: string\n      format: binary\n      description: \u003e\n        File xml firmato con il certificato del dispositovo conforme\n        all'elemento `Scontrino` dello schema `ScontriniType_v1.0.xsd`\n        contenente l'identificativo operazione\n\n    EsitoRichiestaCertificatoDispositivo:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n      type: string\n      format: binary\n      description: \u003e\n        Restituisce un file xml firmato con il certificato del sistema\n        conforme all'elemento `EsitoRichiestaCertificatoDispositivo`\n        dello schema `CorrispettiviMessaggiType_1.0.xsd` contenente\n        l'identificativo operazione e il certificato X.509\n\n    EsitoRichiestaCertificatoDispositivoErrore:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n      type: string\n      format: binary\n      description: \u003e\n        Restituisce un file xml firmato con il certificato del sistema\n        conforme all'elemento `EsitoRichiestaCertificatoDispositivo`\n        dello schema `CorrispettiviMessaggiType_1.0.xsd` contenente il\n        dettaglio degli errori riscontrati\n\n    EsitoOperazione:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n\n      type: string\n      format: binary\n      description: \u003e\n        Il file xml resituito è firmato con il certificato del sistema\n        e conforme all'elemento `EsitoOperazione` dello schema\n        `CorrispettiviMessaggiType_1.0.xsd` contenente\n        l'identificativo dell'operazione\n\n    EsitoOperazioneBody:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n\n      type: string\n      format: binary\n      description: \u003e\n        File xml firmato con il certificato del dispositovo conforme\n        all'elemento `EsitoOperazione` dello schema\n        `CorrispettiviMessaggiType_1.0.xsd` contenente l'identificativo\n        operazione\n\n\n    EsitoOperazioneErrore:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n\n      type: string\n      format: binary\n      description: \u003e\n        Il file xml resituito è firmato con il certificato del sistema\n        e conforme all'elemento `EsitoOperazione` dello schema\n        `CorrispettiviMessaggiType_1.0.xsd` contenente il dettaglio\n        degli errori riscontrati\n\n    EsitoOperazione409:\n      externalDocs:\n        description: |\n          Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n      x-comment: |\n        nello yaml di AdE questa descrizione è associata ad un http status\n        code 409. La `description` però non indica la presenza di errori:\n        è corretto?\n\n      type: string\n      format: binary\n      description: \u003e\n        Il file xml resituito è firmato con il certificato del sistema\n        e conforme all'elemento `EsitoOperazione` dello schema\n        `CorrispettiviMessaggiType_1.0.xsd` contenente\n        l'identificativo dell'operazione\n\n    RichiestaCertificatoDispositivo:\n      externalDocs:\n        description: |\n            Corrispettivi Messaggi - xsd\n        url: CorrispettiviMessaggiTypes_v1.0.xsd\n\n      type: string\n      format: binary\n      description: \u003e\n        File xml conforme all'elemento `RichiestaCertificatoDispositivo`\n        dello schema XSD `CorrispettiviMessaggiType_1.0.xsd` firmato\n        utilizzando la XML Signature con il certificato di firma del\n        produttore e contenente la CSR (Certificate Signing Request). La\n        CSR dovrà avere nel CN l'identificativo univoco del dispositivo\n",
			"canonicalURL": "/github.com/snok/drf-openapi-tester@758f49b75e1c994a718394ef5790a717ef69f571/-/blob/tests/schemas/sample-schemas/external-apis/fatture-e-corrispettivi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/snok/drf-openapi-tester/blob/758f49b75e1c994a718394ef5790a717ef69f571/tests/schemas/sample-schemas/external-apis/fatture-e-corrispettivi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}