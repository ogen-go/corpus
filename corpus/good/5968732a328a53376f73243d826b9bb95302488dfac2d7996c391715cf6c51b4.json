{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/BiBiServ/bibigrid"
		},
		"file": {
			"name": "openapi.json",
			"size": 0,
			"path": "bibigrid-light-rest-4j/src/main/resources/config/openapi.json",
			"byteSize": 20588,
			"content": "{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"version\": \"1.0.0\",\n    \"title\": \"Bibigrid\",\n    \"description\": \"Specification for REST-API of bibigrid cluster management.\",\n    \"license\": {\n      \"name\": \"Apache License 2.0\"\n    }\n  },\n  \"paths\": {\n    \"/bibigrid/list\": {\n      \"get\": {\n        \"summary\": \"List all running clusters\",\n        \"operationId\": \"listRunningClusters\",\n        \"requestBody\": {\n          \"description\": \"YAML like configuration object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Authorization\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"info\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/bibigrid/scale/{id}\": {\n      \"post\": {\n        \"summary\": \"Scale a cluster up/down\",\n        \"operationId\": \"scaleCluster\",\n        \"parameters\": [\n          {\n            \"name\": \"id\",\n            \"in\": \"path\",\n            \"required\": true,\n            \"description\": \"The id of cluster to terminate\",\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"requestBody\": {\n          \"description\": \"YAML like configuration object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/ScaleCluster\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"info\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/bibigrid/create\": {\n      \"post\": {\n        \"summary\": \"Create a bibigrid cluster\",\n        \"operationId\": \"createClusterByConfig\",\n        \"requestBody\": {\n          \"description\": \"YAML like configuration object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/ClusterConfiguration\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/bibigrid/validate\": {\n      \"post\": {\n        \"summary\": \"Validate a cluster config\",\n        \"operationId\": \"validateClusterConfig\",\n        \"requestBody\": {\n          \"description\": \"YAML like configuration object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/ClusterConfiguration\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"is_valid\": {\n                      \"type\": \"boolean\"\n                    },\n                    \"info\": {\n                      \"type\": \"string\"\n                    }\n                  },\n                  \"example\": {\n                    \"is_valid\": false,\n                    \"info\": \"missing key\"\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/bibigrid/info/{id}\": {\n      \"get\": {\n        \"summary\": \"Check the status of the cluster creation process\",\n        \"operationId\": \"checkClusterCreationStatus\",\n        \"parameters\": [\n          {\n            \"name\": \"id\",\n            \"in\": \"path\",\n            \"required\": true,\n            \"description\": \"The id of cluster to get information about\",\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"requestBody\": {\n          \"description\": \"YAML like access object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Authorization\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"info\": {\n                      \"type\": \"string\",\n                      \"example\": \"Am Hochfahren\"\n                    },\n                    \"log\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/bibigrid/terminate/{id}\": {\n      \"delete\": {\n        \"summary\": \"End a cluster\",\n        \"operationId\": \"terminateCluster\",\n        \"parameters\": [\n          {\n            \"name\": \"id\",\n            \"in\": \"path\",\n            \"required\": true,\n            \"description\": \"The id of cluster to terminate\",\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          }\n        ],\n        \"requestBody\": {\n          \"description\": \"YAML like access object\",\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/Authorization\"\n              }\n            }\n          }\n        },\n        \"tags\": [\n          \"cluster\"\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Expected response to a valid request\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"info\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"default\": {\n            \"description\": \"unexpected error\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"Error\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"message\"\n        ],\n        \"properties\": {\n          \"message\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"ScaleCluster\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"mode\": {\n            \"type\": \"string\",\n            \"example\": \"openstack\",\n            \"description\": \"Provider mode [optionally aws, googlecloud, azure]\"\n          },\n          \"count\": {\n            \"type\": \"number\",\n            \"description\": \"Counter how many to scale up or down\"\n          },\n          \"batch\": {\n            \"type\": \"number\",\n            \"description\": \"Batch-index of worker-set\"\n          },\n          \"scaling\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"scale-up\",\n              \"scale-down\",\n              \"sd\",\n              \"su\"\n            ]\n          }\n        }\n      },\n      \"ClusterConfiguration\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"mode\": {\n            \"type\": \"string\",\n            \"example\": \"openstack\",\n            \"description\": \"Provider mode [optionally aws, googlecloud, azure]\"\n          },\n          \"user\": {\n            \"type\": \"string\",\n            \"description\": \"SSH user name, default is \\\"ubuntu\\\"\"\n          },\n          \"sshUser\": {\n            \"type\": \"string\",\n            \"description\": \"SSH user name, default is \\\"ubuntu\\\"\"\n          },\n          \"sshPublicKeys\": {\n            \"type\": \"array\",\n            \"description\": \"Optional bare public (!) SSH keys\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"subnet\": {\n            \"type\": \"string\",\n            \"example\": \"internalsub\",\n            \"description\": \"name / id of subnet\"\n          },\n          \"region\": {\n            \"type\": \"string\",\n            \"example\": \"Bielefeld\",\n            \"description\": \"Specific region\"\n          },\n          \"availabilityZone\": {\n            \"type\": \"string\",\n            \"description\": \"e.g. default, maintenance, ...\"\n          },\n          \"network\": {\n            \"type\": \"string\",\n            \"description\": \"name / id of network (e.g. 0a217b61-4c67-...)\"\n          },\n          \"ports\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"type\": {\n                \"type\": \"string\",\n                \"enum\": [\n                  \"TCP\",\n                  \"UDP\",\n                  \"ICMP\"\n                ],\n                \"description\": \"Transmission Protocol, Default is TCP (recommended)\"\n              },\n              \"number\": {\n                \"type\": \"integer\",\n                \"description\": \"Port number, (e.g. TCP-Port 80 - HTTP)\"\n              },\n              \"ipRange\": {\n                \"type\": \"string\",\n                \"description\": \"\\\"current\\\" or CIDR mask to restrict access, (e.g. 129.60.50.0/24)\"\n              }\n            }\n          },\n          \"localDNSLookup\": {\n            \"type\": \"boolean\",\n            \"description\": \"Enable local DNS lookup. Creates an entry for and on each host in /etc/hosts. Should only be enabled if no or a malfunction DNS is available.\"\n          },\n          \"masterInstance\": {\n            \"type\": \"object\",\n            \"required\": [\n              \"type\",\n              \"image\"\n            ],\n            \"properties\": {\n              \"type\": {\n                \"type\": \"string\",\n                \"description\": \"Instance Flavor, self-assigned (e.g. m1.small)\"\n              },\n              \"image\": {\n                \"type\": \"string\",\n                \"description\": \"Image ID (e.g. 802e0abe-ac6c-...) or Image name\"\n              }\n            }\n          },\n          \"workerInstances\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"required\": [\n                \"type\",\n                \"image\",\n                \"count\"\n              ],\n              \"type\": \"object\",\n              \"properties\": {\n                \"type\": {\n                  \"type\": \"string\",\n                  \"description\": \"Instance Flavor, self-assigned (e.g. m1.small)\"\n                },\n                \"image\": {\n                  \"type\": \"string\",\n                  \"description\": \"Image ID (e.g. 802e0abe-ac6c-...) or Image name\"\n                },\n                \"count\": {\n                  \"type\": \"integer\",\n                  \"description\": \"Number of Worker Instances\"\n                }\n              }\n            }\n          },\n          \"useMasterAsCompute\": {\n            \"type\": \"boolean\",\n            \"description\": \"Use master as compute instance, Default is no\"\n          },\n          \"useMasterWithPublicIp\": {\n            \"type\": \"boolean\",\n            \"description\": \"Usage of public IP. Default is yes\"\n          },\n          \"useSpotInstances\": {\n            \"type\": \"boolean\",\n            \"description\": \"Only usable with Google Compute and AWS, offered unused Instances\"\n          },\n          \"slurm\": {\n            \"type\": \"boolean\",\n            \"description\": \"Enable / Disable SLURM Workload Manager. Default is no\"\n          },\n          \"oge\": {\n            \"type\": \"boolean\",\n            \"description\": \"deprecated - supported for Ubuntu 16.04 only. Default is no\"\n          },\n          \"zabbix\": {\n            \"type\": \"boolean\",\n            \"description\": \"Use zabbix monitoring tool. Default is no\"\n          },\n          \"zabbixConf\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"db\": {\n                \"type\": \"string\",\n                \"description\": \"Database name. Default is \\\"zabbix\\\"\"\n              },\n              \"db_user\": {\n                \"type\": \"string\",\n                \"description\": \"User name for Database. Default is \\\"zabbix\\\"\"\n              },\n              \"db_password\": {\n                \"type\": \"string\",\n                \"description\": \"Password of user. Default is \\\"zabbix\\\"\"\n              },\n              \"timezone\": {\n                \"type\": \"string\",\n                \"description\": \"Default is \\\"Europe/Berlin\\\"\"\n              },\n              \"server_name\": {\n                \"type\": \"string\",\n                \"description\": \"Name of Server. Default is \\\"bibigrid\\\"\"\n              },\n              \"admin_password\": {\n                \"type\": \"string\",\n                \"description\": \"Admin password. Default is \\\"bibigrid\\\". Change hardly recommended!\"\n              }\n            }\n          },\n          \"ganglia\": {\n            \"type\": \"boolean\",\n            \"description\": \"deprecated - supported for Ubuntu 16.04 only. Default is no\"\n          },\n          \"nfs\": {\n            \"type\": \"boolean\",\n            \"description\": \"Enable / Disable Network File System, Default is yes\"\n          },\n          \"nfsShares\": {\n            \"description\": \"Shared File Systems\",\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"description\": \"Path to File System, e.g. \\\"/vol/spool\\\" as Default Shared File System\"\n            }\n          },\n          \"extNfsShares\": {\n            \"description\": \"Uses external Shared File Systems\",\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source\": {\n                  \"type\": \"string\",\n                  \"description\": \"IP address of external File System\"\n                },\n                \"target\": {\n                  \"type\": \"string\",\n                  \"description\": \"Path to File System, e.g. /path/to/filesystem\"\n                }\n              }\n            }\n          },\n          \"masterMounts\": {\n            \"description\": \"Mount volumes to master node, e.g.\",\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source\": {\n                  \"type\": \"string\",\n                  \"description\": \"ec200b48-1b13-4124-... - Volume id\"\n                },\n                \"target\": {\n                  \"type\": \"string\",\n                  \"description\": \"/vol/xxx - Volume path (example volume 'xxx' in /vol/ directory)\"\n                }\n              }\n            }\n          },\n          \"localFS\": {\n            \"type\": \"string\",\n            \"enum\": [\n              \"EXT2\",\n              \"EXT3\",\n              \"EXT4\",\n              \"XFS\"\n            ],\n            \"description\": \"Local FileSystem. Default is XF\"\n          },\n          \"ansibleRoles\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\",\n                  \"description\": \"Name of role, used only as description in config file\"\n                },\n                \"hosts\": {\n                  \"type\": \"string\",\n                  \"description\": \"One of 'master', 'workers' or 'all' to roll out ansible roles to specified hosts\"\n                },\n                \"file\": {\n                  \"type\": \"string\",\n                  \"description\": \"path/to/file.tar.gz - File on local machine\"\n                },\n                \"vars\": {\n                  \"type\": \"object\",\n                  \"additionalProperties\": {\n                    \"type\": \"string\"\n                  },\n                  \"description\": \"Environment variables, if default configuration is not the preferred option\"\n                }\n              }\n            }\n          },\n          \"ansibleGalaxyRoles\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\",\n                  \"description\": \"Name of role, used to redefine role name\"\n                },\n                \"hosts\": {\n                  \"type\": \"string\",\n                  \"description\": \"One of 'master', 'workers' or 'all' to roll out ansible roles to specified hosts\"\n                },\n                \"galaxy\": {\n                  \"type\": \"string\",\n                  \"description\": \"Galaxy name of role like 'author.rolename'\"\n                },\n                \"git\": {\n                  \"type\": \"string\",\n                  \"description\": \"GitHub role repository like 'https://github.com/bennojoy/nginx'\"\n                },\n                \"url\": {\n                  \"type\": \"string\",\n                  \"description\": \"Webserver file url like 'https://some.webserver.example.com/files/master.tar.gzpath/to/file.tar.gz'\"\n                },\n                \"vars\": {\n                  \"type\": \"object\",\n                  \"additionalProperties\": {\n                    \"type\": \"string\"\n                  },\n                  \"description\": \"Environment variables, if default configuration is not the preferred option\"\n                }\n              }\n            }\n          },\n          \"theia\": {\n            \"type\": \"boolean\",\n            \"description\": \"Enable / Disable Theia Web IDE, Default is no\"\n          },\n          \"cloud9\": {\n            \"type\": \"boolean\",\n            \"description\": \"deprecated - Enable / Disable Cloud9 Web IDE, Default is no\"\n          },\n          \"workspace\": {\n            \"type\": \"string\",\n            \"description\": \"Configure IDE workspace path, Default is \\\"~/\\\"\"\n          },\n          \"debugRequests\": {\n            \"type\": \"boolean\",\n            \"description\": \"Provides debug information. Default is no\"\n          }\n        }\n      },\n      \"Authorization\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"mode\": {\n            \"type\": \"string\",\n            \"example\": \"openstack\",\n            \"description\": \"Provider mode [optionally aws, googlecloud, azure]\"\n          }\n        }\n      }\n    }\n  }\n}",
			"canonicalURL": "/github.com/BiBiServ/bibigrid@9c459ab78513ca36b9b6a6338f11775e706dfa95/-/blob/bibigrid-light-rest-4j/src/main/resources/config/openapi.json",
			"externalURLs": [
				{
					"url": "https://github.com/BiBiServ/bibigrid/blob/9c459ab78513ca36b9b6a6338f11775e706dfa95/bibigrid-light-rest-4j/src/main/resources/config/openapi.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}