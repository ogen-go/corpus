{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "gitlab.com/commonground/nlx/nlx"
		},
		"file": {
			"name": "authorization-interface.yaml",
			"size": 0,
			"path": "outway/authorization-interface.yaml",
			"byteSize": 2852,
			"content": "openapi: 3.0.0\ninfo:\n  description: |\n    The Outway has the option to configure a authorization service. Once configured, the requests going through the Outway will be authorized by this authorization service.\n    In order to enable communication between the Outway and their authorization service, each organization is required to implement the interface described in this specification on their authorization service.\n  version: \"1.0.0\"\n  title: Authorization\npaths:\n  /:\n    post:\n      summary: Authorization request\n      parameters:\n        - in: header\n          name: X-NLX-Authorization\n          description: Request header contains the credentials to authenticate a user agent to the Outway. This header will be stripped\n          schema:\n            type: string\n        - in: header\n          name: Proxy-Authorization\n          description: Request header contains the credentials to authenticate a user agent to the Outway. This header will be stripped\n          schema:\n            type: string\n      responses:\n        200:\n          description: The authorization request has been handled successfully. This does not mean the request is authorized, it means that the request has been processed successfully\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthorizationResponse\"\n      requestBody:\n        $ref: \"#/components/requestBodies/AuthorizationRequest\"\ncomponents:\n  schemas:\n    AuthorizationRequest:\n      type: object\n      properties:\n        input:\n          type: object\n          properties:\n            headers:\n              type: object\n              additionalProperties:\n                type: array\n                items:\n                  type: string\n              description: Contains the HTTP-headers of the request made to the Outway\n            path:\n              type: string\n              description: path of the request to the Outway\n            organization_serial_number:\n              type: string\n              description: organization serial number targeted by the request send to the Outway\n            service:\n              type: string\n              description: service targeted by the request send to the Outway\n    AuthorizationResponse:\n      type: object\n      properties:\n        result:\n          type: boolean\n          description: true if the request is authorized. The Outway will continue to send the request to the targeted service. false when the authorization has failed for whatever reason. The Outway will return a 401 to the requesting client.\n  requestBodies:\n    AuthorizationRequest:\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/AuthorizationRequest\"\n      description: The body of the request send to the authorization service\n      required: true\n",
			"canonicalURL": "/gitlab.com/commonground/nlx/nlx@fc301d2a402ef311662f8a272b2616bf8c8d3967/-/blob/outway/authorization-interface.yaml",
			"externalURLs": [
				{
					"url": "https://gitlab.com/commonground/nlx/nlx/blob/fc301d2a402ef311662f8a272b2616bf8c8d3967/outway/authorization-interface.yaml",
					"serviceKind": "GITLAB"
				}
			]
		}
	}
}