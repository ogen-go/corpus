{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/minvws/nl-covid19-coronacheck-app-coordination"
		},
		"file": {
			"name": "holder.yaml",
			"size": 0,
			"path": "architecture/api/bff/holder.yaml",
			"byteSize": 8207,
			"content": "openapi: 3.0.0\r\nservers:\r\n  - url: 'https://holder-api.dev.ccappdev.nl'\r\n  - url: 'https://holder-api.test.coronacheck.nl'\r\n  - url: 'https://holder-api.acc.coronacheck.nl'\r\n  - url: 'https://holder-api.coronacheck.nl'\r\ninfo:\r\n  description: \u003e-\r\n    Holder API\r\n  version: 0.0.1\r\n  title: Holder API\r\npaths:\r\n  /v1/holder/get_test_ism:\r\n    post:\r\n      summary: 'Convert Test Result into a Signed Test Result'\r\n      description: 'Convert Test Result into a Signed Test Result. In CL terms: Take an ICM and return ISM.'\r\n      requestBody:\r\n        required: true\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: \"#/components/schemas/ProofOfTestRequest\"\r\n      responses:\r\n        200:\r\n          description: Success\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/ProofOfTestResponse\"\r\n  /v1/holder/nonce:\r\n    get:\r\n      summary: 'Get nonce and stoken for use in communication.'\r\n      description: 'Get nonce and stoken for use in communication.'\r\n      responses:\r\n        200:\r\n          description: Success\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/GetNonceResponse\"\r\n  /v1/holder/config:\r\n    get:\r\n      summary: 'Application Configuration'\r\n      description: 'Application Configuration'\r\n      responses:\r\n        200:\r\n          description: Success (payload `ConfigResponse`)\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/SignedDataWrapper\"\r\n  /v1/holder/config_ctp:\r\n    get:\r\n      summary: 'Corona Test Provider configuration'\r\n      description: 'API Provides valid endpoints for the app to fetch test results from Corona Test Providers'\r\n      responses:\r\n        200:\r\n          description: Success (payload `ConfigCtpResponse`)\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/SignedDataWrapper\"\r\n  /v1/holder/public_keys:\r\n    get:\r\n      summary: 'Get all public keys used to create CL signatures'\r\n      description: 'Get all public keys used to create CL signatures'\r\n      responses:\r\n        200:\r\n          description: Success (payload `PublicKeysResponse`)\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/SignedDataWrapper\"\r\n  /v1/holder/test_types:\r\n    get:\r\n      summary: 'Get all test types'\r\n      description: 'Get all test types'\r\n      responses:\r\n        200:\r\n          description: Success (payload `TestTypesResponse`)\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: \"#/components/schemas/SignedDataWrapper\"\r\ncomponents:\r\n  schemas:\r\n    SignedDataWrapper:\r\n      type: object\r\n      description: Standard response wrapper\r\n      properties:\r\n        payload:\r\n          description: json response encoded as base64 string\r\n          type: string\r\n          format: byte\r\n          nullable: false\r\n        signature:\r\n          description: CMS/PKCS#7 signature over payload bytes\r\n          type: string\r\n          format: byte\r\n          nullable: false\r\n    ProofOfTestRequest:\r\n      type: object\r\n      properties:\r\n        stoken:\r\n          type: string\r\n          nullable: false\r\n        test:\r\n          type: object\r\n          nullable: false\r\n          properties:\r\n            payload:\r\n              type: string\r\n              nullable: false\r\n            signature:\r\n              type: string\r\n              nullable: false\r\n        icm:\r\n          type: string\r\n          format: byte\r\n          description: Base64 serialized JSON which is in the format specified by Icm\r\n    ProofOfTestResponse:\r\n      type: object\r\n      properties:\r\n        ism:\r\n          $ref: \"#/components/schemas/Ism\"\r\n        attributes:\r\n          $ref: \"#/components/schemas/IsmAttributes\"\r\n    Icm:\r\n      type: object\r\n      properties:\r\n        n_2:\r\n          type: string\r\n          format: byte\r\n        combinedProofs:\r\n          $ref: \"#/components/schemas/CombinedProof\"     \r\n    CombinedProof:\r\n      type: object\r\n      properties:\r\n        U:\r\n          type: string\r\n          format: byte     \r\n        c:\r\n          type: string\r\n          format: byte \r\n        v_prime_response:\r\n          type: string\r\n          format: byte \r\n        s_response:\r\n          type: string\r\n          format: byte           \r\n    Ism:\r\n      type: object\r\n      properties:\r\n        proof:\r\n          $ref: \"#/components/schemas/IsmProof\"\r\n        signature:\r\n          nullable: false\r\n    IsmProof:\r\n      type: object\r\n      properties:\r\n        c:\r\n          type: string\r\n        e_response:\r\n          type: string\r\n    IsmAttributes:\r\n      type: object\r\n      properties:\r\n        sampleTime:\r\n          type: string\r\n          nullable: false\r\n        testType:\r\n          type: string\r\n          nullable: false\r\n    GetNonceResponse:\r\n      type: object\r\n      properties:\r\n        nonce:\r\n          type: string\r\n          format: byte\r\n        stoken:\r\n          type: string\r\n    ConfigResponse:\r\n      type: object\r\n      properties:\r\n        androidMinimumVersion:\r\n          type: integer\r\n          format: int64\r\n          example: 1\r\n        androidMinimumVersionMessage:\r\n          type: string\r\n          nullable: false\r\n          example:  \"Om de app te gebruiken heb je de laatste versie uit de store nodig.\"\r\n        playStoreURL:\r\n          type: string\r\n          nullable: false\r\n          example: \"https://www.google.com\"\r\n        iosMinimumVersion:\r\n          type: string\r\n          nullable: false\r\n          example: \"1.0.0\"\r\n        iosMinimumVersionMessage:\r\n          type: string\r\n          nullable: false\r\n          example: \"1.0.0\"\r\n        iosAppStoreURL:\r\n          type: string\r\n          nullable: false\r\n          example: \"https://apps.apple.com/nl/app/id1548269870\"\r\n        configTTL:\r\n          type: integer\r\n          example: 864000\r\n        appDeactivated:\r\n          type: boolean\r\n          example: false\r\n        informationURL:\r\n          type: string\r\n          nullable: false\r\n          example: \"https://coronacheck.nl\"\r\n    ConfigCtpResponse:\r\n      type: object\r\n      properties:\r\n        corona_test_providers:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/CoronaTestProvider'\r\n    CoronaTestProvider:\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n          description: Market name for the test provider (will be shown to the users)\r\n          example: 'Fake Test Provider'\r\n        provider_identifier:\r\n          type: string\r\n          description: Unique idenfier for the provider\r\n          example: 'ABC'\r\n        result_url:\r\n          type: string\r\n          description: URI to the providers get_rest_results endpoint.\r\n          example: 'https://www.example.com/get_test_result'\r\n        public_key:\r\n          type: string\r\n          format: byte\r\n          description: SSL certificate encoded as a base64 string.\r\n        ssl_cert:\r\n          type: string\r\n          format: byte\r\n          description: SSL certificate encoded as a base64 string.\r\n    TestTypesResponse:\r\n      type: object\r\n      properties:\r\n        test_types:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/TestType'\r\n    TestType:\r\n      type: object\r\n      properties:\r\n        name:\r\n          type: string\r\n          example: 'PCR'\r\n          description: Human readable test type.\r\n        uuid:\r\n          type: string\r\n          example: 'pcr'\r\n          description: Unique identifier for the test type.\r\n    PublicKeysResponse:\r\n      type: object\r\n      properties:\r\n        cl_keys:\r\n          type: array\r\n          items:\r\n            $ref: '#/components/schemas/ClPublicKey'\r\n    ClPublicKey:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n          example: \"VWS-TEST-0\"\r\n        public_key:\r\n          type: string\r\n          format: byte\r\n          example: \"s057xYcgZ1rKmdKaU25p6m0uDN6tSfgxL1aQIF1h3g=\"",
			"canonicalURL": "/github.com/minvws/nl-covid19-coronacheck-app-coordination@32b238fef43bda53b229a74ba3cfbd918d82e0a7/-/blob/architecture/api/bff/holder.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/minvws/nl-covid19-coronacheck-app-coordination/blob/32b238fef43bda53b229a74ba3cfbd918d82e0a7/architecture/api/bff/holder.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}