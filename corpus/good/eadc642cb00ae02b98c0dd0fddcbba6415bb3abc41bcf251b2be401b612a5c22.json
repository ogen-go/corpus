{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Path-Check/safeplaces-ct-backend"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 14515,
			"content": "openapi: 3.0.0\ninfo:\n  title: SafePlaces Backend API\n  contact: {}\n  version: '1.0'\npaths:\n  /login:\n    post:\n      summary: Returns a JWT to be used in subsequent API requests\n      operationId: Login\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/LoginRequest'\n            example:\n              username: spladmin\n              password: password\n        required: true\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/LoginResponse'\n\n      deprecated: false\n      security: []\n\n  /access-code:\n    post:\n      summary: Returns an access code to be used when uploading points of concern data to ingest service\n      operationId: AccessCode\n      parameters: []\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AccessCodeResponse'\n      deprecated: false\n\n  /organization:\n    get:\n      summary: Returns information about the logged in user's organization\n      operationId: Organization\n      parameters: []\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OrganizationResponse'\n\n      deprecated: true\n\n  /organization/configuration:\n    put:\n      summary: Returns information about the logged in user's organization\n      operationId: OrganizationConfiguration\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/OrganizationConfigurationRequest'\n        required: true\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OrganizationConfigurationResponse'\n      deprecated: false\n    get:\n      summary: Organization Configuration\n      operationId: GetOrganizationConfiguration\n      parameters: []\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OrganizationConfigurationResponse'\n      deprecated: false\n\n  /organization/cases:\n    get:\n      summary: Returns all cases associated with the organization of the logged in user\n      operationId: OrganizationCases\n      parameters: []\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OrganizationCasesResponse'\n      deprecated: false\n\n  /organization/case:\n    post:\n      summary: Create a new case\n      operationId: CreateCase\n      parameters: []\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/CreateCaseResponse'\n      deprecated: false\n\n  /case:\n    put:\n      summary: Update an existing case\n      operationId: UpdateCase\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UpdateCaseRequest'\n            example:\n              caseId: 1\n              externalId: an_id\n        required: true\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UpdateCaseResponse'\n      deprecated: false\n\n  /case/delete:\n    post:\n      summary: Delete a case\n      operationId: DeleteCase\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/DeleteCaseRequest'\n            example:\n              caseId: 2\n        required: true\n      responses:\n        '200':\n          description: 'Case was successfully deleted'\n          headers: {}\n      deprecated: false\n\n  /case/consent-to-publishing:\n    post:\n      summary: Record user's consent to the publishing of their data\n      operationId: ConsentToPublishing\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ConsentToPublishingRequest'\n            example:\n              caseId: 1\n        required: true\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/UpdateCaseResponse'\n      deprecated: false\n\n  /case/stage:\n    post:\n      summary: Mark a case as ready for review before publishing\n      operationId: StageCase\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/StageCaseRequest'\n            example:\n              caseId: 1\n        required: true\n      responses:\n        '200':\n          description: ''\n          headers: {}\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/StageCaseResponse'\n      deprecated: false\n\n  /cases/publish:\n    post:\n      summary: Select a set a cases whose points of concern will be added to the publicly accessible published data set\n      operationId: PublishCase\n      parameters: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PublishCaseRequest'\n            example:\n              caseIds:\n                - 1\n                - 2\n        required: true\n      responses:\n        '200':\n          description: 'Cases were successfully published'\n          headers: {}\n      deprecated: false\n\ncomponents:\n  schemas:\n    LoginRequest:\n      title: LoginRequest\n      required:\n        - username\n        - password\n      type: object\n      properties:\n        username:\n          type: string\n        password:\n          type: string\n      example:\n        username: spladmin\n        password: password\n\n    LoginResponse:\n      type: object\n      properties:\n        token:\n          type: string\n      example:\n        token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzcGxhZG1pbiIsImlhdCI6MTU5Mjk5NzgzNywiZXhwIjoxNTkzMDMzODM3fQ.uJ2M8qzRT8OaLQVqV8vg5kAy8ylRD10QgeK2z-uRZME\"\n\n    OrganizationResponse:\n      title: OrganizationResponse\n      type: object\n      properties:\n        id:\n          type: integer\n        externalId:\n          type: string\n        name:\n          type: string\n        completedOnboarding:\n          type: boolean\n      example:\n        id: 1\n        name: Health Authority\n        externalId: 1eb7c9ac-e417-4845-a7e3-a74db447ecc7\n        completedOnboarding: true\n\n    OrganizationConfigurationRequest:\n      title: OrganizationConfigurationRequest\n      required:\n        - name\n        - notificationThresholdPercent\n        - notificationThresholdTimeline\n        - daysToRetainRecords\n        - regionCoordinates\n        - apiEndpointUrl\n        - referenceWebsiteUrl\n        - infoWebsiteUrl\n        - completedOnboarding\n        - privacyPolicyUrl\n      type: object\n      properties:\n        name:\n          type: string\n        notificationThresholdPercent:\n          type: integer\n          format: int32\n        notificationThresholdTimeline:\n          type: integer\n          format: int32\n        daysToRetainRecords:\n          type: integer\n          format: int32\n        regionCoordinates:\n          $ref: '#/components/schemas/RegionCoordinates'\n        apiEndpointUrl:\n          type: string\n        referenceWebsiteUrl:\n          type: string\n        infoWebsiteUrl:\n          type: string\n        completedOnboarding:\n          type: boolean\n        privacyPolicyUrl:\n          type: string\n      example:\n        name: Health Authority\n        notificationThresholdPercent: 6\n        notificationThresholdTimeline: 0\n        daysToRetainRecords: 30\n        regionCoordinates:\n          ne:\n            latitude: 21.312764055951195\n            longitude: -21.45445121262883\n          sw:\n            latitude: 21.766025040122642\n            longitude: -21.49442923997258\n        apiEndpointUrl: 'https://s3.aws.com/bucket_name'\n        referenceWebsiteUrl: 'http://nbc.gov'\n        infoWebsiteUrl: 'http://nbc.gov'\n        completedOnboarding: true\n        privacyPolicyUrl: http://test.com\n\n    OrganizationConfigurationResponse:\n      title: OrganizationConfigurationResponse\n      type: object\n      properties:\n        name:\n          type: string\n        notificationThresholdPercent:\n          type: integer\n          format: int32\n        notificationThresholdTimeline:\n          type: integer\n          format: int32\n        daysToRetainRecords:\n          type: integer\n          format: int32\n        regionCoordinates:\n          $ref: '#/components/schemas/RegionCoordinates'\n        apiEndpointUrl:\n          type: string\n        referenceWebsiteUrl:\n          type: string\n        infoWebsiteUrl:\n          type: string\n        completedOnboarding:\n          type: boolean\n        privacyPolicyUrl:\n          type: string\n      example:\n        name: Health Authority\n        notificationThresholdPercent: 6\n        notificationThresholdTimeline: 0\n        daysToRetainRecords: 30\n        regionCoordinates:\n          ne:\n            latitude: 21.312764055951195\n            longitude: -21.45445121262883\n          sw:\n            latitude: 21.766025040122642\n            longitude: -21.49442923997258\n        apiEndpointUrl: 'https://s3.aws.com/bucket_name'\n        referenceWebsiteUrl: 'http://nbc.gov'\n        infoWebsiteUrl: 'http://nbc.gov'\n        completedOnboarding: true\n        privacyPolicyUrl: 'http://test.com'\n        externalId: 'a30ed5ec-b639-11ea-b3de-0242ac130004'\n\n    OrganizationCasesResponse:\n      title: OrganizationCasesResponse\n      type: array\n      items:\n        type: object\n      example:\n        cases:\n          - caseId: 1\n            state: staging\n            updatedAt: \"2020-06-24T11:26:10.416Z\"\n            stagedAt: \"2020-07-24T04:00:00.000Z\"\n            externalId: \"2fee5ac6-e11d-47e4-a89d-8a5a80201710\"\n            contactTracerId: \"a88309ca-26cd-4d2b-8923-af0779e423a3\"\n          - caseId: 2\n            state: unpublished\n            updatedAt: \"2020-06-24T11:26:10.416Z\"\n            stagedAt: null\n            externalId: \"5add5ac6-e11d-47e4-a89d-8a5a8020123\"\n            contactTracerId: \"a88309ca-26cd-4d2b-8923-af0779e423a3\"\n\n    RegionCoordinates:\n      title: RegionCoordinates\n      required:\n        - ne\n        - sw\n      type: object\n      properties:\n        ne:\n          $ref: '#/components/schemas/Ne'\n        sw:\n          $ref: '#/components/schemas/Sw'\n      example:\n        ne:\n          latitude: 21.312764055951195\n          longitude: -21.45445121262883\n        sw:\n          latitude: 21.766025040122642\n          longitude: -21.49442923997258\n\n    Ne:\n      title: Ne\n      required:\n        - latitude\n        - longitude\n      type: object\n      properties:\n        latitude:\n          type: number\n        longitude:\n          type: number\n      example:\n        latitude: 21.312764055951195\n        longitude: -21.45445121262883\n\n    Sw:\n      title: Sw\n      required:\n        - latitude\n        - longitude\n      type: object\n      properties:\n        latitude:\n          type: number\n        longitude:\n          type: number\n      example:\n        latitude: 21.766025040122642\n        longitude: -21.49442923997258\n\n    DeleteCaseRequest:\n      title: DeleteCaseRequest\n      required:\n        - caseId\n      type: object\n      properties:\n        caseId:\n          type: integer\n          format: int32\n      example:\n        caseId: 2\n\n    AccessCodeResponse:\n      title: AccessCodeResponse\n      type: object\n      properties:\n        accessCode:\n          type: string\n      example:\n        accessCode: \"123456\"\n\n    CreateCaseResponse:\n      title: CreateCaseResponse\n      type: object\n      example:\n        caseId: 1\n        state: unpublished\n        updatedAt: \"2020-06-24T11:26:10.416Z\"\n        stagedAt: null\n        externalId: \"2fee5ac6-e11d-47e4-a89d-8a5a80201710\"\n        contactTracerId: \"a88309ca-26cd-4d2b-8923-af0779e423a3\"\n\n    UpdateCaseRequest:\n      title: UpdateCaseRequest\n      required:\n        - caseId\n        - externalId\n      type: object\n      properties:\n        caseId:\n          type: integer\n          format: int32\n        externalId:\n          type: string\n      example:\n        caseId: 1\n        externalId: an_id\n\n    UpdateCaseResponse:\n      title: UpdateCaseResponse\n      type: object\n      example:\n        caseId: 1\n        state: unpublished\n        updatedAt: \"2020-06-24T11:26:10.416Z\"\n        stagedAt: null\n        externalId: an_id\n        contactTracerId: \"a88309ca-26cd-4d2b-8923-af0779e423a3\"\n\n    ConsentToPublishingRequest:\n      title: ConsentToPublishingRequest\n      required:\n        - caseId\n      type: object\n      properties:\n        caseId:\n          type: integer\n          format: int32\n      example:\n        caseId: 1\n\n    StageCaseRequest:\n      title: StageCaseRequest\n      required:\n        - caseId\n      type: object\n      properties:\n        caseId:\n          type: integer\n          format: int32\n      example:\n        caseId: 1\n\n    StageCaseResponse:\n      title: UpdateCaseResponse\n      type: object\n      example:\n        caseId: 1\n        state: staging\n        updatedAt: \"2020-06-24T11:26:10.416Z\"\n        stagedAt: \"2020-06-24T11:26:10.416Z\"\n        externalId: \"2fee5ac6-e11d-47e4-a89d-8a5a80201710\"\n        contactTracerId: \"a88309ca-26cd-4d2b-8923-af0779e423a3\"\n\n    PublishCaseRequest:\n      title: PublishCaseRequest\n      required:\n        - caseIds\n      type: object\n      properties:\n        caseIds:\n          type: array\n          items:\n            type: integer\n            format: int32\n      example:\n        caseIds:\n          - 1\n          - 2\n\n\n  securitySchemes:\n    httpBearer:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\nsecurity:\n  - httpBearer: []\n",
			"canonicalURL": "/github.com/Path-Check/safeplaces-ct-backend@0253fc06f8f30e56369384032bc58e8a0881bf0d/-/blob/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/Path-Check/safeplaces-ct-backend/blob/0253fc06f8f30e56369384032bc58e8a0881bf0d/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}