{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/intelligent-retail/smart-store"
		},
		"file": {
			"name": "box-service-api.yaml",
			"size": 0,
			"path": "docs/api/box-service-api.yaml",
			"byteSize": 6730,
			"content": "openapi: 3.0.2\ninfo:\n  title: BOX管理API\n  version: 1.0.0\n  description: BOX管理サービスのAPI\n  license:\n    name: MIT license\n    url: https://opensource.org/licenses/mit-license.php\nservers:\n- url: 'https://{functionName}.azurewebsites.net/api/{apiVersion}'\n  description: \"Azure Functions server\"\n  variables:\n    functionName:\n      default: box-api\n    apiVersion:\n      default: v1\n- url: http://localhost:7071/api/{apiVersion}\n  description: \"Local server\"\n  variables:\n    apiVersion:\n      default: v1\npaths:\n  /carts:\n    post:\n      operationId: carts\n      description: Smart Box と スマホアプリのデバイスIDを元にPOSサービスにカート作成を依頼します。\n      summary: カート作成要求\n      requestBody:\n        description: 取引開始要求用のJSON\n        content:\n          'application/json':\n            schema:\n              type: object\n              properties:\n                boxId:\n                  type: string\n                  example: SmartBox1\n                deviceId:\n                  type: string\n                  example: 0D561207-9924-4D64-AF3F-5DED7741EC45\n        required: true\n      responses:\n        201:\n          description: Created\n          content:\n            'application/json':\n              schema:\n                properties:\n                  cartId:\n                    type: string\n                    example: 748D99C-5338-4209-B4CF-4300580F474D\n      security:\n      - api_key: []\n  /carts/{cartId}/bill:\n    get:\n      operationId: cartBill\n      description: POSサービスから精算時のカート情報を取得します。\n      summary: カート状態取得(精算)\n      parameters:\n      - name: cartId\n        in: path\n        description: 取得したいカートID\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: OK\n          content:\n            'application/json':\n              schema:\n                type: object\n                properties:\n                  cart:\n                    $ref: \"#/components/schemas/cart\"\n                  store:\n                    $ref: \"#/components/schemas/store\"\n                  user:\n                    $ref: \"#/components/schemas/user\"\n      security:\n      - api_key: []\n  /carts/{cartId}/items:\n    get:\n      operationId: cartItems\n      description: POSサービスからカート情報を取得します。\n      summary: カート状態取得(明細)\n      parameters:\n      - name: cartId\n        in: path\n        description: 取得したいカートID\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: OK\n          content:\n            'application/json':\n              schema:\n                type: object\n                properties:\n                  cart:\n                    $ref: \"#/components/schemas/cart\"\n                  store:\n                    $ref: \"#/components/schemas/store\"\n                  user:\n                    $ref: \"#/components/schemas/user\"\n      security:\n      - api_key: []\n  /devices/{deviceId}/status/reset:\n    post:\n      operationId: resetBox\n      description: Box管理サービスが保持しているSmart Boxの状態を初期化します。\n      summary: Smart Box 状態初期化\n      parameters:\n      - name: deviceId\n        in: path\n        description: 初期化したいSmart Box Id\n        required: true\n        schema:\n          type: string\n      responses:\n        200:\n          description: OK\n      security:\n      - api_key: []\ncomponents:\n  schemas: \n    store:\n      type: object\n      properties:\n        storeCode:\n          type: string\n          example: 0001\n        storeName:\n          type: string\n          example: テスト店\n        terminalNo:\n          type: integer\n          format: int32\n          example: 1\n    user:\n      type: object\n      properties:\n        userId:\n          type: string\n          example: 000001\n        userName:\n          type: string\n          example: テストユーザ\n    cart:\n      type: object\n      properties:\n        cartId:\n          type: string\n          example: 748D99C-5338-4209-B4CF-4300580F474D\n        totalAmount:\n          type: number\n          format: double\n          example: 1.0\n        subtotalAmount:\n          type: number\n          format: double\n          example: 1.0\n        totalQuantity:\n          type: integer\n          format: int32\n          example: 1\n        depositAmount:\n          type: number\n          format: double\n          example: 1.0\n        changeAmount:\n          type: number\n          format: double\n          example: 1.0\n        balance:\n          type: number\n          format: double\n          example: 1.0\n        receiptNo:\n          type: integer\n          format: int64\n          example: 1\n        receiptText:\n          type: string\n          example: \n        transactionNo:\n          type: integer\n          format: int64\n          example: 1\n        cartStatus:\n          type: string\n          example: 01\n        lineItems:\n          type: array\n          items:\n            $ref: \"#/components/schemas/lineItems\"\n        payments:\n          type: array\n          items:\n            $ref: \"#/components/schemas/payments\"\n        taxes:\n          type: array\n          items:\n            $ref: \"#/components/schemas/taxes\" \n    lineItems:\n      type: object\n      properties:\n        lineNo:\n          type: integer\n          format: int32\n          example: 1\n        itemCode:\n          type: string\n          example: \"49000000000009\"\n        itemName:\n          type: string\n          example: テスト商品\n        unitPrice:\n          type: number\n          format: double\n          example: 1.0\n        quantity:\n          type: integer\n          format: int32\n          example: 1\n        amount:\n          type: number\n          format: double\n          example: 1.0\n    payments:\n      type: object\n      properties:\n        paymentNo:\n          type: integer\n          format: int32\n          example: 1\n        paymentCode:\n          type: string\n          example: 01\n        paymentName:\n          type: string\n          example: 電子マネー\n        paymentAmount:\n          type: number\n          format: double\n          example: 1.0\n    taxes:\n      type: object\n      properties:\n        taxNo:\n          type: integer\n          format: int32\n          example: 1\n        taxName:\n          type: string\n          example: 内税8%\n        taxAmount:\n          type: number\n          format: double\n          example: 1.0\n  securitySchemes:\n    api_key:\n      type: apiKey\n      name: x-functions-key\n      in: header\n",
			"canonicalURL": "/github.com/intelligent-retail/smart-store@eb3afe1fc79309e556ebe0e33316a1035acb3ec6/-/blob/docs/api/box-service-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/intelligent-retail/smart-store/blob/eb3afe1fc79309e556ebe0e33316a1035acb3ec6/docs/api/box-service-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}