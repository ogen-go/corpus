{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/disit/snap4city"
		},
		"file": {
			"name": "userprofiler-openapiv3.yaml",
			"size": 0,
			"path": "swagger/internal/userprofiler-openapiv3.yaml",
			"byteSize": 11793,
			"content": "openapi: 3.0.1\ninfo: \n  title: User Profiler API\n  version: '1.0'\nservers:\n  - url: http://192.168.0.17:8080/userprofiler/api/v1\npaths:\n  /device:\n    get:\n      tags: [User Profiler]\n      summary: Retrieve the listing of the available devices\n      responses:\n        200:\n          $ref: '#/components/responses/summaryOfTheAvailableDevices'\n  /device/{device_id}:\n    get:\n      tags: [User Profiler]\n      summary: Retrieve full details about a given device\n      parameters: \n        - $ref: '#/components/parameters/device_id'          \n      responses:\n        200:\n          $ref: '#/components/responses/detailsOfTheDevice'          \n  /device/{device_id}/trips/aggregated:\n    get:\n      tags: [User Profiler]\n      summary: Retrieve full details about trips and activities related to a given device\n      parameters: \n        - $ref: '#/components/parameters/device_id'          \n      responses:\n        200:\n          $ref: '#/components/responses/tripsAggregated'      \n  /device/{device_id}/location:\n    post:\n      tags: [User Profiler]\n      summary: Post the location of a given device\n      parameters:\n        - $ref: '#/components/parameters/device_id'          \n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              required:\n                - when\n                - profile\n                - terminal_lang\n              properties:\n                when:\n                  type: integer\n                  format: int64\n                profile: \n                  type: string\n                terminal_lang:\n                  type: string\n                lang:\n                  type: string\n                  default: en\n                  example: en\n                latitude:\n                  type: number\n                  format: double\n                longitude:\n                  type: number\n                  format: double\n                mobility_mode:\n                  type: string\n                speed:\n                  type: number\n                  format: double\n                accuracy:\n                  type: number\n                  format: double\n                provider:\n                  type: string\n                meanspeed:\n                  type: number\n                  format: double\n                accmagn:\n                  type: number\n                  format: double\n                accx:\n                  type: number\n                  format: double\n                accy:\n                  type: number\n                  format: double\n                accz:\n                  type: number\n                  format: double\n      responses:\n        200:\n          description: \"Done\"\n  /device/{device_id}/interest:\n    post:\n      tags: [User Profiler]\n      summary: Post the interest for a given device\n      parameters:\n        - $ref: '#/components/parameters/device_id'       \n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              required:\n                - serviceuri\n                - rate\n                - type\n              properties:\n                serviceuri:\n                  type: string\n                  format: uri\n                rate: \n                  type: integer\n                type: \n                  type: string\n                lang:\n                  type: string\n                  default: en\n                  example: en\n      responses:\n        200:\n          description: \"Done\"\ncomponents:\n  parameters:\n    device_id:\n      name: device_id\n      in: path\n      required: true\n      schema:\n        type: string\n      example: \"af97e11488be5af2408ab27ddd90d52ad763b5d4ff1e5f89e6fc378fdf785f75\"    \n  schemas:\n    device:\n      type: object\n      properties:\n        deviceId:\n          type: string\n          example: af97e11488be5af2408ab27ddd90d52ad763b5d4ff1e5f89e6fc378fdf785f75\n        lastUpdate:\n          type: integer\n          format: int64\n          example: 1532102266000\n        currentPositionLat:\n          type: number\n          format: double\n          example: 43.7665\n        currentPositionLong:\n          type: number\n          format: double\n          example: 11.26383\n        currentPositionAccuracy:\n          type: number\n          format: double\n          example: 14.96199\n        terminalAppID:\n          type: string\n          example: tdck-a\n        terminalModel:\n          type: string\n          example: osprey_u2\n        terminalVersion:\n          type: string\n          example: \"4.5.1\"\n        terminalInstallationDate:\n          type: integer\n          format: int64\n          example: 1509370150000\n        terminal_profile:\n          type: string\n          example: citizen\n        terminal_language:\n          type: string\n          example: en\n        isAssessor:\n          type: boolean\n          example: true\n        userActivities:\n          type: object\n          properties:\n            submitted_PHOTOS:\n              type: integer\n              format: int32\n              example: 0\n            executed_ENGAGEMENTS:\n              type: integer\n              format: int32\n              example: 112\n            submitted_STARS:\n              type: integer\n              format: int32\n              example: 21\n            submitted_COMMENTS:\n              type: integer\n              format: int32\n              example: 1\n        ppois:\n          type: array\n          items:\n            type: object\n            properties:\n              id:\n                type: integer\n                format: int32\n                example: 481394\n              latitude:\n                type: number\n                format: double\n                example: 43.76653\n              longitude:\n                type: number\n                format: double\n                example: 11.26389\n              name:\n                type: string\n                example: HOME\n              accuracy:\n                type: number\n                format: double\n                example: 0.999473\n              cpz:\n                type: string\n                example: \"ZCS_1_D\"\n              address:\n                type: string\n                example: LUNGARNO DELLA ZECCA VECCHIA\n              municipality:\n                type: string\n                example: FIRENZE\n              number:\n                type: string\n                example: 30\n              confirmation: \n                type: boolean\n                example: true\n        ppoiPrevious:\n          type: string\n          example: HOME\n        ppoiCurrent:\n          type: string\n          example: HOME\n        ppoiNext:\n          type: object\n          properties:\n            name: \n              type: string\n              example: HOME\n            accuracy:\n              type: number\n              format: double\n              example: 0.0\n            howmany:\n              type: integer\n              format: int32\n              example: 0\n            duration:\n              type: integer\n              format: int32\n              example: 0\n            distance:\n              type: number\n              format: float\n              example: 0.0\n            modality:\n              type: array\n              items:\n                type: string\n        ppoiPreviousHowlong:\n          type: integer\n          format: int32\n          example: 212\n        ppoiPreviousDistance:\n          type: number\n          format: float\n          example: 0.0\n        averageSpeed:\n          type: number\n          format: double\n          example: 0.0\n        timelineCurrent:\n          type: object\n          properties:\n            date:\n              type: integer\n              format: int64\n              example: 1532101489000\n            status:\n              type: string\n              example: Stay\n            seconds:\n              type: integer\n              format: int32\n              example: 777\n            meters:\n              type: integer\n              format: int32\n              example: 122\n            latitude:\n              type: number\n              format: double\n              example: 43.76650\n            longitude:\n              type: number\n              format: double\n              example: 11.26387\n            secondsLabel:\n              type: string\n              example: \"12 min 57 sec \"\n            metersLabel:\n              type: string\n              example: \"122 m \"\n        groups:\n          type: array\n          items:\n            type: string\n            example: \"GROUP_WALLET_REGISTERED\"\n  responses:\n    summaryOfTheAvailableDevices:\n      description: \"Available devices\"\n      content:\n        application/json:\n          schema:\n            type: array\n            items:\n              $ref: '#/components/schemas/device'\n    detailsOfTheDevice:\n      description: \"Full details about the device\"\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/device'   \n    tripsAggregated:\n      description: It returns (a) _ppoisLabel_, the user PPOIs; (b) the movement of the user from a PPOI, in a slot-time, in a day of the week. For each movement, it is indicated how many times it has been observed, its destination, the accuracy, the duration, the distance, and the list of the used modalities (walk, public transport, ...).\n      content:\n        application/json:\n          schema:\n            type: object\n            properties:\n              ppoisLabel:\n                type: array\n                items:\n                  type: string\n                  example: HOME\n              trips:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    from: \n                      type: integer\n                      format: int32\n                      example: 2\n                    slot:\n                      description: \"Allowed values are _0_ (21:00-5:00), _1_ (5:00-10:30), _2_ (10:30-14:00), _3_ (14:00-18:30), _4_ (18:30-21:00).\"\n                      type: integer\n                      format: int32\n                      enum: [0,1,2,3,4]\n                      example: 3\n                    day:\n                      description: Allowed values are _0_ for Sunday, _1_ for Monday, _2_ for Tuesaday, ..., _6_ for Saturday.\n                      type: integer\n                      format: int32\n                      enum: [0, 1, 2, 3, 4, 5, 6]\n                      example: 0\n                    total:\n                      type: integer\n                      format: int32\n                      example: 0\n                    activity:\n                      type: array\n                      items:\n                        type: object\n                        properties:\n                          to:\n                            type: string\n                            example: HOME\n                          accuracy:\n                            type: number\n                            format: double\n                            example: 0.0\n                          howmany:\n                            type: integer\n                            format: int32\n                            example: 0\n                          duration:\n                            type: integer\n                            format: int32\n                            example: 0\n                          distance:\n                            type: number\n                            format: float\n                            example: 0.0\n                          modality:\n                            type: array\n                            items:\n                              type: string",
			"canonicalURL": "/github.com/disit/snap4city@523488172f08a8e700ea3a777117724aac25eb65/-/blob/swagger/internal/userprofiler-openapiv3.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/disit/snap4city/blob/523488172f08a8e700ea3a777117724aac25eb65/swagger/internal/userprofiler-openapiv3.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}