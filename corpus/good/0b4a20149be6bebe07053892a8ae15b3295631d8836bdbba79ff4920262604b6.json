{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/awslabs/fhir-works-on-aws-interface"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 26887,
			"content": "openapi: 3.0.0\ninfo:\n  title: FHIR Works on AWS\n  description: This is an implementation of FHIR Works on AWS interface\n\n  contact:\n    email: fhir-works-on-aws-dev@amazon.com\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0.html\n  version: 1.0.0\ntags:\n  - name: authorization\n    description: Calls to authorize the request\n  - name: bundle\n    description: Operations to handle bundle requests\n  - name: history\n    description: Operations to search non-active FHIR resources\n  - name: search\n    description: Operations to search active FHIR resources\n  - name: persistence\n    description: Operations for CRUD like behaviors on FHIR resources\npaths:\n  /authz:\n    post:\n      tags:\n        - authorization\n      summary: Authorizes if user can perform the action\n      operationId: isAuthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/AuthorizationRequest'\n      responses:\n        '204':\n          description: Access granted\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '403':\n          description: Forbidden\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /authz/bundle:\n    post:\n      tags:\n        - authorization\n      summary: Authorizes if all elements of a Bundle transactions are authorized\n      operationId: isBundleAuthorized\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/AuthorizationBundleRequest'\n      responses:\n        '204':\n          description: Access granted\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '403':\n          description: Forbidden\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /bundle/batch:\n    post:\n      tags:\n        - bundle\n      summary: Process a batch of requests\n      description: Process a batch of requests that are not dependent on each other\n      operationId: batch\n      requestBody:\n        description: Inventory item to add\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/BatchRequest'\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/BundleResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /bundle/transaction:\n    post:\n      tags:\n        - bundle\n      summary: authorize Bundle transactions\n      description: Used to authorize Bundle transactions\n      operationId: transaction\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/TransactionRequest'\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/BundleResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /history/{resourceType}/{id}:\n    get:\n      tags:\n        - history\n      summary: Search the history of a single FHIR resource instance\n      description: Search the history of a single FHIR resource instance\n      operationId: instanceHistory\n      parameters:\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /history/{resourceType}:\n    get:\n      tags:\n        - history\n      summary: Search the history of a single FHIR resource type\n      description: Search the history of a single FHIR resource type\n      operationId: typeHistory\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /history:\n    get:\n      tags:\n        - history\n      summary: Searches all historical resources in the FHIR server\n      description: Searches all historical resources in the FHIR server\n      operationId: globalHistory\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /search/{resourceType}:\n    get:\n      tags:\n        - search\n      summary: Search across a single FHIR resource type\n      description: Search across a single FHIR resource type\n      operationId: typeSearch\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /search:\n    get:\n      tags:\n        - search\n      summary: Searches all resources in the FHIR server\n      description: Searches all resources in the FHIR server\n      operationId: globalSearch\n      responses:\n        '200':\n          description: Success\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /persistence/{resourceType}:\n    post:\n      tags:\n        - persistence\n      summary: create a new FHIR resource\n      operationId: createResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ResourceCreateRequest'\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /persistence/{resourceType}/{id}:\n    get:\n      tags:\n        - persistence\n      summary: read a new FHIR resource\n      operationId: readResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      responses:\n        '200':\n          description: Found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n    put:\n      tags:\n        - persistence\n      summary: update a new FHIR resource\n      operationId: updateResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ResourceUpdateRequest'\n      responses:\n        '200':\n          description: Updated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n    delete:\n      tags:\n        - persistence\n      summary: delete a FHIR resource\n      operationId: deleteResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      responses:\n        '204':\n          description: Deleted\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n    patch:\n      tags:\n        - persistence\n      summary: patch a new FHIR resource\n      operationId: patchResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ResourceUpdateRequest'\n      responses:\n        '200':\n          description: Patched\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /persistence/{resourceType}/{id}/{vid}:\n    get:\n      tags:\n        - persistence\n      summary: read a new FHIR resource\n      operationId: vReadResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        - name: vid\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: '1'\n      responses:\n        '200':\n          description: Found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /persistence/conditional/{resourceType}:\n    post:\n      tags:\n        - persistence\n      summary: conditionally create a new FHIR resource\n      operationId: conditionalCreateResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ConditionalResourceRequest'\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n  /persistence/conditional/{resourceType}/{id}:\n    put:\n      tags:\n        - persistence\n      summary: conditionally update a new FHIR resource\n      operationId: conditionalUpdateResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ConditionalResourceRequest'\n      responses:\n        '200':\n          description: Updated\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n    delete:\n      tags:\n        - persistence\n      summary: conditionally delete a FHIR resource\n      operationId: conditionalDeleteResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      responses:\n        '204':\n          description: Deleted\n        '404':\n          description: Resource not found\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n    patch:\n      tags:\n        - persistence\n      summary: conditionally patch a FHIR resource\n      operationId: conditionalPatchResource\n      parameters:\n        - name: resourceType\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            example: Patient\n        - name: id\n          in: path\n          required: true\n          style: simple\n          explode: false\n          schema:\n            type: string\n            format: uuid\n            example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/ConditionalResourceRequest'\n      responses:\n        '200':\n          description: Patched\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/GenericResponse'\n        '400':\n          description: Request invalid\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n        '500':\n          description: Internal service error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\ncomponents:\n  schemas:\n    AuthorizationRequest:\n      required:\n        - accessToken\n        - operation\n      properties:\n        acessToken:\n          type: string\n          example: eyJhbGciOUz9.eyJzdWxMjMQ.SflMeKKF2QT\n        operation:\n          type: string\n          example: create\n        resourceType:\n          type: string\n          example: Patient\n        id:\n          type: string\n          format: uuid\n          example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        vid:\n          type: string\n          example: '1'\n      description: Request to authorize the user based on what they are trying to\n        do\n    AuthorizationBundleRequest:\n      required:\n        - accessToken\n        - requests\n      properties:\n        acessToken:\n          type: string\n          example: eyJhbGciOUz9.eyJzdWxMjMQ.SflMeKKF2QT\n        requests:\n          type: array\n          items:\n            $ref: '#/components/schemas/BatchReadWriteRequest'\n      description: Request to authorize the user based on all the things this bundle\n        is trying to do\n    ErrorResponse:\n      required:\n        - message\n      properties:\n        message:\n          type: string\n          example: Could not find entry\n      description: Response when errors occur\n    BundleResponse:\n      required:\n        - batchReadWriteResponses\n        - requests\n      properties:\n        batchReadWriteResponses:\n          type: array\n          items:\n            $ref: '#/components/schemas/BatchReadWriteResponse'\n      description: Response for Bundle interactions\n    BatchRequest:\n      required:\n        - requests\n        - startTime\n      properties:\n        startTime:\n          type: string\n          format: date-time\n          example: 2017-07-21T17:32:28Z\n        requests:\n          type: array\n          items:\n            $ref: '#/components/schemas/BatchReadWriteRequest'\n      description: Request to process many operations that are independent of each\n        other\n    TransactionRequest:\n      required:\n        - requests\n        - startTime\n      properties:\n        startTime:\n          type: string\n          format: date-time\n          example: 2017-07-21T17:32:28Z\n        requests:\n          type: array\n          items:\n            $ref: '#/components/schemas/BatchReadWriteRequest'\n      description: Request to process many operations that are dependent of each other\n    BatchReadWriteRequest:\n      required:\n        - id\n        - operation\n        - resource\n        - resourceType\n      properties:\n        operation:\n          type: string\n          example: create\n        resourceType:\n          type: string\n          example: Patient\n        id:\n          type: string\n          format: uuid\n          example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        resource:\n          type: object\n        vid:\n          type: string\n          example: '1'\n        fullUrl:\n          type: string\n          format: url\n          example: https://www.acme-corp.com/Patient/1234\n        references:\n          type: array\n          items:\n            $ref: '#/components/schemas/Reference'\n      description: A single request representing a Bundle entry\n    BatchReadWriteResponse:\n      required:\n        - operation\n        - resource\n      properties:\n        operation:\n          type: string\n          example: create\n        resourceType:\n          type: string\n          example: Patient\n        id:\n          type: string\n          format: uuid\n          example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        resource:\n          type: object\n        vid:\n          type: string\n          example: '1'\n      description: A single response correlating to a single a Bundle entry\n    GenericResponse:\n      required:\n        - resource\n      properties:\n        resource:\n          type: object\n          additionalProperties: true\n          properties:\n            id:\n              type: string\n              description: 'Unique id of the created resource'\n            resourceType:\n              type: string\n      description: A generic response for a successful operation. Response should include the full resource along with a required id field for the resource.\n    Reference:\n      required:\n        - id\n        - referenceFullUrl\n        - referencePath\n        - resourceType\n        - rootUrl\n        - vid\n      properties:\n        resourceType:\n          type: string\n          example: Patient\n        id:\n          type: string\n          format: uuid\n          example: fd8bcf46-ea06-4f9f-af5b-b62f68702d6d\n        vid:\n          type: string\n          example: '1'\n        rootUrl:\n          type: string\n          format: url\n          example: https://www.test-FHIR.com/\n        referenceFullUrl:\n          type: string\n          format: url\n          example: https://www.test-FHIR.com/Patient/123\n        referencePath:\n          type: string\n          description: Where to find the reference in the Bundle entry\n          example: provider.reference\n      description: A connection between entries in a Bundle\n    ResourceCreateRequest:\n      required:\n        - resourceType\n      type: object\n      additionalProperties: true\n      properties:\n        resourceType:\n          type: string\n    ResourceUpdateRequest:\n      required:\n        - id\n        - resourceType\n      type: object\n      additionalProperties: true\n      properties:\n        id:\n          type: string\n        resourceType:\n          type: string\n    ConditionalResourceRequest:\n      properties:\n        resource:\n          type: object\n        query:\n          type: object\n",
			"canonicalURL": "/github.com/awslabs/fhir-works-on-aws-interface@cb0b38d768f715f0b33062f40c00834a2beacafa/-/blob/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/awslabs/fhir-works-on-aws-interface/blob/cb0b38d768f715f0b33062f40c00834a2beacafa/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}