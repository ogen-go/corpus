{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/CatoTH/antragsgruen"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "docs/openapi.yaml",
			"byteSize": 22469,
			"content": "openapi: 3.0.0\ninfo:\n  title: Antragsgrün API\n  description: Read-Only-API for [Antragsgrün](https://antragsgruen.de/)\n  version: 0.1.0\npaths:\n  /rest:\n    get:\n      summary: List of consultations in this site\n      responses:\n        '200':\n          description: Consultation list\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ConsultationLinkList'\n        '403':\n          description: The REST API is not enabled for this consultation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorApiDisabled'\n  /rest/{consultationPath}:\n    get:\n      summary: Overview over this consultation, with links to motions and amendments.\n      parameters:\n        - in: path\n          name: consultationPath\n          required: true\n          example: std-parteitag\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Consultation info, motion and amendment links\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ConsultationWithLinks'\n        '403':\n          description: The REST API is not enabled for this consultation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorApiDisabled'\n        '404':\n          description: The consultation was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorNotFound'\n  /rest/{consultationPath}/proposed-procedure:\n    get:\n      summary: Gets the public proposed procedure of this consultation\n      parameters:\n        - in: path\n          name: consultationPath\n          required: true\n          example: std-parteitag\n          schema:\n            type: string\n      responses:\n        '200':\n          description: The proposed procedure\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ProposedProcedure'\n        '403':\n          description: The REST API is not enabled for this consultation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorApiDisabled'\n        '404':\n          description: The consultation was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorNotFound'\n  /rest/{consultationPath}/motion/{motionSlug}:\n    get:\n      summary: Details of this motion\n      description: The URL of this endpoint is not 100% predictable (because of motionSlug) - please only use the links provided by the consultation index\n      parameters:\n        - in: path\n          name: consultationPath\n          required: true\n          example: std-parteitag\n          schema:\n            type: string\n        - in: path\n          name: motionSlug\n          required: true\n          example: 123-motion\n          schema:\n            type: string\n        - in: query\n          name: lineNumbers\n          required: false\n          example: true\n          description: If true, then line number markers will be returned in the text (if there are any)\n          schema:\n            type: boolean\n      responses:\n        '200': # status code\n          description: Motion info, including links to amendments\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/MotionDetails'\n        '403':\n          description: The REST API is not enabled for this consultation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorApiDisabled'\n        '404':\n          description: The consultation was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorNotFound'\n  /rest/{consultationPath}/motion/{motionSlug}/amendment/{amendmentId}:\n    get:\n      summary: Details of this amendment\n      description: The URL of this endpoint is not 100% predictable (because of motionSlug) - please only use the links provided by the consultation index\n      parameters:\n        - in: path\n          name: consultationPath\n          required: true\n          example: std-parteitag\n          schema:\n            type: string\n        - in: path\n          name: motionSlug\n          required: true\n          example: 123-motion\n          schema:\n            type: string\n        - in: path\n          name: amendmentId\n          required: true\n          example: 42\n          schema:\n            type: string\n      responses:\n        '200': # status code\n          description: Motion info, including links to amendments\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/AmendmentDetails'\n        '403':\n          description: The REST API is not enabled for this consultation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorApiDisabled'\n        '404':\n          description: The consultation was not found\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorNotFound'\n\ncomponents:\n  schemas:\n    ConsultationLinkList:\n      type: array\n      items:\n        type: object\n        properties:\n          title:\n            type: string\n            example: 44. Bundesdelegiertenkonferenz\n          title_short:\n            type: string\n            example: 44. BDK\n          date_published:\n            type: string\n            example: \"2015-03-30T03:27:20+02:00\"\n          url_path:\n            type: string\n            example: consultation\n          url_json:\n            type: string\n            example: https://test.antragsgruen.de/rest/consultation\n          url_html:\n            type: string\n            example: https://test.antragsgruen.de/consultation\n    ConsultationWithLinks:\n      properties:\n        title:\n          type: string\n          example: 44. Bundesdelegiertenkonferenz\n        title_short:\n          type: string\n          example: 44. BDK\n        motion_links:\n          type: array\n          items:\n            $ref: '#/components/schemas/MotionLinkWithAmendmentLinks'\n        speaking_lists:\n          type: array\n          items:\n            $ref: '#/components/schemas/SpeakingList'\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation\n    MotionLinkWithAmendmentLinks:\n      properties:\n        type:\n          type: string\n          description: Describes if this is a motion or an amendment (e.g., a statute amendment to be shown like a motion)\n          enum:\n            - motion\n            - amendment\n        id:\n          type: number\n          example: 23\n        agenda_item:\n          type: string\n          example: Title of the agenda item\n        prefix:\n          type: string\n          example: A1\n        title:\n          type: string\n          example: Pure title of the motion\n        title_with_intro:\n          type: string\n          example: \"Motion A1: Pure title of the motion\"\n        title_with_prefix:\n          type: string\n          example: \"A1: Pure title of the motion\"\n        status_id:\n          type: number\n          example: 3\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Eingereicht\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        amendment_links:\n          type: array\n          items:\n            $ref: '#/components/schemas/AmendmentLink'\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion\n    MotionLink:\n      properties:\n        id:\n          type: number\n          example: 23\n        agenda_item:\n          type: string\n          example: Title of the agenda item\n        prefix:\n          type: string\n          example: A1\n        title:\n          type: string\n          example: Pure title of the motion\n        title_with_intro:\n          type: string\n          example: \"Motion A1: Pure title of the motion\"\n        title_with_prefix:\n          type: string\n          example: \"A1: Pure title of the motion\"\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion\n    MotionDetails:\n      properties:\n        type:\n          type: string\n          example: motion\n        id:\n          type: number\n          example: 23\n        agenda_item:\n          type: string\n          example: Title of the agenda item\n        prefix:\n          type: string\n          example: A1\n        title:\n          type: string\n          example: Pure title of the motion\n        title_with_intro:\n          type: string\n          example: \"Motion A1: Pure title of the motion\"\n        title_with_prefix:\n          type: string\n          example: \"A1: Pure title of the motion\"\n        status_id:\n          type: number\n          example: 3\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Eingereicht\n        date_published:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n        supporters:\n          type: array\n          items:\n            $ref: '#/components/schemas/Supporter'\n        initiators:\n          type: array\n          items:\n            $ref: '#/components/schemas/Supporter'\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        sections:\n          type: array\n          items:\n            $ref: '#/components/schemas/MotionSection'\n        proposed_procedure:\n          $ref: '#/components/schemas/MotionProposedProcedure'\n        amendment_links:\n          type: array\n          items:\n            $ref: '#/components/schemas/AmendmentLink'\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion\n    AmendmentLink:\n      properties:\n        id:\n          type: number\n          example: 23\n        prefix:\n          type: string\n          example: Ä1\n        status_id:\n          type: number\n          example: 3\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Eingereicht\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion/amendment/42\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion/42\n    AmendmentDetails:\n      properties:\n        type:\n          type: string\n          example: amendment\n        id:\n          type: number\n          example: 23\n        prefix:\n          type: string\n          example: Ä1\n        title:\n          type: string\n          example: \"Ä1 zu A1: My motion\"\n        title_with_prefix:\n          type: string\n          example: \"Ä1 zu A1: My motion\"\n        first_line:\n          type: number\n          example: 1\n          description: The first line affected by this amendment\n        status_id:\n          type: number\n          example: 3\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Eingereicht\n        date_published:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n        motion:\n          $ref: '#/components/schemas/MotionLink'\n        supporters:\n          type: array\n          items:\n            $ref: '#/components/schemas/Supporter'\n        initiators:\n          type: array\n          items:\n            $ref: '#/components/schemas/Supporter'\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        sections:\n          type: array\n          items:\n            $ref: '#/components/schemas/AmendmentSection'\n        proposed_procedure:\n          $ref: '#/components/schemas/AmendmentProposedProcedure'\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion/amendment/42\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion/42\n    Supporter:\n      properties:\n        type:\n          type: string\n          example: person\n          description: Describes if it is a natural person or an organization\n          enum:\n            - person\n            - organization\n        name:\n          type: string\n          example: Ava\n        organization:\n          type: string\n          example: E Corp\n    MotionSection:\n      properties:\n        type:\n          type: string\n          example: TextSimple\n          enum:\n            - Title\n            - TextSimple\n            - TextHTML\n            - Image\n            - TabularData\n            - PDFAttachment\n            - PDFAlternative\n        title:\n          type: string\n          example: Motion text\n        html:\n          type: string\n          example: \"\u003cstrong\u003eThis is the motion text\u003c/strong\u003e\"\n        layout_right:\n          type: boolean\n          example: true\n          description: In case of a two-column layout, true indicates this section is to be shown on the right\n    AmendmentSection:\n      properties:\n        type:\n          type: string\n          example: TextSimple\n          enum:\n            - Title\n            - TextSimple\n            - TextHTML\n            - Image\n            - TabularData\n            - PDFAttachment\n            - PDFAlternative\n        title:\n          type: string\n          example: Motion text\n        html:\n          type: string\n          example: \"\u003ch3\u003eAntragstext\u003c/h3\u003e\u003ch4 class=\\\"lineSummary\\\"\u003eVon Zeile 23 bis 26:\u003c/h4\u003e\u003cdiv\u003e\u003cp\u003eDolor lorem. \u003cins style=\\\"color:#008000;text-decoration:underline;\\\"\u003eBavaria\u003c/ins\u003e ipsum dolor\u003c/p\u003e\u003c/div\u003e\"\n    AmendmentProposedProcedure:\n      description: this object is only set if the proposed procedure exists and is public; otherwise the field is \"null\"\n      properties:\n        status_id:\n          type: number\n          example: 6\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Modifizierte Übernahme\n        sections:\n          type: array\n          description: The proposed changed version of amendment sections; if there are propsed changes\n          items:\n            $ref: '#/components/schemas/AmendmentSection'\n    MotionProposedProcedure:\n      description: this object is only set if the proposed procedure exists and is public; otherwise the field is \"null\"\n      properties:\n        status_id:\n          type: number\n          example: 6\n          description: Refer to https://github.com/CatoTH/antragsgruen/blob/main/models/db/IMotion.php#L47 for a definition of the status IDs\n        status_title:\n          type: string\n          example: Modifizierte Übernahme\n    ProposedProcedure:\n      description: ...\n      properties:\n        proposed_procedure:\n          type: array\n          items:\n            $ref: '#/components/schemas/ProposedProcedureOuterBlock'\n    ProposedProcedureOuterBlock:\n      description: An outer proposed procedure block\n      properties:\n        title:\n          type: string\n          example: \"Abstimmung: Wohnen\"\n        voting_blocks:\n          type: array\n          items:\n            $ref: '#/components/schemas/ProposedProcedureVotingBlock'\n    ProposedProcedureVotingBlock:\n      description: A voting block\n      properties:\n        id:\n          type: string\n          example: \"19\"\n          description: ID or null\n        title:\n          type: string\n          example: \"Abstimmung: Wohnungstausch\"\n          description: title or null\n        items:\n          type: array\n          items:\n            $ref: '#/components/schemas/ProposedProcedureVotingItem'\n    ProposedProcedureVotingItem:\n      description: An individual item (motion or amendment) in a voting block\n      properties:\n        type:\n          type: string\n          example: \"Amendment\"\n          enum:\n            - Motion\n            - Amendment\n        id:\n          type: number\n          example: 23\n          description: the ID of the motion or amendment\n        prefix:\n          type: string\n          example: \"W-01-035-3\"\n        title_with_prefix:\n          type: string\n          example: \"W-01-035-3: Recht auf Wohnen\"\n        url_json:\n          type: string\n          example: https://test.antragsgruen.de/rest/consultation/123-motion/amendment/42\n        url_html:\n          type: string\n          example: https://test.antragsgruen.de/consultation/123-motion/42\n        initiators_html:\n          type: string\n          example: \"Testuser 1\"\n        procedure:\n          type: string\n          example: \"\u003cp\u003eAbstimmung (Angenommen)\u003c/p\u003e\u003cp class=\\\"explanation\\\"\u003eDas Thema der Abstimmung wird an mehreren Stellen im Antrag beantragt. Die Antragskommission schlägt vor, eine Abstimmung zwischen W-01-034-2 und W-01-035 durchzuführen. Wenn W-01-034-2 angenommen wird, sind W-01-433 und W-01-599 in den Beschlusstext übernommen. Wenn W-01-035 angenommen wird, werden die beiden Anträge W-01-433 und W-01-599 nicht in den Beschlusstext übernommen.\u003c/p\u003e\"\n    SpeakingList:\n      properties:\n        id:\n          type: number\n          example: 23\n        is_open:\n          type: boolean\n          example: true\n          description: if true, then users can apply for the speaking list\n        have_applied:\n          type: boolean\n          example: true\n          description: indicates if the current user has already applied for the speaking list.\n        requires_login:\n          type: boolean\n          example: true\n          description: indicates if users need to be logged in to apply\n        subqueues:\n          type: array\n          items:\n            $ref: '#/components/schemas/SpeakingListSubqueue'\n        slots:\n          type: array\n          items:\n            $ref: '#/components/schemas/SpeakingListSlot'\n        current_time:\n          type: number\n          example: 1650106796832\n          description: unix timestamp in milliseconds of the time the request was served on server side. Can be used to calculate time offset of the browser.\n        speaking_time:\n          type: number\n          example: 300\n          description: if not null, then this indicates the time in seconds each speaker has\n    SpeakingListSubqueue:\n      properties:\n        id:\n          type: number\n          example: 23\n          description: can be null, if this is a default subqueue\n        name:\n          type: string\n          example: Member group 1\n          description: can be null, if this is a default subqueue\n        num_applied:\n          type: number\n          example: 4\n          description: number of users that have already applied for this subqueue\n        have_applied:\n          type: boolean\n          example: true\n          description: if the currently logged in user has applied for this subqueue\n        applied:\n          type: array\n          items:\n            $ref: '#/components/schemas/SpeakingListApplicant'\n          description: list of users that have applied. Only provided if list the list is public.\n    SpeakingListApplicant:\n      properties:\n        id:\n          type: number\n          example: 23\n          description: application id\n        name:\n          type: string\n          example: Johanna Doe\n        user_id:\n          type: number\n          example: 23\n          description: user id\n        applied_at:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n    SpeakingListSlot:\n      properties:\n        id:\n          type: number\n          example: 23\n          description: can be null, if this is a default subqueue\n        subqueue:\n          type: object\n          properties:\n            id:\n              type: number\n              example: 23\n              description: can be null, if this is a default subqueue\n            name:\n              type: string\n              example: Member group 1\n              description: can be null, if this is a default subqueue\n        name:\n          type: string\n          example: Johanna Doe\n        user_id:\n          type: number\n          example: 123\n        position:\n          type: number\n          example: 1\n        date_started:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n          description: When the speaking started. null if not yet started.\n        date_stopped:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n          description: When the speaking stopped. null if not yet stopped. If this is null and date_started is set, then the person is currently speaking.\n        date_applied:\n          type: string\n          example: \"2015-03-30T03:27:20+02:00\"\n          description: When the speaker applied. Always set.\n    ErrorNotFound:\n      properties:\n        success:\n          type: boolean\n          example: false\n        error:\n          type: string\n          example: Object not found\n    ErrorApiDisabled:\n      properties:\n        success:\n          type: boolean\n          example: false\n        error:\n          type: string\n          example: API disabled\n",
			"canonicalURL": "/github.com/CatoTH/antragsgruen@d0a5409961806a768df68b0dc77f8cf3e1e1e420/-/blob/docs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/CatoTH/antragsgruen/blob/d0a5409961806a768df68b0dc77f8cf3e1e1e420/docs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}