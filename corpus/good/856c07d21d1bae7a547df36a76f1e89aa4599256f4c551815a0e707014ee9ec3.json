{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/alphagov/content-data-api"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "openapi.yaml",
			"byteSize": 10058,
			"content": "openapi: 3.0.0\ninfo:\n  title: GOV.UK Content Data API\n  description: |\n    GOV.UK Content Data API provides metrics about GOV.UK content.\n\n    This API accepts HTTP requests and responds with\n    [JSON](https://en.wikipedia.org/wiki/JSON).\n  version: 1.0.0\nservers:\n  - url: 'https://content-data-api.publishing.service.gov.uk/api/v1'\n    description: Production\n  - url: 'https://content-data-api.staging.publishing.service.gov.uk/api/v1'\n    description: Staging\n  - url: 'https://content-data-api.integration.publishing.service.gov.uk/api/v1'\n    description: Integration\n  - url: 'http://content-data-api.dev.gov.uk/api/v1'\n    description: Development\npaths:\n  '/organisations/':\n    get:\n      summary: Get all organisations\n      responses:\n        '200':\n           description: A list of organisations\n           content:\n             application/json:\n               schema:\n                 $ref: '#/components/schemas/ArrayOfOrganisations'\n  '/document_types/':\n    get:\n      summary: Get all document types\n      responses:\n        '200':\n           description: A list of document types\n           content:\n             application/json:\n               schema:\n                 $ref: '#/components/schemas/ArrayOfDocumentTypes'\n  '/metrics/':\n    get:\n      summary: List all available metrics.\n      description: |\n        Returns a list of available metrics for content items.\n      tags:\n        - Metadata\n      responses:\n        '200':\n          description: |\n            Success response\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Metric'\n              example:\n                $ref: '#/components/examples/MetricsExample'\n      x-code-samples:\n        /metrics/:\n          lang: shell\n          source: \u003e-\n            curl\n            'https://content-data-api.publishing.service.gov.uk/api/v1/metrics/'\n  '/metrics/{base_path}':\n    get:\n      summary: Get summarised metrics for a content item.\n      description: \u003e\n        Returns a summary of a metric based on data collected over a time\n        period.\n      tags:\n        - Aggregations\n      parameters:\n        - name: base_path\n          in: path\n          required: true\n          description: \u003e\n            A GOV.UK base path. A reserved URL on www.gov.uk that is associated\n            with a content item.\n          schema:\n            type: string\n            example: /vat-rates\n        - name: metrics\n          in: path\n          required: true\n          description: |\n            The names of metrics.\n          schema:\n            type: string\n            example: pviews\n        - name: from\n          in: query\n          required: true\n          description: \u003e\n            From date in the format 'YYYY-MM-DD'. Only data collected on or\n            after this date will be included.\n          schema:\n            type: string\n            example: '2018-01-01'\n        - name: to\n          in: query\n          required: true\n          description: \u003e\n            To date in the format 'YYYY-MM-DD'. Only data collected on or before\n            this date will be included.\n          schema:\n            type: string\n            example: '2018-01-01'\n      responses:\n        '200':\n          description: |\n            Success response\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/SummaryResponse'\n        '400':\n          description: The API request is invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n      x-code-samples:\n        /metrics/f838c22a-b2aa-49be-bd95-153f593293a3:\n          lang: shell\n          source: \u003e-\n            curl\n            'https://content-data-api.publishing.service.gov.uk/api/v1/metrics/vat-rates?from=2018-02-27\u0026to=2018-02-27\u0026metrics[]=upviews\u0026metrics[]=pviews'\n  '/metrics/{base_path}/time-series':\n    get:\n      summary: Get metric values for a single content item over a date range.\n      description: |\n        Returns an array of values for each metric. Each item represents a\n        metric value at a single point in time.\n      tags:\n        - Time series\n      parameters:\n        - name: base_path\n          in: path\n          required: true\n          description: \u003e\n            A GOV.UK base path. A reserved URL on www.gov.uk that is associated\n            with a content item.\n          schema:\n            type: string\n            example: /vat-rates\n        - name: metrics\n          in: path\n          required: true\n          description: |\n            The names of metrics.\n          schema:\n            type: string\n            example: pviews\n        - name: from\n          in: query\n          required: true\n          description: \u003e\n            From date in the format 'YYYY-MM-DD'. Only data collected on or\n            after this date will be returned.\n          schema:\n            type: string\n            example: '2018-01-01'\n        - name: to\n          in: query\n          required: true\n          description: \u003e\n            To date in the format 'YYYY-MM-DD'. Only data collected on or before\n            this date will be returned.\n          schema:\n            type: string\n            example: '2018-01-01'\n      responses:\n        '200':\n          description: |\n            Success response\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/TimeSeriesResponse'\n        '400':\n          description: The API request is invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ErrorResponse'\n              example:\n                $ref: '#/components/examples/ErrorExample'\n      x-code-samples:\n        /metrics/vat-rates:\n          lang: shell\n          source: \u003e-\n            curl\n            'https://content-data-api.publishing.service.gov.uk/api/v1/metrics/vat-rates/time-series?from=2018-02-27\u0026to=2018-02-27\u0026metrics[]=upviews\u0026metrics[]=pviews'\ncomponents:\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n  schemas:\n    Organisation:\n      requires:\n        - id\n        - name\n      properties:\n        id:\n          type: string \n        name:\n          type: string\n    ArrayOfOrganisations:\n      type: array\n      items:\n        $ref: '#/components/schemas/Organisation'\n    DocumentType:\n      requires:\n        - id\n        - name\n      properties:\n        id:\n          type: string \n        name:\n          type: string\n    ArrayOfDocumentTypes:\n      type: array\n      items:\n        $ref: '#/components/schemas/DocumentType'\n    Metric:\n      description: |\n        Information about a metric returned by the API.\n      type: object\n      required:\n        - metric_id\n        - description\n      properties:\n        metric_id:\n          type: string\n          description: ID to refer to the metric within the API\n        description:\n          type: string\n          description: Description of the metric\n        source:\n          type: string\n          description: Where this metric comes from\n    Summary:\n      description: |\n        Summarised metric data for a defined time period\n      type: object\n      required:\n        - total\n        - latest\n      properties:\n        total:\n          type: integer\n          description: Sum of all recorded metric values within the date range.\n        latest:\n          type: integer\n          description: The latest recorded metric value within the date range.\n    Value:\n      description: |\n        A single observation of a metric.\n      type: object\n      required:\n        - date\n        - value\n      properties:\n        date:\n          type: string\n          description: Date of measurement, in the form YYYY-MM-DD.\n        value:\n          type: integer\n          description: The value of the metric.\n    TimeSeries:\n      description: |\n        A series of values for a metric.\n      type: array\n      items:\n        $ref: '#/components/schemas/Value'\n    TimeSeriesResponse:\n      description: An object where each key is a metric ID and each value is a time series.\n      type: object\n      additionalProperties:\n        $ref: '#/components/schemas/TimeSeries'\n    SummaryResponse:\n      description: Summary information keyed by metric ID.\n      type: object\n      additionalProperties:\n        $ref: '#/components/schemas/Summary'\n    ErrorResponse:\n      description: An error response.\n      type: object\n      required:\n        - title\n        - type\n      properties:\n        title:\n          type: string\n          description: A human readable summary of the error.\n        invalid_params:\n          type: object\n          description: An array of error messages for each invalid parameter.\n        type:\n          type: string\n          description: A URI identifying the error.\n      example:\n        $ref: '#/components/examples/ErrorExample'\n  examples:\n    ErrorExample:\n      summary: An example of an error.\n      value:\n        title: One or more parameters is invalid\n        invalid_params:\n          from:\n            - can't be blank\n            - Dates should use the format YYYY-MM-DD\n          to:\n            - can't be blank\n            - Dates should use the format YYYY-MM-DD\n        type: \u003e-\n          https://content-data-api.publishing.service.gov.uk/errors.html#validation-error\n    MetricsExample:\n      summary: An list of available metrics.\n      value:\n        - description: Number of pageviews\n          source: Google Analytics\n          metric_id: pviews\n        - description: Number of unique pageviews\n          source: Google Analytics\n          metric_id: upviews\n        - description: Number of reported content issues\n          source: Feedback explorer\n          metric_id: feedex\n        - description: Number of .pdf attachments\n          source: Publishing API\n          metric_id: pdf_count\nsecurity:\n  - bearerAuth: []\n",
			"canonicalURL": "/github.com/alphagov/content-data-api@fd19ca64c1f3600b05772911c883df4a49a676ff/-/blob/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/alphagov/content-data-api/blob/fd19ca64c1f3600b05772911c883df4a49a676ff/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}