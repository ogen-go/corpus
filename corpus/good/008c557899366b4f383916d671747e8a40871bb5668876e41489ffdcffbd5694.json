{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/uhppoted/uhppoted"
		},
		"file": {
			"name": "simulator-api.yaml",
			"size": 0,
			"path": "documentation/openapi/simulator-api.yaml",
			"byteSize": 8087,
			"content": "openapi: \"3.0.2\"\n\ninfo:\n  version: 0.7.2\n  title: \"uhppote-simulator\"\n  description: \"REST API for the UHPPOTE simulator command interface\"\n  license:\n    name: \"MIT\"\n    url: \"https://github.com/uhppoted/uhppote-simulator/blob/master/LICENSE\"\n    \nservers:    \n  - url: \"http://127.0.0.1:8000/uhppote\"\n  \ntags:\n  - name: \"simulator\"\n    description: \"UHPPOTE simulator command interface\"\n\npaths:\n  /simulator:\n    get:\n      tags:\n        - simulator\n      summary: \"Retrieves a list of active simulators\"\n      description: \"Retrieves the list of simulated UHPPOTE devices\"\n      operationId: listDevices\n      responses:\n        '200':\n          description: \"List of simulated devices\"\n          content:\n            application/json:\n              schema:\n                  $ref: \"#/components/schemas/DeviceList\"        \n        '405':\n          description: \"Invalid request\"\n        default:\n          description: \"Request failed\"\n\n    post:\n      tags:\n        - simulator\n      summary: \"Creates a new simulator device\"\n      description: \"Creates a new simulator device. An existing device with the same device ID is not overwritten.\"\n      operationId: createDevice\n      requestBody:\n        description: \"Device ID and type\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/NewDevice\"     \n      responses:\n        '200':\n          description: \"Device already exists\"\n        '201':\n          description: \"Device created successfully\"\n          headers:\n            Location:\n              schema:\n                type: string\n              description: \"URL for created device\"\n        '405':\n          description: \"Invalid request\"\n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n\n  /simulator/{device-id}:\n    delete:\n      tags:\n        - simulator\n      summary: \"Deletes a simulator device\"\n      description: \"Removes all trace of a simulator device\"\n      operationId: deleteDevice\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Simulator device ID\"\n          required: true\n          schema:\n            type: integer\n            format: uint64\n            example: 753186420\n      responses:\n        '200':\n          description: \"Device deleted\"\n        '404':\n          description: \"No device with ID matching device-id\"\n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n\n  /simulator/{device-id}/swipe:\n    post:\n      tags:\n        - simulator\n      summary: \"Simulates a card swipe on an access reader\"\n      description: \"Simulates a card swipe on an access reader, generating an access event\"\n      operationId: swipeCard\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Simulator device ID\"\n          required: true\n          schema:\n            type: integer\n            format: uint64\n            example: 405419896\n      requestBody:\n        description: \"Wiegand-26 access card details\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Swipe\"     \n      responses:\n        '200':\n          description: \"Access granted/denied\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Swiped\"        \n        '400':\n          description: \"Invalid request format\"\n        '404':\n          description: \"No device with ID matching device-id\"\n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n\n  /simulator/{device-id}/door/{door}:\n    post:\n      tags:\n        - simulator\n      summary: \"Simulates a door action (open/close/button)\"\n      description: \"Simulates a opening and closing a door or pressing the button to unlock a door. Generates a door event if record special events is enabled\"\n      operationId: door\n      parameters:\n        - name: device-id\n          in: path\n          description: \"Simulator device ID\"\n          required: true\n          schema:\n            type: integer\n            format: uint64\n            example: 405419896\n        - name: door\n          in: path\n          description: \"Door ID [1..4]\"\n          required: true\n          schema:\n            type: integer\n            format: uint8\n            example: 4\n      requestBody:\n        description: \"Action (open/close/button) and duration\"\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DoorAction\" \n            examples:\n              open: \n                value:\n                  action: \"open\"\n                  duration: 15\n              close: \n                value:\n                  action: \"close\"\n              button: \n                value:\n                  action: \"button\"\n                  duration: 5\n\n      responses:\n        '200':\n          description: \"Door opened/closed/unlocked\"\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DoorResult\"        \n        '400':\n          description: \"Invalid door ID\"\n        '404':\n          description: \"No device with ID matching device-id\"\n        '500':\n          description: \"Internal system error\"\n        default:\n          description: \"Request failed\"\n\ncomponents:\n  schemas:\n    Device:\n      required: \n        - device-id\n        - device-type\n      properties:\n        device-id:\n          type: number\n          format: uint32\n          description: \"Simulator device ID\"\n          example: 405419896\n        device-type:  \n          type: string\n          format: string\n          description: \"UHPPOTE device type\"\n          example: \"UT0311-L04\"\n    DeviceList:\n      required: \n        - devices\n      properties:\n        devices:\n          type: array\n          items:\n            $ref: \"#/components/schemas/Device\"        \n          description: \"List of simulator devices\"\n    NewDevice:\n      required: \n        - device-id\n        - device-type\n        - compressed\n      properties:\n        device-id:\n          type: number\n          format: uint32\n          description: \"Simulator device ID\"\n          example: 753186420\n        device-type:  \n          type: string\n          format: \"UTO311-L04\"\n          description: \"UHPPOTE device type. Only UTO311-L04 is supported at present\"\n          example: \"UT0311-L04\"\n        compressed:  \n          type: boolean\n          format: true/false\n          description: \"Persisted as gzipped file if true\"\n          example: false\n    Swipe:\n      required: \n        - door\n        - card-number\n      properties:\n        door:\n          type: number\n          format: uint8\n          description: \"Door # [1..4]\"\n          example: 4\n        card-number:  \n          type: number\n          format: uint32\n          description: \"Wiegand-26 card number\"\n          example: 65538\n\n    Swiped:\n      required: \n        - access-granted\n        - door-opened\n        - message\n      properties:\n        access-granted:\n          type: boolean\n          description: \"true if access was granted\"\n        message:\n          type: string\n          description: \"Display message\"\n\n    DoorAction:\n      required: \n        - action\n      properties:\n        action:  \n          type: string\n          format: \"open/close/button\"\n          description: \"Open/close door or press the door button\"\n          example: \"open\"\n        duration:  \n          type: number\n          format: uint32\n          description: \"Open duration (in seconds)\"\n          example: 15\n\n    DoorResult:\n      required: \n        - result\n        - message\n      properties:\n        result:\n          type: boolean\n          description: \"true if door was opened/closed/unlocked\"\n        message:\n          type: string\n          description: \"Display message\"\n          example: \"Door opened\"\n",
			"canonicalURL": "/github.com/uhppoted/uhppoted@af7eb0fab01311423decbbfe910ceb7e0c997897/-/blob/documentation/openapi/simulator-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/uhppoted/uhppoted/blob/af7eb0fab01311423decbbfe910ceb7e0c997897/documentation/openapi/simulator-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}