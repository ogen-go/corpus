{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/FGRibreau/scaleway-api-client"
		},
		"file": {
			"name": "scaleway.vpc.v1.Api.yml",
			"size": 0,
			"path": "openapi/scaleway.vpc.v1.Api.yml",
			"byteSize": 16451,
			"content": "openapi: 3.0.0\ninfo:\n  title: VPC API\n  description: |\n    # Introduction\n\n    VPC is a set of products and features allowing you to build your own virtual private cloud on top\n    of Scaleway's shared public cloud. It currently consists of Private Networks, which allows\n    instances to be interconnected through a dedicated, private, and flexible\n    [L2 network](https://en.wikipedia.org/wiki/Data_link_layer).\n\n    You can add as many servers to your networks as you want, and add up to eight (8) different networks\n    per server, taking the form of additional network interfaces inside your instance. This allows you\n    to run services isolated from the public internet and expose them to the rest of your\n    infrastructure without worrying about public network filtering.\n\n    Instances can be plugged and unplugged from a network at will, even when the instance is running:\n    the network interface will be hot-plugged to the server, and software can be configured to\n    automatically set it up as soon as it appears.\n\n    ## Technnical limitations\n\n    - A maximum of eight (8) private networks can be plugged to any single instance\n    - The MAC address of an instance in a network cannot be changed\n    - Broadcast and Multicast traffic, while supported, are heavily rate-limited\n\n    # Quick start guide\n\n    ## Step 0: Prerequisites\n\n    You need to have an HTTP client such as [`curl`](https://curl.haxx.se) to use Scaleway API. It is\n    also a good idea to have [`jq`](https://stedolan.github.io/jq) which will help you to read and parse\n    JSON output. Make sure you have these two tools before you begin. Otherwise use your package manager\n    to install them.\n\n    To call Scaleway API, you need an `X-Auth-Token`. If you don't have one yet, refer to our\n    [doc about generating API keys](https://www.scaleway.com/en/docs/scaleway-project/#-Generating-API-Keys).\n\n    Next, you will need your Project ID to create VPC resources in. If you don't have it, refer to our\n    [doc about creating a Project](https://www.scaleway.com/en/docs/scaleway-project/#-Creating-a-Project).\n\n    Finally, you will need to chose the Availability Zone in which to create your Private Networks.\n    Keep in mind that Private Networks are per zone and not per region, thus you will only be able to\n    connect Instances to networks from the same Availability Zone.\n\n    ```sh\n    export SECRET_KEY=\"\u003cSecret key of your token\u003e\"\n    export PROJECT_ID=\"\u003cChosen Project ID\u003e\"\n    export ZONE=\"\u003cChosen zone (fr-par-1/nl-ams-1)\u003e\"\n    ```\n\n    ## Step 1: Create a Private Network\n\n    You can customize the name, tags and project ID for the created Private Network.\n\n    ```sh\n    curl -s -H \"Content-Type: application/json\" -H \"X-Auth-Token: $SECRET_KEY\" \\\n        https://api.scaleway.com/vpc/v1/zones/$ZONE/private-networks \\\n        -d '{\"name\": \"My awesome Private Network\", \\\n             \"project_id\": \"'$PROJECT_ID'\" \\\n             \"tags\": [\"test\", \"step1\"]}'\n    ```\n\n    Keep the `id` field of the response: it is your Private Network ID, and is useable across all\n    Scaleway products that support Private Networks. Since it will be used in the next steps, we will\n    put it in a variable for the sake of readability.\n\n    ```sh\n    export PN_ID=\"\u003cYour Private Network ID\u003e\"\n    ```\n\n    To delete your Private Network, you can use the following call:\n\n    ```sh\n    curl -s -H \"Content-Type: application/json\" -H \"X-Auth-Token: $SECRET_KEY\" \\\n        https://api.scaleway.com/vpc/v1/zones/$ZONE/private-networks/$PN_ID \\\n        -X DELETE\n    ```\n\n    Please note that the Private Network must be empty to be deleted, so be sure to remove any other\n    Scaleway product from your network prior to deletion.\n\n    ## Step 2: Plug Scaleway products to your Private Network\n\n    Each product has its own API to interact with Private Networks, and each will be described here.\n\n    ### Instance\n\n    Scaleway Instances support Private Networks on a per-server basis. For this, you will need an\n    instance in the same Availability Zone as your Private Network, and the Instance ID. For readability\n    purposes, we will put the Instance ID in a variable:\n\n    ```sh\n    export SRV_ID=\"\u003cYour Instance ID\u003e\"\n    ```\n\n    Then, use the following call to attach the Instance to your Private Network:\n\n    ```sh\n    curl -s -H \"Content-Type: application/json\" -H \"X-Auth-Token: $SECRET_KEY\" \\\n        https://api.scaleway.com/instance/v1/zones/$ZONE/servers/$SRV_ID/private_nics \\\n        -d '{\"private_network_id\": \"'$PN_ID'\"}'\n    ```\n\n    Keep the `id` field of the response: it is your Private NIC ID. For readability purposes, we will\n    put it in a variable:\n\n    ```sh\n    export NIC_ID=\"\u003cYour Private NIC ID\u003e\"\n    ```\n\n    Keep the `mac_address` field of the response, as it will allow you to identify the Private NIC\n    inside your Instance. If successful, a new network interface will appear inside your Instance,\n    ready to be configured to transmit traffic to other instances of the same network, with the MAC\n    address returned by the API call.\n\n    By running `dmesg`, you can confirm that the network interface has been plugged:\n\n    ```\n    [1579004.592869] pci 0000:00:05.0: [1af4:1000] type 00 class 0x020000\n    [1579004.594835] pci 0000:00:05.0: reg 0x10: [io  0x0000-0x003f]\n    [1579004.596715] pci 0000:00:05.0: reg 0x14: [mem 0x00000000-0x00000fff]\n    [1579004.598732] pci 0000:00:05.0: reg 0x20: [mem 0x00000000-0x00003fff 64bit pref]\n    [1579004.600765] pci 0000:00:05.0: reg 0x30: [mem 0x00000000-0x0007ffff pref]\n    [1579004.603819] pci 0000:00:05.0: BAR 6: assigned [mem 0xc0100000-0xc017ffff pref]\n    [1579004.604582] pci 0000:00:05.0: BAR 4: assigned [mem 0x100000c000-0x100000ffff 64bit pref]\n    [1579004.605555] pci 0000:00:05.0: BAR 1: assigned [mem 0xc0003000-0xc0003fff]\n    [1579004.606383] pci 0000:00:05.0: BAR 0: assigned [io  0x1000-0x103f]\n    [1579004.607212] virtio-pci 0000:00:05.0: enabling device (0000 -\u003e 0003)\n    [1579004.625149] PCI Interrupt Link [LNKA] enabled at IRQ 11\n    [1579004.644930] virtio_net virtio3 ens5: renamed from eth0\n    ```\n\n    By running `ip -br link`, you can confirm the presence of the network interface, and confirm its\n    name if several networks are plugged to your instance:\n\n    ```\n    lo               UNKNOWN        00:00:00:00:00:00 \u003cLOOPBACK,UP,LOWER_UP\u003e\n    ens2             UP             de:1c:94:44:d0:04 \u003cBROADCAST,MULTICAST,UP,LOWER_UP\u003e\n    ens5             DOWN           02:00:00:00:00:31 \u003cBROADCAST,MULTICAST\u003e\n    ens6             DOWN           02:00:00:00:01:5b \u003cBROADCAST,MULTICAST\u003e\n    ens7             DOWN           02:00:00:00:01:5e \u003cBROADCAST,MULTICAST\u003e\n    ```\n\n    You can now refer to [our online documentation](https://www.scaleway.com/en/docs/scaleway-private-networks/#-Configuring-a-Private-Network)\n    on how to configure those network interfaces.\n\n    To delete your Private NIC, which equates to unplugging your Instance from the Private Network, you\n    can use the following call:\n\n    ```sh\n    curl -s -H \"Content-Type: application/json\" -H \"X-Auth-Token: $SECRET_KEY\" \\\n        https://api.scaleway.com/instance/v1/zones/$ZONE/servers/$SRV_ID/private_nics/$NIC_ID \\\n        -X DELETE\n    ```\n\n    Then the network interface should disappear from your Instance.\n  version: v1\nservers:\n- url: https://api.scaleway.com\ntags:\n- name: Private Networks\n  description: |\n    A private network allows interconnecting your instances in an\n    isolated and private network. The network reachability is limited\n    to the instances that are on the same private network.  Network\n    Interface Controllers (NICs) are available on the instance and can\n    be freely managed (adding IP addresses, shutdown interface...)\n\n    Note that an instance can be a part of multiple private networks.\ncomponents:\n  schemas:\n    scaleway.vpc.v1.ListPrivateNetworksResponse:\n      type: object\n      properties:\n        private_networks:\n          type: array\n          items:\n            $ref: '#/components/schemas/scaleway.vpc.v1.PrivateNetwork'\n        total_count:\n          type: number\n      x-properties-order:\n      - private_networks\n      - total_count\n    scaleway.vpc.v1.PrivateNetwork:\n      type: object\n      properties:\n        id:\n          type: string\n          description: The private network ID\n        name:\n          type: string\n          description: The private network name\n        organization_id:\n          type: string\n          description: The private network organization\n        project_id:\n          type: string\n          description: The private network project ID\n        zone:\n          type: string\n          description: The zone in which the private network is available\n        tags:\n          type: array\n          description: The private network tags\n          items:\n            type: string\n        created_at:\n          type: string\n          description: The private network creation date\n          format: date-time\n        updated_at:\n          type: string\n          description: The last private network modification date\n          format: date-time\n      x-properties-order:\n      - id\n      - name\n      - organization_id\n      - project_id\n      - zone\n      - tags\n      - created_at\n      - updated_at\n  securitySchemes:\n    scaleway:\n      in: header\n      name: X-Auth-Token\n      type: apiKey\npaths:\n  /vpc/v1/zones/{zone}/private-networks:\n    get:\n      tags:\n      - Private Networks\n      operationId: ListPrivateNetworks\n      summary: List private networks\n      parameters:\n      - in: path\n        name: zone\n        description: The zone you want to target\n        required: true\n        schema:\n          type: string\n          description: The zone you want to target\n          enum:\n          - fr-par-1\n          - nl-ams-1\n      - in: query\n        name: order_by\n        description: The sort order of the returned private networks\n        schema:\n          type: string\n          description: The sort order of the returned private networks\n          enum:\n          - created_at_asc\n          - created_at_desc\n          - name_asc\n          - name_desc\n          default: created_at_asc\n      - in: query\n        name: page\n        description: The page number for the returned private networks\n        schema:\n          type: number\n          description: The page number for the returned private networks\n          default: 1\n      - in: query\n        name: page_size\n        description: The maximum number of private networks per page\n        schema:\n          type: number\n          description: The maximum number of private networks per page\n          default: 20\n      - in: query\n        name: name\n        description: Filter private networks with names containing this string\n        schema:\n          type: string\n          description: Filter private networks with names containing this string\n          nullable: true\n      - in: query\n        name: tags\n        description: Filter private networks with one or more matching tags\n        schema:\n          type: array\n          description: Filter private networks with one or more matching tags\n          items:\n            type: string\n      - in: query\n        name: organization_id\n        description: The organization ID on which to filter the returned private networks\n        schema:\n          type: string\n          description: The organization ID on which to filter the returned private\n            networks\n          nullable: true\n      - in: query\n        name: project_id\n        description: The project ID on which to filter the returned private networks\n        schema:\n          type: string\n          description: The project ID on which to filter the returned private networks\n          nullable: true\n      responses:\n        \"200\":\n          description: \"\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/scaleway.vpc.v1.ListPrivateNetworksResponse'\n      security:\n      - scaleway: []\n    post:\n      tags:\n      - Private Networks\n      operationId: CreatePrivateNetwork\n      summary: Create a private network\n      parameters:\n      - in: path\n        name: zone\n        description: The zone you want to target\n        required: true\n        schema:\n          type: string\n          description: The zone you want to target\n          enum:\n          - fr-par-1\n          - nl-ams-1\n      responses:\n        \"200\":\n          description: \"\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/scaleway.vpc.v1.PrivateNetwork'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n                  description: The name of the private network\n                project_id:\n                  type: string\n                  description: The project ID of the private network\n                tags:\n                  type: array\n                  description: The private networks tags\n                  items:\n                    type: string\n              required:\n              - name\n              - project_id\n              x-properties-order:\n              - name\n              - project_id\n              - tags\n      security:\n      - scaleway: []\n  /vpc/v1/zones/{zone}/private-networks/{private_network_id}:\n    get:\n      tags:\n      - Private Networks\n      operationId: GetPrivateNetwork\n      summary: Get a private network\n      parameters:\n      - in: path\n        name: zone\n        description: The zone you want to target\n        required: true\n        schema:\n          type: string\n          description: The zone you want to target\n          enum:\n          - fr-par-1\n          - nl-ams-1\n      - in: path\n        name: private_network_id\n        description: The private network id\n        required: true\n        schema:\n          type: string\n          description: The private network id\n      responses:\n        \"200\":\n          description: \"\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/scaleway.vpc.v1.PrivateNetwork'\n      security:\n      - scaleway: []\n    patch:\n      tags:\n      - Private Networks\n      operationId: UpdatePrivateNetwork\n      summary: Update private network\n      parameters:\n      - in: path\n        name: zone\n        description: The zone you want to target\n        required: true\n        schema:\n          type: string\n          description: The zone you want to target\n          enum:\n          - fr-par-1\n          - nl-ams-1\n      - in: path\n        name: private_network_id\n        description: The private network ID\n        required: true\n        schema:\n          type: string\n          description: The private network ID\n      responses:\n        \"200\":\n          description: \"\"\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/scaleway.vpc.v1.PrivateNetwork'\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n                  description: The name of the private network\n                  nullable: true\n                tags:\n                  type: array\n                  description: The private networks tags\n                  nullable: true\n                  items:\n                    type: string\n              x-properties-order:\n              - name\n              - tags\n      security:\n      - scaleway: []\n    delete:\n      tags:\n      - Private Networks\n      operationId: DeletePrivateNetwork\n      summary: Delete a private network\n      parameters:\n      - in: path\n        name: zone\n        description: The zone you want to target\n        required: true\n        schema:\n          type: string\n          description: The zone you want to target\n          enum:\n          - fr-par-1\n          - nl-ams-1\n      - in: path\n        name: private_network_id\n        description: The private network ID\n        required: true\n        schema:\n          type: string\n          description: The private network ID\n      responses:\n        \"204\":\n          description: \"\"\n      security:\n      - scaleway: []\n",
			"canonicalURL": "/github.com/FGRibreau/scaleway-api-client@d59b9b59cc7a7b9a29a50481008d67382fe78871/-/blob/openapi/scaleway.vpc.v1.Api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/FGRibreau/scaleway-api-client/blob/d59b9b59cc7a7b9a29a50481008d67382fe78871/openapi/scaleway.vpc.v1.Api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}