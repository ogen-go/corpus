{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/PaloAltoNetworks/prisma.pan.dev"
		},
		"file": {
			"name": "IAM.yaml",
			"size": 0,
			"path": "static/oas/cspm/IAM.yaml",
			"byteSize": 23714,
			"content": "openapi: 3.0.1\ninfo:\n  title: IAM Security API Overview\n  description: |\n   Prisma Cloud identity and access management (IAM) security provides:\n   * Visiblity\u0026mdash;Query all relevant IAM entities\n   * Gonvernance\u0026mdash;Monitor your cloud environment for overly-used permissions\n   * Response\u0026mdash;Automatically remediate permissions\n\n   The IAM security endpoints enable you to investigate IAM data programmatically.\n\n   See [Primsa Cloud IAM Security](https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-admin/prisma-cloud-iam-security/what-is-prisma-cloud-iam-security.html)\n   for more information.\n\n\n   ### Error Handling\n\n   Like other Prisma Cloud public API requests, the IAM security API requests return standard HTTP response codes. \n   Unlike most other CSPM API error handling, IAM security API error responses do not include an [x-redlock-status](https://prisma.pan.dev/api/cloud/api-errors)\n   in the response header.\n\n\n   ### Pagination\n\n   You can control the number of items in a response for endpoints that support pagination. \n   Use request parameter **limit** to control the maximum number of items in a response. If the response includes\n   **data.nextPageToken**, use **data.nextPageToken** as the request parameter **pageToken** in a request for\n   the next page of data. \n   \n   The following table summarizes the request parameters for pagination:\n\n   Request Parameter  | Description  \n   -----------| -------\n   **limit** | Maximum number of items to return in a page.\n   **pageToken** | Use the **data.nextPageToken** value from the previous response object to return the next page of data.\n  version: Latest\n  contact: {}\nservers:\n- url: https://api.prismacloud.io\ntags:\n- description: The IAM security endpoints are listed below.\n  name: IAM Security\npaths:\n  /api/v1/permission:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Permissions\n      description: Returns the results of a given [IAM query](https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-rql-reference/rql-reference/iam-query.html).\n\n\n       If you set the **Accept** request header to **appliation/json**, the response object contains an array of items with permissions data.\n  \n         \n       The request parameter **limit** determines the number of items\u0026mdash;for example, permissions\u0026mdash;in the response object. If the amount of available data is greater than the \n       specified **limit**, use the response object attribute **data.nextPageToken** as the request parameter **pageToken** in \n       [Get Permissions Next Page](/api/cloud/cspm/iam#operation/get-next-permissions-page-with-post) to request the\n       next page of data.\n\n\n        If you set the **Accept** request header to **text/csv**, the response is a CSV that contains permissions details.\n      operationId: get-permissions-with-post\n      requestBody:\n        description: Model for Permission Search Request DTO\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PermissionSearchRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []  \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PermissionSearchResponseDto'\n            text/csv:\n              schema:\n                type: string\n        '201':\n          description: Created\n        '401':\n          description: Unauthorize\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/permission/page:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Permissions Next Page\n      operationId: get-next-permissions-page-with-post\n      description: Given a request parameter **pageToken**, returns the next page of permissions data. \n       You can find the value for **pageToken** from the response object of a previous request to\n       [Get Permissions](/api/cloud/cspm/iam#operation/get-permissions).        \n      requestBody:\n        description: Model for Permission Search Page Request DTO\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PermissionSearchPageRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PermissionSearchResultDataDto'\n            text/plain:\n              schema:\n                $ref: '#/components/schemas/PermissionSearchResultDataDto'\n        '201':\n          description: Created\n        '401':\n          description: Unauthorize\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/permission/access:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Permissions Access\n      description: |\n       Given a permission ID and an \n       [IAM query](https://docs.paloaltonetworks.com/prisma/prisma-cloud/prisma-cloud-rql-reference/rql-reference/iam-query.html),\n       returns data about the actual permission usage (last access).\n\n\n       The request parameter **limit** determines the number of items\u0026mdash;that is, last access\u0026mdash;in the response object. \n       \n       \n       If the amount of available data is greater than the \n       specified **limit**, use the response object attribute **data.nextPageToken** as the request parameter **pageToken** in \n       [Get Permissions Access Next Page](/api/cloud/cspm/iam#operation/get-next-permissions-access-with-post) to request the\n       next page of data.\n      operationId: get-permissions-access-with-post\n      requestBody:\n        description: Model for Permission Access Request DTO\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PermissionAccessRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PermissionAccessResponseDto'\n        '201':\n          description: Created\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/permission/access/page:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Permissions Access Next Page\n      description: |\n       Given a request parameter **pageToken**, returns the next page of permissions data.\n       You can find the value for **pageToken** from the response object of a previous request to \n       [Get Permissions Access](/api/cloud/cspm/iam#operation/get-permissions-access)\n      operationId: get-next-permissions-access-with-post\n      requestBody:\n        description: Model for Permission Access Page Request DTO\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/PermissionAccessPageRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/PermissionAccessResultDataDto'\n        '201':\n          description: Created\n        '401':\n          description: Unauthorize\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/permission/alert/remediation:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Remediation\n      operationId: get-remediation-with-post\n      description: Returns a list of remediations for the specified alert IDs.\n      requestBody:\n        description: Model for RemediationRequestDto\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RemediationRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RemediationResponseDto'\n        '201':\n          description: Created\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/permission/alert/search:\n    get:\n      tags:\n      - IAM Security\n      summary: Get IAM Query\n      operationId: get-rql-with-get\n      description: Returns the IAM query for the specified alert ID.\n      parameters:\n      - name: alertId\n        in: query\n        description: alertId\n        required: true\n        schema:\n          type: string\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RqlResponseDto'\n        '401':\n          description: Unauthorize\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n  /api/v1/suggest:\n    post:\n      tags:\n      - IAM Security\n      summary: Get Query Suggestions\n      operationId: get-suggestions-with-post\n      description: Given a partial IAM query, returns suggestions to append to your query either \n       to create a complete valid IAM query or to build a further partial query. Also indicates whether or not the\n       query you input is already a valid IAM query.\n      requestBody:\n        description: Model for SuggestRequestDto\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SuggestRequestDto'\n        required: true\n      security:\n      - x-redlock-auth: []        \n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/SuggestResponseDto'\n        '201':\n          description: Created\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\ncomponents:\n  securitySchemes:\n    x-redlock-auth:\n      description: The x-redlock-auth value is a JSON Web Token (JWT).\n      in: header\n      name: x-redlock-auth\n      type: apiKey\n  schemas:\n    PermissionAccessPageRequestDto:\n      description: Model for Permission Access Page Request DTO\n      type: object\n      properties:\n        limit:\n          type: integer\n          description: 'Maximun number of items to return for the given query. Default is 0.'\n          format: int32\n          example: 5\n        pageToken:\n          type: string\n          description: 'Page token (default: empty string)'\n          example: ++fdfkjsdlfsdfdFDSFDFSDFdfdssfdFDS\n    PermissionAccessRequestDto:\n      description: Model for Permission Access Request DTO\n      required:\n      - permissionId\n      - query\n      type: object\n      properties:\n        limit:\n          type: integer\n          description: Maximun number of items to return for the given query. Default is 0.\n          format: int32\n          example: 5\n        permissionId:\n          type: string\n          description: Permission Id\n          example: \"111111\"\n        query:\n          type: string\n          description: Query string\n          example: config from iam where ...\n    PermissionAccessResponseDto:\n      description: Model for Permission Access Response DTO\n      type: object\n      properties:\n        data:\n          $ref: '#/components/schemas/PermissionAccessResultDataDto'\n    PermissionAccessResultDataDto:\n      description: Model for Permission Access Result Data DTO\n      type: object\n      properties:\n        items:\n          type: array\n          description: Permissions list\n          readOnly: true\n          items:\n            $ref: '#/components/schemas/PermissionLastAccessDto'\n        nextPageToken:\n          type: string\n          description: Next page token\n          readOnly: true\n          example: ++fdfkjsdlfsdfdFDSFDFSDFdfdssfdFDS\n        totalRows:\n          type: integer\n          description: Total row count\n          format: int64\n          readOnly: true\n          example: 1243\n    PermissionDto:\n      description: Model for Permission DTO\n      type: object\n      properties:\n        accessedResourcesCount:\n          type: integer\n          description: Accessed resource count\n          format: int64\n        destCloudAccount:\n          type: string\n          description: Destination cloud account\n          example: \"123456789\"\n        destCloudRegion:\n          type: string\n          description: Destination cloud region\n          example: AWS London\n        destCloudResourceRrn:\n          type: string\n          description: Destination cloud resource RRN\n          example: rrn::other:eu-west-2:123456789012::my-function\n        destCloudServiceName:\n          type: string\n          description: Destination cloud service name\n          example: iam\n        destCloudType:\n          type: string\n          description: Destination cloud type\n          example: AWS\n        destResourceId:\n          type: string\n          description: Destination cloud resource id\n          example: arn:aws:iam::111111:user/john\n        destResourceName:\n          type: string\n          description: Destination cloud resource name\n          example: john\n        destResourceType:\n          type: string\n          description: Destination cloud resource type\n          example: user\n        effectiveActionName:\n          type: string\n          description: Effective action name\n        exceptions:\n          type: array\n          description: Permission exception list\n          items:\n            $ref: '#/components/schemas/PermissionExceptionDto'\n        grantedByCloudEntityId:\n          type: string\n          description: Granted by cloud entity id\n          example: arn:aws:iam::\u003caccount\u003e:role/my-role\n        grantedByCloudEntityName:\n          type: string\n          description: Granted by cloud entity name\n          example: my-role\n        grantedByCloudEntityRrn:\n          type: string\n          description: Granted by cloud entity rrn\n          example: rrn::other::123456789:AIDAIDAIDAIDAIDAIDAID\n        grantedByCloudEntityType:\n          type: string\n          description: Granted by cloud entity type\n          example: user\n        grantedByCloudPolicyId:\n          type: string\n          description: Granted by cloud policy Id\n          example: arn:aws:iam::aws:policy/aws-policy\n        grantedByCloudPolicyName:\n          type: string\n          description: Granted by cloud policy name\n          example: my-policy\n        grantedByCloudPolicyRrn:\n          type: string\n          description: Granted by cloud policy rrn\n          example: rrn::iamPolicy::123456789012::arn:aws:iam:eu-west-2\n        grantedByCloudPolicyType:\n          type: string\n          description: Granted by cloud policy type\n          example: Customer Managed Policy\n        grantedByCloudType:\n          type: string\n          description: Granted by cloud type\n          example: AWS\n        id:\n          type: string\n          description: Message id\n          example: \"13\"\n        isWildCardDestCloudResourceName:\n          type: boolean\n          description: Is destination cloud resource name a wildcard\n          example: false\n        lastAccessDate:\n          type: string\n          description: Last accessed data\n        sourceCloudAccount:\n          type: string\n          description: Source cloud account\n          example: \"123456789\"\n        sourceCloudRegion:\n          type: string\n          description: Source cloud region\n          example: AWS London\n        sourceCloudResourceRrn:\n          type: string\n          description: Source cloud resource RRN\n          example: rrn::iamUser::123456789012::AIDAIDAIDAIDAIDAIDAID\n        sourceCloudServiceName:\n          type: string\n          description: Source cloud service name\n          example: iam\n        sourceCloudType:\n          type: string\n          description: Source cloud type\n          example: AWS\n        sourceIdpDomain:\n          type: string\n          description: Source IDP domain\n        sourceIdpEmail:\n          type: string\n          description: Source IDP email\n        sourceIdpGroup:\n          type: string\n          description: Source IDP group\n        sourceIdpRrn:\n          type: string\n          description: Source idp RRN\n          example: rrn::other::idp-account-id::idp-user-id\n        sourceIdpService:\n          type: string\n          description: Source IDP service\n          enum:\n          - AZURE_AD\n          - OKTA\n          - UNKNOWN\n        sourceIdpUsername:\n          type: string\n          description: Source IDP user name\n        sourcePublic:\n          type: boolean\n          description: Is source public\n          example: false\n        sourceResourceId:\n          type: string\n          description: Source cloud resource id\n          example: arn:aws:iam::111111:user/john\n        sourceResourceName:\n          type: string\n          description: Source cloud resource name\n          example: john\n        sourceResourceType:\n          type: string\n          description: Source cloud resource type\n          example: user\n    PermissionExceptionDto:\n      description: Model for Permission Exception DTO\n      type: object\n      properties:\n        messageCode:\n          type: string\n          description: Message code\n          example: LIMITED_BY_DENY_STATEMENT\n    PermissionLastAccessDto:\n      description: Model for Permission Last Access DTO\n      type: object\n      properties:\n        destCloudResourceName:\n          type: string\n          description: Destination cloud resource name\n          example: my-function\n        lastAccessDate:\n          type: string\n          description: Action last access date in the format of a unix timestamp\n          example: \"1593691785\"\n    PermissionSearchPageRequestDto:\n      description: Model for Permission Search Page Request DTO\n      type: object\n      properties:\n        limit:\n          type: integer\n          format: int32\n          description: Maximun number of items to return\n        pageToken:\n          type: string\n          description: Page token from the response object of an earlier request to get permissions.\n    PermissionSearchRequestDto:\n      description: Model for Permission Search Request DTO\n      required:\n      - limit\n      - query\n      type: object\n      properties:\n        id:\n          type: string\n          description: Request user Id\n          example: \"123456\"\n        limit:\n          type: integer\n          description: Maximun number of items to return for the given query\n          format: int32\n          example: 5\n        query:\n          type: string\n          description: 'IAM RQL query'\n          example: config from iam where ...\n    PermissionSearchResponseDto:\n      description: Model for Permission Search Response DTO\n      type: object\n      properties:\n        data:\n          $ref: '#/components/schemas/PermissionSearchResultDataDto'\n        description:\n          type: string\n          description: Search description\n          example: search-description\n        id:\n          type: string\n          description: Request user Id\n          example: \"111111\"\n        name:\n          type: string\n          description: Search name\n          example: search-name\n        query:\n          type: string\n          description: Query string\n          example: config from iam where ...\n        saved:\n          type: boolean\n          description: Is search saved\n          example: true\n        searchType:\n          type: string\n          description: Search type\n          example: search-type\n        timeRange:\n          $ref: '#/components/schemas/TimeRangeDto'\n    PermissionSearchResultDataDto:\n      description: Model for Permission Search Result Data DTO\n      type: object\n      properties:\n        items:\n          type: array\n          description: Requested permissions list\n          items:\n            $ref: '#/components/schemas/PermissionDto'\n        nextPageToken:\n          type: string\n          description: Next page token\n          example: ++fdfkjsdlfsdfdFDSFDFSDFdfdssfdFDS\n        searchedDestCloudResourceNames:\n          uniqueItems: true\n          type: array\n          description: Searched destination cloud resource names\n          example: []\n          items:\n            type: string\n        totalRows:\n          type: integer\n          description: Total row count\n          format: int64\n          example: 1243\n    RemediationRequestDto:\n      description: Model for Remediation Request DTO\n      required:\n      - alerts\n      type: object\n      properties:\n        alerts:\n          type: array\n          description: List of relevant alerts\n          example:\n          - I-1234\n          - I-1235\n          items:\n            type: string\n    RemediationResponseDto:\n      description: Model for Remediation Response DTO\n      type: object\n      properties:\n        alertIdVsCliScript:\n          type: object\n          additionalProperties:\n            type: string\n          description: List of relevant remediations\n          readOnly: true\n          example:\n            I-1234: cli command1\n            I-1235: cli command2\n        cliDescription:\n          type: string\n          description: Cli Description\n          readOnly: true\n          example: The following are CLI commands required for remediation. Successful\n            execution will limit the relevant permissions of the violating resource.}\n    RqlResponseDto:\n      description: Model for RQL Response DTO\n      type: object\n      properties:\n        data:\n          type: array\n          items:\n            type: string\n        query:\n          type: string\n        timeRange:\n          $ref: '#/components/schemas/TimeRangeDto'\n    SuggestRequestDto:\n      description: Model for Suggest Request DTO\n      required:\n      - query\n      type: object\n      properties:\n        query:\n          type: string\n          description: Query to validate\n          example: config from iam where dest.cloud.type='AWS'\n    SuggestResponseDto:\n      description: Model for Suggest Response DTO\n      type: object\n      properties:\n        needsOffsetUpdate:\n          type: boolean\n          description: Should add offset from the query beginning\n          readOnly: true\n          example: true\n        offset:\n          type: integer\n          description: The number of characters of offset from the query beginning\n          format: int32\n          readOnly: true\n          example: 43\n        suggestions:\n          uniqueItems: true\n          type: array\n          description: Suggestion list\n          readOnly: true\n          example:\n          - AND\n          items:\n            type: string\n        translate:\n          type: boolean\n          description: Should translate\n          readOnly: true\n          example: false\n        valid:\n          type: boolean\n          description: Is query valid\n          readOnly: true\n          example: true\n    TimeRangeDto:\n      description: Model for Time Range DTO\n      type: object\n      properties:\n        type:\n          type: string\n          description: Time range type\n          example: to_now\n        value:\n          type: string\n          description: Time range value\n          example: epoch\n",
			"canonicalURL": "/github.com/PaloAltoNetworks/prisma.pan.dev@b738b3f9404554218e437ccabc9187b4ff7ec563/-/blob/static/oas/cspm/IAM.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/PaloAltoNetworks/prisma.pan.dev/blob/b738b3f9404554218e437ccabc9187b4ff7ec563/static/oas/cspm/IAM.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}