{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/neelkamath/crystal-skull"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "docs/openapi.yaml",
			"byteSize": 14542,
			"content": "openapi: 3.0.3\ninfo:\n  title: Crystal Skull\n  version: '0'\n  description: |\n    Generates an entire quiz in English with just a topic name, or even nothing at all for a random one. You can also\n    generate a quiz off of text you supply.\n\n    You can view the documentation for previous versions [here](https://github.com/neelkamath/crystal-skull/releases).\n  contact:\n    name: Neel Kamath\n    email: neelkamath@icloud.com\n    url: https://github.com/neelkamath/crystal-skull\n  license:\n    name: MIT\n    url: https://opensource.org/licenses/MIT\nservers:\n  - url: http://localhost:80\n    description: You'll have to set up the server yourself.\npaths:\n  /search:\n    get:\n      tags: [search]\n      description: Searches for topics to generate a quiz on.\n      operationId: searchTopics\n      parameters:\n        - $ref: '#/components/parameters/TopicQuery'\n      responses:\n        '200':\n          $ref: '#/components/responses/SearchResults'\n  /search_trending:\n    get:\n      tags: [search]\n      description: |\n        Searches for topics trending locally and internationally in the last day to generate a quiz on.\n\n        Search results are returned from Wikipedia. It has been found that for random long periods of time, zero search\n        results are returned regardless of the input. Only this endpoint is affected (i.e., other searches work fine).\n      operationId: searchTrendingTopics\n      parameters:\n        - $ref: '#/components/parameters/TrendingTopicQuery'\n      responses:\n        '200':\n          $ref: '#/components/responses/SearchResults'\n  /quiz:\n    post:\n      tags: [quiz]\n      description: |\n        Generate a quiz containing fill-in-the-blank questions on a topic or off of the supplied text.\n\n        You may send either the `\"topic\"` or the `\"text\"` key, but not both. If neither of them are provided, a popular\n        topic from the previous day will be chosen (e.g., if the movie Batman released recently, the movie will be taken\n        as the topic). The random topic is taken from Wikipedia's most popular pages the previous day. It has been found\n        that Wikipedia returns zero search results for trending topics for random long periods of time. During such\n        periods, a completely random (i.e., possibly boring and irrelevant) topic will be chosen instead.\n      operationId: generateQuiz\n      requestBody:\n        $ref: '#/components/requestBodies/Quiz'\n      responses:\n        '200':\n          $ref: '#/components/responses/Quiz'\n  /health_check:\n    get:\n      tags: [status]\n      description: Check if all systems are operational\n      operationId: healthCheck\n      responses:\n        '200':\n          $ref: '#/components/responses/Status'\ncomponents:\n  schemas:\n    QuizRequest:\n      type: object\n      properties:\n        topic:\n          description: |\n            Generate a quiz for this topic. You must get the topic name by performing an HTTP GET request to the\n            `/search` endpoint.\n          type: string\n        text:\n          description: |\n            Generate a quiz off of this text. You can enhance the accuray of the generated questions by\n            splitting the text into its respective subtopics. For example, if the text is on the topic of Bill\n            Gates, you can split it into multiple `string`s such as for \"Early Life\", \"Career\", etc.\n          type: array\n          items:\n            type: string\n        max:\n          description:\n            The maximum number of questions to return. Quizzes may contain hundreds of questions. If you only\n            need a certain number, specifying a maximum number to send back will reduce the download size.\n          type: integer\n          minimum: 0\n        allow_sans_years:\n          description:\n            Questions on dates may contain options lacking years (e.g., `June 7` instead of `June 7, 2000`).\n            Since such questions may be unnecessarily difficult and/or irrelevant to a person's study, options\n            lacking years are disallowed by default.\n          type: boolean\n          default: false\n        duplicate_answers:\n          description:\n            This states whether the quiz may include more than one question having the same answer. For example,\n            one question may be `Apple Computer Company was founded by Steve Jobs.`, and another would be `Apple\n            purchased NeXT for its NeXTSTEP operating system and to bring Steve Jobs back.`. Although both the\n            questions are different (and would have different options), both their answers are `Steve Jobs`.\n          type: boolean\n          default: false\n        duplicate_sentences:\n          default: false\n          description:\n            This states whether to include multiple questions from the same sentence. Take the sentence `Apple\n            was founded by Steve Jobs in April 1976.` for example. Two questions may be generated from this, one\n            being `Apple was founded by Steve Jobs in April 1976.` (where the answer is `Steve Jobs`), and\n            another might be `Apple was founded by Steve Jobs in April 1976.` (where the answer is `April\n            1976`). Although the questions and answers (and hence, options) are different, they are based on the\n            same sentence. This has the potential of making the quiz slightly boring, or having certain\n            questions too easy since the user already knows the answer to the next duplicate sentence because\n            they have read the rest of the same sentence in a previous question.\n          type: boolean\n    Quiz:\n      type: object\n      properties:\n        quiz:\n          type: array\n          items:\n            type: object\n            properties:\n              question:\n                type: string\n              context:\n                description:\n                  Occasionally, the question is insufficient for the user to understand what is being asked.\n                  For example, the question `This slump caused the company to collapse in 1997.` is impossible\n                  to understand. For this reason, this field will contain the sentence present prior to the\n                  question. If the question is the first sentence in its passage, then this field will be\n                  `null` (a context isn't required in such cases anyway).\n                type: string\n                nullable: true\n              options:\n                description: Possible answers\n                type: array\n                items:\n                  type: string\n                minItems: 4\n                maxItems: 4\n              answer_offset:\n                description: The character offsets of the correct option in the `question`.\n                type: object\n                properties:\n                  start:\n                    type: integer\n                    description: Starting offset\n                  end:\n                    type: integer\n                    description: Ending offset\n                required: [start, end]\n              answer:\n                description: The `string` in the `question` marked by `answer_offset`\n                type: string\n              label:\n                description: |\n                  Type of question\n\n                  `\"person\"`: People, including fictional.\n\n                  `\"norp\"`: Nationalities or religious or political groups.\n\n                  `\"fac\"`: Buildings, airports, highways, bridges, etc.\n\n                  `\"org\"`: Companies, agencies, institutions, etc.\n\n                  `\"gpe\"`: Countries, cities, states.\n\n                  `\"loc\"`: Non-GPE locations, mountain ranges, bodies of water.\n\n                  `\"product\"`: Objects, vehicles, foods, etc. (Not services.)\n\n                  `\"event\"`: Named hurricanes, battles, wars, sports events, etc.\n\n                  `\"work_of_art\"`: Titles of books, songs, etc.\n\n                  `\"law\"`: Named documents made into laws.\n\n                  `\"language\"`: Any named language.\n\n                  `\"date\"`: Absolute or relative dates or periods.\n\n                  `\"time\"`: Times smaller than a day.\n\n                  `\"percent\"`: Percent\n\n                  `\"money\"`: Monetary values, including unit.\n\n                  `\"quantity\"`: Measurements, as of weight or distance.\n\n                  `\"ordinal\"`: “first”, “second”, etc.\n\n                  `\"cardinal\"`: Numerals that do not fall under another type.\n                type: string\n                enum:\n                  - norp\n                  - fac\n                  - org\n                  - gpe\n                  - loc\n                  - product\n                  - event\n                  - work_of_art\n                  - law\n                  - language\n                  - date\n                  - time\n                  - percent\n                  - money\n                  - quantity\n                  - ordinal\n                  - cardinal\n            required: [question, answer_offset, answer, options, type]\n        metadata:\n          description: This will be present if the quiz was generated for a topic, but not for supplied text.\n          type: object\n          properties:\n            topic:\n              description: This was the topic used to generate the quiz.\n              type: string\n            url:\n              description: This is the URL of the Wikipedia page used to generate the quiz.\n              type: string\n        related:\n          type: array\n          items:\n            type: string\n          description: Quizzes can be generated for these related topics. Topics are sorted in descending order of\n            relevance.\n      required: [quiz]\n    TopicQuery:\n      type: string\n      example: appl\n    TrendingTopic:\n      type: number\n      default: 5\n      example: 3\n    Query:\n      example:\n        topics:\n          - topic: Apple\n            description:\n              An apple is a sweet, edible fruit produced by an apple tree (Malus domestica). Apple trees are\n              cultivated worldwide and are the most widely grown species in the genus Malus.\n          - topic: Apple Inc.\n            description:\n              Apple Inc. is an American multinational technology company headquartered in Cupertino,\n              California, that designs, develops, and sells consumer electronics, computer software, and\n              online services.\n      type: object\n      properties:\n        topics:\n          type: array\n          items:\n            type: object\n            properties:\n              topic:\n                description: Topic name\n                type: string\n                example: Apple Inc.\n              description:\n                description: Topic description\n                type: string\n                example:\n                  Apple Inc. is an American multinational technology company headquartered in Cupertino,\n                  California, that designs, develops, and sells consumer electronics, computer software, and\n                  online services.\n            required: [topic, description]\n      required: [topics]\n  responses:\n    SearchResults:\n      description: Topic names and descriptions\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Query'\n      links:\n        quiz:\n          $ref: '#/components/links/Quiz'\n    Quiz:\n      description: Generated quiz\n      content:\n        application/json:\n          examples:\n            topic:\n              summary: Quiz on a topic\n              value:\n                quiz:\n                  - question: In 1996, Spindler was replaced by Gil Amelio as CEO.\n                    options: [Steve Jobs, Gil Amelio, Steve Wozniak, Ronald Wayne]\n                    answer_offset:\n                      start: 34\n                      end: 44\n                    answer: Gil Amelio\n                    label: person\n                metadata:\n                  topic: Apple Inc.\n                  url: https://en.wikipedia.org/wiki/Apple_Inc.\n                related: [Pixar]\n            text:\n              summary: Quiz for supplied text\n              value:\n                quiz:\n                  - question: Microsoft launched its first retail version of Windows in 1985.\n                    context: The trade name \"Microsoft\" was registered on November 26, 1976.\n                    options:\n                      - June 12, 1956\n                      - November 26, 1976\n                      - 1985, September 27\n                      - '1985'\n                    answer_offset:\n                      start: 58\n                      end: 62\n                    answer: '1985'\n                    label: date\n                related: [Microsoft]\n          schema:\n            $ref: '#/components/schemas/Quiz'\n    Status:\n      description: All systems are operational\n      content:\n        application/json:\n          example:\n            quiz: true\n            nlp: true\n          schema:\n            type: object\n            properties:\n              quiz:\n                type: boolean\n                description: Whether the quiz generator is operational\n              nlp:\n                type: boolean\n                description: Whether the NLP service is operational\n            required: [quiz, nlp]\n  parameters:\n    TopicQuery:\n      name: query\n      in: query\n      description: Topics to search for\n      required: true\n      schema:\n        $ref: '#/components/schemas/TopicQuery'\n    TrendingTopicQuery:\n      name: max\n      in: query\n      description: Maximum number of topics to retrieve\n      schema:\n        $ref: '#/components/schemas/TrendingTopic'\n  requestBodies:\n    Quiz:\n      description: Configures how the quiz will be generated\n      content:\n        application/json:\n          examples:\n            topic:\n              summary: Generating a quiz for a topic\n              value:\n                topic: Apple Inc.\n            text:\n              summary: Generating a quiz off of supplied text\n              value:\n                text:\n                  - Bill Gates was born in Seattle. His father was a lawyer.\n                  - The trade name \"Microsoft\" was registered on November 26, 1976. Microsoft launched its first\n                    retail version of Windows in 1985.\n          schema:\n            $ref: '#/components/schemas/QuizRequest'\n  links:\n    Quiz:\n      operationId: generateQuiz\n      requestBody: $response.body#/topics/0/topic\n      description: Generate a quiz on this topic",
			"canonicalURL": "/github.com/neelkamath/crystal-skull@ae17cf7114c5b5091a026ed0ba07f1dceb7b905f/-/blob/docs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/neelkamath/crystal-skull/blob/ae17cf7114c5b5091a026ed0ba07f1dceb7b905f/docs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}