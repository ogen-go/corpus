{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/PurotoApp/authfox"
		},
		"file": {
			"name": "swagger.yml",
			"size": 0,
			"path": "swagger/swagger.yml",
			"byteSize": 6333,
			"content": "openapi: 3.0.0\ninfo:\n  title: Authfox\n  description: |\n    The authentication and session server of Puroto.\n  version: 0.0.1\nservers:\n- url: https://api.puroto.net\n  description: The official Puroto API server\npaths:\n  /v1/user:\n    post:\n      summary: register new user\n      description: Registers a new user and returns a verify session\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                user_name:\n                  type: string\n                  description: The user's name with prefered capitalization\n                email:\n                  type: string\n                  description: The user's email address\n                password:\n                  type: string\n                  description: The user's password\n      responses:\n        \"202\":\n          description: Registration was successfull\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  uid:\n                    type: string\n                    format: UUID\n                    description: The user's ID\n                  token:\n                    type: string\n                    format: base64\n                    description: |\n                      A session token that is only valid to verify the user's\n                      email address\n        \"400\":\n          description: Received invalid json data\n        \"406\":\n          description: Invalid content-type header\n        \"500\":\n          description: Internal server error\n    patch:\n      summary: Update password\n      description: Update the given user's password\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                uid:\n                  type: string\n                  format: UUID\n                  description: The user's ID\n                token:\n                  type: string\n                  format: base64\n                  description: | \n                    The user's session ID. Verify sessions are not allowed.\n                password_old:\n                  type: string\n                  description: The old password of the account\n                password_new:\n                  type: string\n                  description: The new password yo update to\n      responses:\n        \"202\":\n          description: The password was updated successfully\n        \"400\":\n          description: Received invalid json data\n        \"401\":\n          description: The session or password is invalid\n        \"406\":\n          description: Invalid content-type header\n        \"500\":\n          description: Internal server error\n  /v1/user/login:\n    post:\n      summary: account login\n      description: Login a user with their username or email and password.\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                login:\n                  type: string\n                  description: Username or email of the account\n                password:\n                  type: string\n                  description: Account password\n      responses:\n        \"202\":\n          description: Login was successfull\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  uid:\n                    type: string\n                    format: UUID\n                    description: The user identifier\n                  token:\n                    type: string\n                    format: base64\n                    description: The session token\n                  verify_only:\n                    type: boolean\n                    description: |\n                      Indicates if the session can only be used for verifying\n                      the user's email address\n        \"400\":\n          description: Received invalid json data\n        \"401\":\n          description: The user does not exist or wrong password\n        \"406\":\n          description: Invalid content-type header\n        \"500\":\n          description: Internal server error\n  /v1/user/verify:\n    post:\n      summary: verify email address\n      description: Verify a given user's email address\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                uid:\n                  type: string\n                  format: UUID\n                  description: The user's ID\n                token:\n                  type: string\n                  format: base64\n                  description: |\n                    The session token. Only verify tokens are accepted\n                verify_code:\n                  type: string\n                  format: base64\n                  description: |\n                    Verification code that was send to the user's email address\n      responses:\n        \"202\":\n          description: Email verified successfully\n        \"400\":\n          description: Received invalid json data\n        \"401\":\n          description: |\n            The session does not exist or the session or token is invalid\n        \"406\":\n          description: Invalid content-type header\n        \"500\":\n          description: Internal server error\n  /v1/user/validate:\n    post:\n      summary: validate session\n      description: Check whether a session is valid or not\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                uid:\n                  type: string\n                  format: UUID\n                  description: The user's ID\n                token:\n                  type: string\n                  format: base64\n                  description: |\n                    The user's session token. Verify sessions are not allowed!\n      responses:\n        \"200\":\n          description: The session is valid\n        \"400\":\n          description: Received invalid json data\n        \"401\":\n          description: The session is invalid\n        \"406\":\n          description: Invalid content-type header\n        \"500\":\n          description: Internal server error\n",
			"canonicalURL": "/github.com/PurotoApp/authfox@70d383d2c9948f8c672f0871022e4e9189d7a466/-/blob/swagger/swagger.yml",
			"externalURLs": [
				{
					"url": "https://github.com/PurotoApp/authfox/blob/70d383d2c9948f8c672f0871022e4e9189d7a466/swagger/swagger.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}