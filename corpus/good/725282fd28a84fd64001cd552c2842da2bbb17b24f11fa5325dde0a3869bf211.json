{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/mydddOrg/myddd-vertx"
		},
		"file": {
			"name": "oauth2-api.yml",
			"size": 0,
			"path": "myddd-vertx-oauth2/myddd-vertx-oauth2-bootstrap/src/main/resources/oauth2-api.yml",
			"byteSize": 7540,
			"content": "openapi: \"3.0.2\"\ninfo:\n  title: ISV 网关\n  version: \"1.0\"\nservers:\n  - url: http://127.0.0.1:8080/v1\n    description: 本地服务器\npaths:\n  /oauth2/clients:\n    post:\n      tags:\n        - \"OAuth2\"\n      summary: 请求创建一个新的OAuth2 Client\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                clientId:\n                  type: string\n                  description: clientId，全局唯一，只支持字母，数字以及下划线\n                name:\n                  type: string\n                  description: client的名字\n                description:\n                  type: string\n                  description: client的详细描述\n              required:\n                - \"clientId\"\n                - \"name\"\n              example:\n                clientId: MY_CLIENT_ID\n                name: 测试应用\n\n      responses:\n        \"200\":\n          description: 创建成功\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ErrorResponse\"\n              example:\n                clientId: MY_CLIENT_ID\n                name: 测试应用\n                clientSecret: c886a300-72b7-11eb-9439-0242ac130002\n                description: 这是一个示例应用的详细说明，你在这里可以描述更多应用的信息\n\n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n        \"403\":\n          description: 没有权限执行此操作\n\n  /oauth2/clients/clientSecret:\n    patch:\n      tags:\n        - \"OAuth2\"\n      summary: 重置一个client的secret\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                clientId:\n                  type: string\n                  description: 需要重置的clientId\n                clientSecret:\n                  type: string\n                  description: 原clientSecret\n              required:\n                - \"clientId\"\n                - \"clientSecret\"\n              example:\n                clientId: MY_CLIENT_ID\n                clientSecret: c886a300-72b7-11eb-9439-0242ac130002\n\n      responses:\n        \"200\":\n          description: 重置成功\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  clientSecret:\n                    type: string\n                    description: 重置后新生成的clientSecret\n                example:\n                  clientSecret: c886a300-72b7-11eb-9439-0242ac130002\n                  \n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n\n  /oauth2/clients/{clientId}/disabledStatus:\n    patch:\n      tags:\n        - \"OAuth2\"\n      summary: 启用或禁用一个clientId\n      parameters:\n        - name: clientId\n          in: path\n          required: true\n          description: 需要修改状态的clientId\n          schema:\n            type: string\n\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                clientId:\n                  type: string\n                  description: 需要修改状态的clientId\n                disabled:\n                  type: boolean\n                  description: 状态值,true表示禁用，false表示启用\n      responses:\n        \"204\":\n          description: OK\n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n\n  /oauth2/token:\n    post:\n      tags:\n        - \"OAuth2\"\n      summary: 申请accessToken\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                clientId:\n                  type: string\n                  description: 需要申请token的clientId\n                clientSecret:\n                  type: string\n                  description: 需要申请token的clientSecret\n                grantType:\n                  type: string\n                  default: \"client_credentials\"\n                  description: 当前只支持client_credentials一种方式，取固定值\n              required:\n                - \"clientId\"\n                - \"clientSecret\"\n                - \"grantType\"\n\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/tokenResponse\"\n\n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n\n  # 刷新TOKEN\n  /oauth2/refreshToken:\n    post:\n      tags:\n        - \"OAuth2\"\n      summary: 刷新accessToken\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                clientId:\n                  type: string\n                  description: 需刷新token的clientId\n                refreshToken:\n                  type: string\n                  description: 刷新token\n\n      responses:\n        \"200\":\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/tokenResponse\"\n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n  # 注销一个TOKEN\n  /oauth2/clients/{clientId}/token/{accessToken}:\n    delete:\n      tags:\n        - \"OAuth2\"\n      summary: 请求注销一个accessToken\n      parameters:\n        - name: clientId\n          in: path\n          required: true\n          description: 需要注销的clientId\n          schema:\n            type: string\n        - name: accessToken\n          in: path\n          required: true\n          description: 需要注销的clientId\n          schema:\n            type: string\n\n      responses:\n        \"204\":\n          description: OK\n        \"400\":\n          $ref: \"#/components/responses/errorResponse\"\n\ncomponents:\n  schemas:\n    ErrorResponse:\n      type: object\n      properties:\n        errorCode:\n          type: string\n          description: 错误码\n        errorMsg:\n          type: string\n          description: 错误详细描述\n    client:\n      type: object\n      properties:\n        clientId:\n          type: string\n          description: clientId，全局唯一，只支持字母，数字以及下划线\n        clientSecret:\n          type: string\n          description: 系统生成的clientSecret\n        name:\n          type: string\n          description: client的名字\n        description:\n          type: string\n          description: client的详细描述\n    tokenResponse:\n      type: object\n      properties:\n        accessToken:\n          type: string\n          description: 生成的access token\n        refreshToken:\n          type: string\n          description: 刷新token,用来刷新access token\n        accessExpiredIn:\n          type: integer\n          description: accessToken过期时间，单位（豪秒)\n        refreshExpiredIn:\n          type: integer\n          description: refreshToken过期时间,单位 (豪秒)\n\n  responses:\n    errorResponse:\n      description: 操作失败\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/ErrorResponse\"\n          example:\n            errorCode: INVALID_PARAMETERS\n            errorMsg: 非法参数\n\n",
			"canonicalURL": "/github.com/mydddOrg/myddd-vertx@fc1067c691e5912a2aba3137c3536781759101a8/-/blob/myddd-vertx-oauth2/myddd-vertx-oauth2-bootstrap/src/main/resources/oauth2-api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/mydddOrg/myddd-vertx/blob/fc1067c691e5912a2aba3137c3536781759101a8/myddd-vertx-oauth2/myddd-vertx-oauth2-bootstrap/src/main/resources/oauth2-api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}