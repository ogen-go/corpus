{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Jigsaw-Code/outline-server"
		},
		"file": {
			"name": "api.yml",
			"size": 0,
			"path": "src/shadowbox/server/api.yml",
			"byteSize": 12537,
			"content": "openapi: 3.0.1\ninfo:\n  title: Outline Server Management\n  description: API to manage an Outline server. See [getoutline.org](https://getoutline.org).\n  version: '1.0'\ntags:\n  - name: Server\n    description: Server-level functions\n  - name: Access Key\n    description: Access key functions\nservers:\n  - url: https://myserver/SecretPath\n    description: Example URL. Change to your own server.\npaths:\n  /server:\n    get:\n      tags:\n        - Server\n      description: Returns information about the server\n      responses:\n        '200':\n          description: Server information\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Server\"\n              examples:\n                'No data limit':\n                  value: \u003e-\n                    {\"name\":\"My Server\",\"serverId\":\"40f1b4a3-5c82-45f4-80a6-a25cf36734d3\",\"metricsEnabled\":true,\"createdTimestampMs\":1536613192052,\"version\":\"1.0.0\",\"portForNewAccessKeys\":1234,\"hostnameForAccessKeys\":\"example.com\"}\n                'Per-key data limit':\n                  value: \u003e-\n                    {\"name\":\"My Server\",\"serverId\":\"7fda0079-5317-4e5a-bb41-5a431dddae21\",\"metricsEnabled\":true,\"createdTimestampMs\":1536613192052,\"version\":\"1.0.0\",\"accessKeyDataLimit\":{\"bytes\":8589934592},\"portForNewAccessKeys\":1234,\"hostnameForAccessKeys\":\"example.com\"}\n  /server/hostname-for-access-keys:\n    put:\n      tags:\n        - Server\n      description: Changes the hostname for access keys.  Must be a valid hostname or IP address.  If it's a hostname, DNS must be set up independently of this API.\n      requestBody:\n        required: true \n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                hostname:\n                  type: string\n            examples:\n              'hostname':\n                value: '{\"hostname\": www.example.org}'\n              'IP address':\n                value: '{\"hostname\": \"127.0.0.1\"}'\n      responses:\n        '204': \n          description: The hostname was successfully changed.\n        '400':\n          description: An invalid hostname or IP address was provided.\n        '500':\n          description: An internal error occurred.  This could be thrown if there were network errors while validating the hostname\n\n  /server/port-for-new-access-keys:\n    put:\n      description: Changes the default port for newly created access keys.  This can be a port already used for access keys.\n      tags:\n        - Access Key\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                port:\n                  type: number\n            examples:\n              '0':\n                value: '{\"port\": 12345}'\n      responses:\n        '204':\n          description: The default port was successfully changed.\n        '400':\n          description: The requested port wasn't an integer from 1 through 65535, or the request had no port parameter.\n        '409':\n          description: The requested port was already in use by another service.\n          \n  /server/access-key-data-limit:\n    put:\n      description: Sets a data transfer limit for all access keys\n      tags:\n        - Access Key\n        - Limit\n      requestBody:\n        required: true\n        content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DataLimit\"\n              examples:\n                '0':\n                  value: '{\"limit\": {\"bytes\": 10000}}'\n      responses:\n        '204':\n          description: Access key data limit set successfully\n        '400':\n          description: Invalid data limit\n    delete:\n      description: Removes the access key data limit, lifting data transfer restrictions on all access keys.\n      tags:\n        - Access Key\n        - Limit\n      responses:\n        '204':\n          description: Access key limit deleted successfully.\n\n  /name:\n    put:\n      description: Renames the server\n      tags:\n        - Server\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n            examples:\n              '0':\n                value: '{\"name\":\"My Server\"}'\n      responses:\n        '204':\n          description: Server renamed successfully\n        '400':\n          description: Invalid name\n  /access-keys:\n    post:\n      description: Creates a new access key\n      tags:\n        - Access Key\n      responses:\n        '201':\n          description: The newly created access key\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AccessKey\"\n              examples:\n                '0':\n                  value: \u003e-\n                    {\"id\":\"0\",\"name\":\"First\",\"password\":\"XxXxXx\",\"port\":9795,\"method\":\"chacha20-ietf-poly1305\",\"accessUrl\":\"ss://SADFJSKADFJAKSD@0.0.0.0:9795/?outline=1\"}\n                '1':\n                  value: \u003e-\n                    {\"id\":\"1\",\"name\":\"Second\",\"password\":\"xXxXxX\",\"port\":9795,\"method\":\"chacha20-ietf-poly1305\",\"accessUrl\":\"ss://ASDFHAKSDFSDAKFJ@0.0.0.0:9795/?outline=1\"}\n    get:\n      description: Lists the access keys\n      tags:\n        - Access Key\n      responses:\n        '200':\n          description: List of access keys\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  accessKeys:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/AccessKey\"\n              examples:\n                '0':\n                  value: \u003e-\n                    {\"accessKeys\":[\n                      {\"id\":\"0\",\"name\":\"Admin\",\"password\":\"XxXxXx\",\"port\":18162,\"method\":\"chacha20-ietf-poly1305\",\"accessUrl\":\"ss://SADFJSKADFJAKSD@0.0.0.0:18162/?outline=1\"},\n                      {\"id\":\"1\",\"name\":\"First\",\"password\":\"xXxXxX\",\"port\":4410,\"method\":\"chacha20-ietf-poly1305\",\"accessUrl\":\"ss://ASDFSADJFKAS=@0.0.0.0:4410/?outline=1\"},\n                      {\"id\":\"2\",\"name\":\"SecondWithCustomDataLimit\",\"password\":\"XxXxXx\",\"port\":25424,\"method\":\"chacha20-ietf-poly1305\",\"dataLimit\":{\"bytes\":8589934592},\"accessUrl\":\"ss://ASDFHAKSDFSDAKFJ@0.0.0.0:25424/?outline=1\"}]}\n  /access-keys/{id}:\n    delete:\n      description: Deletes an access key\n      tags:\n        - Access Key\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The id of the access key to delete\n          schema:\n            type: string\n      responses:\n        '204':\n          description: Access key deleted successfully\n        '404':\n          description: Access key inexistent\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  code:\n                    type: string\n                  message:\n                    type: string\n              examples:\n                '0':\n                  value: \u003e-\n                    {\"code\":\"NotFoundError\",\"message\":\"No access key found with\n                    id 9\"}\n  /access-keys/{id}/name:\n    put:\n      description: Renames an access key\n      tags:\n        - Access Key\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The id of the access key to rename\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n            examples:\n              '0':\n                value: '{name: \"New Key Name\"}'\n      responses:\n        '204':\n          description: Access key renamed successfully\n        '404':\n          description: Access key inexistent\n  /access-keys/{id}/data-limit:\n    put:\n      description: Sets a data limit for the given access key\n      tags:\n        - Access Key\n        - Limit\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The id of the access key\n          schema:\n            type: string\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/DataLimit\"\n            examples:\n              '0':\n                value: '{\"limit\": {\"bytes\": 10000}}'\n      responses:\n        '204':\n          description: Access key limit set successfully\n        '400':\n          description: Invalid data limit\n        '404':\n          description: Access key inexistent\n    delete:\n      description: Removes the data limit on the given access key.\n      tags:\n        - Access Key\n        - Limit\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The id of the access key\n          schema:\n            type: string\n      responses:\n        '204':\n          description: Access key limit deleted successfully.\n        '404':\n          description: Access key inexistent\n  /metrics/transfer:\n    get:\n      description: Returns the data transferred per access key\n      tags:\n        - Access Key\n      responses:\n        '200':\n          description: The data transferred by each access key\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  bytesTransferredByUserId:\n                    type: object\n                    additionalProperties:\n                      type: integer\n              examples:\n                '0':\n                  value: '{\"bytesTransferredByUserId\":{\"1\":1008040941,\"2\":5958113497,\"3\":752221577}}'\n  /metrics/enabled:\n    get:\n      description: Returns whether metrics is being shared\n      tags:\n        - Server\n      responses:\n        '200':\n          description: The metrics enabled setting\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  metricsEnabled:\n                    type: boolean\n              examples:\n                '0':\n                  value: '{\"metricsEnabled\":true}'\n    put:\n      description: Enables or disables sharing of metrics\n      tags:\n        - Server\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                metricsEnabled:\n                  type: boolean\n            examples:\n              '0':\n                value: '{\"metricsEnabled\": true}'\n      responses:\n        '204':\n          description: Setting successful\n        '400':\n          description: Invalid request\n  /experimental/access-key-data-limit:\n    put:\n      deprecated: true\n      description: (Deprecated) Sets a data transfer limit for all access keys\n      tags:\n        - Access Key\n        - Limit\n      requestBody:\n        required: true\n        content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/DataLimit\"\n              examples:\n                '0':\n                  value: '{\"limit\": {\"bytes\": 10000}}'\n      responses:\n        '204':\n          description: Access key data limit set successfully\n        '400':\n          description: Invalid data limit\n    delete:\n      deprecated: true\n      description: (Deprecated) Removes the access key data limit, lifting data transfer restrictions on all access keys.\n      tags:\n        - Access Key\n        - Limit\n      responses:\n        '204':\n          description: Access key limit deleted successfully.\n \ncomponents:\n  schemas:\n    Server:\n      properties:\n        name:\n          type: string\n        serverId:\n          type: string\n        metricsEnabled:\n          type: boolean\n        createdTimestampMs:\n          type: number\n        portForNewAccessKeys:\n          type: integer\n\n    DataLimit:\n      properties:\n        bytes:\n          type: integer\n          minimum: 0\n\n    AccessKey:\n      required:\n        - id\n      properties:\n        id:\n          type: string\n        name:\n          type: string\n        password:\n          type: string\n        port:\n          type: integer\n        method:\n          type: string\n        accessUrl:\n          type: string\n",
			"canonicalURL": "/github.com/Jigsaw-Code/outline-server@15cf404361e1e0d85ac5676d5d91094cc6f9dc0e/-/blob/src/shadowbox/server/api.yml",
			"externalURLs": [
				{
					"url": "https://github.com/Jigsaw-Code/outline-server/blob/15cf404361e1e0d85ac5676d5d91094cc6f9dc0e/src/shadowbox/server/api.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}