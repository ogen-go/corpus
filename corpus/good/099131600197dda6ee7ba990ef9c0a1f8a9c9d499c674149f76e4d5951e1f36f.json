{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/RedHatInsights/ros-backend"
		},
		"file": {
			"name": "openapi.json",
			"size": 0,
			"path": "ros/openapi/openapi.json",
			"byteSize": 29485,
			"content": "{\n    \"openapi\": \"3.0.1\",\n    \"info\": {\n        \"title\": \"Ros-backend API\",\n        \"description\": \"Flask Backend API for Resource Optimization Service\",\n        \"contact\": {},\n        \"license\": {\n            \"name\": \"GPLv3\",\n            \"url\": \"https://www.gnu.org/licenses/gpl-3.0.en.html\"\n        },\n        \"version\": \"v1\"\n    },\n    \"paths\": {\n        \"/status\": {\n            \"get\": {\n                \"summary\": \"Health check liveness call\",\n                \"description\": \"A small JSON indicating the application is deployed. This serves as both the liveness and readiness call.\",\n                \"operationId\": \"getStatus\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Status\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/is_configured\": {\n            \"get\": {\n                \"summary\": \"Check ROS configured\",\n                \"description\": \"Check whether service is configured.\",\n                \"operationId\": \"getServiceConfigurationInfo\",\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/IsServiceConfigured\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/systems\": {\n            \"get\": {\n                \"summary\": \"Lists all systems from cloud having performance profile\",\n                \"description\": \"Lists all systems from cloud having performance profile\",\n                \"operationId\": \"getSystems\",\n                \"parameters\": [\n                    {\n                        \"$ref\": \"#/components/parameters/limitParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/offsetParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/orderByParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/orderHowParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/filterParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/filterStateParam\"\n                    },\n                    {\n                        \"$ref\": \"#/components/parameters/filterOSParam\"\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Systems\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"security\": [\n                    {\n                        \"RhIdentity\": []\n                    }\n                ]\n            }\n        },\n        \"/systems/{inventory_id}\": {\n            \"get\": {\n                \"summary\": \"Show the system details by given inventory id\",\n                \"description\": \"Show the system details by given inventory id\",\n                \"operationId\": \"getSystemDetails\",\n                \"parameters\": [\n                    {\n                        \"name\": \"inventory_id\",\n                        \"in\": \"path\",\n                        \"description\": \"Inventory ID\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/SystemDetails\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/systems/{inventory_id}/history\": {\n            \"get\": {\n                \"summary\": \"Show the system's performance history by given inventory id\",\n                \"description\": \"Show the system's performance history by given inventory id\",\n                \"operationId\": \"getPerformanceHistoryForSystem\",\n                \"parameters\": [\n                    {\n                        \"name\": \"inventory_id\",\n                        \"in\": \"path\",\n                        \"description\": \"Inventory ID\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/PerformanceHistory\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/systems/{inventory_id}/suggestions\": {\n            \"get\": {\n                \"summary\": \"Show the list of suggestions by given inventory id\",\n                \"description\": \"Show the list of suggestions by given inventory id\",\n                \"operationId\": \"getSuggestionsForSystem\",\n                \"parameters\": [\n                    {\n                        \"name\": \"inventory_id\",\n                        \"in\": \"path\",\n                        \"description\": \"Inventory ID\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    },\n                    {\n                        \"name\": \"description\",\n                        \"in\": \"query\",\n                        \"required\": false,\n                        \"description\": \"Filter system with the given description\",\n                        \"schema\": {\n                            \"type\": \"string\"\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"OK\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/SuggestionsList\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        \"/executive_report\": {\n            \"get\": {\n              \"summary\": \"Executive report for systems\",\n              \"description\": \"Executive report for systems\",\n              \"operationId\": \"getExecutiveReportForSystems\",\n              \"responses\": {\n                \"200\": {\n                  \"description\": \"OK\",\n                  \"content\": {\n                    \"application/json\": {\n                      \"schema\": {\n                        \"$ref\": \"#/components/schemas/ExecutiveReportItem\"\n                      }\n                    }\n                  }\n                }\n              }\n           }\n        },\n        \"/rating\": {\n            \"post\": {\n                \"summary\": \"submit suggestion rating\",\n                \"description\": \"submit suggestion rating\",\n                \"operationId\": \"addSuggestionRatingToSystem\",\n                \"requestBody\": {\n                    \"content\": {\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/Rating\"\n                            }\n                        }\n\n                    }\n                },\n                \"responses\": {\n                    \"201\": {\n                        \"description\": \"Created\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Rating\"\n                                }\n                            }\n                        }\n                    },\n                    \"200\": {\n                        \"description\": \"Updated an existing rating submitted by same user\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Rating\"\n                                }\n                            }\n                        }\n                    },\n                    \"422\": {\n                        \"description\": \"Invalid input for rating\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Message\"\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n    },\n    \"components\": {\n        \"schemas\": {\n            \"Links\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"first\": {\n                        \"type\": \"string\"\n                    },\n                    \"last\": {\n                        \"type\": \"string\"\n                    },\n                    \"next\": {\n                        \"type\": \"string\"\n                    },\n                    \"previous\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"ListMeta\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"limit\": {\n                        \"type\": \"integer\"\n                    },\n                    \"offset\" : {\n                        \"type\": \"integer\"\n                    },\n                    \"count\": {\n                        \"type\": \"integer\"\n                    }\n                }\n            },\n            \"Systems\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"data\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/SystemItem\"\n                        }\n                    },\n                    \"links\": {\n                        \"$ref\": \"#/components/schemas/Links\"\n                    },\n                    \"meta\": {\n                        \"$ref\": \"#/components/schemas/ListMeta\"\n                    }\n                }\n            },\n            \"IsServiceConfigured\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"success\": {\n                        \"type\": \"boolean\"\n                    },\n                    \"code\" : {\n                        \"type\": \"string\"\n                    },\n                    \"count\": {\n                        \"type\": \"integer\"\n                    },\n                    \"systems_stats\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"waiting_for_data\": {\n                                \"type\": \"integer\"\n                            },\n                            \"with_suggestions\": {\n                                \"type\": \"integer\"\n                            }\n                        }\n                    }\n\n                }\n            },\n            \"SystemItem\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"fqdn\": {\n                        \"type\": \"string\"\n                    },\n                    \"display_name\": {\n                        \"type\": \"string\"\n                    },\n                    \"inventory_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"account\": {\n                        \"type\": \"string\"\n                    },\n                    \"number_of_suggestions\": {\n                        \"type\": \"integer\"\n                    },\n                    \"state\": {\n                        \"type\": \"string\"\n                    },\n                    \"performance_utilization\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"cpu\": {\n                                \"type\": \"integer\"\n                            },\n                            \"memory\": {\n                                \"type\": \"integer\"\n                            },\n                            \"max_io\": {\n                                \"type\": \"number\"\n                            },\n                            \"io_all\": {\n                                \"type\": \"object\"\n                            }\n                        }\n                    },\n                    \"cloud_provider\": {\n                        \"type\": \"string\"\n                    },\n                    \"instance_type\": {\n                        \"type\": \"string\"\n                    },\n                    \"idling_time\": {\n                        \"type\": \"number\"\n                    },\n                    \"os\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"Status\": {\n                \"required\": [\n                    \"status\"\n                ],\n                \"properties\": {\n                    \"status\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"SystemDetails\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"fqdn\": {\n                        \"type\": \"string\"\n                    },\n                    \"inventory_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"display_name\": {\n                        \"type\": \"string\"\n                    },\n                    \"performance_utilization\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"cpu\": {\n                                \"type\": \"integer\"\n                            },\n                            \"memory\": {\n                                \"type\": \"integer\"\n                            },\n                            \"max_io\": {\n                                \"type\": \"number\"\n                            },\n                            \"io_all\": {\n                                \"type\": \"object\"\n                            }\n                        }\n                    },\n                    \"rating\": {\n                        \"type\": \"integer\",\n                        \"enum\": [-1, 0, 1]\n                    },\n                    \"number_of_suggestions\": {\n                        \"type\": \"integer\"\n                    },\n                    \"state\": {\n                        \"type\": \"string\"\n                    },\n                    \"report_date\": {\n                        \"type\": \"string\"\n                    },\n                    \"instance_type\": {\n                        \"type\": \"string\"\n                    },\n                    \"cloud_provider\": {\n                        \"type\": \"string\"\n                    },\n                    \"idling_time\": {\n                        \"type\": \"number\"\n                    },\n                    \"os\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"PerformanceHistory\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"meta\": {\n                        \"$ref\": \"#/components/schemas/ListMeta\"\n                    },\n                    \"links\": {\n                        \"$ref\": \"#/components/schemas/Links\"\n                    },\n                    \"inventory_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"data\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/PerformanceItem\"\n                        }\n                    }\n                }\n            },\n            \"ExecutiveReportItem\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"systems_per_state\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"under_pressure\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          }\n                        }\n                      },\n                      \"undersized\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          }\n                        }\n                      },\n                      \"oversized\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          }\n                        }\n                      },\n                      \"waiting_for_data\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          }\n                        }\n                      },\n                      \"idling\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          }\n                        }\n                      }\n                    }\n                  },\n                  \"conditions\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"cpu\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          },\n                          \"undersized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"oversized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"under_pressure\": {\n                            \"type\": \"integer\"\n                          }\n                        }\n                      },\n                      \"io\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          },\n                          \"undersized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"oversized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"under_pressure\": {\n                            \"type\": \"integer\"\n                          }\n                        }\n                      },\n                      \"memory\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"percentage\": {\n                            \"type\": \"number\"\n                          },\n                          \"undersized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"oversized\": {\n                            \"type\": \"integer\"\n                          },\n                          \"under_pressure\": {\n                            \"type\": \"integer\"\n                          }\n                        }\n                      },\n                      \"meta\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"total_count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"non_optimized_count\": {\n                            \"type\": \"integer\"\n                          },\n                          \"conditions_count\": {\n                            \"type\": \"integer\"\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              },\n            \"PerformanceItem\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"cpu\": {\n                        \"type\": \"integer\"\n                    },\n                    \"memory\": {\n                        \"type\": \"integer\"\n                    },\n                    \"max_io\": {\n                        \"type\": \"number\"\n                    },\n                    \"io_all\": {\n                        \"type\": \"object\"\n                    },\n                    \"report_date\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"SuggestionsList\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"inventory_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"meta\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"count\": {\n                                \"type\": \"integer\"\n                            }\n                        }\n                    },\n                    \"data\": {\n                        \"type\": \"array\",\n                        \"items\": {\n                            \"$ref\": \"#/components/schemas/SuggestionsItem\"\n                        }\n                    }\n                }\n            },\n            \"SuggestionsItem\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"rule_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"description\": {\n                        \"type\": \"string\"\n                    },\n                    \"reason\": {\n                        \"type\": \"string\"\n                    },\n                    \"resolution\": {\n                        \"type\": \"string\"\n                    },\n                    \"condition\": {\n                        \"type\": \"string\"\n                    },\n                    \"detected_issues\": {\n                        \"type\": \"string\"\n                    },\n                    \"suggested_instances\": {\n                        \"type\": \"string\"\n                    },\n                    \"current_instance\": {\n                        \"type\": \"string\"\n                    }\n                }\n            },\n            \"Rating\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"inventory_id\": {\n                        \"type\": \"string\"\n                    },\n                    \"rating\": {\n                        \"type\": \"integer\",\n                        \"enum\": [-1, 0, 1]\n                    }\n                }\n            },\n            \"Message\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"message\": {\n                        \"type\": \"string\",\n                        \"description\": \"Message text\"\n                    }\n                }\n            }\n        },\n        \"parameters\": {\n            \"limitParam\": {\n                \"name\": \"limit\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Number of items to return\",\n                \"schema\": {\n                    \"type\": \"integer\",\n                    \"default\": 10\n                }\n            },\n            \"offsetParam\": {\n                \"name\": \"offset\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Number of items to skip before starting to collect the result set\",\n                \"schema\": {\n                    \"type\": \"integer\",\n                    \"default\": 0\n                }\n            },\n            \"orderByParam\": {\n                \"name\": \"order_by\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Ordering field name, defaults to report_date\",\n                \"schema\": {\n                    \"type\": \"string\",\n                    \"default\": \"report_date\",\n                    \"enum\": [\n                        \"display_name\",\n                        \"cpu\",\n                        \"memory\",\n                        \"max_io\",\n                        \"number_of_suggestions\",\n                        \"state\",\n                        \"os\",\n                        \"report_date\"\n                    ]\n                }\n            },\n            \"orderHowParam\": {\n                \"name\": \"order_how\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Direction of the ordering, defaults to DESC\",\n                \"schema\": {\n                    \"type\": \"string\",\n                    \"default\": \"DESC\",\n                    \"enum\": [\n                        \"ASC\",\n                        \"DESC\"\n                    ]\n                }\n            },\n            \"filterParam\": {\n                \"name\": \"display_name\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Filter system with the given display name \",\n                \"schema\": {\n                    \"type\": \"string\"\n                }\n            },\n            \"filterStateParam\": {\n                \"name\": \"state\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Filter system with the given state\",\n                \"schema\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"Idling\",\n                            \"Oversized\",\n                            \"Undersized\",\n                            \"Optimized\",\n                            \"Under pressure\",\n                            \"Waiting for data\"\n                        ]\n                    }\n                }\n            },\n            \"filterOSParam\": {\n                \"name\": \"os\",\n                \"in\": \"query\",\n                \"required\": false,\n                \"description\": \"Filter system with the given os version\",\n                \"schema\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"RHEL 7.0\",\n                            \"RHEL 7.1\",\n                            \"RHEL 7.2\",\n                            \"RHEL 7.3\",\n                            \"RHEL 7.4\",\n                            \"RHEL 7.5\",\n                            \"RHEL 7.6\",\n                            \"RHEL 7.7\",\n                            \"RHEL 7.8\",\n                            \"RHEL 7.9\",\n                            \"RHEL 8.0\",\n                            \"RHEL 8.1\",\n                            \"RHEL 8.2\",\n                            \"RHEL 8.3\",\n                            \"RHEL 8.4\",\n                            \"RHEL 8.5\"\n                        ]\n                    }\n                }\n            }\n\n        },\n        \"securitySchemes\": {\n            \"RhIdentity\": {\n                \"in\": \"header\",\n                \"name\": \"x-rh-identity\",\n                \"description\": \"Base64-encoded JSON identity header provided by 3Scale. Contains an account number of the user issuing the request. Format of the JSON{'identity': {'account_number': '12345678'}}\",\n                \"type\": \"apiKey\"\n            }\n        }\n    }\n}\n",
			"canonicalURL": "/github.com/RedHatInsights/ros-backend@ef225c9ad580db9044cf95a505d1b0b9a533cacc/-/blob/ros/openapi/openapi.json",
			"externalURLs": [
				{
					"url": "https://github.com/RedHatInsights/ros-backend/blob/ef225c9ad580db9044cf95a505d1b0b9a533cacc/ros/openapi/openapi.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}