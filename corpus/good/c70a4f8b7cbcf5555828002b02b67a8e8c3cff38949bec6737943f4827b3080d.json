{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/DGEXSolutions/osrd"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "editoast/openapi.yaml",
			"byteSize": 9512,
			"content": "openapi: 3.0.2\ninfo:\n  title: OSRD Editoast\n  description: OSRD Edition ervice documentation\n  version: 0.1.0\n\ntags:\n  - name: infra\n    description: Infra\n\npaths:\n  /health:\n    get:\n      responses:\n        200:\n          description: Check if Editoast is running correctly\n\n  /infra/:\n    get:\n      tags:\n        - infra\n      summary: List all available infra\n      responses:\n        200:\n          description: The infra list\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/Infra\"\n    post:\n      tags:\n        - infra\n      summary: Create an infra\n      requestBody:\n        description: Name of the infra to create\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n      responses:\n        201:\n          description: The created infra\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Infra\"\n\n  /infra/{id}/:\n    get:\n      tags:\n        - infra\n      summary: Retrieve a specific infra\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: integer\n          description: infra id\n          required: true\n      responses:\n        200:\n          description: Information about the retrieved infra\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Infra\"\n    delete:\n      tags:\n        - infra\n      summary: Delete an infra and all entities linked to it\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: integer\n          description: infra id\n          required: true\n      responses:\n        204:\n          description: No content\n\n    post:\n      tags:\n        - infra\n      summary: Update/Create/Delete an object of the infra\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: integer\n          description: infra id\n          required: true\n      requestBody:\n        description: Operations to do on the infra\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                $ref: \"#/components/schemas/Operation\"\n      responses:\n        200:\n          description: An array containing infos about the operations processed\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: \"#/components/schemas/OperationResult\"\n\n  /infra/{id}/errors/:\n    get:\n      tags:\n        - infra\n      summary: Retrieve a paginated list of errors\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: integer\n          description: infra id\n          required: true\n        - in: query\n          name: page\n          schema:\n            type: integer\n            default: 1\n          description: The page number\n        - in: query\n          name: page_size\n          schema:\n            type: integer\n            default: 25\n            minimum: 10\n          description: The number of item per page\n        - in: query\n          name: exclude_warnings\n          schema:\n            type: boolean\n            default: false\n          description: Whether the response should include warnings or not\n      responses:\n        200:\n          description: A paginated list of errors\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  count:\n                    type: integer\n                    description: Total number of elements\n                    example: 1\n                  next:\n                    type: integer\n                    nullable: true\n                    example: null\n                    description: The index of the following page (null if no more pages available)\n                  previous:\n                    type: integer\n                    nullable: true\n                    example: null\n                    description: The index of the previous page (null if requesting the first page)\n                  results:\n                    type: array\n                    items:\n                      $ref: \"#/components/schemas/InfraError\"\n\n  /infra/refresh/:\n    post:\n      tags:\n        - infra\n      summary: Refresh the layers\n      parameters:\n        - in: query\n          name: infras\n          schema:\n            type: array\n            items:\n              type: integer\n            default: []\n          description: A list of infra ID\n        - in: query\n          name: force\n          schema:\n            type: boolean\n            default: false\n          description: Force the refresh of the layers\n      responses:\n        200:\n          description: A list thats contains the ID of the infras that were refreshed*\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: integer\ncomponents:\n  schemas:\n    Infra:\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n        version:\n          type: string\n          example: \"1\"\n        generated_version:\n          type: string\n          nullable: true\n          example: \"1\"\n\n    ObjectType:\n      type: string\n      description: Type of the object\n      enum:\n        - TrackSection\n        - Signal\n        - SpeedSection\n        - Detector\n        - TrackSectionLink\n        - Switch\n        - SwitchType\n        - BufferStop\n\n    Operation:\n      oneOf:\n        - $ref: \"#/components/schemas/RailjsonObject\"\n        - $ref: \"#/components/schemas/DeleteOperation\"\n        - $ref: \"#/components/schemas/UpdateOperation\"\n      discriminator:\n        propertyName: operation_type\n\n    OperationResult:\n      oneOf:\n        - $ref: \"#/components/schemas/DeleteOperation\"\n        - $ref: \"#/components/schemas/OperationObject\"\n      discriminator:\n        propertyName: operation_type\n\n    RailjsonObject:\n      properties:\n        operation_type:\n          type: string\n          enum: [\"CREATE\"]\n        obj_type:\n          $ref: \"#/components/schemas/ObjectType\"\n        railjson:\n          $ref: \"#/components/schemas/Railjson\"\n\n    DeleteOperation:\n      properties:\n        operation_type:\n          type: string\n          enum: [\"DELETE\"]\n        obj_type:\n          $ref: \"#/components/schemas/ObjectType\"\n        obj_id:\n          type: string\n          example: bd840b06-84ba-4566-98c1-ccf0196c5f16\n\n    UpdateOperation:\n      properties:\n        operation_type:\n          type: string\n          enum: [\"UPDATE\"]\n        obj_type:\n          $ref: \"#/components/schemas/ObjectType\"\n        obj_id:\n          type: string\n          example: bd840b06-84ba-4566-98c1-ccf0196c5f16\n        railjson_patch:\n          $ref: \"#/components/schemas/Patches\"\n\n    OperationObject:\n      properties:\n        operation_type:\n          type: string\n          enum: [\"CREATE\", \"UPDATE\"]\n        obj_type:\n          $ref: \"#/components/schemas/ObjectType\"\n        railjson:\n          $ref: \"#/components/schemas/Railjson\"\n\n    Patch:\n      description: A JSONPatch document as defined by RFC 6902\n      required:\n        - \"op\"\n        - \"path\"\n      properties:\n        op:\n          type: string\n          description: The operation to be performed\n          enum:\n            - \"add\"\n            - \"remove\"\n            - \"replace\"\n            - \"move\"\n            - \"copy\"\n            - \"test\"\n        path:\n          type: string\n          description: A JSON-Pointer\n        value:\n          type: object\n          description: The value to be used within the operations.\n        from:\n          type: string\n          description: A string containing a JSON Pointer value.\n\n    Patches:\n      type: array\n      description: A list of Patch\n      items:\n        $ref: \"#/components/schemas/Patch\"\n\n    Railjson:\n      type: object\n      description: This field follows railjson format\n      example:\n        id: bd840b06-84ba-4566-98c1-ccf0196c5f16\n        geo:\n          type: LineString\n          coordinates:\n            - - 1.0\n              - 41.0\n            - - 2.0\n              - 42.0\n        sch:\n          type: LineString\n          coordinates:\n            - - 1.0\n              - 41.0\n            - - 2.0\n              - 42.0\n        curves: []\n        length: 1000\n        slopes:\n          - end: 500\n            begin: 250\n            gradient: -1\n        line_code: 1\n        line_name: my line\n        track_name: track name\n        navigability: BOTH\n        track_number: 1\n\n    InfraError:\n      type: object\n      description: An infra error or warning\n      properties:\n        obj_id:\n          type: string\n          example: 8979e17f-6704-49f6-b63e-98f68ba2d086\n          description: Id of the object linked to the error\n        obj_type:\n          $ref: \"#/components/schemas/ObjectType\"\n          example: Signal\n        information:\n          type: object\n          description: Information about the erorr (check schema documentation for more details)\n          example:\n            error_type: invalid_reference\n            field: track\n            is_warning: false\n            reference:\n              id: 61205924-6667-11e3-81ff-01f464e0362d\n              type: TrackSection\n",
			"canonicalURL": "/github.com/DGEXSolutions/osrd@9c54904a5e3291aa1b9ed464e03b88714433b4f3/-/blob/editoast/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/DGEXSolutions/osrd/blob/9c54904a5e3291aa1b9ed464e03b88714433b4f3/editoast/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}