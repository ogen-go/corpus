{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Luzifer/ots"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "docs/openapi.yaml",
			"byteSize": 4759,
			"content": "openapi: 3.0.0\ninfo:\n  description: \u003e\n    OTS is a one-time-secret sharing platform.\n\n\n    When using the web application, the secret is encrypted with a symmetric\n    256bit AES encryption in the browser before being sent to the server.\n    Afterwards an URL containing the ID of the secret and the password is\n    generated. The password is never sent to the server so the server will never\n    be able to decrypt the secrets it delivers with a reasonable effort.\n\n\n    This API allows you to store and read the same secrets as the web\n    application.\n  title: Luzifer/OTS API\n  version: 0.x\nexternalDocs:\n  description: Luzifer/OTS on Github\n  url: https://github.com/Luzifer/ots\nservers:\n  - url: https://ots.fyi/api\n    description: Public hosted instance\npaths:\n  /create:\n    post:\n      summary: Store a new secret on the OTS server\n      description: \u003e-\n        You should encrypt the secret prior to sending it to the server. For\n        maximum compatibility, [use the same encryption as the web\n        application](https://github.com/Luzifer/ots). Plain text secrets are\n        supported but not recommended.\n\n\n        To generate a URL that works with the web application, append\n        `#SECRET_ID|PASSWORD` after the URL. For an instance on\n        `https://ots.fyi`, the example response in this documentation would\n        become `https://ots.fyi/#5e0065ee-5734-4548-9fd3-bb0bcd4c899d|mypass`.\n        Note that you should correctly [percent\n        encode](https://datatracker.ietf.org/doc/html/rfc3986) the `|` (pipe)\n        character for it to work in all browsers. \n      operationId: createSecret\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Secret'\n          multipart/form-data:\n            schema:\n              $ref: '#/components/schemas/Secret'\n      responses:\n        '200':\n          description: Reference to the newly stored secret.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/CreatedSecret'\n        '400':\n          description: Secret missing or invalid JSON body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal error, nothing is wrong with the request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n  /get/{id}:\n    get:\n      summary: Retrieve an existing secret from the OTS server\n      description: \u003e-\n        You may need to decrypt the secret after retrieving it. For maximum\n        compatibility, [use the same encryption as the web\n        application](https://github.com/Luzifer/ots). Plain text secrets are\n        supported but not recommended.\n      operationId: getSecret\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: string\n            example: 5e0065ee-5734-4548-9fd3-bb0bcd4c899d\n          required: true\n          description: Reference to the stored secret.\n      responses:\n        '200':\n          description: Stored secret contents.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/RetrievedSecret'\n        '400':\n          description: Secret ID missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '404':\n          description: Secret does not exist, may be read by someone else.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal error, nothing is wrong with the request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\ncomponents:\n  schemas:\n    Secret:\n      type: object\n      properties:\n        secret:\n          type: string\n          example: U2FsdGVkX18wJtHr6YpTe8QrvMUUdaLZ+JMBNi1OvOQ=\n      required:\n        - secret\n    CreatedSecret:\n      type: object\n      properties:\n        success:\n          type: boolean\n        secret_id:\n          type: string\n          example: 5e0065ee-5734-4548-9fd3-bb0bcd4c899d\n    RetrievedSecret:\n      type: object\n      properties:\n        success:\n          type: boolean\n        secret:\n          type: string\n          example: U2FsdGVkX18wJtHr6YpTe8QrvMUUdaLZ+JMBNi1OvOQ=\n    Error:\n      type: object\n      properties:\n        success:\n          type: boolean\n          example: false\n        error:\n          type: string\n          example: Something went wrong.\n",
			"canonicalURL": "/github.com/Luzifer/ots@ca48e0ed30e7d6dde09ffa355137b5a147524724/-/blob/docs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/Luzifer/ots/blob/ca48e0ed30e7d6dde09ffa355137b5a147524724/docs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}