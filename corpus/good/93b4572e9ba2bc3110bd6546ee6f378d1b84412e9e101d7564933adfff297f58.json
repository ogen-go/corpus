{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/cityvizor/cityvizor"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "reference/cityvizor-import-api/openapi.yaml",
			"byteSize": 3417,
			"content": "openapi: 3.0.0\ninfo:\n  title: CityVizor Import API\n  version: '1.0'\n  contact:\n    name: Otevřená Města\n    url: 'https://www.otevrenamesta.cz/'\n    email: cityvizor@otevrenamesta.cz\n  description: This is the import interface for importing data to the CityVizor application.\nservers:\n  - url: 'https://cityvizor.cz'\n    description: Global Instance (API being prepared)\n  - description: Prague Instance\n    url: 'https://cityvizor.praha.eu'\npaths:\n  '/api/import/profiles/{profileId}/accounting':\n    parameters:\n      - schema:\n          type: integer\n        name: profileId\n        in: path\n        required: true\n        description: The profile id of the profile to import data into\n    post:\n      summary: Import accounting data\n      tags: []\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  id:\n                    type: integer\n                  profileId:\n                    type: integer\n                  year:\n                    type: integer\n                  userId:\n                    type: integer\n                  created:\n                    type: string\n                  started:\n                    type: string\n                  finished:\n                    type: string\n                  status:\n                    type: string\n                  error:\n                    type: string\n                  validity:\n                    type: string\n                required:\n                  - id\n                  - profileId\n                  - year\n                  - userId\n                  - created\n                  - status\n        '400':\n          description: Missing data file or zip file or Invalid year value\n        '403':\n          description: Token revoked\n        '500':\n          description: Failed to create import record in database\n      description: |-\n        This endpoint allows user to import accounting data to CityVizor profile.\n\n        Authentication is done by providing access token in a HTTP header. This access token can be obtained from the CityVizor administration interface.\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                dataFile:\n                  type: string\n                  format: binary\n                eventsFile:\n                  type: string\n                  format: binary\n                paymentsFile:\n                  type: string\n                  format: binary\n                zipFile:\n                  type: string\n                  format: binary\n                year:\n                  type: integer\n              required:\n                - year\n        description: |-\n          Either dataFile or zipFile body property is mandatory.\n\n          The dataFile and eventsFile structure is described at https://cityvizor.github.io/cityvizor/dokumentace/\n\n          The zipFile must consist of dataFile, eventsFile (optional) and paymentsFile (optional) files ending _data.csv, _events.csv and _payments.csv respectively.\ncomponents:\n  schemas: {}\n  securitySchemes:\n    apiKey:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n      description: This api key can be obtained in the CityVizor administration interface\nsecurity:\n  - apiKey: []\n",
			"canonicalURL": "/github.com/cityvizor/cityvizor@300a98121c004f7cf3a52f78b623a5aa8f0a5f8c/-/blob/reference/cityvizor-import-api/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/cityvizor/cityvizor/blob/300a98121c004f7cf3a52f78b623a5aa8f0a5f8c/reference/cityvizor-import-api/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}