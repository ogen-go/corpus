{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/devtron-labs/devtron"
		},
		"file": {
			"name": "historical-definitions.yaml",
			"size": 0,
			"path": "specs/historical-definitions.yaml",
			"byteSize": 16188,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.0.0\n  title: Historical Task definitions\npaths:\n  /orchestrator/app/history/cm/{appId}/{pipelineId}:\n    get:\n      description: fetch deployment details in history for deployed config maps\n      operationId: FetchDeploymentDetailsForDeployedCMHistory\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/ConfigMapAndSecretHistoryDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/cs/{appId}/{pipelineId}:\n    get:\n      description: fetch deployment details in history for deployed secrets\n      operationId: FetchDeploymentDetailsForDeployedCSHistory\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/ConfigMapAndSecretHistoryDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/template/{appId}/{pipelineId}:\n    get:\n      description: fetch deployment details in history for deployed deployment templates\n      operationId: FetchDeploymentDetailsForDeployedTemplatesHistory\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/DeploymentTemplateHistoryDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/strategy/{appId}/{pipelineId}:\n    get:\n      description: fetch deployment details in history for deployed pipeline strategy\n      operationId: FetchDeploymentDetailsForDeployedStrategyHistory\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/PipelineStrategyHistoryDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/cm/{appId}/{pipelineId}/{id}:\n    get:\n      description: fetch history for deployed config map by id\n      operationId: FetchDeployedCMHistoryById\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/DeploymentDetailsDataType'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/cs/{appId}/{pipelineId}/{id}:\n    get:\n      description: fetch history for deployed secret by id\n      operationId: FetchDeployedCSHistoryById\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/DeploymentDetailsDataType'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/template/{appId}/{pipelineId}/{id}:\n    get:\n      description: fetch history for deployed deployment template by id\n      operationId: FetchDeployedTemplatesHistoryById\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/DeploymentDetailsDataType'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/strategy/{appId}/{pipelineId}/{id}:\n    get:\n      description: fetch history for deployed pipeline strategy by id\n      operationId: FetchDeployedStrategyHistoryById\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/DeploymentDetailsDataType'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n\n  /orchestrator/app/history/cd-config/{appId}/{pipelineId}:\n    get:\n      description: fetch history for cd config (pre/post stage config)\n      operationId: FetchDeployedCdConfigHistory\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: stage\n          in: query\n          required: true\n          schema:\n            type: string\n            enum:\n              - \"PRE_CD\"\n              - \"POST_CD\"\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/PrePostCdScriptHistoryDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\ncomponents:\n  schemas:\n    DeploymentDetailsDataType:\n      type: object\n      properties:\n        id:\n          type: integer\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: integer\n    ConfigMapAndSecretHistoryDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        pipelineId:\n          type: integer\n        dataType:\n          type: string\n        configData:\n          $ref: '#/components/schemas/ConfigData'\n        deployed:\n          type: boolean\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: integer\n\n    DeploymentTemplateHistoryDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        pipelineId:\n          type: integer\n        imageDescriptorTemplate:\n          type: string\n        template:\n          type: string\n        templateName:\n          type: string\n        templateVersion:\n          type: string\n        isAppMetricsEnabled:\n          type: boolean\n        targetEnvironment:\n          type: integer\n        deployed:\n          type: boolean\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: integer\n\n    PipelineStrategyHistoryDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        pipelineId:\n          type: integer\n        strategy:\n          type: string\n        config:\n          type: string\n        default:\n          type: boolean\n        deployed:\n          type: boolean\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: integer\n\n    PrePostCdScriptHistoryDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        pipelineId:\n          type: integer\n        script:\n          type: string\n        stage:\n          type: string\n        configmapSecretNames:\n          $ref: '#/components/schemas/PrePostStageConfigMapSecretNames'\n        configmapData:\n          $ref: '#/components/schemas/ConfigData'\n        secretData:\n          $ref: '#/components/schemas/ConfigData'\n        triggerType:\n          type: string\n        execInEnv:\n          type: boolean\n        deployed:\n          type: boolean\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: integer\n\n    PrePostStageConfigMapSecretNames:\n      properties:\n        configMaps:\n          type: array\n          items:\n            type: string\n        secrets:\n          type: array\n          items:\n            type: string\n\n    ConfigData:\n      properties:\n        name:\n          type: string\n        type:\n          type: string\n        external:\n          type: boolean\n        mountPath:\n          type: string\n        data:\n          type: string\n        defaultData:\n          type: string\n        defaultMountPath:\n          type: string\n        global:\n          type: boolean\n        externalType:\n          type: string\n        secretData:\n          type: array\n          items:\n            $ref: '#/components/schemas/ExternalSecret'\n        defaultSecretData:\n          type: array\n          items:\n            $ref: '#/components/schemas/ExternalSecret'\n        roleArn:\n          type: string\n        subPath:\n          type: boolean\n        filePermission:\n          type: string\n    ExternalSecret:\n      properties:\n        key:\n          type: string\n        name:\n          type: string\n        property:\n          type: string\n        isBinary:\n          type: boolean\n\n    Error:\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          description: Error code\n        message:\n          type: string\n          description: Error message",
			"canonicalURL": "/github.com/devtron-labs/devtron@62f6101b37819e1ac319a744bbf3438184f0c8d5/-/blob/specs/historical-definitions.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/devtron-labs/devtron/blob/62f6101b37819e1ac319a744bbf3438184f0c8d5/specs/historical-definitions.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}