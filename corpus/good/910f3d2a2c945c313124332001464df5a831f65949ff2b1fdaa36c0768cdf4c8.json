{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/devtron-labs/devtron"
		},
		"file": {
			"name": "historical-get-api-change.yaml",
			"size": 0,
			"path": "specs/historical-get-api-change.yaml",
			"byteSize": 6934,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.0.0\n  title: Historical Task definitions - get api changes\npaths:\n  /orchestrator/app/history/deployed-component/detail/{appId}/{pipelineId}/{id}:\n    get:\n      description: fetch detail of a history on the basis of the history component and it's name\n      operationId: FetchHistoryByDeployedConfigurationDetail\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: historyComponent\n          in: query\n          required: true\n          schema:\n            type: string\n            enum:\n              - \"DEPLOYMENT_TEMPLATE\"\n              - \"CONFIGMAP\"\n              - \"SECRET\"\n              - \"PIPELINE_STRATEGY\"\n        - name: historyComponentName\n          in: query\n          required: false\n          description: name of config-map, secret\n          schema:\n            type: string\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/HistoryComponentDetailDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/deployed-component/list/{appId}/{pipelineId}:\n    get:\n      description: fetch deployed history details list\n      operationId: FetchHistoryListByDeployedConfigurationDetail\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: historyComponent\n          in: query\n          required: true\n          schema:\n            type: string\n            enum:\n              - \"DEPLOYMENT_TEMPLATE\"\n              - \"CONFIGMAP\"\n              - \"SECRET\"\n              - \"PIPELINE_STRATEGY\"\n        - name: historyComponentName\n          in: query\n          required: false\n          description: name of config-map, secret\n          schema:\n            type: string\n        - name: baseConfigurationId\n          in: query\n          required: true\n          description: id of base configuration\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history list\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/HistoryComponentListDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n\n  /orchestrator/app/history/deployed-configuration/{appId}/{pipelineId}/{wfrId}:\n    get:\n      description: fetch all deployed configurations history (deployment template, pipeline strategy, configmaps, secrets)\n      operationId: FetchHistoryListForAllDeployedConfigurations\n      parameters:\n        - name: appId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: pipelineId\n          in: path\n          required: true\n          schema:\n            type: integer\n        - name: wfrId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successfully return history\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/HistoryConfigurationListDto'\n        '400':\n          description: Bad Request. Input Validation error/wrong request body.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '500':\n          description: Internal Server Error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        '403':\n          description: Unauthorized User\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\ncomponents:\n  schemas:\n    HistoryComponentDetailDto:\n      type: object\n      properties:\n        values:\n          type: array\n          items:\n            $ref: '#/components/schemas/HistoryComponentValuesDto'\n        codeEditorValue:\n          type: object\n          properties:\n            displayName:\n              type: string\n            value:\n              type: string\n    HistoryComponentValuesDto:\n      type: object\n      properties:\n        fieldName:\n          type: object\n          properties:\n            displayName:\n              type: string\n            value:\n              type: string\n    HistoryComponentListDto:\n      type: object\n      properties:\n        id:\n          type: integer\n        deployedOn:\n          type: string\n          format: timestamp\n        deployedBy:\n          type: string\n        deploymentStatus:\n          type: string\n    HistoryConfigurationListDto:\n        type: array\n        items:\n          $ref: '#/components/schemas/HistoryConfiguration'\n    HistoryConfiguration:\n      type: object\n      properties:\n        id:\n          type: integer\n        name:\n          type: string\n          enum:\n            - \"DEPLOYMENT_TEMPLATE\"\n            - \"CONFIGMAP\"\n            - \"SECRET\"\n            - \"PIPELINE_STRATEGY\"\n        childList:\n          type: array\n          items:\n            type: string\n    Error:\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n          description: Error code\n        message:\n          type: string\n          description: Error message\n",
			"canonicalURL": "/github.com/devtron-labs/devtron@62f6101b37819e1ac319a744bbf3438184f0c8d5/-/blob/specs/historical-get-api-change.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/devtron-labs/devtron/blob/62f6101b37819e1ac319a744bbf3438184f0c8d5/specs/historical-get-api-change.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}