{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/ngageoint/scale"
		},
		"file": {
			"name": "system.yml",
			"size": 0,
			"path": "scale/docs/rest/v6/system.yml",
			"byteSize": 16514,
			"content": "openapi: \"3.0.0\"\ninfo:\n  title: System Services\n  version: v6\npaths:\n  /status:\n    get:\n      operationId: _rest_v6_system_status\n      summary: Get System Status\n      description: Returns the current status of the scheduler, including information about nodes and running jobs.\n      responses:\n        '200':\n          description: 200 response\n          content:\n            application/json: \n              schema:\n                $ref: '#/components/schemas/status'\n        '503':\n          description: The 503 Service Unavailable response indicates the status is stale or \n            that the Scale scheduler iscurrently offline, so there is no status content to provide.\n  /version:\n    get:\n      operationId: _rest_v6_system_version\n      summary: Get System Version\n      description: Returns the current version of the scheduler\n      responses:\n        '200':\n          description: 200 response\n          content:\n            application/json: \n              schema:\n                $ref: '#/components/schemas/version'\n            \n            \ncomponents:\n  schemas:\n    status:\n      title: System Status response\n      type: object\n      properties:\n        timestamp:\n          type: string\n          format: date-time\n          description: When the status information was generated (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n        dependencies:\n          $ref: '#/components/schemas/dependencies'\n        scheduler:\n          $ref: '#/components/schemas/scheduler'\n        system:\n          $ref: '#/components/schemas/system'\n        num_offers:\n          type: integer\n          description: Number of resource offers currently held by Scale\n          example: 4\n        resources:\n          $ref: '#/components/schemas/resources'     \n        job_types:\n          type: array\n          items:\n            $ref: '#/components/schemas/job_type'\n          description: List of job type objects, with a few basic fields\n        nodes:\n          type: array\n          items:\n            $ref: '#/components/schemas/node'\n          description: List of node objects, with a few basic fields including the current node state\n        vault:\n          $ref: '#/components/schemas/vault'\n\n    dependencies:\n      title: Dependencies\n      type: object\n      description: Status of Scale's Dependencies\n      properties:\n        logs:\n          $ref: \"#/components/schemas/dependency\"\n        msg_queue:\n          $ref: \"#/components/schemas/dependency\"\n        database:\n          $ref: \"#/components/schemas/dependency\"\n        elasticsearch:\n          $ref: \"#/components/schemas/dependency\"\n        nodes:\n          $ref: \"#/components/schemas/dependency\"\n        idam:\n          $ref: \"#/components/schemas/dependency\"\n        silo:\n          $ref: \"#/components/schemas/dependency\"\n\n    scheduler:\n      title: Scheduler\n      type: object\n      description: Scheduler configuration and metrics information \n      properties:\n        metrics:\n          $ref: \"#/components/schemas/metrics\"\n        hostname:\n          type: string\n          description: The name of the host where the scheduler is running\n          example: scheduler-host.com\n        mesos:\n          $ref: \"#/components/schemas/mesos\"\n        state:\n          $ref: \"#/components/schemas/state\"\n        warnings:\n          type: array\n          items:\n            $ref: '#/components/schemas/warning'\n          description: List of scheduler warning objects, with a title, description, and when the warning began and was last updated \n    metrics:\n      title: Metrics\n      type: object\n      description: Contains various near real-time metrics related to scheudling tasks and jobs \n      properties:\n        task_updates_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n        jobs_finished_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n        jobs_launched_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n        tasks_launched_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n        offers_launched_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n        tasks_finished_per_sec:\n          type: number\n          description: number of task updates per second\n          example: 0.0\n    mesos:\n      title: Mesos\n      type: object\n      description: Contains Scale's framework ID and hostname and port of the Mesos master \n      properties:\n        framework_id:\n          type: string\n          description: Mesos master framework ID\n          example: framework-1234\n    state:\n      title: State\n      type: object\n      description: The current scheduler state, with a title and description  \n      properties:\n        name:\n          type: string\n          description: Scheduler state name\n          example: READY\n        title:\n          type: string\n          description: Scheduler state title\n          example: Ready\n        description:\n          type: string\n          description: Scheduler state description\n          example: Scheduler is ready to run new jobs.\n    system:\n      title: System\n      type: object\n      description: System information  \n      properties:\n        database_update:\n          $ref: \"#/components/schemas/database_update\"\n        services:\n          type: array\n          description: List of services, with name, title, description, and task counts\n          items:\n            $ref: '#/components/schemas/service'\n    database_update:\n      title: Database Update\n      type: object\n      description: Information on if and when the current Scale database update completed   \n      properties:\n        is_completed:\n          type: boolean\n          example: true\n        completed:\n          type: string\n          format: date-time\n          description: When the database update was completed (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n    service:\n      title: Service\n      type: object\n      properties:\n        name:\n          type: string\n          example: messaging\n        title:\n          type: string\n          example: Messaging\n        description:\n          type: string\n          example: Processes the backend messaging system\n        actual_count:\n          type: integer\n          example: 1\n        desired_count:\n          type: integer\n          example: 1\n    resources:\n      title: Resources\n      type: object\n      description: Describes the resource totals across all of Scale's nodes. Each resource name \n            is a key and its corresponding object breaks down the resource into several   \n            categories. *running* resources are used by current Scale tasks, *offered*    \n            resources are currently offered to Scale, *free* resources are available on   \n            the node and may be offered to Scale soon, *unavailable* resources are used by\n            other tasks and cannot be used by Scale, and *total* resources are the total  \n            amounts for the node. \n      properties:\n        mem:\n          $ref: \"#/components/schemas/resource\"\n        gpus:\n          $ref: \"#/components/schemas/resource\"\n        disk:\n          $ref: \"#/components/schemas/resource\"\n        cpus:\n          $ref: \"#/components/schemas/resource\"\n    resource:\n      title: Resource\n      type: object\n      properties:\n        offered:\n          type: number\n          example: 91445.0\n        total:\n          type: number\n          example: 177501.0\n        running:\n          type: number\n          example: 1024.0\n        free:\n          type: number\n          example: 72744.0\n        unavailable:\n          type: number\n          example: 12288.0\n    job_type:\n      title: Job Type\n      type: object\n      properties:\n        id:\n          type: integer\n          example: 1\n        name:\n          type: string\n          example: my-job\n        version:\n          type: string\n          example: 1.0\n        title:\n          type: string\n          example: My Job\n        description:\n          type: string\n          example: My Job Description \n        is_system:\n          type: boolean\n          example: false\n        icon_code:\n          type: string\n          example: f186 \n    node:\n      title: Node\n      type: object\n      properties:\n        id:\n          type: integer\n          example: 1\n        hostname:\n          type: string\n          example: my-host\n        agent_id:\n          type: string\n          example: my-agent\n        is_active:\n          type: boolean\n          example: true\n        state:\n          $ref: \"#/components/schemas/state\"\n        errors:\n          type: array\n          items:\n            $ref: '#/components/schemas/error'\n          description: List of node error objects, with a title, description, and when the error began and was last updated \n        warnings:\n          type: array\n          items:\n            $ref: '#/components/schemas/warning'\n          description: List of node warning objects, with a title, description, and when the warning began and was last updated \n        node_tasks:\n          type: array\n          items:\n            $ref: '#/components/schemas/node_task'\n          description: List of node tasks running on the node, with a type, title, description, and count \n        system_tasks:\n          type: array\n          items:\n            $ref: '#/components/schemas/system_task'\n          description: List of node tasks running on the node, with a type, title, description, and count \n        num_offers:\n          type: integer\n          description: Number of resource offers for this node\n          example: 1\n        resources:\n          $ref: '#/components/schemas/resources'\n        job_executions:\n          $ref: '#/components/schemas/job_executions'\n    error:\n      title: Error\n      type: object\n      properties:\n        name:\n          type: string\n          example: my-error\n        title:\n          type: string\n          example: My Error\n        description:\n          type: string\n          example: My Error Description \n        started:\n          type: string\n          format: date-time\n          description: When the error began (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n        last_updated:\n          type: string\n          format: date-time\n          description: When the error was last updated (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n    warning:\n      title: Warning\n      type: object\n      properties:\n        name:\n          type: string\n          example: my-warning\n        title:\n          type: string\n          example: My Warning\n        description:\n          type: string\n          example: My Warning Description \n        started:\n          type: string\n          format: date-time\n          description: When the warning began (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n        last_updated:\n          type: string\n          format: date-time\n          description: When the warning was last updated (in ISO-8601 Datetime)\n          example: 1970-01-01T00:00:00Z\n    node_task:\n      title: Node Task\n      type: object\n      properties:\n        type:\n          type: string\n          example: cleanup\n        title:\n          type: string\n          example: Node cleanup\n        description:\n          type: string\n          example: Performs Docker container and volume cleanup on the node \n        count:\n          type: integer\n          description: Number of tasks of this type\n          example: 1\n    system_task:\n      title: System Task\n      type: object\n      properties:\n        type:\n          type: string\n          example: message-handler\n        title:\n          type: string\n          example: Message Handler\n        description:\n          type: string\n          example: Processes messages from Scale's backend messaging system \n        count:\n          type: integer\n          description: Number of tasks of this type\n          example: 1\n    job_executions:\n      title: Job Executions\n      type: object\n      description: The job executions related to this node. The *running* field describes the\n            jobs currently running on the node, with a total count and count per job type.\n            The *completed* field describes job executions that have completed on the node\n            in the last 3 hours, with a total count and count per job type. The *failed*  \n            field is similar to *completed*, just with failed executions grouped by error \n            category. \n      properties:\n        running:\n          $ref: \"#/components/schemas/job_execution\"\n        completed:\n          $ref: \"#/components/schemas/job_execution\"\n        failed:\n          $ref: \"#/components/schemas/job_execution\"\n    job_execution:\n      title: Job Execution\n      type: object\n      description: The job executions related to this node. The *running* field describes the\n            jobs currently running on the node, with a total count and count per job type.\n            The *completed* field describes job executions that have completed on the node\n            in the last 3 hours, with a total count and count per job type. The *failed*  \n            field is similar to *completed*, just with failed executions grouped by error \n            category. \n      properties:\n        running:\n          $ref: \"#/components/schemas/job_execution_count\"\n        completed:\n          $ref: \"#/components/schemas/job_execution_count\"\n        failed:\n          $ref: \"#/components/schemas/failed\"\n    job_execution_count:\n      title: Job Execution Count\n      type: object\n      properties:\n        total:\n          type: integer\n          example: 3\n        by_job_type:\n          type: array\n          items:\n            $ref: '#/components/schemas/job_type_execution_count'\n    failed:\n      title: Failed Job Execution Count\n      type: object\n      properties:\n        total:\n          type: integer\n          example: 9\n        data:\n          type: array\n          items:\n            $ref: '#/components/schemas/job_execution_count'\n        algorithm:\n          type: array\n          items:\n            $ref: '#/components/schemas/job_execution_count'\n        system:\n          type: array\n          items:\n            $ref: '#/components/schemas/job_execution_count'\n    job_type_execution_count:\n      title: Job Execution Count\n      type: object\n      properties:\n        job_type_id:\n          type: integer\n          example: 1\n        count:\n          type: integer\n          example: 3\n    version:\n      title: System Version response\n      type: object\n      properties:\n        version:\n          type: string\n          description: The full version identifier of Scale. \n          example: 6.0.0\n\n    vault:\n      title: Secrets Vault\n      type: object\n      description: Secrets Vault status and info\n      properties:\n        status:\n          type: string\n          description: The status of the secrets vault\n          example: Secrets Improperly Configured\n        sealed:\n          type: boolean\n          description: Whether the secrets vault is sealed or not\n          example: False\n        message:\n          type: string\n          description: Description of error reading the secrets vault, if any\n          example: A secrets backend is not properly configured with Scale.\n\n    dependency:\n      title: Dependency\n      type: object\n      description: Describes status of a Scale dependency\n      properties:\n        OK:\n          type: boolean\n          description: Whether the depdendency is configured correctly and working\n          example: True\n        detail:\n          type: object\n          description: Dictionary of additional details about the dependency\n          additionalProperties:\n            type: string\n        errors:\n          type: array\n          items:\n            type: object\n            additionalProperties:\n              type: string\n          description: List of errors for the dependency with title and description for each one\n        warnings:\n          type: array\n          items:\n            type: object\n            additionalProperties:\n              type: string\n          description: List of warnings for the dependency with title and description for each one",
			"canonicalURL": "/github.com/ngageoint/scale@1b6a3b879ffe83e10d3b9d9074835a4c3bf476ee/-/blob/scale/docs/rest/v6/system.yml",
			"externalURLs": [
				{
					"url": "https://github.com/ngageoint/scale/blob/1b6a3b879ffe83e10d3b9d9074835a4c3bf476ee/scale/docs/rest/v6/system.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}