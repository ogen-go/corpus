{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/disit/snap4city"
		},
		"file": {
			"name": "engager-openapiv3.yaml",
			"size": 0,
			"path": "swagger/internal/engager-openapiv3.yaml",
			"byteSize": 6326,
			"content": "openapi: 3.0.1\ninfo: \n  title: Engager API\n  version: '1.0'\nservers:\n  - url: http://engager.km4city.org\npaths:\n  /engine/api/engager:\n    get:\n      tags: [Engine]\n      summary: Engager Engine\n      parameters:\n        - $ref: '#/components/parameters/uid'\n        - $ref: '#/components/parameters/update'\n        - $ref: '#/components/parameters/selection'\n      responses:\n        200:\n          $ref: '#/components/responses/engagerEngine'\n  /engine/api/cancel-engagement:\n    get:\n      tags: [Engine]\n      summary: Cancel Engagement\n      parameters:\n        - $ref: '#/components/parameters/engagementId'\n      responses:\n        200:\n          $ref: '#/components/responses/cancelEngagement'\n  /api/survey-collector:\n    post:\n      tags: [Survey]\n      summary: Survey Collector\n      requestBody:\n        $ref: '#/components/requestBodies/surveyCollector'\n      responses:\n        200:\n          $ref: '#/components/responses/surveyCollector'\ncomponents:\n  parameters:\n    uid:\n      name: uid\n      in: query\n      description: Device ID\n      required: true\n      schema: \n        type: string\n      example: \"7846b4cf63d22afef4a3acf33d9ca0cde38d49e4e59bb6b34a163c847079ff20\"\n    update:\n      name: update\n      in: query\n      description: It indicates if the engagement status has to be updated (created -\u003e sent).\n      required: false\n      schema: \n        type: boolean\n        default: true\n    selection:\n      name: selection\n      in: query\n      description: Allowed values are \"assistance\", \"engagement\". It indicates the type of message to be retrieved. If the property cannot be found, both the two types of message are retrieved.\n      required: false\n      schema: \n        type: string\n        enum: [\"assistance\",\"engagement\"]\n    engagementId:\n      name: id\n      in: query\n      description: Engagement ID\n      required: true\n      schema: \n        type: integer\n        format: int64\n      example: 4699311 \n  responses:\n    engagerEngine:\n      description: \"OK\"\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - assessor\n              - engagement\n              - assistance\n            properties:\n              assessor:\n                type: boolean\n                example: false\n              engagement:\n                type: array\n                items:\n                  type: object\n                  properties:\n                    type:\n                      type: string\n                      example: REQUEST_PHOTO\n                    msg:\n                      type: string\n                      example: \"\\\"\\\"I Concerti al Cenacolo 2018\\\"\\\" presso Biblioteca delle Oblate  (fino a 2018-12-11)\"\n                    classe:\n                      type: string\n                      example: \"ENGAGEMENT\"\n                    id:\n                      type: integer\n                      example: 4704206\n                    time_elapse:\n                      type: integer\n                      example: 86196159\n                    title:\n                      type: string\n                      example: \"EVENTI in giornata\"\n                    uri:\n                      type: string\n                      format: uri\n                      example: \"http://www.disit.org/km4city/resource/Event_25013_a55e096656e35d3a9440b591f347b4d3\"\n                    gps_lat:\n                      type: number\n                      format: float\n                      example: 43.772243\n                    gps_long:\n                      type: number\n                      format: float\n                      example: 11.260041\n                    time_created:\n                      type: integer\n                      format: int64\n                      example: 1544518730000\n                    serviceType:\n                      type: string\n                      example: \"Event\"\n                    serviceLabel:\n                      type: string\n                      example: \"Musica classica, opera e balletto\"\n                    serviceName:\n                      type: string\n                      example: \"\\\"I Concerti al Cenacolo 2018\\\"\"\n                    action_bannedfor:\n                      type: integer\n                      format: int32\n                      example: 0\n                    action_howmany:\n                      type: integer\n                      format: int32\n                      example: 1\n                    action_rulename:\n                      type: string\n                      example: \"daily_event_it\"\n                    action_sendrate:\n                      type: integer\n                      format: int32\n                      example: 0\n                    points:\n                      type: integer\n                      format: int32\n                      example: 0\n              assistance:\n                type: array\n                items:\n                  type: object\n    cancelEngagement:\n      description: \"OK\"\n      content:\n        application/json:\n          schema:\n            type: object\n            required:\n              - result\n              - message\n            properties:\n              result:\n                type: string\n                example: \"OK\"\n              message:\n                type: string\n                nullable: true\n                example: null\n    surveyCollector:\n      description: \"OK\"\n  requestBodies:\n    surveyCollector:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                engagement_id:\n                  type: integer\n                  format: int64\n                  example: 4699311\n                user_id:\n                  type: string\n                  example: \"7846b4cf63d22afef4a3acf33d9ca0cde38d49e4e59bb6b34a163c847079ff20\"\n                survey_id:\n                  type: string\n                  example: \"confirm_extrappoi_it\"\n                completed_time:\n                  type: integer\n                  format: int64\n                  example: 1543956143329\n                survey_response:\n                  type: object\n                  properties:\n                    confirm_extrappoi: \n                      type: string\n                      example: \"no\"",
			"canonicalURL": "/github.com/disit/snap4city@523488172f08a8e700ea3a777117724aac25eb65/-/blob/swagger/internal/engager-openapiv3.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/disit/snap4city/blob/523488172f08a8e700ea3a777117724aac25eb65/swagger/internal/engager-openapiv3.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}