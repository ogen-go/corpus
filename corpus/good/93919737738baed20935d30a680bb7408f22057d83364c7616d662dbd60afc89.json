{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/DiegoVictor/NPSer"
		},
		"file": {
			"name": "swagger.json",
			"size": 0,
			"path": "src/swagger.json",
			"byteSize": 13955,
			"content": "{\n  \"openapi\":\"3.0.2\",\n  \"info\": {\n    \"title\":\"NPSer\",\n    \"version\":\"1.0\",\n    \"license\": {\n      \"name\": \"MIT\",\n      \"url\": \"https://raw.githubusercontent.com/DiegoVictor/NPSer/master/LICENSE\"\n    }\n  },\n  \"servers\": [\n    {\n      \"url\":\"http://localhost:3333/v1\"\n    }\n  ],\n  \"paths\": {\n    \"/users\": {\n      \"post\": {\n        \"tags\": [\"Users\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"title\": \"User\",\n                \"required\": [\n                  \"name\",\n                  \"email\"\n                ],\n                \"properties\": {\n                  \"name\": {\n                    \"type\": \"string\"\n                  },\n                  \"email\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"example\": {\n                \"name\": \"John Doe\",\n                \"email\": \"johndoe@example.com.br\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Create a new user\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/User\"\n                },\n                \"example\": {\n                  \"id\": \"34a7d67b-1191-468f-9187-3911cf8396b2\",\n                  \"name\": \"John Doe\",\n                  \"email\": \"johndoe@example.com.br\",\n                  \"created_at\": \"2021-08-29T02:06:06.000Z\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"User already exists\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"statusCode\": 400,\n                  \"error\": \"Bad Request\",\n                  \"message\": \"User already exists\",\n                  \"code\": 140,\n                  \"docs\": \"https://github.com/DiegoVictor/npser#errors-reference\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/surveys\": {\n      \"get\": {\n        \"tags\": [\"Surveys\"],\n        \"parameters\": [\n          {\n            \"in\": \"query\",\n            \"name\": \"page\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"example\": 1\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Lists surveys\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/components/schemas/Survey\"\n                  }\n                },\n                \"example\": [\n                  {\n                    \"id\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\",\n                    \"title\": \"Internal Division Consultant\",\n                    \"description\": \"Saepe recusandae vitae velit asperiores vel consequuntur ratione quam.\",\n                    \"created_at\": \"2021-08-29T15:29:03.000Z\"\n                  }\n                ]\n              }\n            },\n            \"headers\": {\n              \"X-Total-Count\": {\n                \"description\": \"Total number of registries in the database\",\n                \"schema\": {\n                  \"type\": \"integer\"\n                }\n              },\n              \"Link\": {\n                \"description\": \"Next, Previous, First and Last page's urls\",\n                \"schema\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n      },\n      \"post\": {\n        \"tags\": [\"Surveys\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"title\": \"Survey\",\n                \"required\": [\n                  \"title\",\n                  \"description\"\n                ],\n                \"properties\": {\n                  \"title\": {\n                    \"type\": \"string\"\n                  },\n                  \"description\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"example\": {\n                \"title\": \"Internal Division Consultant\",\n                \"description\": \"Saepe recusandae vitae velit asperiores vel consequuntur ratione quam.\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Create a new survey\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Survey\"\n                },\n                \"example\": {\n                  \"id\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\",\n                  \"title\": \"Internal Division Consultant\",\n                  \"description\": \"Saepe recusandae vitae velit asperiores vel consequuntur ratione quam.\",\n                  \"created_at\": \"2021-08-29T15:29:03.000Z\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/send_mail\": {\n      \"post\": {\n        \"tags\": [\"NPS\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"title\": \"NPS\",\n                \"required\": [\n                  \"survey_id\",\n                  \"email\"\n                ],\n                \"properties\": {\n                  \"survey_id\": {\n                    \"type\": \"string\"\n                  },\n                  \"email\": {\n                    \"type\": \"string\"\n                  }\n                }\n              },\n              \"example\": {\n                \"email\": \"johndoe@example.com.br\",\n                \"survey_id\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"201\": {\n            \"description\": \"Send the NPS to provided user\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"string\",\n                  \"properties\": {\n                    \"id\": {\n                      \"type\": \"string\"\n                    }\n                  }\n                },\n                \"example\": {\n                  \"id\": \"c71cac0d-cb96-4c0d-884b-a66abd2b1e11\"\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"User or survey does not exists\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"examples\": {\n                  \"User does not exists\": {\n                    \"value\": {\n                      \"statusCode\": 400,\n                      \"error\": \"Bad Request\",\n                      \"message\": \"User does not exists\",\n                      \"code\": 240,\n                      \"docs\": \"https://github.com/DiegoVictor/npser#errors-reference\"\n                    }\n                  },\n                  \"Survey does not exists\": {\n                    \"value\": {\n                      \"statusCode\": 400,\n                      \"error\": \"Bad Request\",\n                      \"message\": \"Survey does not exists\",\n                      \"code\": 241,\n                      \"docs\": \"https://github.com/DiegoVictor/npser#errors-reference\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/answers\": {\n      \"get\": {\n        \"tags\": [\"Answers\"],\n        \"parameters\": [\n          {\n            \"in\": \"query\",\n            \"name\": \"page\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"example\": 1\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"List surveys' answers\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/components/schemas/Answer\"\n                  }\n                },\n                \"example\": [\n                  {\n                    \"id\": \"c71cac0d-cb96-4c0d-884b-a66abd2b1e11\",\n                    \"user_id\": \"34a7d67b-1191-468f-9187-3911cf8396b2\",\n                    \"survey_id\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\",\n                    \"value\": null,\n                    \"created_at\": \"2021-08-29T15:47:45.000Z\",\n                    \"user\": {\n                      \"id\": \"34a7d67b-1191-468f-9187-3911cf8396b2\",\n                      \"name\": \"John Doe\",\n                      \"email\": \"johndoe@example.com.br\",\n                      \"created_at\": \"2021-08-29T02:06:06.000Z\"\n                    },\n                    \"survey\": {\n                      \"id\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\",\n                      \"title\": \"Internal Division Consultant\",\n                      \"description\": \"Saepe recusandae vitae velit asperiores vel consequuntur ratione quam.\",\n                      \"created_at\": \"2021-08-29T15:29:03.000Z\"\n                    }\n                  }\n                ]\n              }\n            },\n            \"headers\": {\n              \"X-Total-Count\": {\n                \"description\": \"Total number of registries in the database\",\n                \"schema\": {\n                  \"type\": \"integer\"\n                }\n              },\n              \"Link\": {\n                \"description\": \"Next, Previous, First and Last page's urls\",\n                \"schema\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/answers/{value}\": {\n      \"get\": {\n        \"tags\": [\"Answers\"],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"value\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"integer\"\n            },\n            \"example\": 8\n          },\n          {\n            \"in\": \"query\",\n            \"name\": \"id\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"example\": \"c71cac0d-cb96-4c0d-884b-a66abd2b1e11\"\n          }\n        ],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Set user's avaliation to one survey\"\n          },\n          \"404\": {\n            \"description\": \"Answer not found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/Error\"\n                },\n                \"example\": {\n                  \"statusCode\": 404,\n                  \"error\": \"Not Found\",\n                  \"message\": \"Answer not found\",\n                  \"code\": 242,\n                  \"docs\": \"https://github.com/DiegoVictor/npser#errors-reference\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/nps/{survey_id}\": {\n      \"get\": {\n        \"tags\": [\"NPS\"],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"survey_id\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"example\": \"24d47172-8ddb-4281-af19-e0d5bda7c76e\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Show survey NPS\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/NPS\"\n                },\n                \"example\": {\n                  \"promoters\": 2,\n                  \"detractors\": 1,\n                  \"passive\": 0,\n                  \"total\": 3,\n                  \"nps\": 33.33\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"User\": {\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"email\": {\n            \"type\": \"string\"\n          },\n          \"created_at\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"Survey\": {\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"title\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"created_at\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"Answer\": {\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"user_id\": {\n            \"type\": \"string\"\n          },\n          \"survey_id\": {\n            \"type\": \"string\"\n          },\n          \"value\": {\n            \"type\": \"integer\"\n          },\n          \"created_at\": {\n            \"type\": \"string\"\n          },\n          \"user\": {\n            \"$ref\": \"#/components/schemas/User\"\n          },\n          \"survey\": {\n            \"$ref\": \"#/components/schemas/Survey\"\n          }\n        }\n      },\n      \"NPS\": {\n        \"properties\": {\n          \"promoters\": {\n            \"type\": \"integer\"\n          },\n          \"detractors\": {\n            \"type\": \"integer\"\n          },\n          \"passive\": {\n            \"type\": \"integer\"\n          },\n          \"total\": {\n            \"type\": \"integer\"\n          },\n          \"nps\": {\n            \"type\": \"number\"\n          }\n        }\n      },\n      \"Error\": {\n        \"properties\": {\n          \"statusCode\": {\n            \"type\": \"integer\"\n          },\n          \"error\": {\n            \"type\": \"string\"\n          },\n          \"message\": {\n            \"type\": \"string\"\n          },\n          \"code\": {\n            \"type\": \"integer\"\n          },\n          \"docs\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}\n",
			"canonicalURL": "/github.com/DiegoVictor/NPSer@4dd60a11142b232727f4756fb61030cd158a2868/-/blob/src/swagger.json",
			"externalURLs": [
				{
					"url": "https://github.com/DiegoVictor/NPSer/blob/4dd60a11142b232727f4756fb61030cd158a2868/src/swagger.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}