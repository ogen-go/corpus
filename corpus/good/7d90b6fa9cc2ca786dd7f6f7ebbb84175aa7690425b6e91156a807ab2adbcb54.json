{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/go-faster/gha"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "_oas/openapi.yaml",
			"byteSize": 4120,
			"content": "openapi: 3.0.3\ninfo:\n  title: Go Faster Github Archive Coordinator\n  description: Coordinates Archive Workers\n  version: 0.1.0\nservers:\n  - url: 'https://localhost:8080'\npaths:\n  /progress:\n    post:\n      operationId: progress\n      description: report progress\n      responses:\n        200:\n          description: Status\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Status\"\n        default:\n          $ref: \"#/components/responses/Error\"\n      parameters:\n        - $ref: \"#/components/parameters/Token\"\n      requestBody:\n        required: true\n\n        content:\n          \"application/json\":\n            schema:\n              $ref: \"#/components/schemas/Progress\"\n\n  /status:\n    get:\n      operationId: \"status\"\n      description: \"get status\"\n      responses:\n        200:\n          description: Coordinator status\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Status\"\n        default:\n          $ref: \"#/components/responses/Error\"\n  /job/poll:\n    post:\n      operationId: \"poll\"\n      description: Request job from coordinator\n      parameters:\n        - $ref: \"#/components/parameters/Token\"\n      responses:\n        200:\n          description: Job is available\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Job\"\n        default:\n          $ref: \"#/components/responses/Error\"\ncomponents:\n  parameters:\n    Token:\n      in: header\n      required: true\n      name: X-Token\n      description: Worker token\n      schema:\n        type: string\n  responses:\n    Error:\n      description: \"Error while processing request\"\n      content:\n        \"application/json\":\n          schema:\n            $ref: \"#/components/schemas/Error\"\n  schemas:\n    Progress:\n      type: object\n      required:\n        - event\n        - key\n      properties:\n        event:\n          type: string\n          enum:\n            - Ready\n            - Downloading\n            - Processed\n        key:\n          description: chunk key\n          type: string\n          minLength: 5\n        input_size_bytes:\n          type: integer\n          format: int64\n        content_size_bytes:\n          type: integer\n          format: int64\n        output_size_bytes:\n          type: integer\n          format: int64\n        input_ready_bytes:\n          type: integer\n          format: int64\n        sha256_input:\n          type: string\n          minLength: 64\n          maxLength: 64\n        sha256_content:\n          type: string\n          minLength: 64\n          maxLength: 64\n        sha256_output:\n          type: string\n          minLength: 64\n          maxLength: 64\n    Status:\n      type: object\n      properties:\n        message:\n          type: string\n      required: [ message ]\n\n    Error:\n      type: object\n      description: \"error description\"\n      properties:\n        message:\n          type: string\n      required: [ message ]\n\n    JobNothing:\n      type: object\n      description: Do nothing\n      required:\n        - type\n      properties:\n        type:\n          type: string\n\n    JobDownload:\n      type: object\n      description: Download chunk\n      required:\n        - type\n        - date\n      properties:\n        type:\n          type: string\n        date:\n          type: string\n          format: datetime\n\n    JobProcess:\n      type: object\n      description: Process job\n      required:\n        - type\n        - keys\n        - clickhouse\n      properties:\n        type:\n          type: string\n        keys:\n          type: array\n          items:\n            type: string\n        clickhouse:\n          type: string\n\n    Job:\n      type: object\n      description: job to perform on worker\n      discriminator:\n        propertyName: \"type\"\n        mapping:\n          nothing: JobNothing\n          download: JobDownload\n          process: JobProcess\n      oneOf:\n        - $ref: \"#/components/schemas/JobNothing\"\n        - $ref: \"#/components/schemas/JobDownload\"\n        - $ref: \"#/components/schemas/JobProcess\"\n",
			"canonicalURL": "/github.com/go-faster/gha@56aa936f1df0cd2fd82d697e0ea64a8a918bbc41/-/blob/_oas/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/go-faster/gha/blob/56aa936f1df0cd2fd82d697e0ea64a8a918bbc41/_oas/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}