{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/deepmipt/dp-agent"
		},
		"file": {
			"name": "agent_v0.9.2.yml",
			"size": 0,
			"path": "docs/source/_static/apispec/agent_v0.9.2.yml",
			"byteSize": 31211,
			"content": "openapi: 3.0.1\ninfo:\n  title: DeepPavlov Skills REST API\n  version: 0.9.2\n  description: \u003e-\n    Agents built with DeepPavlov communicate with their Skills via HTTP, so\n    endpoints should be specified.\nservers:\n  - url: 'http://localhost:{port}/'\n    description: Local development server\n    variables:\n      port:\n        default: '3978'\npaths:\n  /:\n    get:\n      summary: Root path\n      responses:\n        '200':\n          description: Go to /apidocs/ to see graphical web UI for this API.\n  '/api/v0/{skill_endpoint}/':\n    post:\n      parameters:\n        - name: skill_endpoint\n          in: path\n          required: true\n          schema:\n            enum:\n              - personal_info\n              - news_currencies\n      summary: Generic skill endpoint\n      description: \u003e-\n        An agent built with DeepPavlov sends requests to the skill endpoints in\n        order to retrieve the answers.\n      requestBody:\n        description: Description of the request to be executed\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/RequestBodySchema'\n            examples:\n              general:\n                $ref: '#/components/examples/GenericRequestBody'\n      responses:\n        '200':\n          description: Request finished succesfully.\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ODQAChitChatResponse200Schema\"\n              examples:\n                chitchat:\n                  $ref: \"#/components/examples/ChitChatResponse\"\n                odqa:\n                  $ref: \"#/components/examples/ODQAResponse\"\n                personal_info:\n                  $ref: '#/components/examples/PersonalInfoResponse'\n                news_currencies:\n                  $ref: '#/components/examples/NewsCurrenciesResponse'\n        '404':\n          description: This skill doesn't exsits.\ncomponents:\n  schemas:\n    RequestBodySchema:\n      type: object\n      properties:\n        version:\n          description: Версия API.\n          type: string\n        dialogs:\n          description: \u003e-\n            Батч независимых диалогов от разных пользователей. В одном батче не\n            могут находиться диалоги от одного и того же пользователя. Размер\n            батча нефиксированный, но ограничен сверху. В одном диалоге могут\n            принимать участие только два пользователя: человек и бот.\n          type: array\n          items:\n            $ref: '#/components/schemas/Dialog'\n    Dialog:\n      type: object\n      properties:\n        id:\n          description: Уникальный  id диалога.\n          type: string\n        location:\n          description: 'Город, в котором начался диалог.'\n          type: string\n        utterances:\n          description: \u003e-\n            Список всех реплик данного диалога. Последняя реплика всегда\n            принадлежит пользователю, и скилу нужно прислать ответ именно на эту\n            реплику.\n          type: array\n          items:\n            $ref: '#/components/schemas/Utterance'\n        user:\n          $ref: '#/components/schemas/User'\n        bot:\n          $ref: '#/components/schemas/Bot'\n        channel_type:\n          description: \u003e-\n            Канал связи, по которому происходит общение. В данной версии API\n            всегда “telegram”.\n          type: string\n    User:\n      description: 'Человек, принимающий участие в диалоге.'\n      type: object\n      properties:\n        id:\n          description: Уникальный  id пользователя.\n          type: string\n        user_telegram_id:\n          description: Уникальный Telegram id пользователя.\n          type: string\n        user_type:\n          description: Тип пользователя. Всегда “human”.\n          type: string\n        device_type:\n          description: \u003e-\n            Кодовое название устройства, с которого пользователь написал первую\n            реплику в диалоге. Может быть “iphone” или “android”.\n          type: string\n        persona:\n          description: Персона пользователя, которая хранится как список предложений-фактов о пользователе. По умолчанию пустой список.\n          type: array\n          items:\n            type: string\n        profile:\n          $ref: '#/components/schemas/Profile'\n    Bot:\n      description: \u003e-\n        Бот, принимающий участие в диалоге. Бот - это конкретный агент с\n        определенным набором скилов.\n      type: object\n      properties:\n        id:\n          description: Уникальный  id бота.\n          type: string\n        user_type:\n          description: Тип пользователя. Всегда “bot”.\n          type: string\n        persona:\n          description: Персона пользователя, которая хранится как список предложений-фактов о пользователе.\n          type: array\n          items:\n            type: string\n    Profile:\n      description: Персональная информация о пользователе.\n      type: object\n      properties:\n        gender:\n          description: 'Пол человека. Может принимать значения “male”, “female”, “other”'\n          type: string\n        birthdate:\n          description: \u003e-\n            Дата рождения человека. Может принимать строковые значения в формате\n            YYYY-MM-DD.\n          type: string\n        name:\n          description: Имя человека.\n          type: string\n        location:\n          description: Местонахождение человека.\n          type: object\n        home_coordinates:\n          description: Координаты дома человека.\n          type: object\n        work_coordinates:\n          description: Координаты места работы человека.\n          type: object\n        occupation:\n          description: Профессия человека.\n          type: string\n        income_per_year:\n          description: 'Доход человека в год, в рублях.'\n          type: number\n    Utterance:\n      type: object\n      properties:\n        id:\n          type: string\n          description: Уникальный ID реплики.\n        text:\n          type: string\n          description: \u003e-\n            Текст реплики. Либо текст, написанный пользователем, либо ответ,\n            присланный одним из скилов. В случае, если это начальная реплика\n            диалога, имеет значение \"/start\".\n        user_id:\n          type: string\n          description: 'Уникальный id пользователя, сказавшего данную реплику.'\n        annotations:\n          $ref: '#/components/schemas/Annotations'\n        date_time:\n          type: string\n          description: Время получения реплики сервером.\n        confidece:\n          type: number\n          description: Уверенность скила в своем ответе.\n        active_skill:\n          type: string\n          description: \u003e-\n            Кодовое название скила, который был ответственным за формирование\n            данной реплики.\n    Annotations:\n      description: \u003e-\n        Разметка реплик входящими в препроцессор моделями. Дефолтная аннотация:\n        {'ner': {}, 'coref': {}, 'sentiment': {}} Начальная реплика диалога,\n        если это команда \"/start\", имеет дефолтную аннотацию.\n      type: object\n      properties:\n        ner:\n          $ref: '#/components/schemas/NER'\n        coref:\n          $ref: '#/components/schemas/Coref'\n        sentiment:\n          $ref: '#/components/schemas/Sentiment'\n    NER:\n      description: По умолчанию пустой словарь.\n      type: object\n      properties:\n        tokens:\n          description: 'Список токенов, пришедших от компонента ner.'\n          type: array\n          items:\n            type: string\n        tags:\n          description: \u003e-\n            Список тэгов. Количество тэгов соответствует количеству токенов.\n            Тэги имеют формат BIO-разметки. Поддерживаются следующие классы:\n            ‘PER’ - имя (и/или фамилия) человека ‘ORG’ - название организации\n            ‘LOC’ - местонахождение\n          type: array\n          items:\n            type: string\n    Coref:\n      description: Не имплементировано. Всегда пустой словарь.\n      type: object\n    Sentiment:\n      description: \u003e-\n        По умолчанию пустой словарь. Если sentiment определился, то возвращает\n        строку с значением sentiment. Может принимать значения: 'neutral'\n        'positive' 'skip' 'speech' 'negative'\n      type: object\n    ODQAChitChatResponse200Unit:\n      description: \u003e-\n        Батч возвращаемых скилом ответов. Количество ответов соответствует\n        количеству диалогов в запросе агента.\n      type: object\n      properties:\n        text:\n          description: Реплика-ответ скила.\n          type: string\n        confidence:\n          description: \u003e-\n            Уверенность скила в своем ответе. Для руловых скилов можно\n            выставлять '1.0'.\n          type: number\n    ODQAChitChatResponse200Schema:\n      type: object\n      properties:\n        responses:\n          type: array\n          items:\n            $ref: '#/components/schemas/ODQAChitChatResponse200Unit'\n  examples:\n    GenericRequestBody:\n      description: one exaustive example\n      value:\n        version: 0.9.2\n        dialogs:\n          - id: 5c8906200110b313394e6a55\n            location: None\n            utterances:\n              - id: 5c8906200110b313394e6a56\n                text: /start\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner: {}\n                  coref: {}\n                  sentiment: {}\n                date_time: '2019-03-13 13:31:12.113000'\n              - id: 5c8906330110b313394e6a57\n                active_skill: chitchat\n                confidence: 1\n                text: Горячий привет!\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Горячий\n                      - привет\n                      - '!'\n                  sentiment:\n                    labels: speech\n                date_time: '2019-03-13 13:31:31.939000'\n              - id: 5c89063e0110b313394e6a58\n                text: 'и тебе привет : )'\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - и\n                      - тебе\n                      - привет\n                      - ':'\n                      - )\n                  sentiment:\n                    labels: speech\n                date_time: '2019-03-13 13:31:42.048000'\n              - id: 5c89063f0110b313394e6a59\n                active_skill: chitchat\n                confidence: 0.018443722277879715\n                text: Люблю общаться с людьми\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Люблю\n                      - общаться\n                      - с\n                      - людьми\n                  sentiment:\n                    labels: positive\n                date_time: '2019-03-13 13:31:43.082000'\n              - id: 5c8906460110b313394e6a5a\n                text: Давай пообщаемся\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                    tokens:\n                      - Давай\n                      - пообщаемся\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:31:50.200000'\n              - id: 5c8906470110b313394e6a5b\n                active_skill: chitchat\n                confidence: 0.005199910141527653\n                text: 'давай, я люблю общаться с людьми'\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - давай\n                      - ','\n                      - я\n                      - люблю\n                      - общаться\n                      - с\n                      - людьми\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:31:51.278000'\n              - id: 5c89064e0110b313394e6a5c\n                text: Ну я поняла.\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Ну\n                      - я\n                      - поняла\n                      - .\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:31:58.434000'\n              - id: 5c89064f0110b313394e6a5d\n                active_skill: chitchat\n                confidence: 0.024425994604825974\n                text: мне нравится общаться с людьми\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - мне\n                      - нравится\n                      - общаться\n                      - с\n                      - людьми\n                  sentiment:\n                    labels: positive\n                date_time: '2019-03-13 13:31:59.517000'\n              - id: 5c8906560110b313394e6a5e\n                text: иди-ка ты к черту\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - иди-ка\n                      - ты\n                      - к\n                      - черту\n                  sentiment:\n                    labels: negative\n                date_time: '2019-03-13 13:32:06.146000'\n              - id: 5c8906570110b313394e6a5f\n                active_skill: chitchat\n                confidence: 0.053593460470438004\n                text: чем занимаешься в свободное время?\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - чем\n                      - занимаешься\n                      - в\n                      - свободное\n                      - время\n                      - '?'\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:07.132000'\n              - id: 5c8906650110b313394e6a63\n                text: привет\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - I-PER\n                    tokens:\n                      - привет\n                  sentiment:\n                    labels: speech\n                date_time: '2019-03-13 13:32:21.218000'\n              - id: 5c8906660110b313394e6a64\n                active_skill: chitchat\n                confidence: 0.030921930447220802\n                text: я люблю путешествовать\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - я\n                      - люблю\n                      - путешествовать\n                  sentiment:\n                    labels: positive\n                date_time: '2019-03-13 13:32:22.159000'\n              - id: 5c89066f0110b313394e6a65\n                text: Какая страна твоя любимая?\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Какая\n                      - страна\n                      - твоя\n                      - любимая\n                      - '?'\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:31.771000'\n              - id: 5c8906710110b313394e6a66\n                active_skill: chitchat\n                confidence: 0.006310736294835806\n                text: по разным странам\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - по\n                      - разным\n                      - странам\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:33.089000'\n              - id: 5c8906780110b313394e6a67\n                text: где ты уже был?\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - где\n                      - ты\n                      - уже\n                      - был\n                      - '?'\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:40.196000'\n              - id: 5c8906790110b313394e6a68\n                active_skill: chitchat\n                confidence: 0.001935996813699603\n                text: путешествовал в ОАЭ\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - B-LOC\n                    tokens:\n                      - путешествовал\n                      - в\n                      - ОАЭ\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:41.197000'\n              - id: 5c8906850110b313394e6a69\n                text: Вау! А я была в Австралии.\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                      - O\n                      - B-LOC\n                      - O\n                    tokens:\n                      - Вау\n                      - '!'\n                      - А\n                      - я\n                      - была\n                      - в\n                      - Австралии\n                      - .\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:53.812000'\n              - id: 5c8906860110b313394e6a6a\n                active_skill: chitchat\n                confidence: 0.0393575020134449\n                text: мне нравится Индия\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - B-LOC\n                    tokens:\n                      - мне\n                      - нравится\n                      - Индия\n                  sentiment:\n                    labels: positive\n                date_time: '2019-03-13 13:32:54.897000'\n              - id: 5c89068c0110b313394e6a6b\n                text: /start\\\\\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                    tokens:\n                      - /start\\\\\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:33:00.501000'\n              - id: 5c89068d0110b313394e6a6c\n                active_skill: chitchat\n                confidence: 0.07003375142812729\n                text: спасибо за диалог\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - спасибо\n                      - за\n                      - диалог\n                  sentiment:\n                    labels: speech\n                date_time: '2019-03-13 13:33:01.621000'\n            user:\n              id: 5c8903ef0110b311dcc08d4a\n              user_telegram_id: '217465130'\n              user_type: human\n              device_type: None\n              persona: []\n              profile:\n                name: None\n                gender: None\n                birthdate: None\n                location: None\n                home_coordinates: None\n                work_coordinates: None\n                occupation: None\n                income_per_year: None\n            bot:\n              id: 5c7cf00e5c70e839bf9cb115\n              user_type: bot\n              persona:\n                - Мне нравится общаться с людьми.\n                - Пару лет назад я окончила вуз с отличием.\n                - Я работаю в банке.\n                - В свободное время помогаю пожилым людям в благотворительном фонде\n                - Люблю путешествовать\n            channel_type: telegram\n          - id: 5c89065d0110b313394e6a60\n            location: None\n            utterances:\n              - id: 5c89065d0110b313394e6a61\n                text: /start\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner: {}\n                  coref: {}\n                  sentiment: {}\n                date_time: '2019-03-13 13:32:13.274000'\n              - id: 5c89065e0110b313394e6a62\n                active_skill: chitchat\n                confidence: 1\n                text: Какие гости!\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Какие\n                      - гости\n                      - '!'\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:32:14.110000'\n            user:\n              id: 5c8903ef0110b311dcc08d4a\n              user_telegram_id: '217465130'\n              user_type: human\n              device_type: None\n              persona: []\n              profile:\n                name: None\n                gender: None\n                birthdate: None\n                location: None\n                home_coordinates: None\n                work_coordinates: None\n                occupation: None\n                income_per_year: None\n            bot:\n              id: 5c7cf00e5c70e839bf9cb115\n              user_type: bot\n              persona:\n                - Мне нравится общаться с людьми.\n                - Пару лет назад я окончила вуз с отличием.\n                - Я работаю в банке.\n                - В свободное время помогаю пожилым людям в благотворительном фонде\n                - Люблю путешествовать\n            channel_type: telegram\n          - id: 5c8906920110b313394e6a6d\n            location: None\n            utterances:\n              - id: 5c8906920110b313394e6a6e\n                text: /start\n                user_id: 5c8903ef0110b311dcc08d4a\n                annotations:\n                  ner: {}\n                  coref: {}\n                  sentiment: {}\n                date_time: '2019-03-13 13:33:06.727000'\n              - id: 5c8906930110b313394e6a6f\n                active_skill: chitchat\n                confidence: 1\n                text: Какие гости!\n                user_id: 5c7cf00e5c70e839bf9cb115\n                annotations:\n                  ner:\n                    tags:\n                      - O\n                      - O\n                      - O\n                    tokens:\n                      - Какие\n                      - гости\n                      - '!'\n                  sentiment:\n                    labels: neutral\n                date_time: '2019-03-13 13:33:07.544000'\n            user:\n              id: 5c8903ef0110b311dcc08d4a\n              user_telegram_id: '217465130'\n              user_type: human\n              device_type: None\n              persona: []\n              profile:\n                name: None\n                gender: None\n                birthdate: None\n                location: None\n                home_coordinates: None\n                work_coordinates: None\n                occupation: None\n                income_per_year: None\n            bot:\n              id: 5c7cf00e5c70e839bf9cb115\n              user_type: bot\n              persona:\n                - Мне нравится общаться с людьми.\n                - Пару лет назад я окончила вуз с отличием.\n                - Я работаю в банке.\n                - В свободное время помогаю пожилым людям в благотворительном фонде\n                - Люблю путешествовать\n            channel_type: telegram\n\n    ChitChatResponse:\n      description: Пример JSON-ответа сервера chitchat скила\n      value:\n        responses:\n          - text: 'привет, я бот!'\n            confidence: 0.947\n          - text: как дела?\n            confidence\": 0.3333\n    ODQAResponse:\n      description: Пример JSON-ответа сервера odqa скила\n      value:\n        responses:\n          - text: Петр Первый родился в 1672 году.\n            confidence: 0.947\n          - text: На Земле живет 7 миллиардов людей.\n            confidence\": 0.3333\n    PersonalInfoResponse:\n      description: Пример JSON-ответа сервера personal-info скила\n      value:\n        responses:\n          - text: 'Скажите, пожалуйста, как к Вам обращаться.'\n            confidence: 1\n            gender: male\n            birthdate: 2019-02-14T00:00:00.000Z\n            name: null\n            location: null\n            home_coordinates: null\n            work_coordinates”: null\n            occupation: data scientist\n            income_per_year”: 100000000000\n          - text: А где Вы живете?\n            confidence\": 1\n            gender: male\n            birthdate: 2019-02-14T00:00:00.000Z\n            name: Джо Неуловимый\n            location: null\n            home_coordinates: null\n            work_coordinates: null\n            occupation”: data scientist\n            income_per_year: 100000000000\n    NewsCurrenciesResponse:\n      summary: Example answer from the NewsCurrency skill\n      value:\n        responses:\n          - text: \u003e-\n              Some news (with titles, bodies, etc.) or currencies info as plain\n              text\n            confidence: 1\n          - text: \u003e-\n              Another news (with titles, bodies, etc.) or currencies info as\n              plain text\n            confidence: 1\n",
			"canonicalURL": "/github.com/deepmipt/dp-agent@74b5b993a451ac54efd9a5086ff507a9520ad0c6/-/blob/docs/source/_static/apispec/agent_v0.9.2.yml",
			"externalURLs": [
				{
					"url": "https://github.com/deepmipt/dp-agent/blob/74b5b993a451ac54efd9a5086ff507a9520ad0c6/docs/source/_static/apispec/agent_v0.9.2.yml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}