{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/TNG/virtual-office"
		},
		"file": {
			"name": "api.json",
			"size": 0,
			"path": "server/express/routes/api.json",
			"byteSize": 14890,
			"content": "{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"title\": \"Virtual Office\",\n    \"description\": \"This is the API documentation for Virtual Office\",\n    \"version\": \"0.1\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"/\"\n    }\n  ],\n  \"tags\": [\n    {\n      \"name\": \"Monitoring\"\n    },\n    {\n      \"name\": \"API\"\n    },\n    {\n      \"name\": \"Zoom.us\"\n    },\n    {\n      \"name\": \"Admin\"\n    }\n  ],\n  \"paths\": {\n    \"/api/monitoring/health\": {\n      \"get\": {\n        \"summary\": \"Health\",\n        \"tags\": [\"Monitoring\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Healthy\"\n          },\n          \"500\": {\n            \"description\": \"Unhealthy\"\n          }\n        }\n      }\n    },\n    \"/api/office\": {\n      \"get\": {\n        \"summary\": \"Get the whole office incl. rooms\",\n        \"tags\": [\"API\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/office\"\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/rooms\": {\n      \"post\": {\n        \"summary\": \"Create a user-specific temporary room\",\n        \"tags\": [\"API\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/roomConfig\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Success\"\n          },\n          \"405\": {\n            \"description\": \"Room creation requires a valid user\"\n          },\n          \"409\": {\n            \"description\": \"Room with same id already exists\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/rooms/{roomId}\": {\n      \"delete\": {\n        \"summary\": \"Delete a temporary room\",\n        \"tags\": [\"API\"],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"roomId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true\n          }\n        ],\n        \"responses\": {\n          \"204\": {\n            \"description\": \"Success\"\n          },\n          \"405\": {\n            \"description\": \"Room is protected from deletion\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/groups/{groupId}/join\": {\n      \"get\": {\n        \"summary\": \"Joins a room within a group\",\n        \"tags\": [\"API\"],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"groupId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true\n          }\n        ],\n        \"responses\": {\n          \"302\": {\n            \"description\": \"Redirect to an Zoom.Us join URL\"\n          },\n          \"404\": {\n            \"description\": \"If no rooms are assigned to the group or the group could not be found.\"\n          }\n        }\n      }\n    },\n    \"/api/clientConfig\": {\n      \"get\": {\n        \"summary\": \"Config for client side rendering\",\n        \"tags\": [\"API\"],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Config\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/clientConfig\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/api/zoomus/webhook\": {\n      \"post\": {\n        \"summary\": \"Webhook for zoom.us calls\",\n        \"tags\": [\"Zoom.us\"],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/zoomusEvent\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/admin/rooms/{roomId}\": {\n      \"delete\": {\n        \"summary\": \"Delete all room's users\",\n        \"tags\": [\"Admin\"],\n        \"security\": [\n          {\n            \"basicAuth\": []\n          }\n        ],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"roomId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"id of the room that should be deleted\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/admin/clientConfig\": {\n      \"patch\": {\n        \"summary\": \"Replace the client config\",\n        \"tags\": [\"Admin\"],\n        \"security\": [\n          {\n            \"basicAuth\": []\n          }\n        ],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/clientConfig\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/admin/rooms/{roomId}/{userId}\": {\n      \"delete\": {\n        \"summary\": \"Delete a user in a room\",\n        \"tags\": [\"Admin\"],\n        \"security\": [\n          {\n            \"basicAuth\": []\n          }\n        ],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"roomId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"if of the room\"\n          },\n          {\n            \"in\": \"path\",\n            \"name\": \"userId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true,\n            \"description\": \"id of the user\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\"\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/meeting/{meetingId}/participants\": {\n      \"get\": {\n        \"summary\": \"Get participants for a meeting\",\n        \"tags\": [\"API\"],\n        \"parameters\": [\n          {\n            \"in\": \"path\",\n            \"name\": \"meetingId\",\n            \"schema\": {\n              \"type\": \"string\"\n            },\n            \"required\": true\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"array\",\n                  \"items\": {\n                    \"$ref\": \"#/components/schemas/participant\"\n                  }\n                }\n              }\n            }\n          },\n          \"500\": {\n            \"description\": \"Internal error\"\n          }\n        }\n      }\n    },\n    \"/api/admin/replaceOffice\": {\n      \"post\": {\n        \"summary\": \"Replace office (until the next server restart)\",\n        \"tags\": [\"Admin\"],\n        \"security\": [\n          {\n            \"basicAuth\": []\n          }\n        ],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/officeConfiguration\"\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\"\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"securitySchemes\": {\n      \"basicAuth\": {\n        \"type\": \"http\",\n        \"scheme\": \"basic\"\n      }\n    },\n    \"schemas\": {\n      \"clientConfig\": {\n        \"properties\": {\n          \"backgroundUrl\": {\n            \"type\": \"string\",\n            \"description\": \"URL to a background image, must be publicly accessible\",\n            \"example\": \"http://bla.blub/example.png\"\n          },\n          \"viewMode\": {\n            \"type\": \"string\",\n            \"enum\": [\"list\", \"grid\"]\n          },\n          \"theme\": {\n            \"type\": \"string\",\n            \"enum\": [\"blue\", \"yellow\"]\n          }\n        }\n      },\n      \"zoomusEvent\": {\n        \"properties\": {\n          \"event\": {\n            \"type\": \"string\",\n            \"example\": \"meeting.participant_joined\",\n            \"enum\": [\"meeting.participant_joined\", \"meeting.participant_left\", \"meeting.ended\"]\n          },\n          \"payload\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"object\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"id\": {\n                    \"type\": \"string\",\n                    \"example\": \"123456\",\n                    \"description\": \"Zoom.us meeting id\"\n                  },\n                  \"participant\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"id\": {\n                        \"type\": \"string\",\n                        \"example\": \"4566\",\n                        \"description\": \"unique zoom user id\"\n                      },\n                      \"user_name\": {\n                        \"type\": \"string\",\n                        \"example\": \"Hans Example\",\n                        \"description\": \"Name of the user (which she/he entered upon joining the meeting)\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"participant\": {\n        \"required\": [\"username\"],\n        \"properties\": {\n          \"username\": {\n            \"type\": \"string\",\n            \"example\": \"hans.example\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"example\": \"Hans Example\"\n          },\n          \"email\": {\n            \"type\": \"string\",\n            \"example\": \"hans.example@example.com\"\n          },\n          \"profileImage\": {\n            \"type\": \"string\",\n            \"example\": \"http://my.image.com/bla.png\"\n          }\n        }\n      },\n      \"link\": {\n        \"required\": [\"href\", \"text\"],\n        \"properties\": {\n          \"href\": {\n            \"type\": \"string\",\n            \"example\": \"http://www.google.de\"\n          },\n          \"text\": {\n            \"type\": \"string\",\n            \"example\": \"Google\"\n          },\n          \"icon\": {\n            \"type\": \"string\",\n            \"example\": \"http://example.com/bla.png\"\n          }\n        }\n      },\n      \"groupJoinConfig\": {\n        \"type\": \"object\",\n        \"required\": [\"minimumParticipantCount\", \"title\", \"description\"],\n        \"properties\": {\n          \"minimumParticipantCount\": {\n            \"type\": \"number\",\n            \"description\": \"Minimum number of participants in a room. When this count has been reached, the next one will be filled.\",\n            \"example\": 3\n          },\n          \"title\": {\n            \"type\": \"string\",\n            \"description\": \"Title that is displayed as the header of the group join card.\",\n            \"example\": \"Coffee Rooms\"\n          },\n          \"subtitle\": {\n            \"type\": \"string\",\n            \"description\": \"Subtitle that is displayed underneath the header of the group join card.\",\n            \"example\": \"Lunch\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Description that explains the group join functionality to users.\",\n            \"example\": \"You can randomly join one of our coffee rooms.\"\n          }\n        }\n      },\n      \"date\": {\n        \"type\": \"string\",\n        \"description\": \"ISO 8601 string\",\n        \"example\": \"2016-05-25T09:08:34.123+06:00\"\n      },\n      \"group\": {\n        \"type\": \"object\",\n        \"required\": [\"id\", \"name\"],\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"example\": \"1\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"example\": \"Lord of the Rings\"\n          },\n          \"disabledAfter\": {\n            \"$ref\": \"#/components/schemas/date\"\n          },\n          \"disabledBefore\": {\n            \"$ref\": \"#/components/schemas/date\"\n          },\n          \"joinableAfter\": {\n            \"$ref\": \"#/components/schemas/date\"\n          },\n          \"groupJoin\": {\n            \"$ref\": \"#/components/schemas/groupJoinConfig\"\n          }\n        }\n      },\n      \"office\": {\n        \"type\": \"object\",\n        \"required\": [\"groups\", \"rooms\"],\n        \"properties\": {\n          \"groups\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/group\"\n            }\n          },\n          \"rooms\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/room\"\n            }\n          }\n        }\n      },\n      \"roomConfig\": {\n        \"type\": \"object\",\n        \"required\": [\"meetingId\", \"name\"],\n        \"properties\": {\n          \"meetingId\": {\n            \"type\": \"string\",\n            \"example\": \"xxxxxxxx\"\n          },\n          \"roomId\": {\n            \"type\": \"string\",\n            \"example\": \"xxxxxxxx\"\n          },\n          \"group\": {\n            \"type\": \"string\",\n            \"example\": \"1\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"example\": \"Coffee Kitchen\"\n          },\n          \"subtitle\": {\n            \"type\": \"string\",\n            \"example\": \"@Cozy Corner\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"example\": \"Come in and chill out\"\n          },\n          \"joinUrl\": {\n            \"type\": \"string\",\n            \"example\": \"https://zoom.us/j/xxxxxxxx\"\n          },\n          \"temporary\": {\n            \"type\": \"boolean\",\n            \"example\": \"false\"\n          },\n          \"links\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/link\"\n            }\n          },\n          \"icon\": {\n            \"type\": \"string\",\n            \"example\": \"http://example.com/myRoomIcon.png\"\n          }\n        }\n      },\n      \"room\": {\n        \"required\": [\"roomId\"],\n        \"allOf\": [\n          {\n            \"$ref\": \"#/components/schemas/roomConfig\"\n          }\n        ],\n        \"type\": \"object\"\n      },\n      \"rooms\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"$ref\": \"#/components/schemas/room\"\n        }\n      },\n      \"officeConfiguration\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"groups\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/group\"\n            }\n          },\n          \"rooms\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/roomConfig\"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n",
			"canonicalURL": "/github.com/TNG/virtual-office@b4092218197004cc2466ca8433c07286545f0c21/-/blob/server/express/routes/api.json",
			"externalURLs": [
				{
					"url": "https://github.com/TNG/virtual-office/blob/b4092218197004cc2466ca8433c07286545f0c21/server/express/routes/api.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}