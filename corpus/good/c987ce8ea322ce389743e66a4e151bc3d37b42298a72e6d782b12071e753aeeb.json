{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/nasa/utm-apis"
		},
		"file": {
			"name": "operator-api.yaml",
			"size": 0,
			"path": "oper-api/operator-api.yaml",
			"byteSize": 49633,
			"content": "openapi: 3.0.0\ninfo:\n  title: NUP Operator API\n  version: v4\n  description: Endpoints for managing Operational Data with models based on the\n     v4 operator-api models.\ntags:\n  - name: Message Data Types\n    description: 'Intent, Inform, Alert and Free message schemas'\n  - name: Operations\n    description: Add and view operations\n  - name: Positions\n    description: Add and view operation positions\n  - name: Messages\n    description: Add and view operation messages\n  - name: Geography Data Types\n    description: Geographies\n  - name: Subscription Points\n    description: Subscribe to notifications\npaths:\n  /messages:\n    get:\n      tags:\n        - Messages\n      summary: Get Operator Messages.\n      description: \u003e-\n        You can specify ASC and DESC (or asc/desc) as follows:\n        /operator/messages?sort=DESC You can specify a time window as follows:\n        /operator/messages/?limit=44\u0026sent_time_after=2038-01-01T07:58:20.000Z\u0026sent_time_before=2038-01-01T07:58:30.000Z\n      parameters:\n        - name: sort\n          in: query\n          description: sort\n          required: false\n          schema:\n            type: string\n        - name: limit\n          in: query\n          description: limit\n          required: false\n          schema:\n            type: integer\n            format: int32\n            default: 10\n        - name: offset\n          in: query\n          description: offset\n          required: false\n          schema:\n            type: integer\n            format: int32\n        - name: sent_time_before\n          in: query\n          description: Returns Message with sent_time before or equal to the given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n        - name: sent_time_after\n          in: query\n          description: Returns Messages with sent_time after or equal to the given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Message'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n    post:\n      tags:\n        - Messages\n      summary: add Message for a Gufi\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Message'\n        description: msg\n        required: true\n  '/messages/{gufi}':\n    get:\n      tags:\n        - Messages\n      summary: get Messages for a Gufi\n      parameters:\n        - name: gufi\n          in: path\n          description: gufi\n          required: true\n          schema:\n            type: string\n        - name: sort\n          in: query\n          description: sort\n          required: false\n          schema:\n            type: string\n        - name: limit\n          in: query\n          description: limit\n          required: false\n          schema:\n            type: integer\n            format: int32\n            default: 10\n        - name: offset\n          in: query\n          description: offset\n          required: false\n          schema:\n            type: integer\n            format: int32\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Message'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n  /operations:\n    get:\n      tags:\n        - Operations\n      summary: GET operation list with query\n      parameters:\n        - name: state\n          in: query\n          description: \u003e-\n            You can specify ASC and DESC (or asc/desc) as follows:\n            https://host.nasa.gov/nuss/operator/messages?sort=DESC\n\n            You can also specify limit and offset.\n\n            Returns Operations with an OR list given states. Eg. state=A,V\n            returns operations in A or V states. Cannot use with state_not_eq.\n          required: false\n          explode: true\n          schema:\n            type: array\n            items:\n              type: string\n              minLength: 5\n              maxLength: 14\n            minItems: 1\n            maxItems: 13\n        - name: state_not_eq\n          in: query\n          description: \u003e-\n            Returns Operations with other than the given states. Eg\n            state_not_eq=X,C. Cannot use with state.\n          required: false\n          explode: true\n          schema:\n            type: array\n            items:\n              type: string\n              minLength: 5\n              maxLength: 14\n            minItems: 1\n            maxItems: 13\n        - name: effective_time_begin_before\n          in: query\n          description: \u003e-\n            Returns Operations with effective_begin_time before or equal to the\n            given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n        - name: effective_time_begin_after\n          in: query\n          description: \u003e-\n            Returns Operations with effective_begin_time after or equal to the\n            given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n        - name: effective_time_end_before\n          in: query\n          description: \u003e-\n            Returns Operations with effective_end_time before or equal to the\n            given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n        - name: effective_time_end_after\n          in: query\n          description: \u003e-\n            Returns Operations with effective_end_time after or equal to the\n            given time\n          required: false\n          schema:\n            type: string\n            format: date-time\n            minLength: 25\n            maxLength: 25\n        - name: inside_bbox\n          in: query\n          description: \u003e-\n            Returns Operations with flight geographies inside or intersecting\n            the bbox. The coordinates are comma delimited\n            (lon_min,lat_min,lon_max,lat_max). Example:\n            -121.1133,36.5317,-121.0941,36.6530\n          required: false\n          explode: true\n          schema:\n            type: array\n            items:\n              type: number\n              format: double\n            minItems: 4\n            maxItems: 4\n        - name: sort\n          in: query\n          description: \u003e-\n            sorts the results by submit_time. Valid values - asc, desc. Default\n            value is desc.\n          required: false\n          schema:\n            type: string\n            minLength: 3\n            maxLength: 4\n        - name: limit\n          in: query\n          description: limit\n          required: false\n          schema:\n            type: integer\n            format: int32\n            default: 10\n        - name: offset\n          in: query\n          description: offset\n          required: false\n          schema:\n            type: integer\n            format: int32\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Operation'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n    post:\n      tags:\n        - Operations\n      summary: add an operation\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Operation'\n        description: model\n        required: true\n  '/operations/{gufi}':\n    get:\n      tags:\n        - A. Required Endpoints\n      summary: Retrieve an operation by GUFI.\n      description: Retrieve an operation by GUFI.  Returns 404 if gufi is not found.\n      parameters:\n        - in: path\n          name: gufi\n          required: true\n          description: GUFI of the operation being requested.\n          schema:\n            type: string\n            format: uuid\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Operation'\n        '400':\n          description: Bad request. Typically validation error. Fix your request and retry.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '401':\n          description: Invalid or missing access_token provided.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '403':\n          description: \u003e-\n            Forbidden. Do not retry with same access token. Reason not provided,\n            but do you have the right scopes?\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '404':\n          description: Resource not found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '423':\n          description: The requested data are in a transition state. Please retry request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n    put:\n      tags:\n        - A. Required Endpoints\n      summary: 'Update an already existing operation.'\n      description: \u003e-\n        Update an already existing operation which is identified by gufi\n      parameters:\n        - in: path\n          name: gufi\n          required: true\n          description: PUT operation by gufi\n          schema:\n            type: string\n      responses:\n        '200':\n          description: OK\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '400':\n          description: Bad request. Typically validation error. Fix your request and retry.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '401':\n          description: Invalid or missing access_token provided.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '403':\n          description: Forbidden. Data and or token do not meet security requirements.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '409':\n          description: \u003e-\n            Conflict. This USS has an Operation that intersects. 'messages'\n            field in UTMRestResponse will contain list of GUFIs of length at\n            least 1 indicating the conflicting Operation(s).\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '429':\n          description: Too many recent requests from you. Wait to make further queries.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Operation'\n        description: \u003e-\n          Operational plan with the following properties:\n          1. Contains a valid operation gufi.\n        required: true\n  /positions:\n    get:\n      tags:\n        - Positions\n      summary: GET Positions\n      description: \u003e-\n        You can specify ASC and DESC (or asc/desc) as follows:\n        https://host.nasa.gov/nuss/operator/v4/positions?sort=DESC You can also\n        specify limit and offset.\n      parameters:\n        - name: sort\n          in: query\n          description: sort\n          required: false\n          schema:\n            type: string\n        - name: limit\n          in: query\n          description: limit\n          required: false\n          schema:\n            type: integer\n            format: int32\n            default: 10\n        - name: offset\n          in: query\n          description: offset\n          required: false\n          schema:\n            type: integer\n            format: int32\n      responses:\n        '200':\n          description: \u003e-\n            returns empty list if no positions are found.  The return list can\n            be large so use limit and offset.\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Position'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n    post:\n      tags:\n        - Positions\n      summary: addPosition\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/OperResponse'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Position'\n        description: flight position from operator\n        required: true\n  '/positions/{gufi}':\n    get:\n      tags:\n        - Positions\n      summary: getPositionsForGufi\n      parameters:\n        - name: gufi\n          in: path\n          description: gufi\n          required: true\n          schema:\n            type: string\n        - name: fields\n          in: query\n          description: fields\n          required: false\n          schema:\n            type: string\n        - name: q\n          in: query\n          description: q\n          required: false\n          schema:\n            type: string\n        - name: sort\n          in: query\n          description: sort\n          required: false\n          schema:\n            type: string\n        - name: limit\n          in: query\n          description: limit\n          required: false\n          schema:\n            type: integer\n            format: int32\n            default: 10\n        - name: offset\n          in: query\n          description: offset\n          required: false\n          schema:\n            type: integer\n            format: int32\n      responses:\n        '200':\n          description: \u003e-\n            returns positions for GUFI. returns empty list if no positions are\n            found.  The return list can be large so use limit and offset.\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/Position'\n        '401':\n          description: Unauthorized\n        '403':\n          description: Forbidden\n        '404':\n          description: Not Found\nservers:\n  - url: 'https://some.host/operator/v4'\ncomponents:\n  schemas:\n    Operation:\n      required:\n      - contact\n      - operation_volumes\n      type: object\n      properties:\n        gufi:\n          maxLength: 36\n          minLength: 36\n          pattern: ^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$\n          type: string\n          format: uuid\n          example: 00000000-0000-4444-8888-feeddeadbeef\n          x-utm-data-accessibility: PUBLIC\n        api_version:\n          type: string\n          description: version # of api endpoint.\n          x-utm-data-accessibility: OPERATIONAL\n        user_id:\n          type: string\n          description: operator user id.\n          x-utm-data-accessibility: OPERATIONAL\n        submit_time:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Time that this Operation was first submitted to NUSS.  For GUD, this means when you first write to the grid.\n            The submit_time value MUST remain constant for the life cycle of the operation.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        update_time:\n          description: \u003e-\n            A timestamp set by the USS any time the state of the operation is\n            updated within the USS Network. \n\n            When the operation is submitted for the first time, update_time MUST\n            be equal to submit_time. When an operation is modified (updated),\n            update_time MUST be greater than submit_time. THe update_time value\n            MUST be constant for each update data exchange.\n          type: string\n          format: date-time\n          minLength: 24\n          maxLength: 24\n          x-utm-data-accessibility: OPERATIONAL\n          pattern: \u003e-\n            ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          example: '2015-08-20T14:11:56.118Z'\n        effective_time_begin:\n          type: string\n          format: date-time\n          description: \u003e-\n            The effective begin time of the operation. Same value as the begin\n            time of the first operation volume.\n        effective_time_end:\n          type: string\n          format: date-time\n          description: \u003e-\n            The effective end time of the operation. Same value as the end time\n            of the last operation volume.\n        aircraft_comments:\n          maxLength: 1000\n          type: string\n          description: Informative text about the aircraft. Not used by the UTM System.\n            Only for human stakeholders.\n          default: NOT PROVIDED\n          x-utm-data-accessibility: SAFETY\n        flight_comments:\n          maxLength: 1000\n          type: string\n          description: Informative text about the operation. Not used by the UTM System.\n            Only for human stakeholders.\n          default: NOT PROVIDED\n          x-utm-data-accessibility: SAFETY\n        volumes_description:\n          maxLength: 1000\n          type: string\n          description: Informative text about the operational volumes. Not used by\n            the UTM System. Only for human stakeholders.\n          default: NOT PROVIDED\n          x-utm-data-accessibility: SAFETY\n        uas_registrations:\n          maxItems: 1000\n          minItems: 1\n          type: array\n          description: |-\n            The registration data for the vehicle(s) to be used in this Operation. Note that this is an array to allow for future operations involving multiple vehicles (e.g. 'swarms' or tandem inspections).\n            The uas_registrations array MUST NOT be used as a list of potential vehicles for this Operation.\n            If the vehicle data changes prior to an Operation, an update to the plan may be submitted with the updated vehicle information. Providing multiple uas_registrations in this manner implies that all vehicles will conform to the provided operation volumes.\n          items:\n            $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/UasRegistration'\n          x-utm-data-accessibility: SAFETY\n        airspace_authorization:\n          maxLength: 36\n          minLength: 36\n          pattern: ^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$\n          type: string\n          format: uuid\n          example: 00000000-0000-4444-8888-feeddeadbeef\n          x-utm-data-accessibility: SAFETY\n        flight_number:\n          maxLength: 100\n          type: string\n          description: Optional. For use by USS for identification purposes.\n          x-utm-data-accessibility: OPERATIONAL\n        contact:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/PersonOrOrganization'\n        state:\n          type: string\n          description: |-\n            The current state of the operation.  Must be maintained by the USS. Some additional details in the USS Specification.\n            0. PROPOSED\n              This operation is not yet ACCEPTED.  It may be awaiting information\n              from the operator, it may be in conflict with another ACCEPTED or\n              ACTIVATED operation and undergoing a negotiation process, or for\n              some other reason it is not yet able to be declared ACCEPTED.\n            1. ACCEPTED\n              This operation has been deemed ACCEPTED by the supporting USS. This\n              implies that the operation meets the requirements for operating in\n              the airspace based on the type of operation submitted.\n            2. ACTIVATED\n              This operation is active. The transition from ACCEPTED to ACTIVATED\n              is not an announced transition. The transition is implied based on\n              the submitted start time of the operation (i.e. the\n              effective_time_begin of the first OperationVolume). Note that an\n              ACTIVATED operation is not necessarily airborne, but is assumed\n              to be \"using\" the OperationVolumes that it has announced.\n            3. CLOSED\n              This operation is closed. It is not airborne and will not become\n              airborne again. If the UAS and the crew will fly again, it would\n              need to be as a new operation. A USS may announce the closure of any\n              operation, but is not required to announce unless the operation was\n              ROGUE or NONCONFORMING.\n            4. NONCONFORMING\n              See USS Specification for requirements to transition to this state.\n            5. ROGUE\n              See USS Specification for requirements to transition to this state.\n\n            If ordering of states is required for any purpose, they shall be ordered as follows:\n              PROPOSED \u003c ACCEPTED \u003c ACTIVATED \u003c CLOSED \u003c NONCONFORMING \u003c ROGUE\n          enum:\n          - PROPOSED\n          - ACCEPTED\n          - ACTIVATED\n          - CLOSED\n          - NONCONFORMING\n          - ROGUE\n          x-utm-data-accessibility: OPERATIONAL\n        controller_location:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Point'\n        gcs_location:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Point'\n        contingency_plans:\n          maxItems: 250\n          minItems: 1\n          type: array\n          description: An array of ContingencyPlans wherein this operation may land\n            if needed/required during operation. Aids in planning and communication\n            during the execution of a contingency. An Operation MUST have least one\n            Contingency Plan (CP) per Operation Volume, therefore the CP list size\n            must be greater than or equal to the OpVol list size.\n          items:\n            $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/ContingencyPlan'\n          x-utm-data-accessibility: OPERATIONAL\n        faa_rule:\n          type: string\n          description: |-\n            1. PART_107\n              The operation follows FAA rule 107. Submission of such operations is mandatory\n            2. PART_107X\n              In general, operations are 107X if they are doing something that would require a waiver under current 107 rules. Submission of such operations is mandatory.\n            3. PART_101E\n              Submission of 101E would be required if operation is within 5 statute miles of an airport. Optional otherwise.\n            4. OTHER\n              Placeholder for other types of operations.\n          enum:\n          - PART_107\n          - PART_107X\n          - PART_101E\n          - OTHER\n          x-utm-data-accessibility: OPERATIONAL\n        priority_elements:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/PriorityElements'\n        operation_volumes:\n          maxItems: 250\n          minItems: 1\n          type: array\n          description: |-\n            The actual geographical information for the operation.\n            A note on \"intersection\":\n              Note 2: All of the terms \"crosses\", \"within\", \"touches\" imply\n              intersection. I can track down a source for this definition\n              (probably OGC), but for now, you can see it illustrated in the\n              description for PostGIS intersection:\n                https://postgis.net/docs/ST_Intersects.html\n\n            Validation of the array must include the following checks:\n              1. The array of operation volumes MUST have minimum length of 1.\n              2. The array of operation volumes MUST have maximum length of 250.\n              3.  Each operation volume MUST have non-zero 4D volume\n                (i.e. each of the 4 dimensions much be \u003e 0 in magnitude).\n              4. Volume intersection must pass the following checks:\n                a. When ordered by ordinal values, a succeeding operation volume\n                must have a 2D or 3D intersection in 3D space with its immediately\n                preceding operation volume.  Note that a 2D intersection in 3D\n                space implies two volumes that \"touch\" and the intersection has 2D\n                area.  Sharing just an edge would not qualify.  3D volumes that\n                don't touch at all would not qualify, even if they would intersect\n                when projected into 2D space (e.g. if \"looking down\" on the two\n                volumes).\n                b. When ordered by ordinal values, a succeeding operation volume\n                must have a non-negative temporal intersection with its\n                immediately preceding operation volume (Note we'd calculate this\n                by t1-t2 where t1 is the preceding operation volume end time and\n                t2 is the succeeding operation volume start time.).\n                c. When ordered by ordinal values, a succeeding operation volume\n                must have either a non-zero volume (3D) intersection OR a positive\n                temporal intersection. (Note this is a logical \"OR\" so it may have\n                 both intersection types... i.e. it is not an \"exclusive OR\").\n              5. Each spatial dimension of an op vol's bounding box must have\n              length less than 100000ft (should discuss with partners this value).\n              This is a sanity check against excessively large volumes. Need to\n              be careful here as there may be legitimate use cases wherein large\n              volumes are required/allowed, but we want to encourage efficient\n              planning and protect against misuse of the shared airspace.\n              6. The planned duration of an op vol must be less than 120 minutes. Again,\n              need to be careful to not damage legitimate use cases, but need to\n              protect against misuse/poor planning. For long duration missions,\n              it may be reasonable to have them replan or to have volumes with\n              the same geog and long time values that slightly intersect.\n              7. The start time of an operation volume other than the first in the\n              array must be greater than or equal to the start time of its\n              immediately preceding operation volume.\n              (note this probalby should be #4 or so, bumping the others down,\n              but I didn't want to cause confusion in case implementers are\n              referencing these checks somewhere by number.)\n          items:\n            $ref: '#/components/schemas/OperationVolume'\n          x-utm-data-accessibility: OPERATIONAL\n        metadata:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-metadata.yaml#/definitions/EventMetadata'\n    OperationVolume:\n      required:\n      - beyond_visual_line_of_sight\n      - effective_time_begin\n      - effective_time_end\n      - max_altitude\n      - min_altitude\n      - operation_geography\n      - ordinal\n      - volume_type\n      type: object\n      properties:\n        ordinal:\n          maximum: 99999\n          exclusiveMaximum: false\n          minimum: -1000\n          exclusiveMinimum: false\n          type: integer\n          description: This integer represents the ordering of the operation volume\n            within the set of operation volumes. Need not be consecutive integers.\n            Note that the max and min are larger than the allowed number of op vols.\n            This is by design to allow implementers to use this field in a flexible\n            manner. For example, in replanning, it may be useful to have a larger\n            set of integers available and to space them by large offsets.\n          x-utm-data-accessibility: OPERATIONAL\n        volume_type:\n          type: string\n          description: More description later.\n          default: TBOV\n          enum:\n          - TBOV\n          - ABOV\n          x-utm-data-accessibility: OPERATIONAL\n        near_structure:\n          type: boolean\n          description: Is this operation volume within 400' of a structure?\n          default: false\n          x-utm-data-accessibility: SAFETY\n        operation_geography:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Polygon'\n        min_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        max_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        effective_time_begin:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Earliest time the operation will use the operation volume.  It must be less than effective_time_end.\n            effective_time_begin \u003c effective_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        effective_time_end:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Latest time the operation will done with the operation volume. It must be greater than effective_time_begin.\n            effective_time_begin \u003c effective_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        actual_time_end:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Time that the operational volume was freed for use by other operations.  Should be populated and stored by the USS.\n            actual_time_end MUST satisfy:  actual_time_end \u003e effective_time_begin whenever actual_time_end is not null.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        conformance_geography:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Polygon'\n        conformance_min_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        conformance_max_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        conformance_time_begin:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Earliest time the operation will use the conformance volume.  It must be less than conformance_time_end.\n            conformance_time_begin \u003c conformance_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        conformance_time_end:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Latest time the operation will done with the conformance volume. It must be greater than effective_time_begin.\n            conformance_time_begin \u003c conformance_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        protected_geography:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Polygon'\n        protected_min_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        protected_max_altitude:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        protected_time_begin:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Earliest time the operation will use the protected volume.  It must be less than protected_time_end.\n            protected_time_begin \u003c protected_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        protected_time_end:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: |-\n            Latest time the operation will done with the protected volume. It must be greater than protected_time_begin.\n            protected_time_begin \u003c protected_time_end MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        beyond_visual_line_of_sight:\n          type: boolean\n          description: Describes whether any portion of the operation volume is beyond\n            the visual line of sight of the RPIC.\n          x-utm-data-accessibility: OPERATIONAL\n    Position:\n      required:\n      - gufi\n      - time_measured\n      - time_sent\n      - location\n      - altitude_gps\n      - altitude_num_gps_satellites\n      - hdop_gps\n      - vdop_gps\n      - track_bearing\n      - track_bearing_reference\n      - track_bearing_uom\n      - track_ground_speed\n      - track_ground_speed_units\n      type: object\n      properties:\n        gufi:\n          maxLength: 36\n          minLength: 36\n          pattern: ^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$\n          type: string\n          description: Each operation has an GUFI assigned upon submission. Required\n            upon PUTting a new position. It is a JSON string, but conforms to the\n            UUID version 4 specification\n          format: uuid\n          example: 00000000-0000-4444-8888-feeddeadbeef\n          x-utm-data-accessibility: PUBLIC\n        time_measured:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: The time the position was measured. Likely the time provided\n            with the GPS position reading. Position time_measured \u003c time_sent MUST\n            be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: PUBLIC\n        time_sent:\n          maxLength: 24\n          minLength: 24\n          pattern: ^([0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{3})Z$\n          type: string\n          description: The time the position was sent by the USS as measured by that\n            USS's system time. Position time_measured \u003c= time_sent MUST be true.\n          format: date-time\n          example: 2015-08-20T14:11:56.118Z\n          x-utm-data-accessibility: OPERATIONAL\n        enroute_positions_id:\n          type: string\n          format: uuid\n        location:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-geojson.yaml#/definitions/Point'\n        altitude_gps:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/Altitude'\n        altitude_num_gps_satellites:\n          minimum: 0\n          exclusiveMinimum: false\n          type: integer\n          description: Number of satellites used in calculating the altitude.\n          format: int32\n          x-utm-data-accessibility: SAFETY\n        hdop_gps:\n          minimum: 0\n          type: number\n          description: The horizontal dilution of precision as provided by the onboard GPS.\n          format: double\n          x-utm-data-accessibility: SAFETY\n        vdop_gps:\n          minimum: 0\n          type: number\n          description: The vertical dilution of precision as provided by the onboard\n            GPS.\n          format: double\n          x-utm-data-accessibility: SAFETY\n        track_bearing:\n          maximum: 360\n          exclusiveMaximum: true\n          minimum: 0\n          exclusiveMinimum: false\n          type: number\n          description: The direction of travel relative to track_bearing_reference\n            in degrees. Position track_bearing value MUST be \u003e= 0.0 and \u003c 360.0. Note\n            that FIXM allows for the value of 360.0, while UTM does not.  The reason\n            is for clarity by not allowing two numbers (0.0 and 360.0) to represent\n            the same measurement.\n          format: double\n          xml:\n            name: BearingType\n            namespace: https://www.fixm.aero/nas/4.1\n            prefix: fb\n            attribute: false\n          x-utm-fixm-reference: https://www.fixm.aero/releases/FIXM-4.1.0/doc/schema_documentation_core/Measures_xsd.html#BearingType\n          x-utm-data-accessibility: OPERATIONAL\n        track_bearing_reference:\n          type: string\n          description: |-\n            A code indicating the direction of the zero bearing.\n            TRUE_NORTH  This value indicates that the direction is relative to True North. \n            MAGNETIC_NORTH  This value indicates that the direction is relative to Magnetic North.\n          xml:\n            name: ZeroBearingTypeType\n            namespace: https://www.fixm.aero/nas/4.1\n            prefix: fb\n            attribute: true\n          default: TRUE_NORTH\n          enum:\n          - TRUE_NORTH\n          - MAGNETIC_NORTH\n          x-utm-fixm-reference: https://www.fixm.aero/releases/FIXM-4.1.0/doc/schema_documentation_core/Measures_xsd.html#BearingType\n          x-utm-data-accessibility: OPERATIONAL\n        track_bearing_uom:\n          type: string\n          description: |-\n            The reference quantities used to express the value of angles. [ISO 19103, chapter 6.5.7.10]\n            As in FIXM, only a single option is provided (degrees). Including this field allows for clarity in the data provided and allows for the potential of other units of measure in the future.\n          xml:\n            name: UomAngleType\n            namespace: https://www.fixm.aero/nas/4.1\n            prefix: fb\n            attribute: true\n          enum:\n          - DEG\n          x-utm-fixm-reference: https://www.fixm.aero/releases/FIXM-4.1.0/doc/schema_documentation_core/UnitsOfMeasure_xsd.html#UomAngleType\n          x-utm-data-accessibility: OPERATIONAL\n        track_ground_speed:\n          minimum: 0\n          exclusiveMinimum: false\n          type: number\n          description: Ground speed int the direction of travel, in units as specifed\n            by track_ground_speed_units. Position track_ground_speed MUST be \u003e= 0.0.\n          format: double\n          x-utm-data-accessibility: OPERATIONAL\n        track_ground_speed_units:\n          type: string\n          description: |-\n            The reference quantities used to express the value of ground speed as provided in track_ground_speed.\n            KT: Knots.\n            FIXM allows KT (knots) and KM_H (kilometers per hour) but we only allow the KT choice.\n          xml:\n            name: UomGroundSpeedType\n            namespace: https://www.fixm.aero/nas/4.1\n            prefix: fb\n            attribute: true\n          enum:\n          - KT\n          x-utm-fixm-reference: https://www.fixm.aero/releases/US_Ext-4.2.0/doc/schema_documentation_us_extension/UnitsOfMeasure_xsd.html#UomGroundSpeedType\n          x-utm-data-accessibility: OPERATIONAL\n        comments:\n          maxLength: 1000\n          minLength: 0\n          type: string\n          x-utm-data-accessibility: OPERATIONAL\n      example:\n        gufi: 00000000-0000-4444-8888-000000000000\n        time_measured: 2016-10-04T09:15:40.727Z\n        time_sent: 2016-10-04T09:15:40.727Z\n        location:\n          type: Point\n          coordinates:\n          - -122.05635935068132\n          - 37.41436490284069\n        altitude_gps:\n          altitude_value: 1239.77\n          vertical_reference: W84\n          units_of_measure: FT\n          source: ONBOARD_SENSOR\n        altitude_num_gps_satellites: 22\n        hdop_gps: 1.117\n        vdop_gps: 0.932\n        track_bearing: 33.44\n        track_bearing_reference: MAGNETIC_NORTH\n        track_bearing_uom: DEG\n        track_ground_speed: 33.33\n        track_ground_speed_units: KT  \n    Message:\n      type: object\n      required:\n        - message_type\n      properties:\n        message_id:\n          type: string\n          format: uuid\n          example: 00000000-0000-4444-8888-FEEDDEADBEEF\n          minLength: 36\n          maxLength: 36\n          pattern: \u003e-\n            ^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$\n        gufi:\n          type: string\n          format: uuid\n          example: 00000000-0000-4444-8888-FEEDDEADBEEF\n          description: The GUFI for the operation referenced in this message.  UUIDv4.\n          minLength: 36\n          maxLength: 36\n          pattern: \u003e-\n            ^[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-4[0-9a-fA-F]{3}\\-[8-b][0-9a-fA-F]{3}\\-[0-9a-fA-F]{12}$\n        origin:\n          type: string\n          description: \u003e-\n            CLIENT: Message is from a UTM Client to the UTM System.\n            UTM: Message was automatically generated by the UTM System. \n            MANAGER: Message was generated by a UTM Manager (a human).\n          enum:\n            - CLIENT\n            - UTM\n            - MANAGER\n        time_sent:\n          type: string\n          format: date-time\n          example: '2015-08-20T14:11:56.118Z'\n          description: Time the message was generated by the origin.\n          x-utm-data-accessibility: OPERATIONAL\n        severity:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/severity'\n        message_type:\n          type: string\n          description: |-\n            1. INFORM_ACCEPTED\n              This operation was in PROPOSED state and has transitioned to the\n              ACCEPTED state.\n            2. INFORM_REJECTED\n              This operation was in PROPOSED state and has rejected to the\n              CLOSED state due to reasons like intersecting existing operations\n              or failed negotiations.\n          enum:\n            - INFORM_ACCEPTED\n            - INFORM_REJECTED\n            - INFORM_ACTIVATED\n            - INFORM_CLOSED\n            - INFORM_NONCONFORMING\n            - INFORM_ROGUE\n            - INFORM_UPDATE_SUCCESS\n            - INFORM_UPDATE_FAIL\n            - INTENT_ALL_CLEAR\n            - INTENT_CLOSE\n            - INTENT_CANCEL\n            - INTENT_ABORT\n            - ALERT_WEATHER\n            - ALERT_SECURITY\n            - ALERT_OPERATIONS\n            - ALERT_SYSTEM\n            - ALERT_LOST_COMM\n            - ALERT_UNKWN\n        reason:\n          type: string\n        violations:\n          type: array\n          description: \u003e-\n            Included with messages from the INFORM category with inform_message\n            = REJECTED. The array is of pairs of types and constraining_id. The\n            type refers to a constraint in the system (national parks, airports,\n            an existing operation, wrong registration ID, etc.). The constraining_id \n            is the UUID associated with each constraint; When applicable,\n            violating_volume indicates which volume is in violation. This allows\n            for querying UTM for more information about those particular\n            constraints.\n          items:\n            $ref: '#/components/schemas/Violation'\n        last_known_position_id:\n          type: string\n          format: uuid\n        contingency:\n          $ref: 'https://raw.githubusercontent.com/nasa/utm-apis/v4-draft/utm-domains/utm-domain-commons.yaml#/definitions/ContingencyPlan'\n        free_text:\n          type: string\n          description: \u003e-\n            Any additional information. Note that this is for human consumption.\n            All time critical elements should be captured in the other data\n            fields for easier consumption by other automated systems.\n          maxLength: 1000\n      description: \u003e-\n        A UTM operator message. Used to make other stakeholders aware about an\n        issue.  The noted required fields are required for all messages,\n        however there are fields that are contextually required depending on the\n        type of message. Please see the descriptions provided with each field.\n      example:\n        message_id: 00000000-0000-4444-8888-CAFEBEEFF00D\n        time_sent: '2015-08-20T14:11:57.345Z'\n        severity: NOTICE\n        message_type: INFORM_CLOSED\n        gufi: 00000000-0000-4444-8888-FEEDDEADBEEF\n        free_text: 'Cool flight, bro'\n    Violation:\n      type: object\n      required:\n        - type\n      properties:\n        constraining_id:\n          type: string\n          description: Unique identifier for this constraint.\n        constraining_volume:\n          type: integer\n          format: int32\n          description: \u003e-\n            The ordinal of the volume that conflicts with another operation, eg,\n            the first volume of an existing flight acts as a constraint against\n            proposed flights\n        problemReport:\n          type: string\n          description: \u003e-\n            A report that a problem occurred thus Violation could not be\n            determined.\n        type:\n          type: string\n          description: \u003e-\n            The constraint type. eg, This is a gufi for OperationViolation\n            (constraint is an existing flight), or an ID of a national park\n        violating_volumes:\n          type: array\n          description: \u003e-\n            Set for OperationViolations, VolumeViolations, RogueViolations. The\n            ordinal of the volumes that are violating this constraint, eg, the\n            proposed flight's second volume violated this constraint\n          items:\n            type: integer\n            format: int32\n    OperResponse:\n      type: object\n      properties:\n        http_status_code:\n          type: string\n        msg:\n          type: string\n        uri:\n          type: string\n        url:\n          type: string\n        violationMap:\n          type: object\n          properties: {}\n",
			"canonicalURL": "/github.com/nasa/utm-apis@3e959c2302c5b756e87ea5397d613b3e32247584/-/blob/oper-api/operator-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/nasa/utm-apis/blob/3e959c2302c5b756e87ea5397d613b3e32247584/oper-api/operator-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}