{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/RedHatInsights/rhsm-subscriptions"
		},
		"file": {
			"name": "rh-marketplace-api-spec.yaml",
			"size": 0,
			"path": "clients/rh-marketplace-client/rh-marketplace-api-spec.yaml",
			"byteSize": 4108,
			"content": "# This is a file maintained by the rhsm-subscription project that describes\n# a portion of the Marketplace API.\nopenapi: 3.0.2\ninfo:\n  title: rh-marketplace-api\n  description: Third-party specification for Red Hat Marketplace API, see https://marketplace.redhat.com/en-us/documentation/api-reference\n  version: 1.0.0\n\npaths:\n  /api-security/om-auth/cloud/token:\n    post:\n      operationId: getAccessToken\n      tags:\n        - rh_marketplace\n      requestBody:\n        required: true\n        content:\n          application/x-www-form-urlencoded:\n            schema:\n              type: object\n              properties:\n                grant_type:\n                  type: string\n                apikey:\n                  type: string\n      responses:\n        '200':\n          description: The operation completed successfully\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/AuthResponse\"\n  /metering/api/v1/metrics:\n    post:\n      operationId: submitUsageEvents\n      tags:\n        - rh_marketplace\n      security:\n        - accessToken: []\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/UsageRequest\"\n      responses:\n        '200':\n          description: The operation completed successfully\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/StatusResponse\"\n  /metering/api/v1/metrics/{batchId}:\n    parameters:\n      - name: batchId\n        required: true\n        in: path\n        schema:\n          type: string\n    get:\n      operationId: getUsageBatchStatus\n      tags:\n        - rh_marketplace\n      security:\n        - accessToken: []\n      responses:\n        '200':\n          description: Batch status\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/StatusResponse\"\n\n\ncomponents:\n  schemas:\n    AuthGrantType:\n      type: string\n      enum: [ \"urn:ibm:params:oauth:grant-type:apikey\" ]\n    AuthResponse:\n      required:\n        - access_token\n        - expiration\n      properties:\n        access_token:\n          type: string\n        expiration:\n          type: integer\n          format: int64\n    UsageRequest:\n      required:\n        - data\n      properties:\n        data:\n          type: array\n          items:\n            $ref: \"#/components/schemas/UsageEvent\"\n    UsageEvent:\n      required:\n        - start\n        - end\n        - subscriptionId\n        - eventId\n        - additionalAttributes\n        - measuredUsage\n      properties:\n        start:\n          description: Start time of the usage in millseconds since Unix epoch.\n          type: integer\n          format: int64\n        end:\n          description: End time of the usage in millseconds since Unix epoch.\n          type: integer\n          format: int64\n        subscriptionId:\n          type: string\n        eventId:\n          description: Event ID for Marketplace API.\n          type: string\n        additionalAttributes:\n          type: object\n        measuredUsage:\n          type: array\n          items:\n            $ref: \"#/components/schemas/UsageMeasurement\"\n    UsageMeasurement:\n      required:\n        - metricId\n        - value\n      properties:\n        chargeId:  # NOTE: metricId is used in the request, but becomes chargeId in the response\n          type: string\n        metricId:\n          type: string\n        value:\n          type: number\n          format: double\n    StatusResponse:\n      properties:\n        status:\n          type: string\n        message:\n          type: string\n        data:\n          type: array\n          items:\n            $ref: \"#/components/schemas/BatchStatus\"\n    BatchStatus:\n      properties:\n        status:\n          type: string\n        message:\n          type: string\n        batchId:\n          type: string\n        payload:\n          $ref: \"#/components/schemas/UsageEvent\"\n\n  securitySchemes:\n    accessToken:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n",
			"canonicalURL": "/github.com/RedHatInsights/rhsm-subscriptions@71bc894e45397955d5759b6af5914e6a8c735113/-/blob/clients/rh-marketplace-client/rh-marketplace-api-spec.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/RedHatInsights/rhsm-subscriptions/blob/71bc894e45397955d5759b6af5914e6a8c735113/clients/rh-marketplace-client/rh-marketplace-api-spec.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}