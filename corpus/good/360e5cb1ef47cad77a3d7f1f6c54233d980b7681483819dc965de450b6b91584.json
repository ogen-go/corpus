{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/mozilla-services/guardian-vpn-windows-deprecated"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "test/integrations/apimock/api/openapi.yaml",
			"byteSize": 14366,
			"content": "openapi: 3.0.1\ninfo:\n  title: Firefox Guardian API\n  description: API to manage Guardian accounts, devices and servers\n  version: \"0.1\"\nservers:\n  - url: \"https://guardian-dev.herokuapp.com\"\n    description: Development server\n  - url: \"http://localhost:3000\"\n    description: Local server\npaths:\n  /api/v1/vpn/account:\n    get:\n      summary: Account Information\n      description: Returns information about the user, their devices and subscription status.\n      security:\n        - bearerAuth: []\n      responses:\n        \"200\":\n          description: 200 response\n          content:\n            application/json; charset=utf-8:\n              schema:\n                $ref: \"#/components/schemas/AccountDetails\"\n              example:\n                email: johndoe@example.com\n                display_name: John Doe\n                avatar: https://example.com/avatar.jpg\n                subscriptions:\n                  vpn:\n                    active: true\n                    created_at: \"2019-08-01T10:22:16.853Z\"\n                    renews_on: \"2019-08-01T10:22:16.853Z\"\n                devices:\n                  - name: Windows-4242\n                    pubkey: veGD6/aEY6sMfN3Ls7YWPmNgu3AheO7nQqsFT47YSws=\n                    ipv4_address: 10.99.0.1/32\n                    ipv6_address: fc00:bbbb:bbbb:bb01::1/128\n                    created_at: \"2019-08-01T10:22:16.853Z\"\n                  - name: Android-2424\n                    pubkey: j38fC/fjlkdDFSAFFGDKLVCASDCLDKFLDSCsfdslaDs=\n                    pv4_address: 10.99.0.1/32\n                    ipv6_address: fc00:bbbb:bbbb:bb01::1/128\n                    created_at: \"2019-08-01T10:22:16.853Z\"\n                max_devices: 5\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /api/v1/vpn/device:\n    post:\n      summary: Add Device\n      description: Adds a new device to the user's account.\n      security:\n        - bearerAuth: []\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                name:\n                  type: string\n                  description: Human friendly name of the device.\n                pubkey:\n                  type: string\n                  description: Public key of the device.\n              required:\n                - name\n                - pubkey\n            example:\n              name: Windows-4242\n              pubkey: veGD6/aEY6sMfN3Ls7YWPmNgu3AheO7nQqsFT47YSws=\n      responses:\n        \"201\":\n          description: Device added successfully.\n          content:\n            application/json; charset=utf-8:\n              schema:\n                $ref: \"#/components/schemas/GuardianDevice\"\n              example:\n                name: Windows-4242\n                pubkey: veGD6/aEY6sMfN3Ls7YWPmNgu3AheO7nQqsFT47YSws=\n                ipv4_address: 10.99.0.1/32\n                ipv6_address: fc00:bbbb:bbbb:bb01::1/128\n                created_at: \"2019-08-01T10:22:16.853Z\"\n        \"400\":\n          $ref: \"#/components/responses/GuardianAddDeviceError\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /api/v1/vpn/device/{pubkey}:\n    delete:\n      summary: Remove Device\n      description: Removes a device from a user's account\n      security:\n        - bearerAuth: []\n      parameters:\n        - name: pubkey\n          in: path\n          schema:\n            type: string\n          required: true\n          description: The WireGuard public key, urlencoded.\n          example: veGD6%2FaEY6sMfN3Ls7YWPmNgu3AheO7nQqsFT47YSws%3D\n      responses:\n        \"204\":\n          description: Device removed successfully.\n        \"400\":\n          $ref: \"#/components/responses/GuardianDeleteDeviceError\"\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /api/v1/vpn/servers:\n    get:\n      summary: List Servers\n      description: Returns a list of wireguard servers.\n      security:\n        - bearerAuth: []\n      responses:\n        \"200\":\n          description: 200 response. The schema is defined by Mullvad API.\n          content:\n            application/json; charset=utf-8:\n              schema:\n                type: object\n        \"401\":\n          $ref: \"#/components/responses/UnauthorizedError\"\n  /api/v1/vpn/versions:\n    get:\n      summary: App Versions\n      description: Returns the versions of the client apps\n      responses:\n        \"200\":\n          description: 200 response\n          content:\n            application/json; charset=utf-8:\n              schema:\n                type: object\n                properties:\n                  windows:\n                    type: object\n                    properties:\n                      latest:\n                        type: object\n                        description: Latest version of the client.\n                      minimum:\n                        type: object\n                        description: Minimum version the client must be at.\n                        properties:\n                          version:\n                            type: string\n                            description: The version string\n                          released_on:\n                            type: string\n                            description: The release date\n                          message:\n                            type: string\n                            description: (optional) release message\n              example:\n                windows:\n                  latest:\n                    version: \"1.0\"\n                    released_on: \"2019-08-01T10:22:16.853Z\"\n                    message: Our first real release. Get it while it's hot!\n                  minimum:\n                    version: \"0.1\"\n                    released_on: \"2019-08-01T10:22:16.853Z\"\n                    message: Our first alpha release!\n  /api/v1/vpn/login:\n    post:\n      summary: Token-based authentication flow.\n      description: This endpoint returns urls, an expiration and poll interval for token-based authentication.\n      responses:\n        \"200\":\n          description: 200 response\n          content:\n            application/json; charset=utf-8:\n              schema:\n                type: object\n                properties:\n                  login_url:\n                    type: string\n                    description: URL to open in the user's browser\n                  verification_url:\n                    type: string\n                    description: URL to poll for authentication status\n                  expires_on:\n                    type: string\n                    description: The expiration date for the URLs\n                  poll_interval:\n                    type: number\n                    description: Poll interval in seconds\n              example:\n                login_url: https://guardian-dev.herokuapp.com/oauth/client/login/token-1234567890\n                verification_url: https://guardian-dev.herokuapp.com/v1/vpn/login/verify/token-1234567890\n                expires_on: \"2019-08-01T10:22:16.853Z\"\n                poll_interval: 20\n  /v1/vpn/login/verify/{token}:\n    get:\n      summary: Check authentication status.\n      parameters:\n        - name: token\n          in: path\n          schema:\n            type: string\n          required: true\n          description: The authentication token.\n          example:\n      responses:\n        \"200\":\n          description: 200 response. Successful authentication.\n          content:\n            application/json; charset=utf-8:\n              schema:\n                type: object\n                properties:\n                  user:\n                    $ref: \"#/components/schemas/AccountDetails\"\n                  token:\n                    type: string\n                    description: API authentication token\n              example:\n                user:\n                  email: johndoe@example.com\n                  display_name: John Doe\n                  avatar: https://example.com/avatar.jpg\n                  subscriptions:\n                    vpn:\n                      active: true\n                      created_at: \"2019-08-01T10:22:16.853Z\"\n                      renews_on: \"2019-08-01T10:22:16.853Z\"\n                  devices:\n                    - name: Windows-4242\n                      pubkey: veGD6/aEY6sMfN3Ls7YWPmNgu3AheO7nQqsFT47YSws=\n                      ipv4_address: 10.99.0.1/32\n                      ipv6_address: fc00:bbbb:bbbb:bb01::1/128\n                      created_at: \"2019-08-01T10:22:16.853Z\"\n                    - name: Android-2424\n                      pubkey: j38fC/fjlkdDFSAFFGDKLVCASDCLDKFLDSCsfdslaDs=\n                      pv4_address: 10.99.0.1/32\n                      ipv6_address: fc00:bbbb:bbbb:bb01::1/128\n                      created_at: \"2019-08-01T10:22:16.853Z\"\n                  max_devices: 5\n                token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJycm9zYXJpb0Btb3ppbGxhLmNvbSIsImRldmljZV91aWQiOiIzYmI1NDk4MC0yYmQ4LTQ4ODctOTI2OS1lMjlmYWNhNjU0ZWMiLCJpYXQiOjE1NjczNzAyMDN9.pF9tVYmfcuFW-7PdK7NrsczxbchLag9kSRYimN8kW0U\n        \"401\":\n          $ref: \"#/components/responses/AuthenticationError\"\ncomponents:\n  securitySchemes:\n    bearerAuth:\n      description: The client must send token as \"Bearer \u003ctoken\u003e\" in the Authorization header\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n  schemas:\n    ErrorSchema:\n      type: object\n      properties:\n        code:\n          type: integer\n          description: The HTTP status code.\n        errno:\n          type: integer\n          description: The error number.\n        error:\n          type: string\n          description: The error message.\n    GuardianDevice:\n      type: object\n      properties:\n        name:\n          type: string\n          description: Human friendly name of the device.\n        pubkey:\n          type: string\n          description: The WireGuard public key for the device.\n        ipv4_address:\n          type: string\n          description: The ipv4 peer adress for WireGuard. Note that the mask may be bigger then a single IP.\n        ipv6_address:\n          type: string\n          description: The ipv6 peer address for WireGuard. Note that the mask may be bigger then a single IP.\n        created_at:\n          type: string\n          description: Datetime when the device first authenticated.\n    AccountDetails:\n      type: object\n      properties:\n        email:\n          type: string\n        display_name:\n          type: string\n          description: User defined display name. Empty string for users that haven't set one.\n        avatar:\n          type: string\n        subcriptions:\n          type: object\n          description: Subscriptions information\n          properties:\n            vpn:\n              type: object\n              description: The VPN Subscription information\n              properties:\n                active:\n                  type: boolean\n                  description: Is the VPN subscription active?\n                created_at:\n                  type: string\n                renews_on:\n                  type: string\n        devices:\n          type: array\n          description: List of devices\n          items:\n            $ref: \"#/components/schemas/GuardianDevice\"\n        max_devices:\n          type: number\n          description: Maximum number of devices for this user\n  responses:\n    GuardianAddDeviceError:\n      description: Guardian Add Device Error\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: \"#/components/schemas/ErrorSchema\"\n          examples:\n            MissingPubkeyError:\n              value:\n                code: 400\n                errno: 100\n                error: \"Missing argument: 'pubkey'\"\n            MissingNameError:\n              value:\n                code: 400\n                errno: 101\n                error: \"Missing argument: 'name'\"\n            InvalidPubkeyError:\n              value:\n                code: 400\n                errno: 102\n                error: \"'pubkey' is not a valid WireGuard public key\"\n            PubkeyAlreadyUsed:\n              value:\n                code: 400\n                errno: 103\n                error: WireGuard public key already used by other account\n            KeyLimitReachedError:\n              value:\n                code: 400\n                errno: 104\n                error: An account can only have up to 5 pubkeys\n    GuardianDeleteDeviceError:\n      description: Guardian Delete Device Error\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: \"#/components/schemas/ErrorSchema\"\n          examples:\n            PubkeyNotFound:\n              value:\n                code: 404\n                errno: 105\n                error: \"A device with that 'pubkey' does not exist\"\n    UnauthorizedError:\n      description: Access token is missing or invalid\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: \"#/components/schemas/ErrorSchema\"\n          examples:\n            InvalidToken:\n              value:\n                code: 401\n                errno: 120\n                error: invalid token\n            UserNotFound:\n              value:\n                code: 401\n                errno: 121\n                error: User not found\n            DeviceNotFound:\n              value:\n                code: 401\n                errno: 122\n                error: Device not found\n            NoActiveSubscription:\n              value:\n                code: 401\n                errno: 123\n                error: \"User doesn't have an active subscription\"\n    AuthenticationError:\n      description: Client authentication token is missing, unverified or expired\n      content:\n        application/json; charset=utf-8:\n          schema:\n            $ref: \"#/components/schemas/ErrorSchema\"\n          examples:\n            LoginTokenNotFound:\n              value:\n                code: 401\n                errno: 124\n                error: Login token not found\n            LoginTokenExpired:\n              value:\n                code: 401\n                errno: 125\n                error: Login token expired\n            LoginTokenUnverified:\n              value:\n                code: 401\n                errno: 126\n                error: Login token isn't verified\n",
			"canonicalURL": "/github.com/mozilla-services/guardian-vpn-windows-deprecated@4df6222d4352d2556bb6ce8898f987cf54332879/-/blob/test/integrations/apimock/api/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/mozilla-services/guardian-vpn-windows-deprecated/blob/4df6222d4352d2556bb6ce8898f987cf54332879/test/integrations/apimock/api/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}