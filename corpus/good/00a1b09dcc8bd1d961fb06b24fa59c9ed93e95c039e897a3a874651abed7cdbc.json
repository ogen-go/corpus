{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/egovernments/DIGIT-OSS"
		},
		"file": {
			"name": "enc-service.yaml",
			"size": 0,
			"path": "core-services/egov-enc-service/enc-service.yaml",
			"byteSize": 5845,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.0.0\n  title: eGov Encryption Service\n  description: API for encryption / decryption\n  contact:\n    name: Egovernments Foundation\n    email: contact@egovernments.org\n\npaths:\n\n  /crypto/v1/_encrypt:\n    post:\n      summary: Encrypts the given input value/s OR values of the object.\n      requestBody:\n        description: The request body can contain an array of Encryption Requests to support bulk encryption. The key for encryption will be decided based on the tenantId. Each tenant will have its own seperate key. The value to be encrypted can be simple string OR an array of string OR can be a JSON Object. In case the value is a JSON Object, all the values will get encrypted and keys will be left untouched. \n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/EncryptionRequest'\n            example:\n              {\n                \"encryptionRequests\": [\n                  {\n                    \"tenantId\": \"pb\",\n                    \"type\": \"Important\",\n                    \"value\": \"My email\"\n                  },\n                  {\n                    \"tenantId\": \"pb.jalandhar\",\n                    \"type\": \"Normal\",\n                    \"value\": [\n                      \"Personal\",\n                      \"Private\"\n                    ]\n                  },\n                  {\n                    \"tenantId\": \"pb.mohali\",\n                    \"type\": \"Normal\",\n                    \"value\": {\n                      \"userObject1\": {\n                        \"name\": \"John Doe\",\n                        \"mobileNumber\": \"98989121234\"\n                      }\n                    }\n                  }\n                ]\n              }\n\n      responses:\n        '200':\n          description: The returned encrypted value will have the same structure as the input value.\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n              example:\n                  [\n                    \"437506|A5ag4DfbhHAHiqXRKFcAedFKtNOelHX+8+jB0ckNG/tihwimx7xu6akEoa+kaQPcIhSnYeveloIhdPBCOgrXWvkWGZfShx1i2bE2vAcWB+r0YIDdwZLKJbQGBHDqcEOn8mfO+LnmpJ5P4zPETtE+2EHhta+vKcE5OQj8ZQawHS4=\",\n                    [\n                        \"896077|I/8Xwqr5MwB6UucEP8/Q5wiCHpbaNqGE\",\n                        \"896077|I+gMx6TjN0BcLxudEiYQKIDKtSlmpJY=\"\n                    ],\n                    {\n                        \"userObject1\": {\n                            \"mobileNumber\": \"395551|eSfiPrQ1UK07d0SupYQYqbr2QFNOWSuYJYcU\",\n                            \"name\": \"395551|CnCzaK1ADfnx+4FINXIQ9zjnUs1ieAtz\"\n                        }\n                    }\n                  ]\n\n\n      tags:\n        - Crypto\n\n  /crypto/v1/_decrypt:\n    post:\n      summary: Decrypts the given input value/s OR values of the object.\n      requestBody:\n        description: Input to a decryption request may be an simple string OR an array OR a JSON Object. Every Object/Array will be navigated through to find simple strings, and those strings will be decrypted.\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                type: object\n            example:\n               [\n                [\n                    \"896077|I/8Xwqr5MwB6UucEP8/Q5wiCHpbaNqGE\",\n                    \"896077|I+gMx6TjN0BcLxudEiYQKIDKtSlmpJY=\"\n                ],\n                {\n                    \"userObject1\": {\n                        \"mobileNumber\": \"395551|eSfiPrQ1UK07d0SupYQYqbr2QFNOWSuYJYcU\",\n                        \"name\": \"395551|CnCzaK1ADfnx+4FINXIQ9zjnUs1ieAtz\"\n                    }\n                }\n              ]\n\n      responses:\n        '200':\n          description: The response to a decryption request will have the same structure as the input.\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  type: object\n              example:\n                [\n                  [\n                      \"Personal\",\n                      \"Private\"\n                  ],\n                  {\n                      \"userObject1\": {\n                          \"mobileNumber\": \"98989121234\",\n                          \"name\": \"John Doe\"\n                      }\n                  }\n                ]\n\n\n      tags:\n        - Crypto\n\n\ncomponents:\n  schemas:\n\n    EncReqObject:\n      type: object\n      description: EncrReqObject contains data to be encrypted and meta-data required to perform the encryption.\n      properties:\n        tenantId:\n          type: string\n          description: Encryption Key will be decided based on tenant id.\n        type:\n          type: string\n          description: Method to be used for encryption ( AES / RSA )\n          enum:\n          - Important\n          - Normal\n        value:\n          type: array\n          description: Value/s to be encrypted. Can be a string or object or array\n          items: {}\n          example: [\"Personal\", \"Private\"]\n\n      example:\n          tenantId: \"pb.jalandhar\"\n          type: \"Important\"\n          value: {\n            \"key\": \"secret\"\n          }\n\n\n\n    EncryptionRequest:\n      type: object\n      description: An encryption request can contain multiple EncReqObject. This will help to encrypt bulk requests which may have different tenant-id and/or method ( AES / RSA ).\n      properties:\n        encryptionRequests:\n          type: array\n          items: \n            $ref: '#/components/schemas/EncReqObject'\n      example:\n        {\n          \"encryptionRequests\": [\n              {\n                \"tenantId\": \"pb.amritsar\",\n                \"type\": \"Important\",\n                \"value\": {\n                  \"key\": \"secret\"\n                }\n              }\n            ]\n        }\n",
			"canonicalURL": "/github.com/egovernments/DIGIT-OSS@3daad3c513a2b896ae975d8cde961816595a1c58/-/blob/core-services/egov-enc-service/enc-service.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/egovernments/DIGIT-OSS/blob/3daad3c513a2b896ae975d8cde961816595a1c58/core-services/egov-enc-service/enc-service.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}