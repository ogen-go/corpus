{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/aws-samples/openbanking-brazilian-reference-architecture"
		},
		"file": {
			"name": "admin-api.yaml",
			"size": 0,
			"path": "spec/admin-api.yaml",
			"byteSize": 18479,
			"content": "openapi: 3.0.0\ninfo:\n  title: APIs Admin do Open Banking Brasil\n  description: As API's administrativas são recursos que podem ser consumidos apenas pelo diretório para avaliação e controle da qualidade dos serviços fornecidos pelas instituições financeiras\n  version: 1.0.0-rc5.2\n  contact:\n    email: \"apiteam@swagger.io\"\nservers:\n  - url: \"http://api.banco.com.br/open-banking/admin/v1\"\n    # BUG: https://github.com/aws/aws-cdk/issues/9684\n    # x-amazon-apigateway-endpoint-configuration:\n    #   vpcEndpointIds:\n    #     - Fn::Sub: \"${ApigwVpce}\"\n\ntags:\n  - name: \"Metrics\"\n\nx-amazon-apigateway-request-validators:\n  all:\n    validateRequestParameters: true\n    validateRequestBody: true\n\nx-amazon-apigateway-request-validator: all\n\nx-amazon-apigateway-policy:\n  Version: \"2012-10-17\"\n  Statement:\n    - Effect: \"Allow\"\n      Principal: \"*\"\n      Action: \"execute-api:Invoke\"\n      Resource:\n        - \"execute-api:/*\"\n    - Effect: \"Deny\"\n      Principal: \"*\"\n      Action: \"execute-api:Invoke\"\n      Resource:\n        - \"execute-api:/*\"\n      Condition:\n        StringNotEquals:\n          aws:SourceVpce: \n            Fn::Sub: \"${ApigwVpce}\"\n\npaths:\n  /metrics:\n    get:\n      tags:\n        - Metrics\n      summary: Obtém as métricas de disponibilidade das APIs\n      description: \"Obtém as métricas de disponibilidade das APIs\"\n      operationId: \"getMetrics\"\n      parameters:\n        - $ref: \"#/components/parameters/page\"\n        - $ref: \"#/components/parameters/pageSize\"\n        - in: query\n          name: period\n          schema:\n            type: string\n            enum:\n              - CURRENT\n              - ALL\n          required: false\n          description: |\n            Período a ser consultado\n              * `CURRENT` - Métricas do dia atual.\n              * `ALL` - Métricas de todo o período disponível.\n      responses:\n        \"200\":\n          description: Dados das métricas\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/ResponseMetricsList\"\n      x-amazon-apigateway-integration:\n        type: \"mock\"\n        requestTemplates:\n          application/json: |\n            {\"statusCode\" : 200}\n        responses:\n          \"default\":\n            statusCode: \"200\"\n            responseTemplates:\n              application/json: |\n                {\n                  \"data\": {\n                    \"requestTime\": \"string\",\n                    \"availability\": {\n                        \"uptime\" : {\n                            \"generalUptimeRate\" : \"\",\n                            \"endpoints\" : [\n                                {\n                                    \"url\" : \"\",\n                                    \"uptimeRate\" : \"\"\n                                }\n                            ]\n                        },\n                        \"downtime\" : {\n                            \"generalDowntime\" : 0,\n                            \"scheduledOutage\" : 0,\n                            \"endpoints\" : [\n                                {\n                                    \"url\" : \"\",\n                                    \"partialDowntime\" : 0\n                                }\n                            ]\n                        }\n                    },\n                    \"invocations\": {\n                      \"unauthenticated\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"highPriority\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"mediumPriority\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"unattended\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                    },\n                    \"averageResponse\": {\n                      \"unauthenticated\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"highPriority\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"mediumPriority\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                      \"unattended\": {\n                        \"currentDay\": 0,\n                        \"previousDays\": [\n                          0\n                        ]\n                      },\n                    },\n                    \"averageTps\": {\n                      \"currentDay\": 0,\n                      \"previousDays\": [\n                        0\n                      ]\n                    },\n                    \"peakTps\": {\n                      \"currentDay\": 0,\n                      \"previousDays\": [\n                        0\n                      ]\n                    },\n                    \"errors\": {\n                      \"currentDay\": 0,\n                      \"previousDays\": [\n                        0\n                      ]\n                    },\n                    \"rejections\": {\n                      \"currentDay\": 0,\n                      \"previousDays\": [\n                        0\n                      ]\n                    }\n                  },\n                  \"links\": {\n                    \"self\": \"string\"\n                  },\n                  \"meta\": {}\n                }\ncomponents:\n  schemas:\n    ResponseMetricsList:\n      type: object\n      required:\n        - data\n        - links\n      properties:\n        data:\n          type: object\n          required:\n            - requestTime\n            - availability\n            - invocations\n            - averageResponse\n            - averageTps\n            - peakTps\n            - errors\n            - rejections\n          properties:\n            requestTime:\n              type: string\n              description: Data e hora que as métricas foram requisitadas.\n              format: date-time\n            availability:\n              $ref: \"#/components/schemas/AvailabilityMetrics\"\n            invocations:\n              $ref: \"#/components/schemas/InvocationMetrics\"\n            averageResponse:\n              $ref: \"#/components/schemas/AverageMetrics\"\n            averageTps:\n              $ref: \"#/components/schemas/AverageTPSMetrics\"\n            peakTps:\n              $ref: \"#/components/schemas/PeakTPSMetrics\"\n            errors:\n              $ref: \"#/components/schemas/ErrorMetrics\"\n            rejections:\n              $ref: \"#/components/schemas/RejectionMetrics\"\n        links:\n          $ref: \"#/components/schemas/Links\"\n        meta:\n          $ref: \"#/components/schemas/Meta\"\n    AvailabilityMetrics:\n      type: object\n      required:\n        - uptime\n        - downtime\n      properties:\n        uptime:\n          type: object\n          required:\n            - generalUptimeRate\n            - endpoints\n          properties:\n            generalUptimeRate:\n              type: string\n              description: Taxa de disponibilidade (considerando todos os serviços ativos ao mesmo tempo).\n            endpoints:\n              $ref: \"#/components/schemas/EndpointUptime\"\n        downtime:\n          type: object\n          required:\n            - generalDowntime\n            - scheduledOutage\n            - endpoints\n          properties:\n            generalDowntime:\n              type: integer\n              description: Quantidade de segundos de downtime (considerando qualquer api em downtime).\n            scheduledOutage:\n              type: integer\n              description: Quantidade de segundos de indisponibilidade agendada.\n            endpoints:\n              $ref: \"#/components/schemas/EndpointDowntime\"\n    EndpointUptime:\n      type: object\n      description: Tempos de uptime por endpoint.\n      required:\n        - url\n        - uptimeRate\n      properties:\n        url:\n          type: string\n          description: URL do endpoint\n        uptimeRate:\n          type: string\n          description: Taxa de disponibilidade do endpoint.\n    EndpointDowntime:\n      type: object\n      description: Tempos de downtime por endpoint.\n      required:\n        - url\n        - partialDowntime\n      properties:\n        url:\n          type: string\n          description: URL do endpoint\n        partialDowntime:\n          type: integer\n          description: Quantidade de segundos de indisponibilidade do endpoint.\n    InvocationMetrics:\n      type: object\n      required:\n        - unauthenticated\n        - highPriority\n        - mediumPriority\n        - unattended\n      properties:\n        unauthenticated:\n          type: object\n          description: Número de chamadas não autenticadas.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Número de chamadas não autenticadas no dia atual.\n            previousDays:\n              type: array\n              description: Número de chamadas não autenticadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        highPriority:\n          type: object\n          description: Número de chamadas para o nível de alta prioridade.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Número de chamadas no dia atual para o nível de alta prioridade.\n            previousDays:\n              type: array\n              description: Número de chamadas nos dias anteriores para o nível de alta prioridade. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        mediumPriority:\n          type: object\n          description: Número de chamadas para o nível de média prioridade.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Número de chamadas no dia atual para o nível de média prioridade.\n            previousDays:\n              type: array\n              description: Número de chamadas nos dias anteriores para o nível de média prioridade. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        unattended:\n          type: object\n          description: Número de chamadas para o nível não acompanhado.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              description: Número de chamadas no dia atual para o nível não acompanhado.\n              type: integer\n            previousDays:\n              type: array\n              description: Número de chamadas nos dias anteriores para o nível não acompanhado. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n    AverageMetrics:\n      type: object\n      required:\n        - unauthenticated\n        - highPriority\n        - mediumPriority\n        - unattended\n      properties:\n        unauthenticated:\n          type: object\n          description: Tempo médio de resposta para chamadas não autenticadas.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Tempo médio de resposta para chamadas no dia atual.\n            previousDays:\n              type: array\n              description: Tempo médio de resposta para chamadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        highPriority:\n          type: object\n          description: Tempo médio de resposta de chamadas para o nível de alta prioridade.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Tempo médio de resposta para chamadas no dia atual.\n            previousDays:\n              type: array\n              description: Tempo médio de resposta para chamadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        mediumPriority:\n          type: object\n          description: Tempo médio de resposta para chamadas para o nível de média prioridade.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Tempo médio de resposta para chamadas no dia atual.\n            previousDays:\n              type: array\n              description: Tempo médio de resposta para chamadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n        unattended:\n          type: object\n          description: Tempo médio de resposta para chamadas para o nível não acompanhado.\n          required:\n            - currentDay\n            - previousDays\n          properties:\n            currentDay:\n              type: integer\n              description: Tempo médio de resposta para chamadas no dia atual.\n            previousDays:\n              type: array\n              description: Tempo médio de resposta para chamadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n              items:\n                type: integer\n    AverageTPSMetrics:\n      type: object\n      required:\n        - currentDay\n        - previousDays\n      properties:\n        currentDay:\n          type: integer\n          description: Número médio de chamadas por segundo no dia.\n        previousDays:\n          type: array\n          description: Número médio de chamadas por segundo nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n          items:\n            type: integer\n    PeakTPSMetrics:\n      type: object\n      required:\n        - currentDay\n        - previousDays\n      properties:\n        currentDay:\n          type: integer\n          description: Pico de chamadas por segundo no dia.\n        previousDays:\n          type: array\n          description: Pico de chamadas por segundo nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n          items:\n            type: integer\n    ErrorMetrics:\n      type: object\n      required:\n        - currentDay\n        - previousDays\n      properties:\n        currentDay:\n          type: integer\n          description: Número de chamadas com erro no dia atual.\n        previousDays:\n          type: array\n          description: Número de chamadas com erro nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n          items:\n            type: integer\n    RejectionMetrics:\n      type: object\n      required:\n        - currentDay\n        - previousDays\n      properties:\n        currentDay:\n          type: integer\n          description: Número de chamadas rejeitadas no dia atual.\n        previousDays:\n          type: array\n          description: Número de chamadas rejeitadas nos dias anteriores. O primeiro item do array é referente a ontem, e assim por diante. Devem ser retornados no máximo sete dias caso estejam disponíveis.\n          items:\n            type: integer\n    Links:\n      type: object\n      properties:\n        self:\n          type: string\n          description: URL da página atualmente requisitada\n          example: \"https://api.banco.com.br/open-banking/admin/v1/\u003cresource\u003e\"\n        first:\n          type: string\n          description: URL da primeira página de registros\n          example: \"https://api.banco.com.br/open-banking/admin/v1/\u003cresource\u003e\"\n        prev:\n          type: string\n          description: URL da página anterior de registros\n        next:\n          type: string\n          description: URL da próxima página de registros\n        last:\n          type: string\n          description: URL da última página de registros\n          example: \"https://api.banco.com.br/open-banking/admin/v1/\u003cresource\u003e\"\n    Meta:\n      type: object\n      properties:\n        totalRecords:\n          type: integer\n          description: Total de registros encontrados\n          example: 1\n        totalPages:\n          type: integer\n          description: Total de páginas para os registros encontrados\n          example: 1\n      required:\n        - totalRecords\n        - totalPages\n  parameters:\n    page:\n      name: page\n      in: query\n      description: Número da página que está sendo requisitada (o valor da primeira página é 1).\n      schema:\n        type: integer\n        default: 1\n        minimum: 1\n    pageSize:\n      name: page-size\n      in: query\n      description: Quantidade total de registros por páginas.\n      schema:\n        type: integer\n        default: 25\n        minimum: 1\n",
			"canonicalURL": "/github.com/aws-samples/openbanking-brazilian-reference-architecture@83ac8aa7f735412c8a39b2e988a27536f602d8be/-/blob/spec/admin-api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/aws-samples/openbanking-brazilian-reference-architecture/blob/83ac8aa7f735412c8a39b2e988a27536f602d8be/spec/admin-api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}