{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/GovStackWorkingGroup/BuildingBlockAPI"
		},
		"file": {
			"name": "GovStack_Digital_registries_BB_Database_API_template-1.1.0.json",
			"size": 0,
			"path": "DigitalRegistriesBB/GovStack_Digital_registries_BB_Database_API_template-1.1.0.json",
			"byteSize": 16874,
			"content": "{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"GovStack Digital registries BB Database API template\",\n    \"description\": \"This is a sample API\\n\",\n    \"contact\": {\n      \"email\": \"tambetartma88@gmail.com\"\n    },\n    \"version\": \"1.1.0\",\n    \"termsOfService\": \"#\",\n    \"license\": {\n      \"name\": \"Apache 2.0\",\n      \"url\": \"http://www.apache.org/licenses/LICENSE-2.0.html\"\n    }\n  },\n  \"servers\": [\n    {\n      \"description\": \"Eregistrations API\",\n      \"url\": \"http://ss2.egovstack.net/r1/eGovStack/COM/11222456/swaggerhub/creg/\"\n    }\n  ],\n  \"tags\": [\n    {\n      \"name\": \"Database API\",\n      \"description\": \"API endpoint that allows to query MCTS data from database\"\n    },\n    {\n      \"name\": \"Databases\",\n      \"description\": \"API gets all databases and schema versions as a list array\"\n    }\n  ],\n  \"paths\": {\n    \"/database/{id}\": {\n      \"get\": {\n        \"tags\": [\n          \"Database API\"\n        ],\n        \"description\": \"API endpoint that allows user to get database information with schema\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/X-Road-Client\"\n          },\n          {\n            \"name\": \"id\",\n            \"in\": \"path\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"integer\",\n              \"example\": 1,\n              \"description\": \"Id of the database that schema is requested\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/DatabaseInfo\"\n                }\n              }\n            }\n          }\n        },\n        \"security\": [\n          {\n            \"apiKey\": []\n          }\n        ]\n      },\n      \"delete\": {\n        \"tags\": [\n          \"Database API\"\n        ],\n        \"description\": \"API endpoint that allows user to delete database schema\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/X-Road-Client\"\n          },\n          {\n            \"name\": \"id\",\n            \"in\": \"path\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"integer\",\n              \"example\": 1,\n              \"description\": \"Id of the database that schema is requested\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"string\",\n                  \"example\": \"Success\"\n                }\n              }\n            }\n          }\n        },\n        \"security\": [\n          {\n            \"apiKey\": []\n          }\n        ]\n      }\n    },\n    \"/database/modify\": {\n      \"post\": {\n        \"tags\": [\n          \"Database API\"\n        ],\n        \"description\": \"API endpoint that allows user to create or modify database schema\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/X-Road-Client\"\n          }\n        ],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"group_name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Group name where this schema is located\",\n                    \"example\": \"Test\"\n                  },\n                  \"catalog_name\": {\n                    \"type\": \"string\",\n                    \"description\": \"Catalog name where this schema is located\",\n                    \"example\": \"Mother and Child\"\n                  },\n                  \"code\": {\n                    \"type\": \"string\",\n                    \"description\": \"Short code of the database\",\n                    \"example\": \"MCR\"\n                  },\n                  \"schema\": {\n                    \"allOf\": [\n                      {\n                        \"$ref\": \"#/components/schemas/DatabaseSchema\"\n                      }\n                    ],\n                    \"required\": [\n                      \"creationDate\",\n                      \"description\",\n                      \"filename\"\n                    ]\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Success\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/DatabaseSchema\"\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    \"/databases\": {\n      \"get\": {\n        \"tags\": [\n          \"Databases\"\n        ],\n        \"description\": \"API endpoint that allows user to get information about all databases\",\n        \"parameters\": [\n          {\n            \"$ref\": \"#/components/parameters/X-Road-Client\"\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/DatabasesSchema\"\n                }\n              }\n            }\n          }\n        },\n        \"security\": [\n          {\n            \"apiKey\": []\n          }\n        ]\n      }\n    }\n  },\n  \"components\": {\n    \"securitySchemes\": {\n      \"apiKey\": {\n        \"type\": \"apiKey\",\n        \"name\": \"Authorization\",\n        \"in\": \"header\"\n      }\n    },\n    \"parameters\": {\n      \"X-Road-Client\": {\n        \"in\": \"header\",\n        \"name\": \"X-Road-Client\",\n        \"example\": \"eGovStack/GOV/90000009/eregistrations-dev\",\n        \"description\": \"Format is: INSTANCE/CLASS/MEMBER/SUBSYSTEM\",\n        \"schema\": {\n          \"type\": \"string\"\n        },\n        \"required\": true\n      }\n    },\n    \"schemas\": {\n      \"DatabaseInfo\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"integer\",\n            \"description\": \"Database ID\",\n            \"example\": 353\n          },\n          \"version\": {\n            \"type\": \"string\",\n            \"description\": \"Database version number\",\n            \"example\": \"2.7\"\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Database name\",\n            \"example\": \"MCTS\"\n          },\n          \"description\": {\n            \"type\": \"string\",\n            \"description\": \"Database description\",\n            \"example\": \"Database holding information about MCTS objects\"\n          },\n          \"institution\": {\n            \"type\": \"string\",\n            \"description\": \"Owner of the database (institution)\",\n            \"example\": \"Ministry of Social Affairs\"\n          },\n          \"number_format\": {\n            \"type\": \"string\",\n            \"description\": \"Number format in database\",\n            \"example\": \"{code}{indexNoByCode}\"\n          },\n          \"schema\": {\n            \"$ref\": \"#/components/schemas/DatabaseSchema\"\n          },\n          \"schema_tags\": {\n            \"type\": \"array\",\n            \"description\": \"List of different schema tags that are related to the database\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\",\n                  \"example\": \"\"\n                },\n                \"path\": {\n                  \"type\": \"string\",\n                  \"example\": \"/Child/Citizenship\"\n                },\n                \"is_fulltext\": {\n                  \"type\": \"boolean\",\n                  \"example\": true\n                }\n              }\n            }\n          },\n          \"schema_flags\": {\n            \"type\": \"array\",\n            \"description\": \"List of different schema flags that are related to the database\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"name\": {\n                  \"type\": \"string\",\n                  \"example\": \"mandatory\"\n                },\n                \"path\": {\n                  \"type\": \"string\",\n                  \"example\": \"/ID\"\n                }\n              }\n            }\n          },\n          \"fields_uniques\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"array\",\n              \"items\": {\n                \"type\": \"string\",\n                \"example\": \"\"\n              }\n            }\n          },\n          \"is_draft\": {\n            \"type\": \"boolean\",\n            \"description\": \"Shows database draft status (is draft true/false)\",\n            \"example\": false\n          },\n          \"is_disabled\": {\n            \"type\": \"boolean\",\n            \"description\": \"Shows if database is disabled or not\",\n            \"example\": false\n          },\n          \"is_archived\": {\n            \"type\": \"boolean\",\n            \"description\": \"Shows if database is archived or not\",\n            \"example\": false\n          },\n          \"modified_at\": {\n            \"type\": \"string\",\n            \"description\": \"Shows database last modification time\",\n            \"example\": \"2021-10-03T08:35:01.775915Z\"\n          },\n          \"by_user_name\": {\n            \"type\": \"string\",\n            \"description\": \"Shows user name of a person who created the database\",\n            \"example\": \"ingmar.dev\"\n          },\n          \"by_user_auth_id\": {\n            \"type\": \"integer\",\n            \"description\": \"Shows id of a person who created the database\",\n            \"example\": 1\n          },\n          \"by_on_behalf_of_user_auth_id\": {\n            \"type\": \"integer\",\n            \"description\": \"Shows user id whose behalf was this database created\",\n            \"example\": null\n          },\n          \"by_on_behalf_of_user_name\": {\n            \"type\": \"string\",\n            \"description\": \"Shows user name whose behalf was this database created\",\n            \"example\": null\n          },\n          \"generic_services\": {\n            \"type\": \"array\",\n            \"description\": \"List of possible API services for this database\",\n            \"items\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"service_id\": {\n                  \"type\": \"integer\",\n                  \"example\": 1\n                },\n                \"name\": {\n                  \"type\": \"string\",\n                  \"example\": \"data-create\"\n                },\n                \"is_visible\": {\n                  \"type\": \"boolean\",\n                  \"example\": true\n                },\n                \"used_count\": {\n                  \"type\": \"integer\",\n                  \"example\": 0\n                }\n              }\n            }\n          },\n          \"data_index_increment\": {\n            \"type\": \"integer\",\n            \"description\": \"Shows database increment\",\n            \"example\": 0\n          },\n          \"has_logo\": {\n            \"type\": \"boolean\",\n            \"description\": \"Shows if this database has logo or not\",\n            \"example\": false\n          }\n        }\n      },\n      \"DatabaseSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Schema object describing the database\",\n        \"properties\": {\n          \"type\": {\n            \"type\": \"string\",\n            \"example\": \"object\"\n          },\n          \"properties\": {\n            \"type\": \"object\",\n            \"properties\": {\n              \"ID\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"example\": \"string\"\n                  },\n                  \"triggers\": {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"type\": \"object\",\n                      \"properties\": {\n                        \"conditions\": {\n                          \"type\": \"array\",\n                          \"items\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                              \"logic\": {\n                                \"type\": \"string\",\n                                \"example\": \"==\"\n                              },\n                              \"value\": {\n                                \"type\": \"string\",\n                                \"example\": \"\"\n                              },\n                              \"gate\": {\n                                \"type\": \"string\",\n                                \"example\": \"\u0026\u0026\"\n                              }\n                            }\n                          }\n                        },\n                        \"actions\": {\n                          \"type\": \"array\",\n                          \"items\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                              \"type\": {\n                                \"type\": \"string\",\n                                \"example\": \"set-value\"\n                              },\n                              \"value\": {\n                                \"type\": \"string\",\n                                \"example\": \"MCTS{indexNoByCode}\"\n                              },\n                              \"field_id\": {\n                                \"type\": \"integer\",\n                                \"example\": 1\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  },\n                  \"primaryKey\": {\n                    \"type\": \"boolean\",\n                    \"example\": true\n                  },\n                  \"readOnly\": {\n                    \"type\": \"boolean\",\n                    \"example\": true\n                  },\n                  \"description\": {\n                    \"type\": \"string\",\n                    \"example\": \"Registration ID\"\n                  },\n                  \"example\": {\n                    \"type\": \"string\",\n                    \"example\": \"MCTS31\"\n                  },\n                  \"id\": {\n                    \"type\": \"integer\",\n                    \"example\": 1\n                  }\n                }\n              },\n              \"Child\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"type\": {\n                    \"type\": \"string\",\n                    \"example\": \"string\"\n                  },\n                  \"properties\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                      \"ID\": {\n                        \"type\": \"object\",\n                        \"properties\": {\n                          \"type\": {\n                            \"type\": \"string\",\n                            \"example\": \"string\"\n                          },\n                          \"description\": {\n                            \"type\": \"string\",\n                            \"example\": \"Child ID\"\n                          },\n                          \"example\": {\n                            \"type\": \"string\",\n                            \"example\": \"ID2\"\n                          },\n                          \"id\": {\n                            \"type\": \"integer\",\n                            \"example\": 13\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"incrementIndex\": {\n            \"type\": \"integer\",\n            \"example\": 20\n          },\n          \"required\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\",\n              \"example\": \"ID\"\n            }\n          }\n        }\n      },\n      \"DatabasesSchema\": {\n        \"type\": \"object\",\n        \"description\": \"Example of databases API request response body\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"integer\",\n            \"description\": \"ID of databases\",\n            \"example\": 85\n          },\n          \"name\": {\n            \"type\": \"string\",\n            \"description\": \"Name of databases group\",\n            \"example\": \"Mother and Child\"\n          },\n          \"code\": {\n            \"type\": \"string\",\n            \"description\": \"Short name of databases group\",\n            \"example\": \"MCTS\"\n          },\n          \"databases\": {\n            \"type\": \"array\",\n            \"description\": \"Array of databases schemas\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/DatabaseInfo\"\n            }\n          },\n          \"group_id\": {\n            \"type\": \"integer\",\n            \"description\": \"ID of databases group\",\n            \"example\": 10\n          },\n          \"order\": {\n            \"type\": \"integer\",\n            \"description\": \"Order number of databases group\",\n            \"example\": 76\n          },\n          \"data_index_increment\": {\n            \"type\": \"integer\",\n            \"description\": \"Data index increment of databases group\",\n            \"example\": 3\n          }\n        }\n      }\n    }\n  }\n}\n",
			"canonicalURL": "/github.com/GovStackWorkingGroup/BuildingBlockAPI@4ed5a083b6fcc84b2394d9c71b7ecc2126082c8f/-/blob/DigitalRegistriesBB/GovStack_Digital_registries_BB_Database_API_template-1.1.0.json",
			"externalURLs": [
				{
					"url": "https://github.com/GovStackWorkingGroup/BuildingBlockAPI/blob/4ed5a083b6fcc84b2394d9c71b7ecc2126082c8f/DigitalRegistriesBB/GovStack_Digital_registries_BB_Database_API_template-1.1.0.json",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}