{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/F5Networks/f5-cloud-failover-extension"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "specs/openapi.yaml",
			"byteSize": 13454,
			"content": "openapi: \"3.0.0\"\ninfo:\n  version: 1.11.0\n  title: Cloud Failover (CF) Extension\n  description: F5 Cloud Failover (CFE) is an iControl LX Extension delivered as a TMOS-independent RPM file. Installing the CFE Extension on BIG-IP enables you to declaratively configure BIG-IP devices for automatic failover in cloud environments by POSTing a single JSON declaration to CFâ€™s declarative REST API endpoint.\n  license:\n    name: Apache License 2.0\nservers:\n  - url: https://192.0.2.1:443/mgmt/shared/cloud-failover\npaths:\n  /info:\n    get:\n      summary: List extension information\n      tags:\n        - Information\n      responses:\n        \"200\":\n          description: Information Response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/InformationResponse\"\n              example:\n                version: \"1.11.0\"\n                release: \"1\"\n                schemaCurrent: \"1.11.0\"\n                schemaMinimum: \"0.9.1\"\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /declare:\n    get:\n      summary: List configuration\n      tags:\n        - Configuration\n      responses:\n        \"200\":\n          description: Configuration Response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/ConfigurationResponse\"\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n    post:\n      summary: Update configuration\n      tags:\n        - Configuration\n      requestBody:\n        content:\n          application/json:\n            schema:\n              $ref: \"#/components/schemas/Configuration\"\n            example:\n              class: Cloud_Failover\n              environment: azure\n              externalStorage:\n                scopingTags:\n                  f5_cloud_failover_label: mydeployment\n              failoverAddresses:\n                enabled: true\n                scopingTags:\n                  f5_cloud_failover_label: mydeployment\n              failoverRoutes:\n                enabled: true\n                scopingTags:\n                  f5_cloud_failover_label: mydeployment\n                scopingAddressRanges:\n                  - range: \"192.0.2.0/24\"\n                defaultNextHopAddresses:\n                  discoveryType: static\n                  items:\n                    - \"192.0.2.10\"\n                    - \"192.0.2.11\"\n              controls:\n                class: Controls\n                logLevel: info\n      responses:\n        \"200\":\n          description: Configuration response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/ConfigurationResponse\"\n              example:\n                message: success\n                declaration:\n                  class: Cloud_Failover\n                  environment: azure\n                  schemaVersion: \"0.9.1\"\n                  externalStorage:\n                    scopingTags:\n                      f5_cloud_failover_label: mydeployment\n                  failoverAddresses:\n                    scopingTags:\n                      f5_cloud_failover_label: mydeployment\n                  failoverRoutes:\n                    scopingTags:\n                      f5_cloud_failover_label: mydeployment\n                    scopingAddressRanges:\n                      - range: \"192.0.2.0/24\"\n                    defaultNextHopAddresses:\n                      discoveryType: static\n                      items:\n                        - \"192.0.2.10\"\n                        - \"192.0.2.11\"\n                  controls:\n                    class: Controls\n                    logLevel: info\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /trigger:\n    post:\n      description: \"Primarily supported action is dry-run, which returns objects and resources that are updated if failover is triggered. WARNING: Do not use the execute action, it is for use by BIG-IP only.\"\n      summary: Trigger failover\n      tags:\n        - Trigger\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                action:\n                  type: string\n            examples:\n              dry-run:\n                value:\n                  action: dry-run\n              execute:\n                value:\n                  action: execute\n\n      responses:\n        \"200\":\n          description: Configuration response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                oneOf:\n                  - $ref: \"#/components/schemas/DryRunResponse\"\n                  - $ref: \"#/components/schemas/TaskStateResponse\"\n\n        \"500\":\n          description: Failover task failed\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/TaskStateResponse\"\n              example:\n                taskState: FAILED\n                message: Failover failed because of x\n                timestamp: 2019-09-25T22:12:52.137Z\n                instance: failover1.local\n                failoverOperations:\n                  routes: {}\n                  addresses: {}\n                code: 500\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n              example:\n                  taskState: FAILED\n                  message: Failover Unexpected Error\n                  code: 500\n    get:\n      summary: Show triggered failover task status\n      tags:\n        - Trigger\n      responses:\n        \"202\":\n          description: Failover task is running\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/TaskStateResponse\"\n              example:\n                  taskState: RUNNING\n                  message: Failover running\n                  timestamp: 2019-09-25T22:12:52.137Z\n                  instance: failover1.local\n                  failoverOperations:\n                    routes: {}\n                    addresses: {}\n                  code: 202\n        \"200\":\n          description: Successful failover task\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/TaskStateResponse\"\n              example:\n                  taskState: SUCCEEDED\n                  message: Failover Completed Successfully\n                  timestamp: 2019-09-25T23:44:44.381Z\n                  instance: failover0.local\n                  failoverOperations:\n                    routes: {}\n                    addresses: {}\n                  code: 200\n        \"500\":\n          description: Failed failover task\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/TaskStateResponse\"\n              example:\n                  taskState: FAILED\n                  message: Failover failed because of x\n                  timestamp: 2019-09-25T22:12:52.137Z\n                  instance: failover1.local\n                  failoverOperations:\n                    routes: {}\n                    addresses: {}\n                  code: 500\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n              example:\n                  taskState: FAILED\n                  message: Failover Unexpected Error\n                  code: 500\n  /reset:\n    post:\n      summary: Reset failover state file\n      tags:\n        - Reset\n      requestBody:\n        content:\n          application/json:\n            schema:\n              type: object\n              properties:\n                resetStateFile:\n                  type: boolean\n            example:\n              resetStateFile: true\n      responses:\n        \"200\":\n          description: Reset State Response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/ResponseWithMessageString\"\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\n  /inspect:\n    get:\n      summary: List associated cloud objects\n      tags:\n        - Information\n      responses:\n        \"200\":\n          description: Inspect Response\n          content:\n            \"application/json; charset=UTF-8\":\n              schema:\n                $ref: \"#/components/schemas/InspectResponse\"\n              example:\n                instance: \"123\"\n                addresses:\n                  - privateIpAddress: \"1.1.1.1\"\n                    publicIpAddress: \"40.40.40.40\"\n                    networkInterfaceId: \"000AAA\"\n                routes:\n                  - routeTableId: \"123\"\n                    routeTableName: \"ABC\"\n                    networkId: \"123\"\n                hostName: \"failover1.local\"\n                deviceStatus: \"active\"\n                trafficGroup:\n                  - name: \"/Common/traffic-group-1\"\n        default:\n          description: Unexpected Error\n          content:\n            application/json:\n              schema:\n                $ref: \"#/components/schemas/Error\"\ncomponents:\n  schemas:\n    Configuration:\n      type: object\n      properties:\n        class:\n          type: string\n          default: \"Cloud_Failover\"\n        environment:\n          type: string\n          enum:\n            - azure\n            - aws\n            - gcp\n        schemaVersion:\n          type: string\n        externalStorage:\n          type: object\n          properties:\n            scopingTags:\n              type: object\n              additionalProperties: true\n        failoverAddresses:\n          type: object\n          properties:\n            scopingTags:\n              type: object\n              additionalProperties: true\n        failoverRoutes:\n          type: object\n          properties:\n            enabled:\n              type: string\n            routeGroupDefinitions:\n              type: array\n              properties:\n                scopingTags:\n                  type: object\n                  additionalProperties: true\n                scopingAddressRanges:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      range:\n                        type: string\n                defaultNextHopAddresses:\n                  type: object\n                  nullable: true\n                  properties:\n                    discoveryType:\n                      type: string\n                    items:\n                      type: array\n                      items:\n                        type: string\n        controls:\n          type: object\n          properties:\n            class:\n              type: string\n            logLevel:\n              type: string\n    InformationResponse:\n      type: object\n      properties:\n        version:\n          type: string\n        release:\n          type: string\n        schemaCurrent:\n          type: string\n        schemaMinimum:\n          type: string\n    InspectResponse:\n      type: object\n      properties:\n        instance:\n          type: string\n        addresses:\n          type: array\n        routes:\n          type: array\n        hostName:\n          type: string\n        deviceStatus:\n          type: string\n          enum:\n            - active\n            - standby\n        trafficGroup:\n          type: array\n          properties:\n            name:\n              type: string\n    ConfigurationResponse:\n      type: object\n      properties:\n        message:\n          type: string\n        declaration:\n          $ref: \"#/components/schemas/Configuration\"\n    TaskStateResponse:\n      type: object\n      properties:\n        taskState:\n          type: string\n          enum:\n            - \"RUNNING\"\n            - \"SUCCEEDED\"\n            - \"FAILED\"\n        timestamp:\n          type: string\n        instance:\n          type: string\n        failoverOperations:\n          type: object\n          properties:\n            routes:\n              type: object\n            addresses:\n              type: object\n        code:\n          type: string\n    DryRunResponse:\n      type: object\n      properties:\n        addresses:\n          type: object\n        routes:\n          type: object\n    Error:\n      required:\n        - code\n        - message\n      properties:\n        code:\n          type: integer\n        message:\n          type: string\n    ResponseWithMessageString:\n      type: object\n      properties:\n        message:\n          type: string\n    TriggerStateResponse:\n      type: object\n      properties:\n        message:\n          type: object\n  securitySchemes:\n    BasicAuth:\n      type: http\n      scheme: basic\nsecurity:\n  - BasicAuth: []\n",
			"canonicalURL": "/github.com/F5Networks/f5-cloud-failover-extension@3cda140f6a72c655c37d98733a367cbc1d1d64a9/-/blob/specs/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/F5Networks/f5-cloud-failover-extension/blob/3cda140f6a72c655c37d98733a367cbc1d1d64a9/specs/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}