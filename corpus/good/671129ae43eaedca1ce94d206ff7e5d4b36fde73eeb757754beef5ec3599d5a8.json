{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/Debian/dcs"
		},
		"file": {
			"name": "openapi.yaml",
			"size": 0,
			"path": "static/openapi.yaml",
			"byteSize": 7301,
			"content": "openapi: 3.0.1\ninfo:\n  title: Debian Code Search\n  description: OpenAPI for https://codesearch.debian.net/\n  contact:\n    email: stapelberg@debian.org\n  license:\n    name: Apache 2.0\n    url: http://www.apache.org/licenses/LICENSE-2.0.html\n  version: 1.4.0\nexternalDocs:\n  description: Get a Debian Code Search API key\n  url: https://codesearch.debian.net/apikeys/\nservers:\n- url: https://codesearch.debian.net/api/v1\ntags:\n- name: search\n  description: Code Search\npaths:\n  /search:\n    get:\n      tags:\n      - search\n      summary: Searches through source code\n      description: |-\n        Performs a search through the full Debian Code Search corpus, blocking until all results are available (might take a few seconds depending on the search query).\n\n        Search results are ordered by their ranking (best results come first).\n      operationId: search\n      parameters:\n      - name: query\n        in: query\n        description: The search query, for example `who knows...` (literal) or `who\n          knows\\.\\.\\.` (regular expression). See https://codesearch.debian.net/faq\n          for more details about which keywords are supported. The regular expression\n          flavor is RE2, see https://github.com/google/re2/blob/master/doc/syntax.txt\n        required: true\n        schema:\n          type: string\n      - name: match_mode\n        in: query\n        description: Whether the query is to be interpreted as a literal (`literal`)\n          instead of as an RE2 regular expression (`regexp`). Literal searches are\n          faster and do not require escaping special characters, regular expression\n          searches are more powerful.\n        schema:\n          type: string\n          default: regexp\n          enum:\n          - literal\n          - regexp\n      responses:\n        200:\n          description: All search results\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/SearchResult'\n        403:\n          description: The x-dcs-apikey header was either not set at all, or contained\n            an invalid (no longer valid?) API key. Please see https://codesearch.debian.net/apikeys/\n            for obtaining a key.\n          content: {}\n      security:\n      - api_key: []\n  /searchperpackage:\n    get:\n      tags:\n      - search\n      summary: Like /search, but aggregates per package\n      description: 'The search results are currently sorted arbitrarily, but we intend\n        to sort them by ranking eventually: https://github.com/Debian/dcs/blob/51338e934eb7ee18d00c5c18531c0790a83cb698/cmd/dcs-web/querymanager.go#L719'\n      operationId: searchperpackage\n      parameters:\n      - name: query\n        in: query\n        description: The search query, for example `who knows...` (literal) or `who\n          knows\\.\\.\\.` (regular expression). See https://codesearch.debian.net/faq\n          for more details about which keywords are supported. The regular expression\n          flavor is RE2, see https://github.com/google/re2/blob/master/doc/syntax.txt\n        required: true\n        schema:\n          type: string\n      - name: match_mode\n        in: query\n        description: Whether the query is to be interpreted as a literal (`literal`)\n          instead of as an RE2 regular expression (`regexp`). Literal searches are\n          faster and do not require escaping special characters, regular expression\n          searches are more powerful.\n        schema:\n          type: string\n          default: regexp\n          enum:\n          - literal\n          - regexp\n      responses:\n        200:\n          description: All search results\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/PackageSearchResult'\n        403:\n          description: The x-dcs-apikey header was either not set at all, or contained\n            an invalid (no longer valid?) API key. Please see https://codesearch.debian.net/apikeys/\n            for obtaining a key.\n          content: {}\n      security:\n      - api_key: []\ncomponents:\n  schemas:\n    SearchResult:\n      required:\n      - context\n      - line\n      - package\n      - path\n      type: object\n      properties:\n        package:\n          type: string\n          description: The Debian source package containing this search result, including\n            the full Debian version number.\n          example: i3-wm_4.18-1\n        path:\n          type: string\n          description: Path to the file containing the this search result, starting\n            with `package`.\n          example: i3bar/src/xcb.c\n        line:\n          type: integer\n          description: Line number containing the search result.\n          format: uint32\n          example: 1313\n        context_before:\n          type: array\n          description: Up to 2 full lines before the search result (see `context`).\n          example:\n          - '    } else {'\n          - '        cursor = xcb_generate_id(xcb_connection);'\n          items:\n            type: string\n        context:\n          type: string\n          description: The full line containing the search result.\n          example: '        i3Font cursor_font = load_font(\"cursor\", false);'\n        context_after:\n          type: array\n          description: Up to 2 full lines after the search result (see `context`).\n          example:\n          - '        xcb_create_glyph_cursor('\n          - '            xcb_connection,'\n          items:\n            type: string\n      description: A search result matching the specified query. You can use sources.debian.org\n        to view the file contents. See https://github.com/Debian/dcs/blob/master/cmd/dcs-web/show/show.go\n        for how to construct a sources.debian.org URL from a search result.\n    PackageSearchResult:\n      required:\n      - package\n      - results\n      type: object\n      properties:\n        package:\n          type: string\n          description: The Debian source package for which up to 2 search results\n            have been aggregated in `results`.\n          example: i3-wm_4.18-1\n        results:\n          type: array\n          items:\n            $ref: '#/components/schemas/SearchResult'\n  parameters:\n    queryParam:\n      name: query\n      in: query\n      description: The search query, for example `who knows...` (literal) or `who\n        knows\\.\\.\\.` (regular expression). See https://codesearch.debian.net/faq for\n        more details about which keywords are supported. The regular expression flavor\n        is RE2, see https://github.com/google/re2/blob/master/doc/syntax.txt\n      required: true\n      schema:\n        type: string\n    matchModeParam:\n      name: match_mode\n      in: query\n      description: Whether the query is to be interpreted as a literal (`literal`)\n        instead of as an RE2 regular expression (`regexp`). Literal searches are faster\n        and do not require escaping special characters, regular expression searches\n        are more powerful.\n      schema:\n        type: string\n        default: regexp\n        enum:\n        - literal\n        - regexp\n  securitySchemes:\n    api_key:\n      type: apiKey\n      name: x-dcs-apikey\n      in: header\n",
			"canonicalURL": "/github.com/Debian/dcs@c88c75b9fb776b9d3075698716af8c0fd8d7558f/-/blob/static/openapi.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/Debian/dcs/blob/c88c75b9fb776b9d3075698716af8c0fd8d7558f/static/openapi.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}