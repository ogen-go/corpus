{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/betagouv/leximpact-server"
		},
		"file": {
			"name": "api.yaml",
			"size": 0,
			"path": "server/api.yaml",
			"byteSize": 6247,
			"content": "openapi: \"3.0.0\"\n\ninfo:\n  title: LexImpact\n  version: 1.0.0\n\npaths:\n  /:\n    get:\n      summary: Renvoie un message de bienvenue\n      operationId: server.handlers.Welcome.home\n      responses:\n          '200':\n            description: Un petit bonjour\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Greetings'\n  /calculate/revenus:\n    post:\n      summary: Calcule l'impact par cas types\n      operationId: server.handlers.CasTypes.revenus\n      responses:\n          '201':\n            description: Renvoie les revenus des cas types. Utilisé seulement par l'API Dash\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/revenus'\n  /metadata/description_cas_types:\n    post:\n      summary: Decrit les cas types\n      operationId: server.handlers.CasTypes.description_cas_types\n      responses:\n        '201':\n          description: Renvoie la description des cas types par défaut\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/description_cas_types'\n  /calculate/compare:\n    post:\n      summary: Calcule l'impact d'une loi\n      operationId: server.handlers.SimulationRunner.simulereforme\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/compareoldnew'\n      responses:\n          '201':\n            description: Qu'est ce que c'est description\n  /calculate/simpop:\n    post:\n      summary: Calcule l'impact d'une loi sur la population (nécessite des données)\n      operationId: server.handlers.SimulationRunner.simuledeciles\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/compareoldnew'\n      responses:\n          '201':\n            description: Impact de la loi sur les recettes de l'Etat et les déciles.\n  /auth/login:\n    post:\n      summary: Authentifie l'usager\n      operationId: server.handlers.auth.login\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/login'\n      responses:\n          '201':\n            description: L'usager a pu étre authentifié·e\n          '401':\n            description: L'usager n'est pas dans la liste validée par l'INSEE\ncomponents:\n  schemas:\n    Greetings:\n      type: object\n      properties:\n        hello:\n          type: string\n    revenus:\n      type: object\n    compareoldnew:\n      type: object\n      properties:\n        token:\n          type: string\n        deciles:\n          type: boolean\n        timestamp:\n          type: string\n        reforme:\n          type: object\n          properties:\n            impot_revenu:\n              type: object\n              properties:\n                bareme:\n                  type: object\n                  properties:\n                    seuils:\n                      type: array\n                      items:\n                        type: integer\n                    taux:\n                      type: array\n                      items:\n                        type: number\n                decote:\n                  type: object\n                  properties:\n                    seuil_celib:\n                      type: integer\n                    seuil_couple:\n                      type: integer\n                    taux:\n                      type: number\n                plafond_qf:\n                  type: object\n                  properties:\n                    maries_ou_pacses:\n                      type: integer\n                    celib_enf:\n                      type: integer\n                    celib:\n                      type: integer\n                    reduc_postplafond:\n                      type: integer\n                    reduc_postplafond_veuf:\n                      type: integer\n                    abat_dom:\n                      type: object\n                      properties:\n                        taux_GuadMarReu:\n                          type: number\n                        plaf_GuadMarReu:\n                          type: integer\n                        taux_GuyMay:\n                          type: number\n                        plaf_GuyMay:\n                          type: integer\n                    reduction_ss_condition_revenus:\n                      type: object\n                      properties:\n                        seuil_maj_enf:\n                          type: integer\n                        seuil1:\n                          type: integer\n                        seuil2:\n                          type: integer\n                        taux:\n                          type: number\n                abattements_rni:\n                  type: object\n                  properties:\n                    personne_agee_ou_invalide:\n                      type: object\n                      properties:\n                        montant_1:\n                          type: integer\n                        montant_2:\n                          type: integer\n                        plafond_1:\n                          type: integer\n                        plafond_2:\n                          type: integer\n        description_cas_types:\n          type: array\n          items:\n            type: object\n            properties:\n              nombre_declarants:\n                type: integer\n              nombre_personnes_a_charge:\n                type: integer\n              nombre_declarants_retraites:\n                type: integer\n              revenu:\n                type: integer\n              guadeloupe:\n                type: boolean\n    description_cas_types:\n      type: array\n      items:\n        type: object\n        properties:\n          nombre_declarants:\n            type: integer\n          nombre_personnes_a_charge:\n            type: integer\n          nombre_declarants_retraites:\n            type: integer\n          revenu:\n            type: integer\n          outre_mer:\n            type: integer\n    login:\n      type: object\n      properties:\n        email:\n          type: string\n",
			"canonicalURL": "/github.com/betagouv/leximpact-server@87f38b65b8642a4bdba5d77db135bdca7c9944c8/-/blob/server/api.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/betagouv/leximpact-server/blob/87f38b65b8642a4bdba5d77db135bdca7c9944c8/server/api.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}