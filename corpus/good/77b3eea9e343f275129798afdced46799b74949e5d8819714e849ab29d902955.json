{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/mojaloop/pisp-project"
		},
		"file": {
			"name": "api_spec.yaml",
			"size": 0,
			"path": "docker-contract/ml-testing-toolkit/spec_files/api_definitions/settlements_1.0/api_spec.yaml",
			"byteSize": 28963,
			"content": "openapi: 3.0.1\ninfo:\n  title: MOJALOOP Central Settlements\n  description: Mojaloop API for Settlements.\n  version: 1.1.0\nservers:\n- url: /v1\npaths:\n  /health:\n    get:\n      tags:\n      - getHealth\n      summary: getHealth\n      description: Gets the health of the service and sub-services (i.e. database).\n      operationId: getHealth\n      responses:\n        200:\n          description: A valid and health service.\n          content: {}\n        502:\n          description: API is live, but error connecting to required sub-service.\n          content: {}\n      deprecated: false\n  /settlementWindows/{id}:\n    get:\n      tags:\n      - getSettlementWindowById\n      summary: getSettlementWindowById\n      description: Returns a Settlement Window by id.\n      operationId: getSettlementWindowById\n      parameters:\n      - name: id\n        in: path\n        description: |\n          A valid settlement window id to be supplied in the query.\n        required: true\n        schema:\n          type: integer\n      responses:\n        200:\n          description: A settlement window's data returned.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/SettlementWindow'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n    post:\n      tags:\n      - closeSettlementWindow\n      summary: closeSettlementWindow\n      description: If the settlementWindow is open, it can be closed and a new window\n        is created. If it is already closed, return an error message. Returns the\n        new settlement window.\n      operationId: closeSettlementWindow\n      parameters:\n      - name: id\n        in: path\n        required: true\n        schema:\n          type: integer\n      requestBody:\n        description: A JSON object containing settlement window closure info.\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SettlementWindowClosurePayload'\n        required: true\n      responses:\n        200:\n          description: Settlement window closed and new window opened.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/SettlementWindow'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n      x-codegen-request-body-name: payload\n  /settlementWindows:\n    get:\n      tags:\n      - getSettlementWindowsByParams\n      summary: getSettlementWindowsByParams\n      description: Returns Settlement Windows as per parameter(s).\n      operationId: getSettlementWindowsByParams\n      parameters:\n      - name: participantId\n        in: query\n        description: |\n          A valid participant Id to filter on.\n        schema:\n          type: integer\n      - name: state\n        in: query\n        description: |\n          A settlement window state to filter on.\n        schema:\n          type: string\n          enum:\n          - OPEN\n          - CLOSED\n          - PENDING_SETTLEMENT\n          - SETTLED\n          - ABORTED\n      - name: fromDateTime\n        in: query\n        description: |\n          The start date for query (relates to central-ledger.settlementWindow.createdDate). Can be used together with `toDateTime'. eg 2017-07-20T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      - name: toDateTime\n        in: query\n        description: |\n          The end date for query (relates to central-ledger.settlementWindow.createdDate). Can be used together with `fromDateTime'. eg 2017-07-21T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      responses:\n        200:\n          description: Settlement window(s) returned by the filtering parameters.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/SettlementWindows'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n  /settlements:\n    get:\n      tags:\n      - getSettlementsByParams\n      summary: getSettlementsByParams\n      description: Returns Settlements as per parameter(s).\n      operationId: getSettlementsByParams\n      parameters:\n      - name: currency\n        in: query\n        description: |\n          A valid currency to filter on.\n        schema:\n          type: string\n      - name: participantId\n        in: query\n        description: |\n          A valid participant Id to filter on.\n        schema:\n          type: integer\n      - name: settlementWindowId\n        in: query\n        description: |\n          A valid Settlement Window Id to filter on.\n        schema:\n          type: number\n      - name: accountId\n        in: query\n        description: |\n          A valid Account Id to filter on.\n        schema:\n          type: number\n      - name: state\n        in: query\n        description: \"A settlement state to filter on.  \\n\"\n        schema:\n          type: string\n          enum:\n          - PENDING_SETTLEMENT\n          - PS_TRANSFERS_RECORDED\n          - PS_TRANSFERS_RESERVED\n          - PS_TRANSFERS_COMMITTED\n          - SETTLING\n          - SETTLED\n          - ABORTED\n      - name: fromDateTime\n        in: query\n        description: |\n          The start date for query (relates to central-ledger.settlement.createdDate). Can be used together with `toDateTime'. eg 2017-07-20T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      - name: toDateTime\n        in: query\n        description: |\n          The end date for query (relates to central-ledger.settlement.createdDate). Can be used together with `fromDateTime'. eg 2017-07-21T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      - name: fromSettlementWindowDateTime\n        in: query\n        description: |\n          The start date for query (relates to central-ledger.settlementWindow.createdDate). Can be used together with `toDateTime'. eg 2017-07-20T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      - name: toSettlementWindowDateTime\n        in: query\n        description: |\n          The end date for query (relates to central-ledger.settlementWindow.createdDate). Can be used together with `fromDateTime'. eg 2017-07-21T17:32:28Z\n        schema:\n          type: string\n          format: date-time\n      responses:\n        200:\n          description: Settlement window(s) returned by the filtering parameters.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlements'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n    post:\n      tags:\n      - createSettlement\n      summary: createSettlement\n      description: Trigger the creation of a settlement, that does the calculation\n        of the net settlement position per participant and marks all transfers in\n        the affected windows as PENDING_SETTLEMENT. Returned dataset is the net settlement\n        report for the settlementWindow\n      operationId: createSettlement\n      requestBody:\n        description: A JSON object containing settlement windows to be included.\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SettlementEventPayload'\n        required: true\n      responses:\n        200:\n          description: Created settlement with all windows and accounts.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n      x-codegen-request-body-name: payload\n  /settlements/{id}:\n    get:\n      tags:\n      - getSettlementById\n      summary: getSettlementById\n      description: Returns Settlement(s) as per parameters/filter criteria.\n      operationId: getSettlementById\n      parameters:\n      - name: id\n        in: path\n        description: |\n          A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      responses:\n        200:\n          description: Settlement successfully returned by the filtering/Query parameters.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n    put:\n      tags:\n      - updateSettlementById\n      summary: updateSettlementById\n      description: Acknowledgement of settlement by updating with Settlement Id.\n      operationId: updateSettlementById\n      parameters:\n      - name: id\n        in: path\n        description: A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      requestBody:\n        description: A JSON object containing settlement update info.\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SettlementUpdateBySettlementIdPayload'\n        required: true\n      responses:\n        200:\n          description: Settlements updated.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n      x-codegen-request-body-name: payload\n  /settlements/{settlementId}/participants/{participantId}:\n    get:\n      tags:\n      - getSettlementBySettlementParticipant\n      summary: getSettlementBySettlementParticipant\n      description: Returns Settlement(s) as per filter criteria.\n      operationId: getSettlementBySettlementParticipant\n      parameters:\n      - name: settlementId\n        in: path\n        description: |\n          A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      - name: participantId\n        in: path\n        description: |\n          A valid Participant Id.\n        required: true\n        schema:\n          type: integer\n      responses:\n        200:\n          description: Settlement, settlement windows and settlement accounts returned\n            by the filtering parameters.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n    put:\n      tags:\n      - updateSettlementBySettlementParticipant\n      summary: updateSettlementBySettlementParticipant\n      description: Acknowledgement of settlement by updating with Settlements Id and\n        Participant Id.\n      operationId: updateSettlementBySettlementParticipant\n      parameters:\n      - name: settlementId\n        in: path\n        description: A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      - name: participantId\n        in: path\n        description: A valid Participant Id.\n        required: true\n        schema:\n          type: integer\n      requestBody:\n        description: A JSON object containing settlement update info.\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SettlementUpdateBySettlementParticipantPayload'\n        required: true\n      responses:\n        200:\n          description: Settlements updated.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n      x-codegen-request-body-name: payload\n  /settlements/{settlementId}/participants/{participantId}/accounts/{accountId}:\n    get:\n      tags:\n      - getSettlementBySettlementParticipantAccount\n      summary: getSettlementBySettlementParticipantAccount\n      description: Returns Settlement(s) as per filter criteria.\n      operationId: getSettlementBySettlementParticipantAccount\n      parameters:\n      - name: settlementId\n        in: path\n        description: |\n          A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      - name: participantId\n        in: path\n        description: |\n          A valid Participant Id.\n        required: true\n        schema:\n          type: integer\n      - name: accountId\n        in: path\n        description: \"A valid Account Id.    \\n\"\n        required: true\n        schema:\n          type: integer\n      responses:\n        200:\n          description: Settlement, settlement windows and settlement accounts returned\n            by the filtering parameters.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n    put:\n      tags:\n      - updateSettlementBySettlementParticipantAccount\n      summary: updateSettlementBySettlementParticipantAccount\n      description: Acknowledgement of settlement by updating the reason and state\n        by Settlements Id, Participant Id and accounts Id.\n      operationId: updateSettlementBySettlementParticipantAccount\n      parameters:\n      - name: settlementId\n        in: path\n        description: A valid Settlement Id.\n        required: true\n        schema:\n          type: integer\n      - name: participantId\n        in: path\n        description: A valid Participant Id.\n        required: true\n        schema:\n          type: integer\n      - name: accountId\n        in: path\n        description: A valid Account Id.\n        required: true\n        schema:\n          type: integer\n      requestBody:\n        description: A JSON object containing settlement update info.\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/SettlementUpdateBySettlementParticipantAccount'\n        required: true\n      responses:\n        200:\n          description: Settlements updated.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Settlement'\n        400:\n          description: Bad request.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        401:\n          description: Authorisation information is missing or invalid.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        404:\n          description: No data found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        415:\n          description: Unsupported Media Type.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n        default:\n          description: Unexpected error\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'\n      deprecated: false\n      x-codegen-request-body-name: payload\ncomponents:\n  schemas:\n    Account:\n      type: object\n      properties:\n        id:\n          type: string\n          description: Account Id\n        reason:\n          type: string\n          description: TBD\n        state:\n          type: string\n          example: PENDING_SETTLEMENT\n        netSettlementAmount:\n          $ref: '#/components/schemas/netSettlementAmount'\n    SettlementUpdateBySettlementIdPayload:\n      type: object\n      properties:\n        state:\n          type: string\n          enum:\n          - ABORTED\n          - INVALID\n        reason:\n          type: string\n        externalReference:\n          type: string\n        participants:\n          type: array\n          items:\n            $ref: '#/components/schemas/SettlementUpdateBySettlementIDOuterPayload'\n    SettlementUpdateBySettlementIDOuterPayload:\n      type: object\n      properties:\n        id:\n          type: integer\n          description: Participant Id\n        accounts:\n          type: array\n          items:\n            $ref: '#/components/schemas/SettlementUpdateBySettlementIdInnerPayload'\n    SettlementUpdateBySettlementIdInnerPayload:\n      type: object\n      properties:\n        id:\n          type: integer\n          description: Participant Currency Id\n        reason:\n          type: string\n          example: reason\n        state:\n          type: string\n          example: SETTLED\n          enum:\n          - PENDING_SETTLEMENT\n          - PS_TRANSFERS_RECORDED\n          - PS_TRANSFERS_RESERVED\n          - PS_TRANSFERS_COMMITTED\n          - SETTLED\n        externalReference:\n          type: string\n          example: external-reference-abc123\n    SettlementUpdateBySettlementParticipantPayload:\n      type: object\n      properties:\n        accounts:\n          type: array\n          items:\n            $ref: '#/components/schemas/SettlementUpdateBySettlementIdInnerPayload'\n    Accounts:\n      type: object\n      properties:\n        id:\n          type: integer\n          description: Participant Currency Id\n        reason:\n          type: string\n          description: TBD\n        state:\n          type: string\n          example: PENDING_SETTLEMENT\n        netSettlementAmount:\n          $ref: '#/components/schemas/netSettlementAmount'\n    SettlementWindowClosurePayload:\n      required:\n      - reason\n      - state\n      type: object\n      properties:\n        state:\n          type: string\n          example: CLOSED\n          enum:\n          - CLOSED\n        reason:\n          type: string\n          example: string\n    SettlementUpdateBySettlementParticipantAccount:\n      required:\n      - reason\n      - state\n      type: object\n      properties:\n        state:\n          type: string\n          example: SETTLED\n          enum:\n          - PENDING_SETTLEMENT\n          - PS_TRANSFERS_RECORDED\n          - PS_TRANSFERS_RESERVED\n          - PS_TRANSFERS_COMMITTED\n          - SETTLED\n        reason:\n          type: string\n          example: string\n        externalReference:\n          type: string\n          example: external-reference-abc123\n    SettlementEventPayload:\n      required:\n      - reason\n      - settlementWindows\n      type: object\n      properties:\n        reason:\n          type: string\n        settlementWindows:\n          minItems: 1\n          uniqueItems: true\n          type: array\n          items:\n            $ref: '#/components/schemas/SettlementWindowId'\n    SettlementWindowId:\n      required:\n      - id\n      type: object\n      properties:\n        id:\n          type: integer\n    SettlementWindow:\n      required:\n      - createdDate\n      - id\n      - state\n      type: object\n      properties:\n        id:\n          type: integer\n        reason:\n          type: string\n        state:\n          type: string\n        createdDate:\n          type: string\n        changedDate:\n          type: string\n    SettlementWindows:\n      type: array\n      items:\n        $ref: '#/components/schemas/SettlementWindow'\n    netSettlementAmount:\n      type: object\n      properties:\n        amount:\n          type: number\n        currency:\n          type: string\n    Participant:\n      type: object\n      properties:\n        id:\n          type: integer\n        accounts:\n          type: array\n          items:\n            $ref: '#/components/schemas/Accounts'\n    Settlements:\n      type: array\n      items:\n        $ref: '#/components/schemas/Settlement'\n    Settlement:\n      type: object\n      properties:\n        id:\n          type: integer\n        state:\n          type: string\n        settlementWindows:\n          type: array\n          items:\n            $ref: '#/components/schemas/SettlementWindows'\n        participants:\n          type: array\n          items:\n            $ref: '#/components/schemas/Participant'\n    Error:\n      required:\n      - errorInformation\n      type: object\n      properties:\n        errorInformation:\n          type: object\n          properties:\n            errorCode:\n              type: integer\n            errorDescription:\n              type: string\n            extensionList:\n              type: object\n              properties:\n                extension:\n                  type: array\n                  items:\n                    $ref: '#/components/schemas/Extension'\n    Extension:\n      required:\n      - key\n      - value\n      type: object\n      properties:\n        key:\n          type: string\n        value:\n          type: string\n",
			"canonicalURL": "/github.com/mojaloop/pisp-project@4ca8daa097a2f713ad986ef67e5ee45554dfb59d/-/blob/docker-contract/ml-testing-toolkit/spec_files/api_definitions/settlements_1.0/api_spec.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/mojaloop/pisp-project/blob/4ca8daa097a2f713ad986ef67e5ee45554dfb59d/docker-contract/ml-testing-toolkit/spec_files/api_definitions/settlements_1.0/api_spec.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}