{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/gematik/api-kim"
		},
		"file": {
			"name": "AttachmentService.yaml",
			"size": 0,
			"path": "src/openapi/AttachmentService.yaml",
			"byteSize": 6378,
			"content": "openapi: 3.0.3\ninfo:\n  title: I_Attachment_Service\n  description:  Über diese Schnittstelle können verschlüsselte E-Mail-Anhänge \u003cbr\u003e\n                hochgeladen und bereitgestellt werden. \n  version: 2.2.0\n  ### 2.2.0 \n  # - updated url to https://kas.hrst1.kim.telematik/attachments/v2.2/\n  # - deleted operation read_MaxMailSize\n  # - changed operation add_Attachment: \n  #   renamed \"Shared-Link\" to \"sharedLink\"\n  #   added parameters: expires, recipients, messageID\n  #   added error code 507 \n  # - changed operation read_Attachment: \n  #   added parameter recipient\n  #   added error code 429 \n  ### 2.0.0 \n  # - added client authentication for operation add_Attachment \n  # - changed URI for operations add_attachment and read_attachment\n  # - added error message strings\n  # - added HTTP error code 500\n  ### 1.1.0 \n  # - changed data type in operation read_maxMailSize\n  # - changed error code 405 to 400 in operation add_Attachment\n  # - changed MIME type multipart/form-data to application/octect-stream in operation add_Attachment() and read_Attachment() \n  ### 1.0.1\n  # - added errorcode 413 in operation add_Attachment\n  # - extended URI to interface releases \n  ### 1.0.0\n  # - initial Version of I_Attachment_Service   \n\nexternalDocs:\n  description: GitHub - Dokumentation\n  url: https://github.com/gematik/api-kim\nservers:\n- url: https://kas.hrst1.kim.telematik/attachments/v2.2/\ntags:\n- name: Attachments\n\npaths:\n##--\n##------\n  /attachment/{attachmentId}:\n    get:\n      tags:\n      - Attachments\n      summary: Einen Anhang herunterladen\n      description: gibt den unter einem Freigabelink verschlüsselten Anhang zurück\n      operationId: read_Attachment\n      \n      parameters:\n      - name: attachmentId\n        in: path\n        description: Link-Referenz auf den verschüsselten Anhang im Dienst\n        required: true\n        schema:\n          type: string\n      - name: recipient\n        in: header\n        description: Die übergebene E-Mail-(KIM-)Adresse des Empfängers\n        required: true\n        schema:\n          type: string\n          format: email\n\n      \n      responses:\n        200:\n          description: OK\n             # Anhang wurde erfolgreich heruntergeladen \n          content:\n           application/octet-stream:\n            schema:\n             type: string\n             format: binary\n        403:\n          description: Recipient nicht in der Empfängerliste der KIM-Mail enthalten\n          content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error' \n        404:\n          description: Ressource unter dem angegebenen Link nicht gefunden\n          content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error' \n        429:\n          description: Anhang zu oft heruntergeladen.\n          content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error'\n\n        500:\n          description: Internal Server Error          \n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Error'                  \n##--\n##------\n  /attachment/:\n    post:\n      tags:\n      - Attachments\n      summary: Einen Anhang hinzufügen\n      description: Ein verschlüsselter Anhang wird unter einem neu erzeugten Freigabe-Link hinzugefügt\n      operationId: add_Attachment\n\n      security:\n        - basicAuth: []\n        # Die Authentifizierung erfolgt mit username/password von dem Mail Account\n\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                messageID:\n                    type: string\n                    description: MessageID der zugehörigen KIM-Mail\n                recipients:\n                    type: array\n                    description: Liste aller Empfänger (KIM-Adressen) der KIM-Mail Empfänger\n                    items:\n                      type: string\n                      format: email\n                expires:\n                    type: string\n                    description: Zeitpunkt zu dem der Anhang geloescht werden muss \n                                # (RFC822 date-time)\n                attachment:\n                   type: string\n                   format: binary\n                   description: Der Anhang\n\n      responses:\n          201:\n            description: Created\n                       #  Der Anhang wurde erfolgreich unter dem angegebenen Freigabelink erzeugt. \n            content:\n             application/json:\n              schema:\n               properties:\n                 sharedLink:\n                   type: string\n                    # Enthält den Freigabelink\n                    # Über den Freigabelink kann der Anhang vom KAS abgerufen werden. Der Freigabelink enthält die - in Operation read_Attachment nötige - attachmentID.\n          400:\n            description: Bad request \n                     # Fehler in den Eingangsdaten, Beschreibung des Fehlers erfolgt in dem Fehlertext\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error' \n          401:\n            description: Authentifizierung fehlgeschlagen.\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error' \n          413:\n            description: Payload Too Large\n            # Die maximal zulässige Dokumentengröße wurde überschritten \n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error'        \n          500:\n            description: Internal Server Error          \n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error'\n          507:\n            description: Nicht genügend Speicherplatz vorhanden\n            content:\n              application/json:\n                schema:\n                  $ref: '#/components/schemas/Error'\n        \n##--\n##------               \ncomponents:\n\n  schemas:\n  \n    Error:\n      type: object\n      properties:\n        message:\n          type: string\n  \n  securitySchemes: \n    basicAuth: \n      type: http\n      scheme: basic\n",
			"canonicalURL": "/github.com/gematik/api-kim@b45e73f6f8e784249e993565021f847394a87b81/-/blob/src/openapi/AttachmentService.yaml",
			"externalURLs": [
				{
					"url": "https://github.com/gematik/api-kim/blob/b45e73f6f8e784249e993565021f847394a87b81/src/openapi/AttachmentService.yaml",
					"serviceKind": "GITHUB"
				}
			]
		}
	}
}