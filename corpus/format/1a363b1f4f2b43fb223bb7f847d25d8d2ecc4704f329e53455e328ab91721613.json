{
	"File": {
		"__typename": "FileMatch",
		"repository": {
			"name": "github.com/soruly/trace.moe-api"
		},
		"file": {
			"name": "swagger.yaml",
			"size": 0,
			"path": "swagger.yaml",
			"byteSize": 9764,
			"content": "openapi: 3.0.0\ninfo:\n  version: 1.0.1\n  title: api.trace.moe\n  description: api.trace.moe\nservers:\n  - description: Production Server\n    url: https://api.trace.moe/\n\ncomponents:\n  securitySchemes:\n    ApiKeyInHeader:\n      type: apiKey\n      name: x-trace-key\n      description: API Key (if any)\n      in: header\n    ApiKeyInQuery:\n      type: apiKey\n      description: API Key (if any)\n      name: key\n      in: query\n  parameters:\n    url:\n      name: url\n      description: Image URL\n      in: query\n      required: true\n      allowEmptyValue: false\n      schema:\n        type: string\n    cutBorders:\n      name: cutBorders\n      description: Cut black borders\n      in: query\n      required: false\n      allowEmptyValue: true\n      schema:\n        type: string\n        pattern: ^$\n    anilistInfo:\n      name: anilistInfo\n      description: Include Anilist info\n      in: query\n      required: false\n      allowEmptyValue: true\n      schema:\n        type: string\n        pattern: ^$\n    anilistID:\n      name: anilistID\n      description: Filter by Anilist ID\n      in: query\n      required: false\n      allowEmptyValue: false\n      schema:\n        type: integer\n  responses:\n    User:\n      description: A user response\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/User\"\n    ErrorBadRequest:\n      description: Image is malformed, or some params are incorrect\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorPaymentRequired:\n      description: Search quota or concurrency limit exceeded\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorUnauthorized:\n      description: API key is invalid\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorForbidden:\n      description: No permission to access\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorNotFound:\n      description: The requested resourse is not found\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorMethodNotAllowed:\n      description: Wrong HTTP method used\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorTooManyRequests:\n      description: HTTP rate limit exceeded\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorInternalServerError:\n      description: Database error\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorServiceUnavailable:\n      description: Database is overloaded\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    ErrorGatewayTimeout:\n      description: Database is not responding\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/Error\"\n    Success:\n      description: A search response\n      content:\n        application/json:\n          schema:\n            $ref: \"#/components/schemas/SearchResult\"\n\n  schemas:\n    Error:\n      type: object\n      properties:\n        error:\n          type: string\n          description: Error message\n      required:\n        - error\n    User:\n      type: object\n      properties:\n        id:\n          type: string\n          description: IP address (guest) or email address (user)\n        priority:\n          type: integer\n          description: Your priority in search queue\n        concurrency:\n          type: integer\n          description: Number of parallel search requests you can make\n        quota:\n          type: integer\n          description: Search quota you have for this month\n        quotaUsed:\n          type: integer\n          description: Search quota you have used this month\n      required:\n        - id\n        - priority\n        - concurrency\n        - quota\n        - quotaUsed\n    SearchResult:\n      type: object\n      properties:\n        frameCount:\n          type: integer\n          description: frames compared for image search\n        error:\n          type: string\n          description: Error message\n        result:\n          type: array\n          description: Search results\n          items:\n            $ref: \"#/components/schemas/Result\"\n      required:\n        - frameCount\n        - error\n        - result\n    Result:\n      type: object\n      properties:\n        anilist:\n          description: The matching Anilist ID or Anilist info\n          oneOf:\n            - type: integer\n            - $ref: \"#/components/schemas/Anilist\"\n        filename:\n          type: string\n          description: The filename of file where the match is found\n        episode:\n          description: The extracted episode number from filename\n          oneOf:\n            - type: number\n              nullable: true\n            - type: string\n              nullable: true\n            - type: array\n              items:\n                oneOf:\n                  - type: number\n                  - type: string\n        from:\n          type: number\n          description: Starting time of the matching scene (seconds)\n        to:\n          type: number\n          description: Ending time of the matching scene (seconds)\n        similarity:\n          type: number\n          description: Similarity compared to the search image\n        video:\n          type: string\n          description: URL to the preview video of the matching scene\n        image:\n          type: string\n          description: URL to the preview image of the matching scene\n      required:\n        - anilist\n        - filename\n        - episode\n        - from\n        - to\n        - similarity\n        - video\n        - image\n    Anilist:\n      type: object\n      properties:\n        id:\n          type: integer\n          description: Anilist ID\n        idMal:\n          type: integer\n          description: MyAnimeList ID\n          nullable: true\n        isAdult:\n          type: boolean\n          description: Adult anime or not\n        synonyms:\n          type: array\n          description: Alias titles\n          items:\n            type: string\n        title:\n          type: object\n          properties:\n            native:\n              type: string\n              description: Native title\n              nullable: true\n            romaji:\n              type: string\n              description: Romaji title\n            english:\n              type: string\n              description: English title\n              nullable: true\n          required:\n            - native\n            - romaji\n            - english\n      required:\n        - id\n        - idMal\n        - isAdult\n        - synonyms\n        - title\n\nsecurity:\n  - ApiKeyInHeader: []\n  - ApiKeyInQuery: []\n\npaths:\n  /search:\n    get:\n      summary: Get search result of an anime screeshot\n      parameters:\n        - $ref: \"#/components/parameters/anilistInfo\"\n        - $ref: \"#/components/parameters/cutBorders\"\n        - $ref: \"#/components/parameters/url\"\n        - $ref: \"#/components/parameters/anilistID\"\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/Success\"\n        \"400\":\n          $ref: \"#/components/responses/ErrorBadRequest\"\n        \"402\":\n          $ref: \"#/components/responses/ErrorPaymentRequired\"\n        \"403\":\n          $ref: \"#/components/responses/ErrorForbidden\"\n        \"404\":\n          $ref: \"#/components/responses/ErrorNotFound\"\n        \"405\":\n          $ref: \"#/components/responses/ErrorMethodNotAllowed\"\n        \"429\":\n          $ref: \"#/components/responses/ErrorTooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/ErrorInternalServerError\"\n        \"503\":\n          $ref: \"#/components/responses/ErrorServiceUnavailable\"\n        \"504\":\n          $ref: \"#/components/responses/ErrorGatewayTimeout\"\n    post:\n      summary: Get search result of an anime screeshot\n      parameters:\n        - $ref: \"#/components/parameters/anilistInfo\"\n        - $ref: \"#/components/parameters/cutBorders\"\n        - $ref: \"#/components/parameters/anilistID\"\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                image:\n                  type: string\n                  format: binary\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/Success\"\n        \"400\":\n          $ref: \"#/components/responses/ErrorBadRequest\"\n        \"402\":\n          $ref: \"#/components/responses/ErrorPaymentRequired\"\n        \"403\":\n          $ref: \"#/components/responses/ErrorForbidden\"\n        \"404\":\n          $ref: \"#/components/responses/ErrorNotFound\"\n        \"405\":\n          $ref: \"#/components/responses/ErrorMethodNotAllowed\"\n        \"429\":\n          $ref: \"#/components/responses/ErrorTooManyRequests\"\n        \"500\":\n          $ref: \"#/components/responses/ErrorInternalServerError\"\n        \"503\":\n          $ref: \"#/components/responses/ErrorServiceUnavailable\"\n        \"504\":\n          $ref: \"#/components/responses/ErrorGatewayTimeout\"\n\n  /me:\n    get:\n      summary: Get info about your account\n      responses:\n        \"200\":\n          $ref: \"#/components/responses/User\"\n        \"400\":\n          $ref: \"#/components/responses/ErrorBadRequest\"\n        \"403\":\n          $ref: \"#/components/responses/ErrorForbidden\"\n        \"404\":\n          $ref: \"#/components/responses/ErrorNotFound\"\n        \"405\":\n          $ref: \"#/components/responses/ErrorMethodNotAllowed\"\n        \"429\":\n          $ref: \"#/components/responses/ErrorTooManyRequests\"\n"
		}
	},
	"Error": "security: failed to write file oas_security_gen.go: format: 125:3: expected 1 expression"
}