{"File":{"__typename":"FileMatch","repository":{"name":"github.com/tiki/website"},"file":{"name":"oas.json","path":"backend/oas.json","content":"{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"title\": \"Signup\",\n    \"version\": \"0.1.0\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"${servers_url}\"\n    }\n  ],\n  \"components\": {\n    \"securitySchemes\": {},\n    \"schemas\": {}\n  },\n  \"security\": [\n    {}\n  ],\n  \"paths\": {\n    \"/${version_pipe}/user\": {\n      \"post\": {\n        \"tags\": [],\n        \"summary\": \"Add/Update User\",\n        \"description\": \"Signup user\",\n        \"operationId\": \"userPost\",\n        \"parameters\": [],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"email\": {\n                    \"type\": \"string\",\n                    \"description\": \"email address\",\n                    \"example\": \"hello@mytiki.com\",\n                    \"required\": true\n                  },\n                  \"referrer\": {\n                    \"type\": \"string\",\n                    \"description\": \"referral code\",\n                    \"example\": \"AB4C\"\n                  },\n                  \"participate\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\": \"optIn to design discussions\"\n                  },\n                  \"confirmed\": {\n                    \"type\": \"boolean\",\n                    \"default\": false,\n                    \"description\": \"confirmed email address\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"email\": {\n                      \"type\": \"string\",\n                      \"description\": \"obfuscated email address\",\n                      \"example\": \"****@mytiki.com\"\n                    },\n                    \"referrer\": {\n                      \"type\": \"string\",\n                      \"description\": \"referral code\",\n                      \"example\": \"AB4C\"\n                    },\n                    \"optIn\": {\n                      \"type\": \"boolean\",\n                      \"default\": false,\n                      \"description\": \"optIn to design discussions\"\n                    },\n                    \"confirmed\": {\n                      \"type\": \"boolean\",\n                      \"default\": false,\n                      \"description\": \"confirmed email address\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"x-amazon-apigateway-integration\": {\n          \"type\": \"aws_proxy\",\n          \"uri\": \"${signup_user_post_arn}\",\n          \"passthroughBehavior\": \"when_no_match\",\n          \"httpMethod\": \"POST\",\n          \"timeoutInMillis\": 29000\n        },\n        \"deprecated\": false,\n        \"security\": []\n      },\n      \"get\": {\n        \"tags\": [],\n        \"summary\": \"Get Users\",\n        \"description\": \"Anonymous Signup Metrics\",\n        \"operationId\": \"userGet\",\n        \"parameters\": [\n          {\n            \"name\": \"referrer\",\n            \"in\": \"query\",\n            \"description\": \"filter by referrer code\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"string\",\n              \"example\": \"AX41\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"total\": {\n                      \"type\": \"integer\",\n                      \"example\": 420,\n                      \"description\": \"total users signed up\"\n                    }\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"x-amazon-apigateway-integration\": {\n          \"type\": \"aws_proxy\",\n          \"uri\": \"${signup_user_get_arn}\",\n          \"passthroughBehavior\": \"when_no_match\",\n          \"httpMethod\": \"POST\",\n          \"timeoutInMillis\": 29000\n        },\n        \"deprecated\": false,\n        \"security\": []\n      },\n      \"options\": {\n        \"responses\": {\n          \"200\": {\n            \"description\": \"200 response\",\n            \"headers\": {\n              \"Access-Control-Allow-Origin\": {\n                \"schema\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"Access-Control-Allow-Methods\": {\n                \"schema\": {\n                  \"type\": \"string\"\n                }\n              },\n              \"Access-Control-Allow-Headers\": {\n                \"schema\": {\n                  \"type\": \"string\"\n                }\n              }\n            },\n            \"content\": {}\n          }\n        },\n        \"x-amazon-apigateway-integration\": {\n          \"responses\": {\n            \"default\": {\n              \"statusCode\": \"200\",\n              \"responseParameters\": {\n                \"method.response.header.Access-Control-Allow-Methods\": \"'OPTIONS,POST'\",\n                \"method.response.header.Access-Control-Allow-Headers\": \"'Content-Type'\",\n                \"method.response.header.Access-Control-Allow-Origin\": \"'*'\"\n              }\n            }\n          },\n          \"requestTemplates\": {\n            \"application/json\": \"{\\\"statusCode\\\": 200}\"\n          },\n          \"passthroughBehavior\": \"when_no_match\",\n          \"type\": \"mock\"\n        }\n      }\n    }\n  },\n  \"x-headers\": [],\n  \"x-explorer-enabled\": true,\n  \"x-proxy-enabled\": true,\n  \"x-samples-enabled\": true,\n  \"x-samples-languages\": [\n    \"curl\",\n    \"javascript\",\n    \"python\",\n    \"swift\",\n    \"java\"\n  ],\n  \"x-readme.samples-enabled\": [\n    \"curl\",\n    \"javascript\",\n    \"python\",\n    \"swift\",\n    \"java\"\n  ]\n}\n"}},"Error":"callback: json: cannot unmarshal bool into Go struct field Schema.required of type []string"}