{"File":{"__typename":"FileMatch","repository":{"name":"github.com/YetiForceCompany/UpdatePackages"},"file":{"name":"ManageConsents.json","path":"YetiForce CRM 6.x.x/6.2.0_ServicePack/updates/files/public_html/api/ManageConsents.json","content":"{\n    \"openapi\": \"3.0.0\",\n    \"info\": {\n        \"title\": \"YetiForce API for Webservice App. Type: Manage consents\",\n        \"description\": \"Skip the `/webservice` fragment for connections via ApiProxy. There are two ways to connect to API, with or without rewrite, below are examples of both:\\n * rewrite\\n * - __CRM_URL__/webservice/ManageConsents/Users/Login\\n * - __CRM_URL__/webservice/ManageConsents/Accounts/RecordRelatedList/117/Contacts\\n * without rewrite\\n * - __CRM_URL__/webservice.php?_container=ManageConsents\u0026module=Users\u0026action=Login\\n * - __CRM_URL__/webservice.php?_container=ManageConsents\u0026module=Accounts\u0026action=RecordRelatedList\u0026record=117\u0026param=Contacts\",\n        \"termsOfService\": \"https://yetiforce.com/\",\n        \"contact\": {\n            \"name\": \"Devs API Team\",\n            \"url\": \"https://yetiforce.com/\",\n            \"email\": \"devs@yetiforce.com\"\n        },\n        \"license\": {\n            \"name\": \"YetiForce Public License\",\n            \"url\": \"https://yetiforce.com/en/yetiforce/license\"\n        },\n        \"version\": \"0.2\"\n    },\n    \"servers\": [\n        {\n            \"url\": \"https://gitdeveloper.yetiforce.com\",\n            \"description\": \"Demo server of the development version\"\n        },\n        {\n            \"url\": \"https://gitstable.yetiforce.com\",\n            \"description\": \"Demo server of the latest stable version\"\n        }\n    ],\n    \"paths\": {\n        \"/webservice/ManageConsents/ApprovalsRegister/Record\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Adds an consent entry\",\n                \"operationId\": \"425399d47c958ba5c538827d258fde0a\",\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Result of adding entry\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ApprovalsRegisterResponseBody\"\n                                }\n                            },\n                            \"application/xml\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ApprovalsRegisterResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"`No sent token` OR `Invalid token`\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": [],\n                        \"ApiKeyAuth\": [],\n                        \"token\": []\n                    }\n                ]\n            }\n        },\n        \"/webservice/ManageConsents/Approvals/RecordsList\": {\n            \"get\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Gets the list of consents\",\n                \"operationId\": \"04e7ebb08f943d466f20bb0e98311271\",\n                \"parameters\": [\n                    {\n                        \"name\": \"x-row-limit\",\n                        \"in\": \"header\",\n                        \"description\": \"Get rows limit, default: 1000\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\"\n                        },\n                        \"example\": 1000\n                    },\n                    {\n                        \"name\": \"x-row-offset\",\n                        \"in\": \"header\",\n                        \"description\": \"Offset, default: 0\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\"\n                        },\n                        \"example\": 0\n                    },\n                    {\n                        \"name\": \"x-raw-data\",\n                        \"in\": \"header\",\n                        \"description\": \"Gets raw data\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\",\n                            \"enum\": [\n                                0,\n                                1\n                            ]\n                        },\n                        \"example\": 1\n                    },\n                    {\n                        \"name\": \"x-condition\",\n                        \"in\": \"header\",\n                        \"description\": \"Conditions [Json format]\",\n                        \"required\": false,\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ApprovalsConditionsRequest\"\n                                }\n                            }\n                        }\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"List of consents\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsResponseBody\"\n                                }\n                            },\n                            \"application/xml\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"`No sent token` OR `Invalid token`\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            },\n                            \"application/xml\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            }\n                        }\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            },\n                            \"application/xml\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            }\n                        }\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            },\n                            \"application/xml\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/Exception\"\n                                }\n                            }\n                        }\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": [],\n                        \"ApiKeyAuth\": [],\n                        \"token\": []\n                    }\n                ]\n            }\n        },\n        \"/webservice/ManageConsents/{moduleName}/GetConsentsForEntry\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Gets the list of consents for specific entry\",\n                \"operationId\": \"9fd993e544cb6935282883e505b8d1d6\",\n                \"parameters\": [\n                    {\n                        \"name\": \"moduleName\",\n                        \"in\": \"path\",\n                        \"description\": \"Module name\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        },\n                        \"example\": \"Contacts\"\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"List of consents for specific entry\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsForEntryResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"`No sent token` OR `Invalid token`\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"404\": {\n                        \"description\": \"Not Found\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": [],\n                        \"ApiKeyAuth\": [],\n                        \"token\": []\n                    }\n                ]\n            }\n        },\n        \"/webservice/ManageConsents/{moduleName}/SendEmail\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Send e-mail\",\n                \"operationId\": \"86c8610aedbae9a8690ab71a3ae22134\",\n                \"parameters\": [\n                    {\n                        \"name\": \"moduleName\",\n                        \"in\": \"path\",\n                        \"description\": \"Module name\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        },\n                        \"example\": \"Contacts\"\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Status of adding an email to the queue\",\n                        \"content\": {\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/SendEmailResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"`No sent token` OR `Invalid token`\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"404\": {\n                        \"description\": \"Not Found\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": [],\n                        \"ApiKeyAuth\": [],\n                        \"token\": []\n                    }\n                ]\n            }\n        }\n    },\n    \"components\": {\n        \"schemas\": {\n            \"ApprovalsRegisterRequestBody\": {\n                \"title\": \"A list of fields required while creating an entry\",\n                \"description\": \"The list is based on fields in the Consent register module. Accepting or declining consent takes place based on the value in the approvals_register_status field.\",\n                \"type\": \"object\",\n                \"example\": {\n                    \"subject\": \"Text\",\n                    \"approvalsid\": \"123\",\n                    \"contactid\": \"321\",\n                    \"approvals_register_type\": \"PLL_ACCEPTANCE\",\n                    \"approvals_register_status\": \"PLL_FOR_VERIFICATION\",\n                    \"registration_date\": \"2019-11-12 12:00\"\n                }\n            },\n            \"ApprovalsRegisterResponseBody\": {\n                \"title\": \"Adding an entry\",\n                \"description\": \"Result of adding entry\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ]\n                    },\n                    \"result\": {\n                        \"description\": \"Result of adding entry\",\n                        \"properties\": {\n                            \"id\": {\n                                \"description\": \"New entry ID. Empty value means that the operation was unsuccessful.\",\n                                \"type\": \"integer\",\n                                \"example\": 24842\n                            },\n                            \"error\": {\n                                \"description\": \"Error message. The variable exists when some of the provided data is incomplete and the entry could not be added.\",\n                                \"type\": \"string\",\n                                \"example\": \"\"\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ApprovalsConditionsRequest\": {\n                \"title\": \"Conditions\",\n                \"description\": \"The list is based on fields in the Consent register module. fieldName - Field name, value - Value, operator - Specific operator, group - true/false. \",\n                \"type\": \"object\",\n                \"example\": {\n                    \"fieldName\": \"approvals_status\",\n                    \"value\": \"PLL_ACTIVE\",\n                    \"operator\": \"e\"\n                }\n            },\n            \"ConsentsResponseBody\": {\n                \"title\": \"List of consents\",\n                \"description\": \"List of obtained consents\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ]\n                    },\n                    \"result\": {\n                        \"description\": \"Specific response\",\n                        \"properties\": {\n                            \"records\": {\n                                \"properties\": {\n                                    \"24862\": {\n                                        \"properties\": {\n                                            \"id\": {\n                                                \"description\": \"Consent ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 24862\n                                            },\n                                            \"name\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Consent for email\"\n                                            },\n                                            \"approvals_status\": {\n                                                \"description\": \"Status\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Active\"\n                                            },\n                                            \"number\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"N12\"\n                                            },\n                                            \"assigned_user_id\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"createdtime\": {\n                                                \"type\": \"string\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"modifiedtime\": {\n                                                \"type\": \"string\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"created_user_id\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"shownerid\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"description\": {\n                                                \"description\": \"Description\",\n                                                \"type\": \"string\",\n                                                \"example\": \"I confirm to have read..\"\n                                            }\n                                        },\n                                        \"type\": \"object\"\n                                    }\n                                },\n                                \"type\": \"object\"\n                            },\n                            \"rawData\": {\n                                \"properties\": {\n                                    \"24862\": {\n                                        \"properties\": {\n                                            \"id\": {\n                                                \"description\": \"Consent ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 24862\n                                            },\n                                            \"name\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Consent for email\"\n                                            },\n                                            \"approvals_status\": {\n                                                \"description\": \"Status\",\n                                                \"type\": \"string\",\n                                                \"example\": \"PLL_ACTIVE\"\n                                            },\n                                            \"number\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"N12\"\n                                            },\n                                            \"assigned_user_id\": {\n                                                \"description\": \"Assigned user ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 245\n                                            },\n                                            \"createdtime\": {\n                                                \"type\": \"string\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"modifiedtime\": {\n                                                \"type\": \"string\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"created_user_id\": {\n                                                \"description\": \"Assigned user ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 245\n                                            },\n                                            \"shownerid\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"description\": {\n                                                \"description\": \"Description\",\n                                                \"type\": \"string\",\n                                                \"example\": \"I confirm to have read..\"\n                                            }\n                                        },\n                                        \"type\": \"object\"\n                                    }\n                                },\n                                \"type\": \"object\"\n                            },\n                            \"isMorePages\": {\n                                \"description\": \"There are more entries\",\n                                \"type\": \"boolean\",\n                                \"example\": true\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"Exception\": {\n                \"title\": \"General - Error exception\",\n                \"description\": \"Gets consents.\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0\n                        ],\n                        \"example\": 0\n                    },\n                    \"error\": {\n                        \"description\": \"Error  details\",\n                        \"properties\": {\n                            \"message\": {\n                                \"description\": \"To show more details turn on: config\\\\Debug.php apiShowExceptionMessages = true\",\n                                \"type\": \"string\",\n                                \"example\": \"Invalid method\"\n                            },\n                            \"code\": {\n                                \"type\": \"integer\",\n                                \"example\": 405\n                            },\n                            \"file\": {\n                                \"description\": \"default disabled to enable set: config\\\\Debug.php apiShowExceptionBacktrace = true\",\n                                \"type\": \"string\",\n                                \"example\": \"api\\\\webservice\\\\Portal\\\\BaseAction\\\\Files.php\"\n                            },\n                            \"line\": {\n                                \"description\": \"default disabled to enable set: config\\\\Debug.php apiShowExceptionBacktrace = true\",\n                                \"type\": \"integer\",\n                                \"example\": 101\n                            },\n                            \"backtrace\": {\n                                \"description\": \"default disabled to enable set: config\\\\Debug.php apiShowExceptionBacktrace = true\",\n                                \"type\": \"string\",\n                                \"example\": \"#0 api\\\\webservice\\\\Portal\\\\BaseAction\\\\Files.php (101) ....\"\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ConsentsForEntryRequestBody\": {\n                \"title\": \"Request body for GetConsentsForEntry\",\n                \"properties\": {\n                    \"token\": {\n                        \"description\": \"Entry unique ID (Token type field in the module is required)\",\n                        \"type\": \"string\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ConsentsForEntryResponseBody\": {\n                \"title\": \"Response body for GetConsentsForEntry\",\n                \"description\": \"Gets consents.\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ]\n                    },\n                    \"result\": {\n                        \"description\": \"Specific response\",\n                        \"properties\": {\n                            \"id\": {\n                                \"description\": \"Record ID\",\n                                \"type\": \"integer\",\n                                \"example\": 24842\n                            },\n                            \"consents\": {\n                                \"description\": \"Get the edit value in display view\",\n                                \"type\": \"object\",\n                                \"additionalProperties\": {\n                                    \"description\": \"Data from the associated module\",\n                                    \"type\": \"integer\",\n                                    \"example\": 24862\n                                }\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"SendEmailRequestBody\": {\n                \"title\": \"Request body for SendEmail\",\n                \"properties\": {\n                    \"e-mail\": {\n                        \"description\": \"E-mail address (Token type field in the module is required)\",\n                        \"type\": \"string\"\n                    },\n                    \"templateId\": {\n                        \"description\": \"Specific ID of the email template\",\n                        \"type\": \"integer\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"SendEmailResponseBody\": {\n                \"title\": \"Response body for SendEmail\",\n                \"description\": \"Send e-mail.\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ]\n                    },\n                    \"result\": {\n                        \"description\": \"Added mail to quote for send: true - success , false - fail\",\n                        \"type\": \"boolean\",\n                        \"example\": true\n                    }\n                },\n                \"type\": \"object\"\n            }\n        },\n        \"securitySchemes\": {\n            \"basicAuth\": {\n                \"type\": \"http\",\n                \"description\": \"Basic Authentication header\",\n                \"scheme\": \"basic\"\n            },\n            \"ApiKeyAuth\": {\n                \"type\": \"apiKey\",\n                \"description\": \"Webservice api key header\",\n                \"name\": \"X-API-KEY\",\n                \"in\": \"header\"\n            },\n            \"token\": {\n                \"type\": \"apiKey\",\n                \"description\": \"Webservice api token by user header\",\n                \"name\": \"X-TOKEN\",\n                \"in\": \"header\"\n            }\n        }\n    }\n}"}},"Error":"schemas: failed to write file oas_schemas_gen.go: 76:7: expected 'IDENT', found 425399 (and 10 more errors)"}