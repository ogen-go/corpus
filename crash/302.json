{"File":{"__typename":"FileMatch","repository":{"name":"github.com/corona-warn-app/cwa-ppa-server"},"file":{"name":"api_v1.json","path":"services/ppac/api_v1.json","content":"{\n  \"openapi\": \"3.0.3\",\n  \"info\": {\n    \"version\": \"v1\",\n    \"title\": \"CWA-Data data donation API\",\n    \"license\": {\n      \"name\": \"Apache 2.0\"\n    }\n  },\n  \"paths\": {\n    \"/version/{version}/{mobile-os}/otp\": {\n      \"post\": {\n        \"summary\": \"Post one-time-passcode (OTP)\",\n        \"tags\": [\n          \"send otp\"\n        ],\n        \"parameters\": [\n          {\n            \"name\": \"version\",\n            \"in\": \"path\",\n            \"description\": \"API version\",\n            \"required\": true,\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/version\"\n            }\n          },\n          {\n            \"name\": \"mobile-os\",\n            \"in\": \"path\",\n            \"description\": \"Mobile operating system\",\n            \"required\": true,\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/mobile-os\"\n            }\n          }\n        ],\n        \"requestBody\": {\n          \"content\": {\n            \"application/x-protobuf\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/EDUSOneTimePasswordRequest\"\n              },\n              \"example\": \"\u003cBINARY DATA\u003e\"\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OTP was valid and is now marked as used - it's redeemed\",\n            \"content\": {\n              \"application/json\": {\n                \"examples\": {\n                  \"expirationDate\": {\n                    \"value\": \"{\\n  \\\"expirationDate\\\": \\\"2021-02-16T08:34:00+00:00\\\"\\n}\"\n                  }\n                }\n              }\n            }\n          },\n          \"400\": {\n            \"description\": \"TBD\"\n          },\n          \"401\": {\n            \"description\": \"TBD\"\n          },\n          \"403\": {\n            \"description\": \"TBD\"\n          },\n          \"500\": {\n            \"description\": \"server errros while processing the request\"\n          }\n        }\n      }\n    },\n    \"/version/{version}/{mobile-os}/dat\": {\n      \"post\": {\n        \"summary\": \"Data donation\",\n        \"tags\": [\n          \"send data\"\n        ],\n        \"parameters\": [\n          {\n            \"name\": \"version\",\n            \"in\": \"path\",\n            \"description\": \"API version\",\n            \"required\": true,\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/version\"\n            }\n          },\n          {\n            \"name\": \"mobile-os\",\n            \"in\": \"path\",\n            \"description\": \"Mobile operating system\",\n            \"required\": true,\n            \"schema\": {\n              \"$ref\": \"#/components/schemas/mobile-os\"\n            }\n          }\n        ],\n        \"requestBody\": {\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"$ref\": \"#/components/schemas/PPADataRequest\"\n              },\n              \"example\": \"\u003cBINARY DATA\u003e\"\n            }\n          }\n        },\n        \"responses\": {\n          \"204\": {\n            \"description\": \"PPAC succeeded and the request was syntactically valid\"\n          },\n          \"400\": {\n            \"description\": \"TBD\"\n          },\n          \"401\": {\n            \"description\": \"TBD\"\n          },\n          \"403\": {\n            \"description\": \"TBD\"\n          },\n          \"500\": {\n            \"description\": \"server errros while processing the request\"\n          }\n        }\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"version\": {\n        \"type\": \"string\",\n        \"description\": \"A string of form 'v[\\\\d+]'\",\n        \"example\": \"v1\"\n      },\n      \"mobile-os\": {\n        \"type\": \"string\",\n        \"description\": \"Either 'ios' or 'android'\",\n        \"example\": \"ios\"\n      },\n      \"EDUSOneTimePasswordRequest\": {\n        \"type\": \"string\",\n        \"format\": \"binary\",\n        \"description\": \"TBD\"\n      },\n      \"PPADataRequest\": {\n        \"type\": \"string\",\n        \"format\": \"binary\",\n        \"description\": \"TBD\"\n      }\n    }\n  }\n}"}},"Error":"panic: runtime error: invalid memory address or nil pointer dereference"}