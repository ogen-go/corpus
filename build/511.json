{"File":{"__typename":"FileMatch","repository":{"name":"github.com/YetiForceCompany/UpdatePackages"},"file":{"name":"ManageConsents.json","path":"YetiForce CRM 5.x.x/5.2.0_to_5.3.0/updates/files/public_html/api/ManageConsents.json","content":"{\n    \"openapi\": \"3.0.0\",\n    \"info\": {\n        \"title\": \"YetiForce API for Webservice App. Type: Manage consents\",\n        \"termsOfService\": \"https://yetiforce.com/\",\n        \"contact\": {\n            \"name\": \"Devs API Team\",\n            \"url\": \"https://yetiforce.com/\",\n            \"email\": \"devs@yetiforce.com\"\n        },\n        \"license\": {\n            \"name\": \"YetiForce Public License v3\",\n            \"url\": \"https://yetiforce.com/en/yetiforce/license\"\n        },\n        \"version\": \"0.1\"\n    },\n    \"paths\": {\n        \"/webservice/ApprovalsRegister/Record\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Adds an consent entry\",\n                \"operationId\": \"Api\\\\ManageConsents\\\\ApprovalsRegister\\\\Record::post\",\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ApprovalsRegisterRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Result of adding entry\",\n                        \"content\": {\n                            \"text/html\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ApprovalsRegisterResponseBody\"\n                                }\n                            },\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ApprovalsRegisterResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"No sent token OR Invalid token\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": \"\",\n                        \"ApiKeyAuth\": \"\",\n                        \"token\": \"\"\n                    }\n                ]\n            }\n        },\n        \"/webservice/Approvals/RecordsList\": {\n            \"get\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Gets the list of consents\",\n                \"operationId\": \"Api\\\\ManageConsents\\\\BaseModule\\\\RecordsList::get\",\n                \"parameters\": [\n                    {\n                        \"name\": \"x-row-limit\",\n                        \"in\": \"header\",\n                        \"description\": \"Limit\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\",\n                            \"format\": \"int64\"\n                        },\n                        \"example\": \"0\"\n                    },\n                    {\n                        \"name\": \"x-row-offset\",\n                        \"in\": \"header\",\n                        \"description\": \"Offset\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\",\n                            \"format\": \"int64\"\n                        },\n                        \"example\": \"0\"\n                    },\n                    {\n                        \"name\": \"x-raw-data\",\n                        \"in\": \"header\",\n                        \"description\": \"Gets raw data\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"type\": \"integer\",\n                            \"format\": \"int64\"\n                        },\n                        \"example\": \"1\"\n                    },\n                    {\n                        \"name\": \"x-condition\",\n                        \"in\": \"header\",\n                        \"description\": \"Add conditions [Json format]\",\n                        \"required\": false,\n                        \"schema\": {\n                            \"$ref\": \"#/components/schemas/ApprovalsConditionsRequest\"\n                        }\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"The content of the request is empty\",\n                    \"required\": false\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"List of consents\",\n                        \"content\": {\n                            \"text/html\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsResponseBody\"\n                                }\n                            },\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"No sent token OR Invalid token\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": \"\",\n                        \"ApiKeyAuth\": \"\",\n                        \"token\": \"\"\n                    }\n                ]\n            }\n        },\n        \"/webservice/{moduleName}/GetConsentsForEntry\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Gets the list of consents for specific entry\",\n                \"operationId\": \"Api\\\\ManageConsents\\\\BaseModule\\\\GetConsentsForEntry::post\",\n                \"parameters\": [\n                    {\n                        \"name\": \"moduleName\",\n                        \"in\": \"path\",\n                        \"description\": \"Module name\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        },\n                        \"example\": \"Contacts\"\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/ConsentsForEntryRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"List of consents for specific entry\",\n                        \"content\": {\n                            \"text/html\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsForEntryResponseBody\"\n                                }\n                            },\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/ConsentsForEntryResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"No sent token OR Invalid token\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"404\": {\n                        \"description\": \"Not Found\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": \"\",\n                        \"ApiKeyAuth\": \"\",\n                        \"token\": \"\"\n                    }\n                ]\n            }\n        },\n        \"/webservice/{moduleName}/SendEmail\": {\n            \"post\": {\n                \"tags\": [\n                    \"Consents\"\n                ],\n                \"summary\": \"Send e-mail\",\n                \"operationId\": \"Api\\\\ManageConsents\\\\BaseModule\\\\SendEmail::post\",\n                \"parameters\": [\n                    {\n                        \"name\": \"moduleName\",\n                        \"in\": \"path\",\n                        \"description\": \"Module name\",\n                        \"required\": true,\n                        \"schema\": {\n                            \"type\": \"string\"\n                        },\n                        \"example\": \"Contacts\"\n                    }\n                ],\n                \"requestBody\": {\n                    \"description\": \"Required data for communication\",\n                    \"required\": true,\n                    \"content\": {\n                        \"multipart/form-data\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        },\n                        \"application/x-www-form-urlencoded\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        },\n                        \"application/json\": {\n                            \"schema\": {\n                                \"$ref\": \"#/components/schemas/SendEmailRequestBody\"\n                            }\n                        }\n                    }\n                },\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"List of consents for specific entry\",\n                        \"content\": {\n                            \"text/html\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/SendEmailResponseBody\"\n                                }\n                            },\n                            \"application/json\": {\n                                \"schema\": {\n                                    \"$ref\": \"#/components/schemas/SendEmailResponseBody\"\n                                }\n                            }\n                        }\n                    },\n                    \"401\": {\n                        \"description\": \"No sent token OR Invalid token\"\n                    },\n                    \"403\": {\n                        \"description\": \"No permissions for module\"\n                    },\n                    \"404\": {\n                        \"description\": \"Not Found\"\n                    },\n                    \"405\": {\n                        \"description\": \"Method Not Allowed\"\n                    }\n                },\n                \"security\": [\n                    {\n                        \"basicAuth\": \"\",\n                        \"ApiKeyAuth\": \"\",\n                        \"token\": \"\"\n                    }\n                ]\n            }\n        }\n    },\n    \"components\": {\n        \"schemas\": {\n            \"ApprovalsRegisterRequestBody\": {\n                \"title\": \"A list of fields required while creating an entry\",\n                \"description\": \"The list is based on fields in the Consent register module. Accepting or declining consent takes place based on the value in the approvals_register_status field.\",\n                \"type\": \"object\",\n                \"example\": {\n                    \"subject\": \"Text\",\n                    \"approvalsid\": \"123\",\n                    \"contactid\": \"321\",\n                    \"approvals_register_type\": \"PLL_ACCEPTANCE\",\n                    \"approvals_register_status\": \"PLL_FOR_VERIFICATION\",\n                    \"registration_date\": \"2019-11-12 12:00\"\n                }\n            },\n            \"ApprovalsRegisterResponseBody\": {\n                \"title\": \"Adding an entry\",\n                \"description\": \"Result of adding entry\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ],\n                        \"example\": 1\n                    },\n                    \"result\": {\n                        \"description\": \"Result of adding entry\",\n                        \"properties\": {\n                            \"id\": {\n                                \"description\": \"New entry ID. Empty value means that the operation was unsuccessful.\",\n                                \"type\": \"integer\",\n                                \"example\": 24842\n                            },\n                            \"error\": {\n                                \"description\": \"Error message. The variable exists when some of the provided data is incomplete and the entry could not be added.\",\n                                \"type\": \"string\",\n                                \"example\": \"\"\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ApprovalsConditionsRequest\": {\n                \"title\": \"Conditions\",\n                \"description\": \"The list is based on fields in the Consent register module. fieldName - Field name, value - Value, operator - Specific operator, group - true/false. \",\n                \"type\": \"string\",\n                \"example\": {\n                    \"fieldName\": \"approvals_status\",\n                    \"value\": \"PLL_ACTIVE\",\n                    \"operator\": \"e\"\n                }\n            },\n            \"ConsentsResponseBody\": {\n                \"title\": \"List of consents\",\n                \"description\": \"List of obtained consents\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ],\n                        \"example\": 1\n                    },\n                    \"result\": {\n                        \"description\": \"Specific response\",\n                        \"properties\": {\n                            \"records\": {\n                                \"description\": \"Gets consents.\",\n                                \"properties\": {\n                                    \"24862\": {\n                                        \"description\": \"Gets consents.\",\n                                        \"properties\": {\n                                            \"id\": {\n                                                \"description\": \"Consent ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 24862\n                                            },\n                                            \"name\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Consent for email\"\n                                            },\n                                            \"approvals_status\": {\n                                                \"description\": \"Status\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Active\"\n                                            },\n                                            \"number\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"N12\"\n                                            },\n                                            \"assigned_user_id\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"createdtime\": {\n                                                \"description\": \"Gets consents.\",\n                                                \"type\": \"string\",\n                                                \"format\": \"date-time\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"modifiedtime\": {\n                                                \"description\": \"Gets consents.\",\n                                                \"type\": \"string\",\n                                                \"format\": \"date-time\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"created_user_id\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"shownerid\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"description\": {\n                                                \"description\": \"Description\",\n                                                \"type\": \"string\",\n                                                \"example\": \"I confirm to have read..\"\n                                            }\n                                        },\n                                        \"type\": \"object\"\n                                    }\n                                },\n                                \"type\": \"object\"\n                            },\n                            \"rawData\": {\n                                \"description\": \"Gets consents.\",\n                                \"properties\": {\n                                    \"24862\": {\n                                        \"description\": \"Gets consents.\",\n                                        \"properties\": {\n                                            \"id\": {\n                                                \"description\": \"Consent ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 24862\n                                            },\n                                            \"name\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Consent for email\"\n                                            },\n                                            \"approvals_status\": {\n                                                \"description\": \"Status\",\n                                                \"type\": \"string\",\n                                                \"example\": \"PLL_ACTIVE\"\n                                            },\n                                            \"number\": {\n                                                \"description\": \"Text\",\n                                                \"type\": \"string\",\n                                                \"example\": \"N12\"\n                                            },\n                                            \"assigned_user_id\": {\n                                                \"description\": \"Assigned user ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 245\n                                            },\n                                            \"createdtime\": {\n                                                \"description\": \"Gets consents.\",\n                                                \"type\": \"string\",\n                                                \"format\": \"date-time\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"modifiedtime\": {\n                                                \"description\": \"Gets consents.\",\n                                                \"type\": \"string\",\n                                                \"format\": \"date-time\",\n                                                \"example\": \"2019-10-07 08:32:38\"\n                                            },\n                                            \"created_user_id\": {\n                                                \"description\": \"Assigned user ID\",\n                                                \"type\": \"integer\",\n                                                \"example\": 245\n                                            },\n                                            \"shownerid\": {\n                                                \"description\": \"Assigned user name\",\n                                                \"type\": \"string\",\n                                                \"example\": \"Kowalski Adam\"\n                                            },\n                                            \"description\": {\n                                                \"description\": \"Description\",\n                                                \"type\": \"string\",\n                                                \"example\": \"I confirm to have read..\"\n                                            }\n                                        },\n                                        \"type\": \"object\"\n                                    }\n                                },\n                                \"type\": \"object\"\n                            },\n                            \"isMorePages\": {\n                                \"description\": \"There are more entries\",\n                                \"type\": \"boolean\",\n                                \"example\": \"true\"\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ConsentsForEntryRequestBody\": {\n                \"title\": \"Request body for GetConsentsForEntry\",\n                \"properties\": {\n                    \"token\": {\n                        \"description\": \"Entry unique ID (Token type field in the module is required)\",\n                        \"type\": \"string\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"ConsentsForEntryResponseBody\": {\n                \"title\": \"Response body for GetConsentsForEntry\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ],\n                        \"example\": 1\n                    },\n                    \"result\": {\n                        \"description\": \"Specific response\",\n                        \"properties\": {\n                            \"id\": {\n                                \"description\": \"Record ID\",\n                                \"type\": \"integer\",\n                                \"example\": 24842\n                            },\n                            \"consents\": {\n                                \"description\": \"Gets consents.\",\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"type\": \"integer\",\n                                    \"example\": 24862\n                                }\n                            }\n                        },\n                        \"type\": \"object\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"SendEmailRequestBody\": {\n                \"title\": \"Request body for SendEmail\",\n                \"properties\": {\n                    \"e-mail\": {\n                        \"description\": \"E-mail address (Token type field in the module is required)\",\n                        \"type\": \"string\"\n                    },\n                    \"templateId\": {\n                        \"description\": \"Specific ID of the email template\",\n                        \"type\": \"integer\"\n                    }\n                },\n                \"type\": \"object\"\n            },\n            \"SendEmailResponseBody\": {\n                \"title\": \"Response body for SendEmail\",\n                \"properties\": {\n                    \"status\": {\n                        \"description\": \"A numeric value of 0 or 1 that indicates whether the communication is valid. 1 - success , 0 - error\",\n                        \"type\": \"integer\",\n                        \"enum\": [\n                            0,\n                            1\n                        ],\n                        \"example\": 1\n                    },\n                    \"result\": {\n                        \"description\": \"Added mail to quote for send: true - success , false - fail\",\n                        \"type\": \"bool\",\n                        \"example\": true\n                    }\n                },\n                \"type\": \"object\"\n            }\n        },\n        \"securitySchemes\": {\n            \"basicAuth\": {\n                \"type\": \"http\",\n                \"in\": \"header\",\n                \"scheme\": \"basic\"\n            },\n            \"ApiKeyAuth\": {\n                \"type\": \"apiKey\",\n                \"description\": \"Webservice api key\",\n                \"name\": \"X-API-KEY\",\n                \"in\": \"header\"\n            },\n            \"token\": {\n                \"type\": \"apiKey\",\n                \"description\": \"Webservice api token by user\",\n                \"name\": \"X-TOKEN\",\n                \"in\": \"header\"\n            }\n        }\n    }\n}"}},"Error":"parse: paths: /webservice/{moduleName}/SendEmail: post: Api\\ManageConsents\\BaseModule\\SendEmail::post: responses: 200: content: application/json: schema: parse schema: reference \"#/components/schemas/SendEmailResponseBody\": parse schema: result: parse schema: unexpected schema type: \"bool\""}