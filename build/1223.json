{"File":{"__typename":"FileMatch","repository":{"name":"github.com/readmeio/api-explorer"},"file":{"name":"discriminators.json","path":"packages/api-explorer/__tests__/__fixtures__/polymorphism/discriminators.json","content":"{\n    \"openapi\": \"3.0.0\",\n    \"servers\": [\n      {\n        \"url\": \"https://httpbin.org\"\n      }\n    ],\n    \"info\": {\n      \"version\": \"1.0.0\",\n      \"title\": \"polymorphism support\"\n    },\n    \"paths\": {\n      \"/oneOfWithTopLevelDiscriminatorAndMapping\": {\n        \"patch\": {\n          \"summary\": \"oneOf with top level discriminator and mapping\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"oneOf\": [\n                    {\n                      \"$ref\": \"#/components/schemas/OptionOneNoDisc\"\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/OptionTwoNoDisc\"\n                    }\n                  ],\n                  \"discriminator\": {\n                    \"propertyName\": \"discrim\",\n                    \"mapping\": {\n                      \"Option One\": \"#/components/schemas/OptionOneNoDisc\",\n                      \"Option Two\": \"#/components/schemas/OptionTwoNoDisc\"\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Updated\"\n            }\n          }\n        }\n      },\n      \"/oneOfWithTopLevelDiscriminatorNoMapping\": {\n        \"patch\": {\n          \"summary\": \"oneOf with top level discriminator and NO mapping\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"oneOf\": [\n                    {\n                      \"$ref\": \"#/components/schemas/OptionOneNoDisc\"\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/OptionTwoNoDisc\"\n                    }\n                  ],\n                  \"discriminator\": {\n                    \"propertyName\": \"discrim\"\n                  }\n                }\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Updated\"\n            }\n          }\n        }\n      },\n      \"/oneOfWithImproperlyPlacedDiscriminator\": {\n        \"patch\": {\n          \"summary\": \"oneOf with a discriminator that is referencing a property up a level\",\n          \"description\": \"This is an improper use of discriminators, but we should ignore the discriminator if this happens instead of failing to render the operation.\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"connector_type\": {\n                      \"type\": \"string\",\n                      \"enum\": [\n                        \"s3Import\",\n                        \"gcsImport\"\n                      ]\n                    },\n                    \"connector_properties\": {\n                      \"type\": \"object\",\n                      \"oneOf\": [\n                        {\n                          \"$ref\": \"#/components/schemas/gcsImport\"\n                        },\n                        {\n                          \"$ref\": \"#/components/schemas/s3Import\"\n                        }\n                      ],\n                      \"discriminator\": {\n                        \"propertyName\": \"connector_type\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"/pets\": {\n        \"patch\": {\n          \"summary\": \"oneOf request with a nested allOf and embedded discriminator\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"oneOf\": [\n                    {\n                      \"$ref\": \"#/components/schemas/Cat\"\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/Dog\"\n                    }\n                  ]\n                }\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Updated\"\n            }\n          }\n        }\n      },\n      \"/oneof-allof-top-level-disc\": {\n        \"patch\": {\n          \"summary\": \"oneOf request with a nested allOf and top level discriminator\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"oneOf\": [\n                    {\n                      \"$ref\": \"#/components/schemas/CatNoDisc\"\n                    },\n                    {\n                      \"$ref\": \"#/components/schemas/DogNoDisc\"\n                    }\n                  ],\n                  \"discriminator\": {\n                    \"propertyName\": \"pet_type\"\n                  }\n                }\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"Updated\"\n            }\n          }\n        }\n      },\n      \"/anything/nested-one-of-object-with-nested-one-of\": {\n        \"patch\": {\n          \"summary\": \"oneOf request with a nested oneOf, and embedded discriminator\",\n          \"requestBody\": {\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"type\": \"object\",\n                  \"properties\": {\n                    \"config\": {\n                      \"oneOf\": [\n                        {\n                          \"$ref\": \"#/components/schemas/object1\"\n                        },\n                        {\n                          \"$ref\": \"#/components/schemas/object2\"\n                        },\n                        {\n                          \"oneOf\": [\n                            {\n                              \"$ref\": \"#/components/schemas/Cat\"\n                            },\n                            {\n                              \"$ref\": \"#/components/schemas/Dog\"\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  },\n                  \"additionalProperties\": false\n                }\n              }\n            }\n          },\n          \"responses\": {\n            \"200\": {\n              \"description\": \"OK\"\n            }\n          }\n        }\n      },\n      \"/potentially-undefined-formData\": {\n        \"requestBody\": {\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"oneOf\": [\n                  {\n                    \"$ref\": \"#/components/schemas/ApplicationApprovedEvent\"\n                  },\n                  {\n                    \"$ref\": \"#/components/schemas/ApplicationDeniedEvent\"\n                  }\n                ],\n                \"discriminator\": {\n                  \"propertyName\": \"event_type\",\n                  \"mapping\": {\n                    \"application_approved\": \"#/components/schemas/ApplicationApprovedEvent\",\n                    \"application_denied\": \"#/components/schemas/ApplicationDeniedEvent\"\n                  }\n                }\n              }\n            }\n          }\n        },\n        \"responses\": {\n          \"200\": {\n            \"description\": \"OK\"\n          }\n        }\n      }\n    },\n    \"components\": {\n      \"requestBodies\": {\n        \"nested-one-of-ref\": {\n          \"required\": true,\n          \"content\": {\n            \"application/json\": {\n              \"schema\": {\n                \"type\": \"object\",\n                \"properties\": {\n                  \"config\": {\n                    \"oneOf\": [\n                      {\n                        \"$ref\": \"#/components/schemas/string1\"\n                      },\n                      {\n                        \"$ref\": \"#/components/schemas/string2\"\n                      }\n                    ]\n                  }\n                },\n                \"additionalProperties\": false\n              }\n            }\n          }\n        }\n      },\n      \"schemas\": {\n        \"OptionOneNoDisc\": {\n          \"type\": \"object\",\n          \"required\": [\n              \"discrim\"\n          ],\n          \"properties\": {\n              \"discrim\": {\n                \"type\": \"string\"\n              },\n              \"optionone\": {\n                \"type\": \"number\"\n              }\n          }\n        },\n        \"OptionTwoNoDisc\": {\n          \"type\": \"object\",\n          \"required\": [\n              \"discrim\"\n          ],\n          \"properties\": {\n              \"discrim\": {\n                \"type\": \"string\"\n              },\n              \"optiontwo\": {\n                \"type\": \"string\"\n              }\n          }\n        },\n        \"Pet\": {\n          \"type\": \"object\",\n          \"required\": [\n            \"pet_type\"\n          ],\n          \"properties\": {\n            \"pet_type\": {\n              \"type\": \"string\"\n            }\n          },\n          \"discriminator\": {\n            \"propertyName\": \"pet_type\"\n          }\n        },\n        \"Dog\": {\n          \"title\": \"Woof\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/Pet\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"bark\": {\n                  \"type\": \"boolean\"\n                },\n                \"breed\": {\n                  \"type\": \"string\",\n                  \"enum\": [\"Dingo\", \"Husky\", \"Retriever\", \"Shepherd\"]\n                }\n              }\n            }\n          ]\n        },\n        \"Cat\": {\n          \"title\": \"Meow\",\n          \"type\": \"object\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/Pet\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"hunts\": {\n                  \"type\": \"boolean\"\n                },\n                \"age\": {\n                  \"type\": \"integer\"\n                }\n              }\n            }\n          ]\n        },\n        \"object1\": {\n          \"title\": \"First type of object\",\n          \"type\": \"object\",\n          \"properties\": {\n            \"a\": {\n              \"type\": \"string\"\n            },\n            \"b\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"object2\": {\n          \"title\": \"Second type of object\",\n          \"type\": \"object\",\n          \"properties\": {\n            \"c\": {\n              \"type\": \"string\"\n            },\n            \"d\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"string1\": {\n          \"type\": \"string\"\n        },\n        \"string2\": {\n          \"type\": \"string\"\n        },\n        \"PetNoDisc\": {\n          \"type\": \"object\",\n          \"required\": [\n            \"pet_type\"\n          ],\n          \"properties\": {\n            \"pet_type\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"DogNoDisc\": {\n          \"title\": \"Woof\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/PetNoDisc\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"bark\": {\n                  \"type\": \"boolean\"\n                },\n                \"breed\": {\n                  \"type\": \"string\",\n                  \"enum\": [\"Dingo\", \"Husky\", \"Retriever\", \"Shepherd\"]\n                }\n              }\n            }\n          ]\n        },\n        \"CatNoDisc\": {\n          \"title\": \"Meow\",\n          \"type\": \"object\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/PetNoDisc\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"hunts\": {\n                  \"type\": \"boolean\"\n                },\n                \"age\": {\n                  \"type\": \"integer\"\n                }\n              }\n            }\n          ]\n        },\n        \"gcsImport\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"gcs_bucket\": {\n              \"type\": \"string\"\n            },\n            \"gcs_prefix\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"s3Import\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"s3_bucket\": {\n              \"type\": \"string\"\n            },\n            \"s3_prefix\": {\n              \"type\": \"string\"\n            }\n          }\n        },\n        \"ApplicationApprovedEvent\": {\n          \"title\": \"ApplicationApprovedEvent\",\n          \"description\": \"Emitted when an application is underwritten and approved.\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/BasePurchaseWebhookEvent\"\n            }\n          ]\n        },\n        \"ApplicationDeniedEvent\": {\n          \"title\": \"ApplicationDeniedEvent\",\n          \"description\": \"Emitted when an application is underwritten and denied.\",\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/BasePurchaseWebhookEvent\"\n            }\n          ]\n        },\n        \"BasePurchaseWebhookEvent\": {\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/BaseBuyerWebhookEvent\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"order_id\": {\n                  \"type\": \"string\",\n                  \"description\": \"Provided Partner Order ID.\"\n                }\n              }\n            }\n          ]\n        },\n        \"BaseBuyerWebhookEvent\": {\n          \"allOf\": [\n            {\n              \"$ref\": \"#/components/schemas/BaseWebhookEvent\"\n            },\n            {\n              \"type\": \"object\",\n              \"properties\": {\n                \"buyer_id\": {\n                  \"type\": \"string\",\n                  \"description\": \"ID of the buyer the event corresponds to.\"\n                }\n              },\n              \"required\": [\n                \"buyer_id\"\n              ]\n            }\n          ]\n        },\n        \"BaseWebhookEvent\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"event_type\": {\n              \"type\": \"string\",\n              \"description\": \"Type of the webhook event.\",\n              \"enum\": [\n                \"application_approved\",\n                \"application_denied\"\n              ]\n            },\n            \"event_id\": {\n              \"type\": \"string\",\n              \"description\": \"ID of the event.\"\n            }\n          },\n          \"required\": [\n            \"event_type\",\n            \"event_id\"\n          ]\n        }\n      }\n    }\n  }\n"}},"Error":"parse: paths: /oneOfWithImproperlyPlacedDiscriminator: patch: : responses: no responses"}